/*! For license information please see sand.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.sand=e():t.sand=e()}(self,(function(){return(()=>{var t={6981:(t,e,n)=>{"use strict";n(1983);var i,r=(i=n(115))&&i.__esModule?i:{default:i};r.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),r.default._babelPolyfill=!0},1983:(t,e,n)=>{"use strict";n(6266),n(990),n(911),n(4160),n(6197),n(6728),n(4039),n(3568),n(8051),n(8250),n(5434),n(4952),n(6337),n(5666)},5873:(t,e,n)=>{n.g,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"EventEmitter",(function(){return a}));var i=n(0),r=n.n(i),o=n(1),g=n.n(o),s=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";r()(this,t),this.name=e,this.events={}}return g()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i=i||{},"function"!=typeof e)throw new TypeError("Invalid callback");return s(t).forEach((function(t){n.events[t]||(n.events[t]=[]),n.events[t].push({callback:e,options:i})})),this}},{key:"once",value:function(t,e){return this.on(t,e,{once:!0})}},{key:"off",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(t).filter((function(t){return!!e.events[t]})).forEach((function(t){if(n)for(var r=e.events[t].length;r--;){var o=e.events[t][r];(!o.options.persist||i)&&o.callback===n&&e.events[t].splice(r,1)}else e.events[t]=i?[]:e.events[t].filter((function(t){return!0===t.options.persist}))})),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return s(t).forEach((function(t){if(e.events[t])for(var n=e.events[t].length;n--;){var r=e.events[t][n],o=r.options,g=r.callback;try{g.apply(void 0,i)}catch(t){console.warn(t)}o&&o.once&&e.events[t].splice(n,1)}})),this}}]),t}()}])},5618:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Center:()=>VS,getUrlPara:()=>ZS});var i=n(5873);function r(t){var e,n;return(n="getElement"in t&&"function"==typeof t.getElement?t.getElement():t).nodeType?e=n:n.jquery?e=n.get(0):"node"in n&&(e=n.node()),e}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map={}}var e,n;return e=t,n=[{key:"Get",value:function(t){return this.map[t]||null}},{key:"Add",value:function(){return this.Register.apply(this,arguments)}},{key:"Register",value:function(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof t&&null!==i?(e=t,n=i):"name"in t&&(e=t.name,n=t),!(e in this.map)&&(this.map[e]=n,!0)}},{key:"Remove",value:function(t){return this.Deregister(t)}},{key:"Deregister",value:function(t){return t in this.map&&(delete this.map[t],!0)}},{key:"ListKeys",value:function(){return Object.keys(this.map).sort()}},{key:"List",value:function(){var t=this;return Object.keys(this.map).sort().map((function(e){return t.map[e]}))}},{key:"Map",value:function(){return this.map}}],n&&o(e.prototype,n),t}();const s=g;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function A(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function C(t,e){return C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},C(t,e)}function I(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var l={name:"example",render:function(t){return function(t,e){t.setState(e),t.getElement().html("<h2>"+e.text+"</h2>")}},initState:{text:"Example1 Init State"}},u={name:"example2",render:function(t){return function(t,e){t.setState(e),t.getElement().html("<h3>"+e.text+"</h3>")}},initState:{text:"Example2 Init State"}},h={name:"example3",render:function(t,e){return function(t,e){t.setState(e);var n=r(t.getElement());n.innerHTML="";var i=document.createElement("input");i.setAttribute("value",e.text),n.appendChild(i),i.addEventListener("keyup",(function(t){"Enter"===t.key&&i.blur()})),i.onblur=function(){var n=i.value;e.text=n,t.setState(e)}}},initState:{text:"Example3 Init State"}};const p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(g,t);var e,n,i,r,o=(i=g,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(i);if(r){var n=c(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return I(this,t)});function g(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),o.call(this)}return e=g,(n=[{key:"initDemo",value:function(){return this.Register(l),this.Register(u),this.Register(h),this}}])&&A(e.prototype,n),g}(s);var f=n(6001),m=n.n(f);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){var e="function"==typeof Map?new Map:void 0;return w=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return x(t,arguments,M(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),E(n,t)},w(t)}function x(t,e,n){return x=S()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&E(r,n.prototype),r},x.apply(null,arguments)}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function E(t,e){return E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},E(t,e)}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(g,t);var e,n,i,r,o=(e=g,n=S(),function(){var t,i=M(e);if(n){var r=M(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return b(this,t)});function g(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(t=o.call(this))._core={},t._packages=new p;var e=_(t);return t.panelDb=m().createInstance({name:e.namespace+"_paneldb"}),t}return i=g,(r=[{key:"core",get:function(){return this._core},set:function(t){this._core=t}},{key:"namespace",get:function(){return this.getAttribute("namespace")||"sand"},set:function(t){"panelDb"in this&&(this.panelDb=m().createInstance({name:this.namespace+"_paneldb"})),this.setAttribute("namespace",t)}},{key:"packages",get:function(){return this._packages},set:function(t){this._packages=t}}])&&y(i.prototype,r),g}(w(HTMLElement));const R=T;function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}const L=function(t){"function"==typeof t&&t(),"object"==O(t)&&"emit"in t&&t.emit("close")};var P,N=new Uint8Array(16);function D(){if(!P&&!(P="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return P(N)}const k=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,j=function(t){return"string"==typeof t&&k.test(t)};for(var F=[],B=0;B<256;++B)F.push((B+256).toString(16).substr(1));const z=function(t,e,n){var i=(t=t||{}).random||(t.rng||D)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(F[t[e+0]]+F[t[e+1]]+F[t[e+2]]+F[t[e+3]]+"-"+F[t[e+4]]+F[t[e+5]]+"-"+F[t[e+6]]+F[t[e+7]]+"-"+F[t[e+8]]+F[t[e+9]]+"-"+F[t[e+10]]+F[t[e+11]]+F[t[e+12]]+F[t[e+13]]+F[t[e+14]]+F[t[e+15]]).toLowerCase();if(!j(n))throw TypeError("Stringified UUID is invalid");return n}(i)};function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){W(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function W(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Z(t,e){return Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Z(t,e)}function Y(t,e){if(e&&("object"===U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(g,t);var e,n,i,r,o=(i=g,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=X(i);if(r){var n=X(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Y(this,t)});function g(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(n=o.call(this))._el=t,n._uuid=z(),n.state=e||{},n}return e=g,n=[{key:"uuid",get:function(){return this._uuid},set:function(t){this._uuid=t}},{key:"el",get:function(){return this._el},set:function(t){this._el=t}},{key:"height",get:function(){return this._height||void 0},set:function(t){this._height=t}},{key:"width",get:function(){return this._width||void 0},set:function(t){this._width=t}},{key:"getElement",value:function(){return this._el}},{key:"getNode",value:function(){return this._el}},{key:"updateSize",value:function(){}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(t){this.state=t}},{key:"extendState",value:function(t){this.state=G(G({},this.state),t)}}],n&&V(e.prototype,n),g}(n(9801).EventEmitter);const q=J;function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var $=function(){function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];K(this,t),this.name=e,this.version=n,this.render=i,this.initState=r,this.dependencies=o}var e,n;return e=t,(n=[{key:"name",get:function(){return this._name},set:function(t){this._name=t}},{key:"version",get:function(){return this._version},set:function(t){this._version=t}}])&&Q(e.prototype,n),t}();const tt=$;function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function nt(t,e){return nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nt(t,e)}function it(t,e){if(e&&("object"===et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rt(t)}const ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rt(e);if(n){var r=rt(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return it(this,t)});function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),i.call(this)}return r}(s),gt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"string"!=typeof t&&"is"in t&&(t=(e=t).is);var n=customElements.get(t);return void 0===n?customElements.define(t,e):e=n,e};var st,at=new Uint8Array(16);function At(){if(!st&&!(st="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return st(at)}const Ct=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,It=function(t){return"string"==typeof t&&Ct.test(t)};for(var ct=[],lt=0;lt<256;++lt)ct.push((lt+256).toString(16).substr(1));const ut=function(t,e,n){var i=(t=t||{}).random||(t.rng||At)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ct[t[e+0]]+ct[t[e+1]]+ct[t[e+2]]+ct[t[e+3]]+"-"+ct[t[e+4]]+ct[t[e+5]]+"-"+ct[t[e+6]]+ct[t[e+7]]+"-"+ct[t[e+8]]+ct[t[e+9]]+"-"+ct[t[e+10]]+ct[t[e+11]]+ct[t[e+12]]+ct[t[e+13]]+ct[t[e+14]]+ct[t[e+15]]).toLowerCase();if(!It(n))throw TypeError("Stringified UUID is invalid");return n}(i)};var ht=n(5183);function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function pt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ft(t,e){return ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ft(t,e)}function mt(t,e){if(e&&("object"===dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vt(t){return vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vt(t)}var yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(g,t);var e,n,i,r,o=(i=g,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vt(i);if(r){var n=vt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return mt(this,t)});function g(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(t=o.call(this))._uuid=ut(),t}return e=g,(n=[{key:"onMessage",value:function(t,e){}},{key:"uuid",get:function(){return this._uuid},set:function(t){this._uuid=t}}])&&pt(e.prototype,n),g}(ht.EventEmitter);function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function _t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function wt(t,e){return wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wt(t,e)}function xt(t,e){if(e&&("object"===bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}var Et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(s,t);var e,n,i,r,o,g=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(r);if(o){var n=St(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return xt(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=g.call(this)).outputs={},t.inputs={},t._onMessage=t._onMessage_,t._process=function(t){return t},t._effect=!1,t.history=Array(10).fill(""),t.hi=0,t.postMessage=function(){},t.onMessage=function(){},t}return e=s,n=[{key:"name",get:function(){return this._name||this.uuid},set:function(t){this._name=t}},{key:"process",get:function(){return this._process},set:function(t){this._process=t}},{key:"effect",get:function(){return this._effect},set:function(t){this._effect=t}},{key:"onMessage",get:function(){return this._onMessage},set:function(t){var e=this;this._onMessage=function(n,i){var r=e._onMessage_(n,i);return r&&("_onMessageEffect_"in e&&e.effect&&e._onMessageEffect_(n,i),t(n,i)),r}}},{key:"postMessage",get:function(){return this._postMessage},set:function(t){var e=this;this._postMessage=function(n){if("string"==typeof n){var i={};i.text=n,n=i}"_uuid_"in n||(n._uuid_=ut()),e._postMessage_(n),"_postMessageEffect_"in e&&e.effect&&e._postMessageEffect_(n),t(n)}}},{key:"_onMessage_",value:function(t,e){var n=this;if(e=e||t._from_,void 0===t)return!1;if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}if(!("_uuid_"in t))return console.log("Warning: without _uuid_",n.name),!1;for(var i=0;i<10;i++)if(t._uuid_===n.history[i])return console.log("a.uuid equal history",t._uuid_),!1;if("string"==typeof e){var r={};r[e]=1,e=r}var o=n.uuid,g=JSON.parse(JSON.stringify(e)),s=0;Object.keys(g).forEach((function(t){s<g[t]&&(s=g[t])})),g[o]=s+1,this.history[this.hi]=t._uuid_;var a=n.process(t);return Object.keys(this.outputs).forEach((function(t){t in e||n.outputs[t].onMessage(a,g)})),!0}},{key:"_postMessage_",value:function(t){var e=this;this.history[this.hi]=t._uuid_,this.hi=(this.hi+1)%10;var n={};n[e.uuid]=1,Object.keys(this.outputs).forEach((function(i){e.outputs[i].onMessage(t,n)}))}},{key:"register",value:function(t,e){var n=e||t.uuid;this.outputs[n]=t,t.inputs[this.uuid]=this}},{key:"linkto",value:function(t,e){this.register(t,e)}},{key:"deregister",value:function(t){var e;null!=t&&("string"==typeof t?e=t:"string"==typeof t.uuid&&(e=t.uuid),delete this.outputs[e].inputs[this.uuid],delete this.outputs[e])}},{key:"unlink",value:function(t){this.deregister(t)}},{key:"size",value:function(){return Object.keys(this.outputs).length}},{key:"inputSize",value:function(){return Object.keys(this.inputs).length}},{key:"close",value:function(){var t=this;Object.keys(this.outputs).forEach((function(e){t.deregister(e)})),Object.keys(this.inputs).forEach((function(e){t.inputs[e].deregister(t.uuid)})),this.emit("close")}}],i=[{key:"is",get:function(){return"node"}}],n&&_t(e.prototype,n),i&&_t(e,i),s}(yt);const Mt=Et;function Tt(t){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(t)}function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Lt(t,e,n){return Lt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kt(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},Lt(t,e,n||t)}function Pt(t,e){return Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Pt(t,e)}function Nt(t,e){if(e&&("object"===Tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dt(t)}function Dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kt(t){return kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kt(t)}var jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(s,t);var e,n,i,r,o,g=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kt(r);if(o){var n=kt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Nt(this,t)});function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Rt(this,s);var n=Dt(t=g.call(this));return t.data={},t.listener={},t.state={},n.setState(e),t.ready=!0,t}return e=s,i=[{key:"is",get:function(){return"state"}}],(n=[{key:"_onMessage_",value:function(t,e){var n,i=this,r=Lt(kt(s.prototype),"_onMessage_",this).call(this,t,e);if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return r&&("code"in t&&"set"==t.code&&"data"in t&&("key"in(n=t.data)&&"value"in n?(i.ready=!1,i._update_(n.key,n.value)):console.warn("error set value",n)),"code"in t&&"delete"==t.code&&"data"in t&&("key"in(n=t.data)?(i.ready=!1,i._delete_(n.key)):console.warn("error delete",n.key))),r}},{key:"setState",value:function(t){var e=this;Object.keys(this.data).forEach((function(n){n in t||e._delete_(n)})),e.extendState(t),e.emit("setState",t)}},{key:"extendState",value:function(t){var e=this;Object.keys(t).forEach((function(n){e.define(n),e.set(n,t[n])}))}},{key:"getState",value:function(){return this.state}},{key:"_update_",value:function(t,e){var n;this.data&&t in this.data&&(n=this.data[t]),t in this.state||this.define(t),this.data[t]=e,this.listener&&t in this.listener&&this.listener[t](e,n),e!==n&&this.emit("change",{key:t,old:n,new:e})}},{key:"set",value:function(t,e){this.state[t]=e}},{key:"get",value:function(t){return this.state[t]}},{key:"onChange",value:function(t,e){this.listener[t]=e}},{key:"define",value:function(t,e){var n=this;return t in n.state?0:(Object.defineProperty(this.state,t,{configurable:!0,get:function(){return n.data[t]},set:function(e){n._update_(t,e),n.postMessage({code:"set",data:{key:t,value:e}}),n.ready=!0}}),n.data[t]=n.data[t]||void 0,void 0!==e&&(n.listener[t]=e),!0)}},{key:"_delete_",value:function(t){var e=this.data[t];if(t in this.state){delete this.state[t];var n=this.data[t];delete this.data[t],t in this.listener&&(this.listener[t](void 0,n),delete this.listener[t])}this.emit("change",{key:t,old:e,new:void 0})}},{key:"delete",value:function(t){this._delete_(t),this.postMessage({code:"delete",data:{key:t}}),this.ready=!0}},{key:"close",value:function(){Lt(kt(s.prototype),"close",this).call(this),this.listener=null,this.data=null,this.state=null}}])&&Ot(e.prototype,n),i&&Ot(e,i),s}(Mt);const Ft=jt;function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(t)}function zt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ut(t,e){return Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ut(t,e)}function Ht(t,e){if(e&&("object"===Bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gt(t)}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(s,t);var e,n,i,r,o,g=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gt(r);if(o){var n=Gt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ht(this,t)});function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=g.call(this,e)).storageId=t,n.fetchStorage(),n}return e=s,n=[{key:"saveToStorage",value:function(){localStorage.setItem(this.storageId,JSON.stringify(this.data))}},{key:"fetchStorage",value:function(){var t=localStorage.getItem(this.storageId),e=!1;try{if(t&&void 0!==t){var n=JSON.parse(t);this.setState(n),e=!0}}catch(t){console.warn(t)}return e}}],i=[{key:"is",get:function(){return"storage"}}],n&&zt(e.prototype,n),i&&zt(e,i),s}(Ft);function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function Zt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Yt(t,e,n){return Yt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kt(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},Yt(t,e,n||t)}function Xt(t,e){return Xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Xt(t,e)}function Jt(t,e){if(e&&("object"===Vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qt(t)}function qt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kt(t){return Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Kt(t)}var Qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xt(t,e)}(s,t);var e,n,i,r,o,g=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kt(r);if(o){var n=Kt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Jt(this,t)});function s(t,e,n){var i,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),r=0==t.length?e:t+"/"+e,(i=g.call(this,r,n)).namespace=t,i.chan=new BroadcastChannel(r),console.log("connect to broadcast channel",r),i.chanId=e,i.fetchStorage(),i._name=e;var o=r+"-"+ut(),a=qt(i);return i.chanUuid=o,i.chan.onmessage=function(t){var e=t.data,n={};n[o]=1,a.onMessage(e,n)},i}return e=s,i=[{key:"is",get:function(){return"broadcast"}}],(n=[{key:"_postMessage_",value:function(t){Yt(Kt(s.prototype),"_postMessage_",this).call(this,t),this.chan&&this.chan.postMessage(t)}},{key:"_onMessage_",value:function(t,e){var n=Yt(Kt(s.prototype),"_onMessage_",this).call(this,t,e);if(n){if("string"==typeof e){var i={};i[e]=1,e=i}this.chanUuid in e||this.chan.postMessage(t)}return n}},{key:"close",value:function(){console.log("broadcast channel close",this.namespace,this.chanId),this.chan.close(),Yt(Kt(s.prototype),"close",this).call(this)}}])&&Zt(e.prototype,n),i&&Zt(e,i),s}(Wt);const $t=Qt;function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e,n,i,r,o,g){try{var s=t[o](g),a=s.value}catch(t){return void n(t)}s.done?e(a):Promise.resolve(a).then(i,r)}function ne(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ie(t,e){return ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ie(t,e)}function re(t,e){if(e&&("object"===te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return oe(t)}function oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ge(t){return ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ge(t)}var se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(a,t);var e,n,i,r,o,g,s=(o=a,g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ge(o);if(g){var n=ge(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return re(this,t)});function a(t,e,n,i){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var o=oe(r=s.call(this,i));return t.length>0?o.chanId=t+"-"+e||"reflex-bridge-01":o.chanId=e||"reflex-bridge-01",o.extId=n||"fdkkfkobdhkphjaafbiaekmkfeenajfk",o.bridgeUuid=o.chanId+"-"+ut(),r}return e=a,n=[{key:"connect",value:(r=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function g(t){ee(o,i,r,g,s,"next",t)}function s(t){ee(o,i,r,g,s,"throw",t)}g(void 0)}))}}(regeneratorRuntime.mark((function t(){var e,n,i,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(e=this).chanId,i=e.bridgeUuid,r=e.extId,o=new Promise((function(t,o){try{window.chrome.runtime.sendMessage(r,{message:"version"},(function(o){var g;o&&o.version?(o.version,(g=window.chrome.runtime.connect(r)).postMessage({chanId:n}),g.onDisconnect.addListener((function(t){console.log("disconnect to extension ",r)})),e.onMessage=function(t,e){if("string"==typeof e){var n={};n[e]=1,e=n}i in e||g.postMessage(t)},e.port=g,e.ready=!0,e.on("close",(function(t){g.disconnect()})),g.onMessage.addListener((function(n){"_code_"in n?("state"==n._code_&&e.setState(n.data),t(g)):(n._from_=i,e.postMessage(n))})),g.postMessage({_code_:"getState"})):(e.ready=!1,t("not connect"))}))}catch(n){e.ready=!1,t("not connect")}})),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],i=[{key:"is",get:function(){return"bridge"}}],n&&ne(e.prototype,n),i&&ne(e,i),a}(Ft);const ae=se;function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Ce(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ie(t,e,n){return Ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ue(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},Ie(t,e,n||t)}function ce(t,e){return ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ce(t,e)}function le(t,e){if(e&&("object"===Ae(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ue(t){return ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ue(t)}var he=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}(s,t);var e,n,i,r,o,g=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ue(r);if(o){var n=ue(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return le(this,t)});function s(t,e,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(i=g.call(this,t,e)).worker=n,"error"!==i.worker.status&&(i.worker.worker.port.onmessage=function(t){var n=t.data;"getStateResult"==n.code&&(n.data&&Object.keys(n.data).length>0?i.setState(n.data):Object.keys(i.data).length>0&&i.worker.worker.port.postMessage({code:"setState",channel:e,data:i.data}))},i.worker.worker.port.postMessage({code:"getState",channel:e})),i}return e=s,i=[{key:"is",get:function(){return"worker"}}],(n=[{key:"_onMessage_",value:function(t,e){var n,i=Ie(ue(s.prototype),"_onMessage_",this).call(this,t,e);return"error"!==this.worker.status&&i&&!(this.chanUuid in e)&&("code"in t&&"set"==t.code&&"data"in t&&"key"in(n=t.data)&&"value"in n&&this.worker.worker.port.postMessage({code:"set",channel:this.chanId,key:n.key,value:n.value}),"code"in t&&"delete"==t.code&&"data"in t&&"key"in(n=t.data)&&this.worker.worker.port.postMessage({code:"delete",channel:this.chanId,key:n.key})),i}},{key:"close",value:function(){Ie(ue(s.prototype),"close",this).call(this),"error"!==this.worker.status&&this.worker.worker.port.postMessage({code:"close",channel:this.chanId})}}])&&Ce(e.prototype,n),i&&Ce(e,i),s}($t);const de=he;function pe(t){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(t)}function fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function me(t,e){return me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},me(t,e)}function ve(t,e){if(e&&("object"===pe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ye(t){return ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ye(t)}var be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&me(t,e)}(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ye(e);if(n){var r=ye(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return ve(this,t)});function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reflexiv",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"./bridge-worker.js";if(fe(this,r),(t=i.call(this,e)).namespace=e,t.status="inited",t.WorkerURL=n,window.SharedWorker)try{var o=new SharedWorker(t.WorkerURL,t.namespace);o.onerror=function(e){console.log("error",e),t.status="error",t.emit("error")},t.worker=o}catch(t){}return t}return r}(ht.EventEmitter);const _e=be;function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Se(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ee(t,e){if(e&&("object"===we(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Me(t){var e="function"==typeof Map?new Map:void 0;return Me=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Te(t,arguments,Le(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Oe(n,t)},Me(t)}function Te(t,e,n){return Te=Re()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Oe(r,n.prototype),r},Te.apply(null,arguments)}function Re(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Oe(t,e){return Oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Oe(t,e)}function Le(t){return Le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Le(t)}function Pe(t,e,n,i,r,o,g){try{var s=t[o](g),a=s.value}catch(t){return void n(t)}s.done?e(a):Promise.resolve(a).then(i,r)}function Ne(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function g(t){Pe(o,i,r,g,s,"next",t)}function s(t){Pe(o,i,r,g,s,"throw",t)}g(void 0)}))}}var De="djcdicpaejhpgncicoglfckiappkoeof",ke=function(){var t=Ne(regeneratorRuntime.mark((function t(e,n,i,r,o,g,s,a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n in e){t.next=7;break}if(e[n]=o(),!("connect"in e[n])){t.next=6;break}return t.next=5,e[n].connect();case 5:0==e[n].ready&&(e[n].close(),delete e[n],console.log("not connect bridge"),console.log("downgrade to worker broadcast node"),e[n]=new de(a,g,s));case 6:e[n].name=g;case 7:return i?e[n].register(r):r.register(e[n]),t.abrupt("return",e[n]);case 9:case"end":return t.stop()}}),t)})));return function(e,n,i,r,o,g,s,a){return t.apply(this,arguments)}}(),je=function(t,e,n,i){n?t[e].deregister(i):i.deregister(t[e]);var r=t[e].size()+t[e].inputSize();return 0==t[e].size()&&0==t[e].inputSize()&&(t[e].close(),console.log("close channel",e),delete t[e]),r},Fe=function(t){Object.keys(t).forEach((function(e){t[e].close()}))},Be=function(t,e){var n,i,r=!0;return"string"==typeof t?(n=t,i=e):"string"==typeof e&&(n=e,i=t,r=!1),{n,node:i,forward:r}},ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oe(t,e)}(s,t);var e,n,i,r,o,g=(e=s,n=Re(),function(){var t,i=Le(e);if(n){var r=Le(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return Ee(this,t)});function s(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return xe(this,s),(e=g.call(this)).A={},e.B={},e.C={},e._ns=t||"reflexiv",e.extId=n.extId||De,e.worker=new _e(e.namespace,n.WorkerURL),e}return i=s,r=[{key:"namespace",get:function(){return this._ns},set:function(t){this._ns=t}},{key:"generateChanId",value:function(t){return this.namespace+"/"+t}},{key:"link",value:(o=Ne(regeneratorRuntime.mark((function t(e,n){var i,r,o,g,s,a,A,C,I;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this,r=Be(e,n),o=r.n,g=r.node,s=r.forward,a=o.split("-"),A=o,C=this.extId,2!=a.length){t.next=28;break}if("a"!=a[0]){t.next=13;break}return t.next=12,ke(this.A,o,s,g,(function(){return new Ft}),A);case 12:I=t.sent;case 13:if("b"!=a[0]){t.next=17;break}return t.next=16,ke(this.B,o,s,g,(function(){return new de(i.namespace,A,i.worker)}),A);case 16:I=t.sent;case 17:if("c"!=a[0]){t.next=21;break}return t.next=20,ke(this.C,o,s,g,(function(){return new ae(i.namespace,A,C)}),A,i.worker,i.namespace);case 20:I=t.sent;case 21:if("N"!=a[0]){t.next=26;break}return A=a[1],t.next=25,ke(this.C,a[1],s,g,(function(){return new ae("",a[1],C)}),a[1],i.worker);case 25:I=t.sent;case 26:t.next=31;break;case 28:return t.next=30,ke(this.A,o,s,g,(function(){return new Mt}),A);case 30:I=t.sent;case 31:return t.abrupt("return",I);case 32:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:"unlink",value:function(t,e){var n=Be(t,e),i=n.n,r=n.node,o=n.forward;if(void 0===i)return!1;var g,s=i.split("-");return 2==s.length?("a"==s[0]&&(g=je(this.A,i,o,r)),"b"==s[0]&&(g=je(this.B,i,o,r)),"c"==s[0]&&(g=je(this.C,i,o,r)),"N"==s[0]&&(g=je(this.C,s[1],o,r))):g=je(this.A,i,o,r),g}},{key:"getNode",value:function(t){var e,n=t.split("-");return 2==n.length?("a"==n[0]&&(e=this.A[t]||void 0),"b"==n[0]&&(e=this.B[t]||void 0),"c"==n[0]&&(e=this.C[t]||void 0),"N"==n[0]&&(e=this.C[n[1]]||void 0)):e=this.A[t]||void 0,e}},{key:"close",value:function(){Fe(this.A),Fe(this.B),Fe(this.C)}}],r&&Se(i.prototype,r),s}(Me(Object));function Ue(t){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(t)}function He(t,e,n,i,r,o,g){try{var s=t[o](g),a=s.value}catch(t){return void n(t)}s.done?e(a):Promise.resolve(a).then(i,r)}function Ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function We(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ve(t,e,n){return Ve="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xe(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},Ve(t,e,n||t)}function Ze(t,e){return Ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ze(t,e)}function Ye(t,e){if(e&&("object"===Ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xe(t){return Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xe(t)}var Je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ze(t,e)}(s,t);var e,n,i,r,o,g=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xe(r);if(o){var n=Xe(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ye(this,t)});function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reflexiv",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ge(this,s),(t=g.call(this,e,n)).worker=new _e(t.namespace,n.WorkerURL),t}return e=s,n=[{key:"link",value:(i=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function g(t){He(o,i,r,g,s,"next",t)}function s(t){He(o,i,r,g,s,"throw",t)}g(void 0)}))}}(regeneratorRuntime.mark((function t(e,n){var i,r,o,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ve(Xe(s.prototype),"link",this).call(this,e,n);case 2:return i=t.sent,(r=Be(e,n)).n,o=r.node,g=r.forward,console.log("chan is ",i.constructor.is||"not defined"),console.log("node is ",o.constructor.is||"not defined"),g&&"state"in o&&"node"!==i.constructor.is&&(o.localDef?Object.keys(o.data).forEach((function(t){var e,n=o.data[t];t in i.data&&(e=i.data[t]),o.data[t]=e,t in o.listener&&o.listener[t](e,n)})):(console.log("set node state",i,i.data),o.setState(i.data))),t.abrupt("return",i);case 11:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})}],n&&We(e.prototype,n),s}(ze);const qe=Je;HTMLElement,n(5635);var Ke=function(t,e){return Ke=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Ke(t,e)};function Qe(t,e){function n(){this.constructor=t}Ke(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var $e=function(){return $e=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},$e.apply(this,arguments)};function tn(t,e,n,i){var r,o=arguments.length,g=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(g=(o<3?r(g):o>3?r(e,n,g):r(e,n))||g);return o>3&&g&&Object.defineProperty(e,n,g),g}const en="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,nn=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}},rn=`{{lit-${String(Math.random()).slice(2)}}}`,on=`\x3c!--${rn}--\x3e`,gn=new RegExp(`${rn}|${on}`),sn="$lit$";class an{constructor(t,e){this.parts=[],this.element=e;const n=[],i=[],r=document.createTreeWalker(e.content,133,null,!1);let o=0,g=-1,s=0;const{strings:a,values:{length:A}}=t;for(;s<A;){const t=r.nextNode();if(null!==t){if(g++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let i=0;for(let t=0;t<n;t++)An(e[t].name,sn)&&i++;for(;i-- >0;){const e=a[s],n=cn.exec(e)[2],i=n.toLowerCase()+sn,r=t.getAttribute(i);t.removeAttribute(i);const o=r.split(gn);this.parts.push({type:"attribute",index:g,name:n,strings:o}),s+=o.length-1}}"TEMPLATE"===t.tagName&&(i.push(t),r.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(rn)>=0){const i=t.parentNode,r=e.split(gn),o=r.length-1;for(let e=0;e<o;e++){let n,o=r[e];if(""===o)n=In();else{const t=cn.exec(o);null!==t&&An(t[2],sn)&&(o=o.slice(0,t.index)+t[1]+t[2].slice(0,-sn.length)+t[3]),n=document.createTextNode(o)}i.insertBefore(n,t),this.parts.push({type:"node",index:++g})}""===r[o]?(i.insertBefore(In(),t),n.push(t)):t.data=r[o],s+=o}}else if(8===t.nodeType)if(t.data===rn){const e=t.parentNode;null!==t.previousSibling&&g!==o||(g++,e.insertBefore(In(),t)),o=g,this.parts.push({type:"node",index:g}),null===t.nextSibling?t.data="":(n.push(t),g--),s++}else{let e=-1;for(;-1!==(e=t.data.indexOf(rn,e+1));)this.parts.push({type:"node",index:-1}),s++}}else r.currentNode=i.pop()}for(const t of n)t.parentNode.removeChild(t)}}const An=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},Cn=t=>-1!==t.index,In=()=>document.createComment(""),cn=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function ln(t,e){const{element:{content:n},parts:i}=t,r=document.createTreeWalker(n,133,null,!1);let o=hn(i),g=i[o],s=-1,a=0;const A=[];let C=null;for(;r.nextNode();){s++;const t=r.currentNode;for(t.previousSibling===C&&(C=null),e.has(t)&&(A.push(t),null===C&&(C=t)),null!==C&&a++;void 0!==g&&g.index===s;)g.index=null!==C?-1:g.index-a,o=hn(i,o),g=i[o]}A.forEach((t=>t.parentNode.removeChild(t)))}const un=t=>{let e=11===t.nodeType?0:1;const n=document.createTreeWalker(t,133,null,!1);for(;n.nextNode();)e++;return e},hn=(t,e=-1)=>{for(let n=e+1;n<t.length;n++){const e=t[n];if(Cn(e))return n}return-1},dn=new WeakMap,pn=t=>(...e)=>{const n=t(...e);return dn.set(n,!0),n},fn=t=>"function"==typeof t&&dn.has(t),mn={},vn={};class yn{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=en?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,i=document.createTreeWalker(t,133,null,!1);let r,o=0,g=0,s=i.nextNode();for(;o<n.length;)if(r=n[o],Cn(r)){for(;g<r.index;)g++,"TEMPLATE"===s.nodeName&&(e.push(s),i.currentNode=s.content),null===(s=i.nextNode())&&(i.currentNode=e.pop(),s=i.nextNode());if("node"===r.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(s.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(s,r.name,r.strings,this.options));o++}else this.__parts.push(void 0),o++;return en&&(document.adoptNode(t),customElements.upgrade(t)),t}}const bn=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),_n=` ${rn} `;class wn{constructor(t,e,n,i){this.strings=t,this.values=e,this.type=n,this.processor=i}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let i=0;i<t;i++){const t=this.strings[i],r=t.lastIndexOf("\x3c!--");n=(r>-1||n)&&-1===t.indexOf("--\x3e",r+1);const o=cn.exec(t);e+=null===o?t+(n?_n:on):t.substr(0,o.index)+o[1]+o[2]+sn+o[3]+rn}return e+=this.strings[t],e}getTemplateElement(){const t=document.createElement("template");let e=this.getHTML();return void 0!==bn&&(e=bn.createHTML(e)),t.innerHTML=e,t}}const xn=t=>null===t||!("object"==typeof t||"function"==typeof t),Sn=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class En{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new Mn(this)}_getValue(){const t=this.strings,e=t.length-1,n=this.parts;if(1===e&&""===t[0]&&""===t[1]){const t=n[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!Sn(t))return t}let i="";for(let r=0;r<e;r++){i+=t[r];const e=n[r];if(void 0!==e){const t=e.value;if(xn(t)||!Sn(t))i+="string"==typeof t?t:String(t);else for(const e of t)i+="string"==typeof e?e:String(e)}}return i+=t[e],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Mn{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===mn||xn(t)&&t===this.value||(this.value=t,fn(t)||(this.committer.dirty=!0))}commit(){for(;fn(this.value);){const t=this.value;this.value=mn,t(this)}this.value!==mn&&this.committer.commit()}}class Tn{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(In()),this.endNode=t.appendChild(In())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=In()),t.__insert(this.endNode=In())}insertAfterPart(t){t.__insert(this.startNode=In()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;fn(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=mn,t(this)}const t=this.__pendingValue;t!==mn&&(xn(t)?t!==this.value&&this.__commitText(t):t instanceof wn?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):Sn(t)?this.__commitIterable(t):t===vn?(this.value=vn,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof yn&&this.value.template===e)this.value.update(t.values);else{const n=new yn(e,t.processor,this.options),i=n._clone();n.update(t.values),this.__commitNode(i),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,i=0;for(const r of t)n=e[i],void 0===n&&(n=new Tn(this.options),e.push(n),0===i?n.appendIntoPart(this):n.insertAfterPart(e[i-1])),n.setValue(r),n.commit(),i++;i<e.length&&(e.length=i,this.clear(n&&n.endNode))}clear(t=this.startNode){nn(this.startNode.parentNode,t.nextSibling,this.endNode)}}class Rn{constructor(t,e,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.__pendingValue=t}commit(){for(;fn(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=mn,t(this)}if(this.__pendingValue===mn)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=mn}}class On extends En{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new Ln(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class Ln extends Mn{}let Pn=!1;(()=>{try{const t={get capture(){return Pn=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class Nn{constructor(t,e,n){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;fn(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=mn,t(this)}if(this.__pendingValue===mn)return;const t=this.__pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),i=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=Dn(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=mn}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const Dn=t=>t&&(Pn?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);function kn(t){let e=jn.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},jn.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const i=t.strings.join(rn);return n=e.keyString.get(i),void 0===n&&(n=new an(t,t.getTemplateElement()),e.keyString.set(i,n)),e.stringsArray.set(t.strings,n),n}const jn=new Map,Fn=new WeakMap,Bn=new class{handleAttributeExpressions(t,e,n,i){const r=e[0];return"."===r?new On(t,e.slice(1),n).parts:"@"===r?[new Nn(t,e.slice(1),i.eventContext)]:"?"===r?[new Rn(t,e.slice(1),n)]:new En(t,e,n).parts}handleTextExpression(t){return new Tn(t)}};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const zn=(t,...e)=>new wn(t,e,"html",Bn),Un=(t,e)=>`${t}--${e}`;let Hn=!0;void 0===window.ShadyCSS?Hn=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Hn=!1);const Gn=t=>e=>{const n=Un(e.type,t);let i=jn.get(n);void 0===i&&(i={stringsArray:new WeakMap,keyString:new Map},jn.set(n,i));let r=i.stringsArray.get(e.strings);if(void 0!==r)return r;const o=e.strings.join(rn);if(r=i.keyString.get(o),void 0===r){const n=e.getTemplateElement();Hn&&window.ShadyCSS.prepareTemplateDom(n,t),r=new an(e,n),i.keyString.set(o,r)}return i.stringsArray.set(e.strings,r),r},Wn=["html","svg"],Vn=new Set;window.JSCompiler_renameProperty=(t,e)=>t;const Zn={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},Yn=(t,e)=>e!==t&&(e==e||t==t),Xn={attribute:!0,type:String,converter:Zn,reflect:!1,hasChanged:Yn};class Jn extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach(((e,n)=>{const i=this._attributeNameForProperty(n,e);void 0!==i&&(this._attributeToPropertyMap.set(i,n),t.push(i))})),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach(((t,e)=>this._classProperties.set(e,t)))}}static createProperty(t,e=Xn){if(this._ensureClassProperties(),this._classProperties.set(t,e),e.noAccessor||this.prototype.hasOwnProperty(t))return;const n="symbol"==typeof t?Symbol():`__${t}`,i=this.getPropertyDescriptor(t,n,e);void 0!==i&&Object.defineProperty(this.prototype,t,i)}static getPropertyDescriptor(t,e,n){return{get(){return this[e]},set(i){const r=this[t];this[e]=i,this.requestUpdateInternal(t,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this._classProperties&&this._classProperties.get(t)||Xn}static finalize(){const t=Object.getPrototypeOf(this);if(t.hasOwnProperty("finalized")||t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,e=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const n of e)this.createProperty(n,t[n])}}static _attributeNameForProperty(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,e,n=Yn){return n(t,e)}static _propertyValueFromAttribute(t,e){const n=e.type,i=e.converter||Zn,r="function"==typeof i?i:i.fromAttribute;return r?r(t,n):t}static _propertyValueToAttribute(t,e){if(void 0===e.reflect)return;const n=e.type,i=e.converter;return(i&&i.toAttribute||Zn.toAttribute)(t,n)}initialize(){this._updateState=0,this._updatePromise=new Promise((t=>this._enableUpdatingResolver=t)),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach(((t,e)=>{if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}}))}_applyInstanceProperties(){this._instanceProperties.forEach(((t,e)=>this[e]=t)),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,e,n){e!==n&&this._attributeToProperty(t,n)}_propertyToAttribute(t,e,n=Xn){const i=this.constructor,r=i._attributeNameForProperty(t,n);if(void 0!==r){const t=i._propertyValueToAttribute(e,n);if(void 0===t)return;this._updateState=8|this._updateState,null==t?this.removeAttribute(r):this.setAttribute(r,t),this._updateState=-9&this._updateState}}_attributeToProperty(t,e){if(8&this._updateState)return;const n=this.constructor,i=n._attributeToPropertyMap.get(t);if(void 0!==i){const t=n.getPropertyOptions(i);this._updateState=16|this._updateState,this[i]=n._propertyValueFromAttribute(e,t),this._updateState=-17&this._updateState}}requestUpdateInternal(t,e,n){let i=!0;if(void 0!==t){const r=this.constructor;n=n||r.getPropertyOptions(t),r._valueHasChanged(this[t],e,n.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==n.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,n))):i=!1}!this._hasRequestedUpdate&&i&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(t,e){return this.requestUpdateInternal(t,e),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(t){}const t=this.performUpdate();return null!=t&&await t,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let t=!1;const e=this._changedProperties;try{t=this.shouldUpdate(e),t?this.update(e):this._markUpdated()}catch(e){throw t=!1,this._markUpdated(),e}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach(((t,e)=>this._propertyToAttribute(e,this[e],t))),this._reflectingProperties=void 0),this._markUpdated()}updated(t){}firstUpdated(t){}}Jn.finalized=!0;const qn=t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:n,elements:i}=e;return{kind:n,elements:i,finisher(e){window.customElements.define(t,e)}}})(t,e),Kn=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?Object.assign(Object.assign({},e),{finisher(n){n.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}};function Qn(t){return(e,n)=>void 0!==n?((t,e,n)=>{e.constructor.createProperty(n,t)})(t,e,n):Kn(t,e)}function $n(t){return Qn({attribute:!1,hasChanged:null==t?void 0:t.hasChanged})}function ti(t,e){return(n,i)=>{const r={get(){return this.renderRoot.querySelector(t)},enumerable:!0,configurable:!0};if(e){const e="symbol"==typeof i?Symbol():`__${i}`;r.get=function(){return void 0===this[e]&&(this[e]=this.renderRoot.querySelector(t)),this[e]}}return void 0!==i?ni(r,n,i):ii(r,n)}}function ei(t){return(e,n)=>{const i={async get(){return await this.updateComplete,this.renderRoot.querySelector(t)},enumerable:!0,configurable:!0};return void 0!==n?ni(i,e,n):ii(i,e)}}const ni=(t,e,n)=>{Object.defineProperty(e,n,t)},ii=(t,e)=>({kind:"method",placement:"prototype",key:e.key,descriptor:t});function ri(t){return(e,n)=>void 0!==n?((t,e,n)=>{Object.assign(e[n],t)})(t,e,n):((t,e)=>Object.assign(Object.assign({},e),{finisher(n){Object.assign(n.prototype[e.key],t)}}))(t,e)}const oi=Element.prototype;oi.msMatchesSelector||oi.webkitMatchesSelector;const gi=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,si=Symbol();class ai{constructor(t,e){if(e!==si)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){return void 0===this._styleSheet&&(gi?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const Ai=(t,...e)=>{const n=e.reduce(((e,n,i)=>e+(t=>{if(t instanceof ai)return t.cssText;if("number"==typeof t)return t;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${t}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(n)+t[i+1]),t[0]);return new ai(n,si)};(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");const Ci={};class Ii extends Jn{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const t=this.getStyles();if(Array.isArray(t)){const e=(t,n)=>t.reduceRight(((t,n)=>Array.isArray(n)?e(n,t):(t.add(n),t)),n),n=e(t,new Set),i=[];n.forEach((t=>i.unshift(t))),this._styles=i}else this._styles=void 0===t?[]:[t];this._styles=this._styles.map((t=>{if(t instanceof CSSStyleSheet&&!gi){const e=Array.prototype.slice.call(t.cssRules).reduce(((t,e)=>t+e.cssText),"");return new ai(String(e),si)}return t}))}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?gi?this.renderRoot.adoptedStyleSheets=t.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map((t=>t.cssText)),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){const e=this.render();super.update(t),e!==Ci&&this.constructor.render(e,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach((t=>{const e=document.createElement("style");e.textContent=t.cssText,this.renderRoot.appendChild(e)})))}render(){return Ci}}Ii.finalized=!0,Ii.render=(t,e,n)=>{if(!n||"object"!=typeof n||!n.scopeName)throw new Error("The `scopeName` option is required.");const i=n.scopeName,r=Fn.has(e),o=Hn&&11===e.nodeType&&!!e.host,g=o&&!Vn.has(i),s=g?document.createDocumentFragment():e;if(((t,e,n)=>{let i=Fn.get(e);void 0===i&&(nn(e,e.firstChild),Fn.set(e,i=new Tn(Object.assign({templateFactory:kn},n))),i.appendInto(e)),i.setValue(t),i.commit()})(t,s,Object.assign({templateFactory:Gn(i)},n)),g){const t=Fn.get(s);Fn.delete(s);((t,e,n)=>{Vn.add(t);const i=n?n.element:document.createElement("template"),r=e.querySelectorAll("style"),{length:o}=r;if(0===o)return void window.ShadyCSS.prepareTemplateStyles(i,t);const g=document.createElement("style");for(let t=0;t<o;t++){const e=r[t];e.parentNode.removeChild(e),g.textContent+=e.textContent}(t=>{Wn.forEach((e=>{const n=jn.get(Un(e,t));void 0!==n&&n.keyString.forEach((t=>{const{element:{content:e}}=t,n=new Set;Array.from(e.querySelectorAll("style")).forEach((t=>{n.add(t)})),ln(t,n)}))}))})(t);const s=i.content;n?function(t,e,n=null){const{element:{content:i},parts:r}=t;if(null==n)return void i.appendChild(e);const o=document.createTreeWalker(i,133,null,!1);let g=hn(r),s=0,a=-1;for(;o.nextNode();)for(a++,o.currentNode===n&&(s=un(e),n.parentNode.insertBefore(e,n));-1!==g&&r[g].index===a;){if(s>0){for(;-1!==g;)r[g].index+=s,g=hn(r,g);return}g=hn(r,g)}}(n,g,s.firstChild):s.insertBefore(g,s.firstChild),window.ShadyCSS.prepareTemplateStyles(i,t);const a=s.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==a)e.insertBefore(a.cloneNode(!0),e.firstChild);else if(n){s.insertBefore(g,s.firstChild);const t=new Set;t.add(g),ln(n,t)}})(i,s,t.value instanceof yn?t.value.template:void 0),nn(e,e.firstChild),e.appendChild(s),Fn.set(e,t)}!r&&o&&window.ShadyCSS.styleElement(e.host)};var ci={FIXED_CLASS:"mdc-top-app-bar--fixed",FIXED_SCROLLED_CLASS:"mdc-top-app-bar--fixed-scrolled",SHORT_CLASS:"mdc-top-app-bar--short",SHORT_COLLAPSED_CLASS:"mdc-top-app-bar--short-collapsed",SHORT_HAS_ACTION_ITEM_CLASS:"mdc-top-app-bar--short-has-action-item"},li={DEBOUNCE_THROTTLE_RESIZE_TIME_MS:100,MAX_TOP_APP_BAR_HEIGHT:128},ui={ACTION_ITEM_SELECTOR:".mdc-top-app-bar__action-item",NAVIGATION_EVENT:"MDCTopAppBar:nav",NAVIGATION_ICON_SELECTOR:".mdc-top-app-bar__navigation-icon",ROOT_SELECTOR:".mdc-top-app-bar",TITLE_SELECTOR:".mdc-top-app-bar__title"},hi=function(){function t(t){void 0===t&&(t={}),this.adapter=t}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}(),di=function(t){function e(n){return t.call(this,$e($e({},e.defaultAdapter),n))||this}return Qe(e,t),Object.defineProperty(e,"strings",{get:function(){return ui},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return ci},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return li},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},getTopAppBarHeight:function(){return 0},notifyNavigationIconClicked:function(){},getViewportScrollY:function(){return 0},getTotalActionItems:function(){return 0}}},enumerable:!0,configurable:!0}),e.prototype.handleTargetScroll=function(){},e.prototype.handleWindowResize=function(){},e.prototype.handleNavigationClick=function(){this.adapter.notifyNavigationIconClicked()},e}(hi);const pi=di;var fi=function(t){function e(e){var n=t.call(this,e)||this;return n.wasDocked_=!0,n.isDockedShowing_=!0,n.currentAppBarOffsetTop_=0,n.isCurrentlyBeingResized_=!1,n.resizeThrottleId_=0,n.resizeDebounceId_=0,n.lastScrollPosition_=n.adapter.getViewportScrollY(),n.topAppBarHeight_=n.adapter.getTopAppBarHeight(),n}return Qe(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.adapter.setStyle("top","")},e.prototype.handleTargetScroll=function(){var t=Math.max(this.adapter.getViewportScrollY(),0),e=t-this.lastScrollPosition_;this.lastScrollPosition_=t,this.isCurrentlyBeingResized_||(this.currentAppBarOffsetTop_-=e,this.currentAppBarOffsetTop_>0?this.currentAppBarOffsetTop_=0:Math.abs(this.currentAppBarOffsetTop_)>this.topAppBarHeight_&&(this.currentAppBarOffsetTop_=-this.topAppBarHeight_),this.moveTopAppBar_())},e.prototype.handleWindowResize=function(){var t=this;this.resizeThrottleId_||(this.resizeThrottleId_=setTimeout((function(){t.resizeThrottleId_=0,t.throttledResizeHandler_()}),li.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)),this.isCurrentlyBeingResized_=!0,this.resizeDebounceId_&&clearTimeout(this.resizeDebounceId_),this.resizeDebounceId_=setTimeout((function(){t.handleTargetScroll(),t.isCurrentlyBeingResized_=!1,t.resizeDebounceId_=0}),li.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)},e.prototype.checkForUpdate_=function(){var t=-this.topAppBarHeight_,e=this.currentAppBarOffsetTop_<0,n=this.currentAppBarOffsetTop_>t,i=e&&n;if(i)this.wasDocked_=!1;else{if(!this.wasDocked_)return this.wasDocked_=!0,!0;if(this.isDockedShowing_!==n)return this.isDockedShowing_=n,!0}return i},e.prototype.moveTopAppBar_=function(){if(this.checkForUpdate_()){var t=this.currentAppBarOffsetTop_;Math.abs(t)>=this.topAppBarHeight_&&(t=-li.MAX_TOP_APP_BAR_HEIGHT),this.adapter.setStyle("top",t+"px")}},e.prototype.throttledResizeHandler_=function(){var t=this.adapter.getTopAppBarHeight();this.topAppBarHeight_!==t&&(this.wasDocked_=!1,this.currentAppBarOffsetTop_-=this.topAppBarHeight_-t,this.topAppBarHeight_=t),this.handleTargetScroll()},e}(di);const mi=fi;function vi(t,e){return(t.matches||t.webkitMatchesSelector||t.msMatchesSelector).call(t,e)}const yi=t=>t.nodeType===Node.ELEMENT_NODE;function bi(t){return{addClass:e=>{t.classList.add(e)},removeClass:e=>{t.classList.remove(e)},hasClass:e=>t.classList.contains(e)}}let _i=!1;const wi=()=>{},xi={get passive(){return _i=!0,!1}};document.addEventListener("x",wi,xi),document.removeEventListener("x",wi);const Si=_i,Ei=(t=window.document)=>{let e=t.activeElement;const n=[];if(!e)return n;for(;e&&(n.push(e),e.shadowRoot);)e=e.shadowRoot.activeElement;return n},Mi=t=>{const e=Ei();if(!e.length)return!1;const n=e[e.length-1],i=new Event("check-if-focused",{bubbles:!0,composed:!0});let r=[];const o=t=>{r=t.composedPath()};return document.body.addEventListener("check-if-focused",o),n.dispatchEvent(i),document.body.removeEventListener("check-if-focused",o),-1!==r.indexOf(t)};class Ti extends Ii{click(){if(this.mdcRoot)return this.mdcRoot.focus(),void this.mdcRoot.click();super.click()}createFoundation(){void 0!==this.mdcFoundation&&this.mdcFoundation.destroy(),this.mdcFoundationClass&&(this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init())}firstUpdated(){this.createFoundation()}}class Ri{constructor(t){this.classes=new Set,this.changed=!1,this.element=t;const e=(t.getAttribute("class")||"").split(/\s+/);for(const t of e)this.classes.add(t)}add(t){this.classes.add(t),this.changed=!0}remove(t){this.classes.delete(t),this.changed=!0}commit(){if(this.changed){let t="";this.classes.forEach((e=>t+=e+" ")),this.element.setAttribute("class",t)}}}const Oi=new WeakMap,Li=pn((t=>e=>{if(!(e instanceof Mn)||e instanceof Ln||"class"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:n}=e,{element:i}=n;let r=Oi.get(e);void 0===r&&(i.setAttribute("class",n.strings.join(" ")),Oi.set(e,r=new Set));const o=i.classList||new Ri(i);r.forEach((e=>{e in t||(o.remove(e),r.delete(e))}));for(const e in t){const n=t[e];n!=r.has(e)&&(n?(o.add(e),r.add(e)):(o.remove(e),r.delete(e)))}"function"==typeof o.commit&&o.commit()})),Pi=Si?{passive:!0}:void 0;class Ni extends Ti{constructor(){super(...arguments),this.mdcFoundationClass=pi,this.centerTitle=!1,this.handleTargetScroll=()=>{this.mdcFoundation.handleTargetScroll()},this.handleNavigationClick=()=>{this.mdcFoundation.handleNavigationClick()}}get scrollTarget(){return this._scrollTarget||window}set scrollTarget(t){this.unregisterScrollListener();const e=this.scrollTarget;this._scrollTarget=t,this.updateRootPosition(),this.requestUpdate("scrollTarget",e),this.registerScrollListener()}updateRootPosition(){if(this.mdcRoot){const t=this.scrollTarget===window;this.mdcRoot.style.position=t?"":"absolute"}}render(){let t=zn`<span class="mdc-top-app-bar__title"><slot name="title"></slot></span>`;return this.centerTitle&&(t=zn`<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-center">${t}</section>`),zn`
      <header class="mdc-top-app-bar ${Li(this.barClasses())}">
      <div class="mdc-top-app-bar__row">
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start" id="navigation">
          <slot name="navigationIcon"
            @click=${this.handleNavigationClick}></slot>
          ${this.centerTitle?null:t}
        </section>
        ${this.centerTitle?t:null}
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" id="actions" role="toolbar">
          <slot name="actionItems"></slot>
        </section>
      </div>
    </header>
    <div class="${Li(this.contentClasses())}">
      <slot></slot>
    </div>
    `}createAdapter(){return Object.assign(Object.assign({},bi(this.mdcRoot)),{setStyle:(t,e)=>this.mdcRoot.style.setProperty(t,e),getTopAppBarHeight:()=>this.mdcRoot.clientHeight,notifyNavigationIconClicked:()=>{this.dispatchEvent(new Event(ui.NAVIGATION_EVENT,{bubbles:!0,cancelable:!0}))},getViewportScrollY:()=>this.scrollTarget instanceof Window?this.scrollTarget.pageYOffset:this.scrollTarget.scrollTop,getTotalActionItems:()=>this._actionItemsSlot.assignedNodes({flatten:!0}).length})}registerListeners(){this.registerScrollListener()}unregisterListeners(){this.unregisterScrollListener()}registerScrollListener(){this.scrollTarget.addEventListener("scroll",this.handleTargetScroll,Pi)}unregisterScrollListener(){this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll)}firstUpdated(){super.firstUpdated(),this.updateRootPosition(),this.registerListeners()}disconnectedCallback(){super.disconnectedCallback(),this.unregisterListeners()}}tn([ti(".mdc-top-app-bar")],Ni.prototype,"mdcRoot",void 0),tn([ti('slot[name="actionItems"]')],Ni.prototype,"_actionItemsSlot",void 0),tn([Qn({type:Boolean})],Ni.prototype,"centerTitle",void 0),tn([Qn()],Ni.prototype,"scrollTarget",null);class Di extends Ni{constructor(){super(...arguments),this.mdcFoundationClass=mi,this.prominent=!1,this.dense=!1,this.handleResize=()=>{this.mdcFoundation.handleWindowResize()}}barClasses(){return{"mdc-top-app-bar--dense":this.dense,"mdc-top-app-bar--prominent":this.prominent,"center-title":this.centerTitle}}contentClasses(){return{"mdc-top-app-bar--fixed-adjust":!this.dense&&!this.prominent,"mdc-top-app-bar--dense-fixed-adjust":this.dense&&!this.prominent,"mdc-top-app-bar--prominent-fixed-adjust":!this.dense&&this.prominent,"mdc-top-app-bar--dense-prominent-fixed-adjust":this.dense&&this.prominent}}registerListeners(){super.registerListeners(),window.addEventListener("resize",this.handleResize,Pi)}unregisterListeners(){super.unregisterListeners(),window.removeEventListener("resize",this.handleResize)}}tn([Qn({type:Boolean,reflect:!0})],Di.prototype,"prominent",void 0),tn([Qn({type:Boolean,reflect:!0})],Di.prototype,"dense",void 0);const ki=Ai`.mdc-top-app-bar{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee);color:white;display:flex;position:fixed;flex-direction:column;justify-content:space-between;box-sizing:border-box;width:100%;z-index:4}.mdc-top-app-bar .mdc-top-app-bar__action-item,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon{color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-top-app-bar .mdc-top-app-bar__action-item::before,.mdc-top-app-bar .mdc-top-app-bar__action-item::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::after{background-color:#fff;background-color:var(--mdc-theme-on-primary, #fff)}.mdc-top-app-bar .mdc-top-app-bar__action-item:hover::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:hover::before{opacity:.08}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):focus::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:.24}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded)::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):active::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:.24}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.24}.mdc-top-app-bar__row{display:flex;position:relative;box-sizing:border-box;width:100%;height:64px}.mdc-top-app-bar__section{display:inline-flex;flex:1 1 auto;align-items:center;min-width:0;padding:8px 12px;z-index:1}.mdc-top-app-bar__section--align-start{justify-content:flex-start;order:-1}.mdc-top-app-bar__section--align-end{justify-content:flex-end;order:1}.mdc-top-app-bar__title{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);padding-left:20px;padding-right:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;z-index:1}[dir=rtl] .mdc-top-app-bar__title,.mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--short-collapsed{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:24px;border-bottom-left-radius:0}[dir=rtl] .mdc-top-app-bar--short-collapsed,.mdc-top-app-bar--short-collapsed[dir=rtl]{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:24px}.mdc-top-app-bar--short{top:0;right:auto;left:0;width:100%;transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-top-app-bar--short,.mdc-top-app-bar--short[dir=rtl]{right:0;left:auto}.mdc-top-app-bar--short .mdc-top-app-bar__row{height:56px}.mdc-top-app-bar--short .mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short .mdc-top-app-bar__title{transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.mdc-top-app-bar--short-collapsed{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);width:56px;transition:width 300ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__title{display:none}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__action-item{transition:padding 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item{width:112px}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--dense .mdc-top-app-bar__row{height:48px}.mdc-top-app-bar--dense .mdc-top-app-bar__section{padding:0 4px}.mdc-top-app-bar--dense .mdc-top-app-bar__title{padding-left:12px;padding-right:0}[dir=rtl] .mdc-top-app-bar--dense .mdc-top-app-bar__title,.mdc-top-app-bar--dense .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:12px}.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:128px}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{align-self:flex-end;padding-bottom:2px}.mdc-top-app-bar--prominent .mdc-top-app-bar__action-item,.mdc-top-app-bar--prominent .mdc-top-app-bar__navigation-icon{align-self:flex-start}.mdc-top-app-bar--fixed{transition:box-shadow 200ms linear}.mdc-top-app-bar--fixed-scrolled{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);transition:box-shadow 200ms linear}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:96px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section{padding:0 12px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-left:20px;padding-right:0;padding-bottom:9px}[dir=rtl] .mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title,.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--fixed-adjust{padding-top:64px}.mdc-top-app-bar--dense-fixed-adjust{padding-top:48px}.mdc-top-app-bar--short-fixed-adjust{padding-top:56px}.mdc-top-app-bar--prominent-fixed-adjust{padding-top:128px}.mdc-top-app-bar--dense-prominent-fixed-adjust{padding-top:96px}@media(max-width: 599px){.mdc-top-app-bar__row{height:56px}.mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short{transition:width 200ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed{transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-bottom:6px}.mdc-top-app-bar--fixed-adjust{padding-top:56px}}:host{display:block}.mdc-top-app-bar{color:#fff;color:var(--mdc-theme-on-primary, #fff);width:100%;width:var(--mdc-top-app-bar-width, 100%)}.mdc-top-app-bar--prominent #navigation ::slotted(*),.mdc-top-app-bar--prominent #actions ::slotted(*){align-self:flex-start}#navigation ::slotted(*),#actions ::slotted(*){--mdc-icon-button-ripple-opacity: 0.24}.mdc-top-app-bar--short-collapsed #actions ::slotted(*){transition:padding 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar__section--align-center{justify-content:center}.mdc-top-app-bar__section--align-center .mdc-top-app-bar__title{padding-left:0;padding-right:0}.center-title .mdc-top-app-bar__section--align-start,.center-title .mdc-top-app-bar__section--align-end{flex-basis:0}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section--align-center .mdc-top-app-bar__title{padding-left:0;padding-right:0}.mdc-top-app-bar--fixed-scrolled{box-shadow:var(--mdc-top-app-bar-fixed-box-shadow, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}`;let ji=class extends Di{};ji.styles=ki,ji=tn([qn("mwc-top-app-bar")],ji);var Fi={},Bi="function"==typeof Map?new Map:null,zi="swap",Ui="move",Hi="layoutStart",Gi="layoutEnd",Wi="layoutAbort",Vi="remove",Zi="hideStart",Yi="filter",Xi="sort",Ji="move",qi="send",Ki="beforeSend",Qi="receive",$i="beforeReceive",tr="dragReleaseEnd",er="ontouchstart"in window,nr=!!window.PointerEvent,ir=!!window.navigator.msPointerEnabled;function rr(){this._events={},this._queue=[],this._counter=0,this._clearOnEmit=!1}rr.prototype.on=function(t,e){if(!this._events||!t||!e)return this;var n=this._events[t];return n||(n=this._events[t]=[]),n.push(e),this},rr.prototype.off=function(t,e){if(!this._events||!t||!e)return this;var n,i=this._events[t];if(!i||!i.length)return this;for(;-1!==(n=i.indexOf(e));)i.splice(n,1);return this},rr.prototype.clear=function(t){if(!this._events||!t)return this;var e=this._events[t];return e&&(e.length=0,delete this._events[t]),this},rr.prototype.emit=function(t){if(!this._events||!t)return this._clearOnEmit=!1,this;var e=this._events[t];if(!e||!e.length)return this._clearOnEmit=!1,this;var n,i=this._queue,r=i.length,o=arguments.length-1;o>3&&((n=[]).push.apply(n,arguments),n.shift()),i.push.apply(i,e),this._clearOnEmit&&(e.length=0,this._clearOnEmit=!1),++this._counter;for(var g=r,s=i.length;g<s;g++)if(0===o?i[g]():1===o?i[g](arguments[1]):2===o?i[g](arguments[1],arguments[2]):3===o?i[g](arguments[1],arguments[2],arguments[3]):i[g].apply(null,n),!this._events)return this;return--this._counter,this._counter||(i.length=0),this},rr.prototype.burst=function(){return this._events?(this._clearOnEmit=!0,this.emit.apply(this,arguments),this):this},rr.prototype.countListeners=function(t){if(!this._events)return 0;var e=this._events[t];return e?e.length:0},rr.prototype.destroy=function(){return this._events?(this._queue.length=this._counter=0,this._events=null,this):this};var or=nr?"pointerout":ir?"MSPointerOut":"";function gr(t){or&&(this._dragger=t,this._timeout=null,this._outEvent=null,this._isActive=!1,this._addBehaviour=this._addBehaviour.bind(this),this._removeBehaviour=this._removeBehaviour.bind(this),this._onTimeout=this._onTimeout.bind(this),this._resetData=this._resetData.bind(this),this._onStart=this._onStart.bind(this),this._onOut=this._onOut.bind(this),this._dragger.on("start",this._onStart))}gr.prototype._addBehaviour=function(){this._isActive||(this._isActive=!0,this._dragger.on("move",this._resetData),this._dragger.on("cancel",this._removeBehaviour),this._dragger.on("end",this._removeBehaviour),window.addEventListener(or,this._onOut))},gr.prototype._removeBehaviour=function(){this._isActive&&(this._dragger.off("move",this._resetData),this._dragger.off("cancel",this._removeBehaviour),this._dragger.off("end",this._removeBehaviour),window.removeEventListener(or,this._onOut),this._resetData(),this._isActive=!1)},gr.prototype._resetData=function(){window.clearTimeout(this._timeout),this._timeout=null,this._outEvent=null},gr.prototype._onStart=function(t){"mouse"!==t.pointerType&&this._addBehaviour()},gr.prototype._onOut=function(t){this._dragger._getTrackedTouch(t)&&(this._resetData(),this._outEvent=t,this._timeout=window.setTimeout(this._onTimeout,100))},gr.prototype._onTimeout=function(){var t=this._outEvent;this._resetData(),this._dragger.isActive()&&this._dragger._onCancel(t)},gr.prototype.destroy=function(){or&&(this._dragger.off("start",this._onStart),this._removeBehaviour())};var sr=["","webkit","moz","ms","o","Webkit","Moz","MS","O"],ar={};function Ar(t,e){var n=ar[e]||"";if(n)return n;for(var i=e[0].toUpperCase()+e.slice(1),r=0;r<sr.length;){if((n=sr[r]?sr[r]+i:e)in t)return ar[e]=n,n;++r}return""}function Cr(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return t}var Ir=window.navigator.userAgent.toLowerCase(),cr=Ir.indexOf("edge")>-1,lr=Ir.indexOf("trident")>-1,ur=Ir.indexOf("firefox")>-1,hr=Ir.indexOf("android")>-1,dr=!!Cr()&&{passive:!0},pr="touchAction",fr=Ar(document.documentElement.style,pr);function mr(t,e){this._element=t,this._emitter=new rr,this._isDestroyed=!1,this._cssProps={},this._touchAction="",this._isActive=!1,this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onCancel=this._onCancel.bind(this),this._onEnd=this._onEnd.bind(this),this._edgeHack=null,(cr||lr)&&(nr||ir)&&(this._edgeHack=new gr(this)),this.setCssProps(e),this._touchAction||this.setTouchAction("auto"),t.addEventListener("dragstart",mr._preventDefault,!1),t.addEventListener(mr._inputEvents.start,this._onStart,dr)}mr._pointerEvents={start:"pointerdown",move:"pointermove",cancel:"pointercancel",end:"pointerup"},mr._msPointerEvents={start:"MSPointerDown",move:"MSPointerMove",cancel:"MSPointerCancel",end:"MSPointerUp"},mr._touchEvents={start:"touchstart",move:"touchmove",cancel:"touchcancel",end:"touchend"},mr._mouseEvents={start:"mousedown",move:"mousemove",cancel:"",end:"mouseup"},mr._inputEvents=er?mr._touchEvents:nr?mr._pointerEvents:ir?mr._msPointerEvents:mr._mouseEvents,mr._emitter=new rr,mr._emitterEvents={start:"start",move:"move",end:"end",cancel:"cancel"},mr._activeInstances=[],mr._preventDefault=function(t){t.preventDefault&&!1!==t.cancelable&&t.preventDefault()},mr._activateInstance=function(t){mr._activeInstances.indexOf(t)>-1||(mr._activeInstances.push(t),mr._emitter.on(mr._emitterEvents.move,t._onMove),mr._emitter.on(mr._emitterEvents.cancel,t._onCancel),mr._emitter.on(mr._emitterEvents.end,t._onEnd),1===mr._activeInstances.length&&mr._bindListeners())},mr._deactivateInstance=function(t){var e=mr._activeInstances.indexOf(t);-1!==e&&(mr._activeInstances.splice(e,1),mr._emitter.off(mr._emitterEvents.move,t._onMove),mr._emitter.off(mr._emitterEvents.cancel,t._onCancel),mr._emitter.off(mr._emitterEvents.end,t._onEnd),mr._activeInstances.length||mr._unbindListeners())},mr._bindListeners=function(){window.addEventListener(mr._inputEvents.move,mr._onMove,dr),window.addEventListener(mr._inputEvents.end,mr._onEnd,dr),mr._inputEvents.cancel&&window.addEventListener(mr._inputEvents.cancel,mr._onCancel,dr)},mr._unbindListeners=function(){window.removeEventListener(mr._inputEvents.move,mr._onMove,dr),window.removeEventListener(mr._inputEvents.end,mr._onEnd,dr),mr._inputEvents.cancel&&window.removeEventListener(mr._inputEvents.cancel,mr._onCancel,dr)},mr._getEventPointerId=function(t){return"number"==typeof t.pointerId?t.pointerId:t.changedTouches?t.changedTouches[0]?t.changedTouches[0].identifier:null:1},mr._getTouchById=function(t,e){if("number"==typeof t.pointerId)return t.pointerId===e?t:null;if(t.changedTouches){for(var n=0;n<t.changedTouches.length;n++)if(t.changedTouches[n].identifier===e)return t.changedTouches[n];return null}return t},mr._onMove=function(t){mr._emitter.emit(mr._emitterEvents.move,t)},mr._onCancel=function(t){mr._emitter.emit(mr._emitterEvents.cancel,t)},mr._onEnd=function(t){mr._emitter.emit(mr._emitterEvents.end,t)},mr.prototype._reset=function(){this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._isActive=!1,mr._deactivateInstance(this)},mr.prototype._createEvent=function(t,e){var n=this._getTrackedTouch(e);return{type:t,srcEvent:e,distance:this.getDistance(),deltaX:this.getDeltaX(),deltaY:this.getDeltaY(),deltaTime:t===mr._emitterEvents.start?0:this.getDeltaTime(),isFirst:t===mr._emitterEvents.start,isFinal:t===mr._emitterEvents.end||t===mr._emitterEvents.cancel,pointerType:e.pointerType||(e.touches?"touch":"mouse"),identifier:this._pointerId,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,target:n.target}},mr.prototype._emit=function(t,e){this._emitter.emit(t,this._createEvent(t,e))},mr.prototype._getTrackedTouch=function(t){return null===this._pointerId?null:mr._getTouchById(t,this._pointerId)},mr.prototype._onStart=function(t){if(!this._isDestroyed&&null===this._pointerId&&(this._pointerId=mr._getEventPointerId(t),null!==this._pointerId)){var e=this._getTrackedTouch(t);this._startX=this._currentX=e.clientX,this._startY=this._currentY=e.clientY,this._startTime=Date.now(),this._isActive=!0,this._emit(mr._emitterEvents.start,t),this._isActive&&mr._activateInstance(this)}},mr.prototype._onMove=function(t){var e=this._getTrackedTouch(t);e&&(this._currentX=e.clientX,this._currentY=e.clientY,this._emit(mr._emitterEvents.move,t))},mr.prototype._onCancel=function(t){this._getTrackedTouch(t)&&(this._emit(mr._emitterEvents.cancel,t),this._reset())},mr.prototype._onEnd=function(t){this._getTrackedTouch(t)&&(this._emit(mr._emitterEvents.end,t),this._reset())},mr.prototype.isActive=function(){return this._isActive},mr.prototype.setTouchAction=function(t){this._touchAction=t,fr&&(this._cssProps[fr]="",this._element.style[fr]=t),er&&(this._element.removeEventListener(mr._touchEvents.start,mr._preventDefault,!0),(this._element.style[fr]!==t||ur&&hr)&&this._element.addEventListener(mr._touchEvents.start,mr._preventDefault,!0))},mr.prototype.setCssProps=function(t){if(t){var e,n,i=this._cssProps,r=this._element;for(e in i)r.style[e]=i[e],delete i[e];for(e in t)t[e]&&(e!==pr?(n=Ar(r.style,e))&&(i[n]="",r.style[n]=t[e]):this.setTouchAction(t[e]))}},mr.prototype.getDeltaX=function(){return this._currentX-this._startX},mr.prototype.getDeltaY=function(){return this._currentY-this._startY},mr.prototype.getDistance=function(){var t=this.getDeltaX(),e=this.getDeltaY();return Math.sqrt(t*t+e*e)},mr.prototype.getDeltaTime=function(){return this._startTime?Date.now()-this._startTime:0},mr.prototype.on=function(t,e){this._emitter.on(t,e)},mr.prototype.off=function(t,e){this._emitter.off(t,e)},mr.prototype.destroy=function(){if(!this._isDestroyed){var t=this._element;for(var e in this._edgeHack&&this._edgeHack.destroy(),this._reset(),this._emitter.destroy(),t.removeEventListener(mr._inputEvents.start,this._onStart,dr),t.removeEventListener("dragstart",mr._preventDefault,!1),t.removeEventListener(mr._touchEvents.start,mr._preventDefault,!0),this._cssProps)t.style[e]=this._cssProps[e],delete this._cssProps[e];this._element=null,this._isDestroyed=!0}};var vr=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return this.setTimeout((function(){t(Date.now())}),16.666666666666668)}).bind(window);function yr(t){this._nextStep=null,this._lanes=[],this._stepQueue=[],this._stepCallbacks={},this._step=this._step.bind(this);for(var e=0;e<t;e++)this._lanes.push(new br)}function br(){this.queue=[],this.indices={},this.callbacks={}}yr.prototype._step=function(t){var e,n,i,r,o,g,s=this._lanes,a=this._stepQueue,A=this._stepCallbacks;for(this._nextStep=null,e=0;e<s.length;e++){for(r=s[e].queue,o=s[e].callbacks,g=s[e].indices,n=0;n<r.length;n++)(i=r[n])&&(a.push(i),A[i]=o[i],delete o[i],delete g[i]);r.length=0}for(e=0;e<a.length;e++)A[i=a[e]]&&A[i](t),delete A[i];a.length=0},yr.prototype.add=function(t,e,n){this._lanes[t].add(e,n),this._nextStep||(this._nextStep=vr(this._step))},yr.prototype.remove=function(t,e){this._lanes[t].remove(e)},br.prototype.add=function(t,e){var n=this.indices[t];void 0!==n&&(this.queue[n]=void 0),this.queue.push(t),this.callbacks[t]=e,this.indices[t]=this.queue.length-1},br.prototype.remove=function(t){var e=this.indices[t];void 0!==e&&(this.queue[e]=void 0,delete this.callbacks[t],delete this.indices[t])};var _r="layoutRead",wr="layoutWrite",xr="visibilityRead",Sr="visibilityWrite",Er="dragStartRead",Mr="dragStartWrite",Tr="dragMoveRead",Rr="dragMoveWrite",Or="dragScrollRead",Lr="dragScrollWrite",Pr="dragSortRead",Nr="placeholderLayoutRead",Dr="placeholderLayoutWrite",kr="placeholderResizeWrite",jr="autoScrollRead",Fr="autoScrollWrite",Br="debounceRead",zr=new yr(3);function Ur(t){zr.remove(0,_r+t),zr.remove(2,wr+t)}function Hr(t){zr.remove(0,xr+t),zr.remove(2,Sr+t)}function Gr(t){zr.remove(0,Er+t),zr.remove(2,Mr+t)}function Wr(t){zr.remove(0,Tr+t),zr.remove(2,Rr+t)}function Vr(t){zr.remove(0,Or+t),zr.remove(2,Lr+t)}function Zr(t,e){zr.add(1,Pr+t,e)}function Yr(t){zr.remove(0,Nr+t),zr.remove(2,Dr+t)}function Xr(t,e){zr.add(0,jr,t),zr.add(2,Fr,e)}function Jr(t){return"function"==typeof t}var qr,Kr="function"==typeof WeakMap,Qr=Kr?new WeakMap:null,$r=!0,to=function(){$r?(qr=window.clearInterval(qr),Qr=Kr?new WeakMap:null):$r=!0};function eo(t,e){var n=Qr&&Qr.get(t);return n||(n=window.getComputedStyle(t,null),Qr&&Qr.set(t,n)),Qr&&(qr?$r=!1:qr=window.setInterval(to,3e3)),n.getPropertyValue(e)}function no(t,e){return parseFloat(eo(t,e))||0}var io,ro=document.documentElement,oo=document.body,go={value:0,offset:0};function so(t){return t===window||t===ro||t===oo?window:t}function ao(t){return t===window?t.pageXOffset:t.scrollLeft}function Ao(t){return t===window?t.pageYOffset:t.scrollTop}function Co(t){return t===window?ro.scrollWidth-ro.clientWidth:t.scrollWidth-t.clientWidth}function Io(t){return t===window?ro.scrollHeight-ro.clientHeight:t.scrollHeight-t.clientHeight}function co(t,e){if(e=e||{},t===window)e.width=ro.clientWidth,e.height=ro.clientHeight,e.left=0,e.right=e.width,e.top=0,e.bottom=e.height;else{var n=t.getBoundingClientRect(),i=t.clientLeft||no(t,"border-left-width"),r=t.clientTop||no(t,"border-top-width");e.width=t.clientWidth,e.height=t.clientHeight,e.left=n.left+i,e.right=e.left+e.width,e.top=n.top+r,e.bottom=e.top+e.height}return e}function lo(t){return t._drag._getGrid()._settings.dragAutoScroll}function uo(t){t._drag&&t._drag._prepareScroll()}function ho(t){if(t._drag&&t._isActive){var e=t._drag;e._scrollDiffX=e._scrollDiffY=0,t._setTranslate(e._left,e._top)}}function po(t,e,n,i){return go.value=Math.min(i/2,t),go.offset=Math.max(0,n+2*go.value+i*e-i)/2,go}function fo(){this.reset()}function mo(){this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0}function vo(t,e){this.pool=[],this.createItem=t,this.releaseItem=e}function yo(t,e){var n=function(t,e){return function(t,e){return!(t.left+t.width<=e.left||e.left+e.width<=t.left||t.top+t.height<=e.top||e.top+e.height<=t.top)}(t,e)?(Math.min(t.left+t.width,e.left+e.width)-Math.max(t.left,e.left))*(Math.min(t.top+t.height,e.top+e.height)-Math.max(t.top,e.top)):0}(t,e);return n?n/(Math.min(t.width,e.width)*Math.min(t.height,e.height))*100:0}fo.prototype.reset=function(){this.isActive&&this.onStop(),this.item=null,this.element=null,this.isActive=!1,this.isEnding=!1,this.direction=null,this.value=null,this.maxValue=0,this.threshold=0,this.distance=0,this.speed=0,this.duration=0,this.action=null},fo.prototype.hasReachedEnd=function(){return 4&this.direction?this.value>=this.maxValue:this.value<=0},fo.prototype.computeCurrentScrollValue=function(){return null===this.value?1&this.direction?ao(this.element):Ao(this.element):Math.max(0,Math.min(this.value,this.maxValue))},fo.prototype.computeNextScrollValue=function(t){var e=this.speed*(t/1e3),n=4&this.direction?this.value+e:this.value-e;return Math.max(0,Math.min(n,this.maxValue))},fo.prototype.computeSpeed=(io={direction:null,threshold:0,distance:0,value:0,maxValue:0,deltaTime:0,duration:0,isEnding:!1},function(t){var e=this.item,n=lo(e).speed;return Jr(n)?(io.direction=this.direction,io.threshold=this.threshold,io.distance=this.distance,io.value=this.value,io.maxValue=this.maxValue,io.duration=this.duration,io.speed=this.speed,io.deltaTime=t,io.isEnding=this.isEnding,n(e,this.element,io)):n}),fo.prototype.tick=function(t){return this.isActive||(this.isActive=!0,this.onStart()),this.value=this.computeCurrentScrollValue(),this.speed=this.computeSpeed(t),this.value=this.computeNextScrollValue(t),this.duration+=t,this.value},fo.prototype.onStart=function(){var t=this.item,e=lo(t).onStart;Jr(e)&&e(t,this.element,this.direction)},fo.prototype.onStop=function(){var t=this.item,e=lo(t).onStop;Jr(e)&&e(t,this.element,this.direction),t._drag&&t._drag.sort()},mo.prototype.reset=function(){this.requestX&&(this.requestX.action=null),this.requestY&&(this.requestY.action=null),this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0},mo.prototype.addRequest=function(t){1&t.direction?(this.removeRequest(this.requestX),this.requestX=t):(this.removeRequest(this.requestY),this.requestY=t),t.action=this},mo.prototype.removeRequest=function(t){t&&(this.requestX===t?(this.requestX=null,t.action=null):this.requestY===t&&(this.requestY=null,t.action=null))},mo.prototype.computeScrollValues=function(){this.scrollLeft=this.requestX?this.requestX.value:ao(this.element),this.scrollTop=this.requestY?this.requestY.value:Ao(this.element)},mo.prototype.scroll=function(){var t=this.element;t&&(t.scrollTo?t.scrollTo(this.scrollLeft,this.scrollTop):(t.scrollLeft=this.scrollLeft,t.scrollTop=this.scrollTop))},vo.prototype.pick=function(){return this.pool.pop()||this.createItem()},vo.prototype.release=function(t){this.releaseItem(t),-1===this.pool.indexOf(t)&&this.pool.push(t)},vo.prototype.reset=function(){this.pool.length=0};var bo={width:0,height:0,left:0,right:0,top:0,bottom:0},_o={width:0,height:0,left:0,right:0,top:0,bottom:0};function wo(){this._isDestroyed=!1,this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,this._items=[],this._actions=[],this._requests={},this._requests[1]={},this._requests[2]={},this._requestOverlapCheck={},this._dragPositions={},this._dragDirections={},this._overlapCheckInterval=150,this._requestPool=new vo((function(){return new fo}),(function(t){t.reset()})),this._actionPool=new vo((function(){return new mo}),(function(t){t.reset()})),this._readTick=this._readTick.bind(this),this._writeTick=this._writeTick.bind(this)}wo.AXIS_X=1,wo.AXIS_Y=2,wo.FORWARD=4,wo.BACKWARD=8,wo.LEFT=9,wo.RIGHT=5,wo.UP=10,wo.DOWN=6,wo.smoothSpeed=function(t,e,n){return function(i,r,o){var g=0;if(!o.isEnding)if(o.threshold>0){var s=o.threshold-Math.max(0,o.distance);g=t/o.threshold*s}else g=t;var a=o.speed,A=g;return a===g?A:a<g?(A=a+e*(o.deltaTime/1e3),Math.min(g,A)):(A=a-n*(o.deltaTime/1e3),Math.max(g,A))}},wo.pointerHandle=function(t){var e={left:0,top:0,width:0,height:0},n=t||1;return function(t,i,r,o,g,s,a){return e.left=s-.5*n,e.top=a-.5*n,e.width=n,e.height=n,e}},wo.prototype._readTick=function(t){this._isDestroyed||(t&&this._tickTime?(this._tickDeltaTime=t-this._tickTime,this._tickTime=t,this._updateRequests(),this._updateActions()):(this._tickTime=t,this._tickDeltaTime=0))},wo.prototype._writeTick=function(){this._isDestroyed||(this._applyActions(),Xr(this._readTick,this._writeTick))},wo.prototype._startTicking=function(){this._isTicking=!0,Xr(this._readTick,this._writeTick)},wo.prototype._stopTicking=function(){this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,zr.remove(0,jr),zr.remove(2,Fr)},wo.prototype._getItemHandleRect=function(t,e,n){var i=t._drag;if(e){var r=i._dragMoveEvent||i._dragStartEvent,o=e(t,i._clientX,i._clientY,t._width,t._height,r.clientX,r.clientY);n.left=o.left,n.top=o.top,n.width=o.width,n.height=o.height}else n.left=i._clientX,n.top=i._clientY,n.width=t._width,n.height=t._height;return n.right=n.left+n.width,n.bottom=n.top+n.height,n},wo.prototype._requestItemScroll=function(t,e,n,i,r,o,g){var s=this._requests[e],a=s[t._id];a?a.element===n&&a.direction===i||a.reset():a=this._requestPool.pick(),a.item=t,a.element=n,a.direction=i,a.threshold=r,a.distance=o,a.maxValue=g,s[t._id]=a},wo.prototype._cancelItemScroll=function(t,e){var n=this._requests[e],i=n[t._id];i&&(i.action&&i.action.removeRequest(i),this._requestPool.release(i),delete n[t._id])},wo.prototype._checkItemOverlap=function(t,e,n){var i=lo(t),r=Jr(i.targets)?i.targets(t):i.targets,o=i.threshold,g=i.safeZone;if(!r||!r.length)return e&&this._cancelItemScroll(t,1),void(n&&this._cancelItemScroll(t,2));var s=this._dragDirections[t._id],a=s[0],A=s[1];if(!a&&!A)return e&&this._cancelItemScroll(t,1),void(n&&this._cancelItemScroll(t,2));for(var C=this._getItemHandleRect(t,i.handle,bo),I=_o,c=null,l=null,u=!0,h=!0,d=0,p=0,f=null,m=null,v=0,y=0,b=0,_=null,w=-1/0,x=0,S=0,E=null,M=0,T=0,R=null,O=-1/0,L=0,P=0,N=null,D=0,k=0,j=0;j<r.length;j++)c=r[j],u=e&&a&&2!==c.axis,h=n&&A&&1!==c.axis,p=c.priority||0,(!u||p<w)&&(!h||p<O)||(l=so(c.element||c),y=u?Co(l):-1,b=h?Io(l):-1,(y||b)&&((d=yo(C,I=co(l,I)))<=0||(u&&p>=w&&y>0&&(p>w||d>S)&&(m=null,f=po("number"==typeof c.threshold?c.threshold:o,g,C.width,I.width),5===a?(v=I.right+f.offset-C.right)<=f.value&&ao(l)<y&&(m=5):9===a&&(v=C.left-(I.left-f.offset))<=f.value&&ao(l)>0&&(m=9),null!==m&&(_=l,w=p,x=f.value,S=d,E=m,M=v,T=y)),h&&p>=O&&b>0&&(p>O||d>P)&&(m=null,f=po("number"==typeof c.threshold?c.threshold:o,g,C.height,I.height),6===A?(v=I.bottom+f.offset-C.bottom)<=f.value&&Ao(l)<b&&(m=6):10===A&&(v=C.top-(I.top-f.offset))<=f.value&&Ao(l)>0&&(m=10),null!==m&&(R=l,O=p,L=f.value,P=d,N=m,D=v,k=b)))));e&&(_?this._requestItemScroll(t,1,_,E,x,M,T):this._cancelItemScroll(t,1)),n&&(R?this._requestItemScroll(t,2,R,N,L,D,k):this._cancelItemScroll(t,2))},wo.prototype._updateScrollRequest=function(t){for(var e=t.item,n=lo(e),i=Jr(n.targets)?n.targets(e):n.targets,r=i&&i.length||0,o=n.threshold,g=n.safeZone,s=this._getItemHandleRect(e,n.handle,bo),a=_o,A=null,C=null,I=!1,c=null,l=null,u=null,h=null,d=null,p=0;p<r;p++)if((C=so((A=i[p]).element||A))===t.element){if(I=!!(1&t.direction)){if(2===A.axis)continue}else if(1===A.axis)continue;if((h=I?Co(C):Io(C))<=0)break;if(yo(s,a=co(C,a))<=0)break;if(c=po("number"==typeof A.threshold?A.threshold:o,g,I?s.width:s.height,I?a.width:a.height),(l=9===t.direction?s.left-(a.left-c.offset):5===t.direction?a.right+c.offset-s.right:10===t.direction?s.top-(a.top-c.offset):a.bottom+c.offset-s.bottom)>c.value)break;if(u=I?ao(C):Ao(C),d=4&t.direction?u>=h:u<=0)break;return t.maxValue=h,t.threshold=c.value,t.distance=l,t.isEnding=!1,!0}return!0===n.smoothStop&&t.speed>0?(null===d&&(d=t.hasReachedEnd()),t.isEnding=!d):t.isEnding=!1,t.isEnding},wo.prototype._updateRequests=function(){for(var t,e,n,i,r,o,g,s=this._items,a=this._requests[1],A=this._requests[2],C=0;C<s.length;C++)t=s[C],r=(i=this._requestOverlapCheck[t._id])>0&&this._tickTime-i>this._overlapCheckInterval,o=!0,(e=a[t._id])&&e.isActive&&(o=!this._updateScrollRequest(e))&&(r=!0,this._cancelItemScroll(t,1)),g=!0,(n=A[t._id])&&n.isActive&&(g=!this._updateScrollRequest(n))&&(r=!0,this._cancelItemScroll(t,2)),r&&(this._requestOverlapCheck[t._id]=0,this._checkItemOverlap(t,o,g))},wo.prototype._requestAction=function(t,e){for(var n=this._actions,i=1===e,r=null,o=0;o<n.length;o++){if(r=n[o],t.element===r.element){if(i?r.requestX:r.requestY)return void this._cancelItemScroll(t.item,e);break}r=null}r||(r=this._actionPool.pick()),r.element=t.element,r.addRequest(t),t.tick(this._tickDeltaTime),n.push(r)},wo.prototype._updateActions=function(){var t,e,n,i,r=this._items,o=this._requests,g=this._actions;for(i=0;i<r.length;i++)t=r[i]._id,e=o[1][t],n=o[2][t],e&&this._requestAction(e,1),n&&this._requestAction(n,2);for(i=0;i<g.length;i++)g[i].computeScrollValues()},wo.prototype._applyActions=function(){var t,e=this._actions,n=this._items;if(e.length){for(t=0;t<e.length;t++)e[t].scroll(),this._actionPool.release(e[t]);for(e.length=0,t=0;t<n.length;t++)uo(n[t]);for(t=0;t<n.length;t++)ho(n[t])}},wo.prototype._updateDragDirection=function(t){var e=this._dragPositions[t._id],n=this._dragDirections[t._id],i=t._drag._left,r=t._drag._top;if(e.length){var o=e[0],g=e[1];n[0]=i>o?5:i<o?9:n[0]||0,n[1]=r>g?6:r<g?10:n[1]||0}e[0]=i,e[1]=r},wo.prototype.addItem=function(t){this._isDestroyed||-1===this._items.indexOf(t)&&(this._items.push(t),this._requestOverlapCheck[t._id]=this._tickTime,this._dragDirections[t._id]=[0,0],this._dragPositions[t._id]=[],this._isTicking||this._startTicking())},wo.prototype.updateItem=function(t){this._isDestroyed||this._dragDirections[t._id]&&(this._updateDragDirection(t),this._requestOverlapCheck[t._id]||(this._requestOverlapCheck[t._id]=this._tickTime))},wo.prototype.removeItem=function(t){if(!this._isDestroyed){var e=this._items.indexOf(t);if(-1!==e){var n=t._id;this._requests[1][n]&&(this._cancelItemScroll(t,1),delete this._requests[1][n]),this._requests[2][n]&&(this._cancelItemScroll(t,2),delete this._requests[2][n]),delete this._requestOverlapCheck[n],delete this._dragPositions[n],delete this._dragDirections[n],this._items.splice(e,1),this._isTicking&&!this._items.length&&this._stopTicking()}}},wo.prototype.isItemScrollingX=function(t){var e=this._requests[1][t._id];return!(!e||!e.isActive)},wo.prototype.isItemScrollingY=function(t){var e=this._requests[2][t._id];return!(!e||!e.isActive)},wo.prototype.isItemScrolling=function(t){return this.isItemScrollingX(t)||this.isItemScrollingY(t)},wo.prototype.destroy=function(){if(!this._isDestroyed){for(var t=this._items.slice(0),e=0;e<t.length;e++)this.removeItem(t[e]);this._actions.length=0,this._requestPool.reset(),this._actionPool.reset(),this._isDestroyed=!0}};var xo=window.Element.prototype,So=xo.matches||xo.matchesSelector||xo.webkitMatchesSelector||xo.mozMatchesSelector||xo.msMatchesSelector||xo.oMatchesSelector||function(){return!1};function Eo(t,e){return So.call(t,e)}function Mo(t,e){e&&(t.classList?t.classList.add(e):Eo(t,"."+e)||(t.className+=" "+e))}var To=[];function Ro(t,e,n){var i="number"==typeof n?n:-1;i<0&&(i=t.length-i+1),t.splice.apply(t,To.concat(i,0,e)),To.length=0}function Oo(t,e,n){var i=Math.max(0,t.length-1+(n||0));return e>i?i:e<0?Math.max(i+e+1,0):e}function Lo(t,e,n){if(!(t.length<2)){var i=Oo(t,e),r=Oo(t,n);i!==r&&t.splice(r,0,t.splice(i,1)[0])}}function Po(t,e,n){if(!(t.length<2)){var i,r=Oo(t,e),o=Oo(t,n);r!==o&&(i=t[r],t[r]=t[o],t[o]=i)}}var No=Ar(document.documentElement.style,"transform")||"transform",Do=/([A-Z])/g,ko=/^(webkit-|moz-|ms-|o-)/,jo=/^(-m-s-)/;function Fo(t){var e=t.replace(Do,"-$1").toLowerCase();return(e=e.replace(ko,"-$1")).replace(jo,"-ms-")}var Bo=Fo(No);function zo(t){var e=eo(t,Bo);if(!e||"none"===e)return!1;var n=eo(t,"display");return"inline"!==n&&"none"!==n}function Uo(t){for(var e=document,n=t||e;n&&n!==e&&"static"===eo(n,"position")&&!zo(n);)n=n.parentElement||e;return n}var Ho={},Go={},Wo={};function Vo(t,e){var n,i=e||{};return i.left=0,i.top=0,t===document||(i.left=window.pageXOffset||0,i.top=window.pageYOffset||0,t.self===window.self||(n=t.getBoundingClientRect(),i.left+=n.left,i.top+=n.top,i.left+=no(t,"border-left-width"),i.top+=no(t,"border-top-width"))),i}function Zo(t,e,n){return Wo.left=0,Wo.top=0,t===e||n&&(t=Uo(t))===(e=Uo(e))||(Vo(t,Ho),Vo(e,Go),Wo.left=Go.left-Ho.left,Wo.top=Go.top-Ho.top),Wo}function Yo(t){return"auto"===t||"scroll"===t||"overlay"===t}function Xo(t){return Yo(eo(t,"overflow"))||Yo(eo(t,"overflow-x"))||Yo(eo(t,"overflow-y"))}function Jo(t,e){for(e=e||[];t&&t!==document;)t.getRootNode&&t instanceof DocumentFragment?t=t.getRootNode().host:(Xo(t)&&e.push(t),t=t.parentNode);return e.push(window),e}var qo={},Ko=/^matrix3d/,Qo=/([^,]*,){4}/,$o=/([^,]*,){12}/,tg=/[^,]*,/;function eg(t){qo.x=0,qo.y=0;var e=eo(t,Bo);if(!e||"none"===e)return qo;var n=Ko.test(e),i=e.replace(n?$o:Qo,""),r=i.replace(tg,"");return qo.x=parseFloat(i)||0,qo.y=parseFloat(r)||0,qo}function ng(t,e){e&&(t.classList?t.classList.remove(e):Eo(t,"."+e)&&(t.className=(" "+t.className+" ").replace(" "+e+" "," ").trim()))}var ig,rg,og,gg,sg=/^(iPad|iPhone|iPod)/.test(window.navigator.platform)||/^Mac/.test(window.navigator.platform)&&window.navigator.maxTouchPoints>1,ag=!!Cr()&&{passive:!0};function Ag(t){var e=t._element,n=t.getGrid(),i=n._settings;this._item=t,this._gridId=n._id,this._isDestroyed=!1,this._isMigrating=!1,this._startPredicate=Jr(i.dragStartPredicate)?i.dragStartPredicate:Ag.defaultStartPredicate,this._startPredicateState=0,this._startPredicateResult=void 0,this._isSortNeeded=!1,this._sortTimer=void 0,this._blockedSortIndex=null,this._sortX1=0,this._sortX2=0,this._sortY1=0,this._sortY2=0,this._reset(),this._preStartCheck=this._preStartCheck.bind(this),this._preEndCheck=this._preEndCheck.bind(this),this._onScroll=this._onScroll.bind(this),this._prepareStart=this._prepareStart.bind(this),this._applyStart=this._applyStart.bind(this),this._prepareMove=this._prepareMove.bind(this),this._applyMove=this._applyMove.bind(this),this._prepareScroll=this._prepareScroll.bind(this),this._applyScroll=this._applyScroll.bind(this),this._handleSort=this._handleSort.bind(this),this._handleSortDelayed=this._handleSortDelayed.bind(this),this._handle=i.dragHandle&&e.querySelector(i.dragHandle)||e,this._dragger=new mr(this._handle,i.dragCssProps),this._dragger.on("start",this._preStartCheck),this._dragger.on("move",this._preStartCheck),this._dragger.on("cancel",this._preEndCheck),this._dragger.on("end",this._preEndCheck)}function Cg(t,e){var n,i,r={};if(Array.isArray(e))for(i=0;i<e.length;i++)r[n=e[i]]=eo(t,Fo(n));else for(n in e)r[n]=eo(t,Fo(n));return r}Ag.autoScroller=new wo,Ag.defaultStartPredicate=function(t,e,n){var i=t._drag;if(e.isFirst&&e.srcEvent.button)return!1;if(!sg&&e.isFirst&&!0===e.srcEvent.isTrusted&&!1===e.srcEvent.defaultPrevented&&!1===e.srcEvent.cancelable)return!1;if(!e.isFinal){var r=i._startPredicateData;if(!r){var o=n||i._getGrid()._settings.dragStartPredicate||{};i._startPredicateData=r={distance:Math.max(o.distance,0)||0,delay:Math.max(o.delay,0)||0}}return r.delay&&(r.event=e,r.delayTimer||(r.delayTimer=window.setTimeout((function(){r.delay=0,i._resolveStartPredicate(r.event)&&(i._forceResolveStartPredicate(r.event),i._resetStartPredicate())}),r.delay))),i._resolveStartPredicate(e)}i._finishStartPredicate(e)},Ag.defaultSortPredicate=(ig={},rg={},og={},gg=[],function(t,e){var n=t._drag,i=n._getGrid(),r=e&&"number"==typeof e.threshold?e.threshold:50,o=e&&e.action===zi?zi:Ui,g=e&&e.migrateAction===zi?zi:Ui;r=Math.min(Math.max(r,1),100),ig.width=t._width,ig.height=t._height,ig.left=n._clientX,ig.top=n._clientY;var s=function(t,e,n){var i,r,o,g,s,a,A,C,I,c,l=null,u=e._settings.dragSort,h=-1;if(!0===u?(gg[0]=e,r=gg):Jr(u)&&(r=u.call(e,t)),!r||!Array.isArray(r)||!r.length)return l;for(c=0;c<r.length;c++)if(!(o=r[c])._isDestroyed){for(o._updateBoundingRect(),a=Math.max(0,o._left),A=Math.max(0,o._top),C=Math.min(window.innerWidth,o._right),I=Math.min(window.innerHeight,o._bottom),g=o._element.parentNode;g&&g!==document&&g!==document.documentElement&&g!==document.body;)if(g.getRootNode&&g instanceof DocumentFragment)g=g.getRootNode().host;else{if("visible"!==eo(g,"overflow")&&(s=g.getBoundingClientRect(),a=Math.max(a,s.left),A=Math.max(A,s.top),C=Math.min(C,s.right),I=Math.min(I,s.bottom)),"fixed"===eo(g,"position"))break;g=g.parentNode}a>=C||A>=I||(rg.left=a,rg.top=A,rg.width=C-a,rg.height=I-A,(i=yo(ig,rg))>n&&i>h&&(h=i,l=o))}return gg.length=0,l}(t,i,r);if(!s)return null;var a,A,C,I=t.getGrid()!==s,c=0,l=0,u=0,h=-1,d=!1;for(s===i?(ig.left=n._gridX+t._marginLeft,ig.top=n._gridY+t._marginTop):(s._updateBorders(1,0,1,0),c=s._left+s._borderLeft,l=s._top+s._borderTop),C=0;C<s._items.length;C++)(a=s._items[C])._isActive&&a!==t&&(d=!0,rg.width=a._width,rg.height=a._height,rg.left=a._left+a._marginLeft+c,rg.top=a._top+a._marginTop+l,(A=yo(ig,rg))>u&&(h=C,u=A));return I&&u<r&&(h=d?h:0,u=r),u>=r?(og.grid=s,og.index=h,og.action=I?g:o,og):null}),Ag.prototype.stop=function(){if(this._isActive)if(this._isMigrating)this._finishMigration();else{Ag.autoScroller.removeItem(this._item);var t=this._item._id;if(Gr(t),Wr(t),Vr(t),this._cancelSort(),this._isStarted){this._unbindScrollListeners();var e=item._element,n=this._getGrid(),i=n._settings.itemDraggingClass;e.parentNode!==n._element&&(n._element.appendChild(e),item._setTranslate(this._gridX,this._gridY),i&&e.clientWidth),ng(e,i)}this._reset()}},Ag.prototype.sort=function(t){var e=this._item;this._isActive&&e._isActive&&this._dragMoveEvent&&(!0===t?this._handleSort():Zr(e._id,this._handleSort))},Ag.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._dragger.destroy(),Ag.autoScroller.removeItem(this._item),this._isDestroyed=!0)},Ag.prototype._getGrid=function(){return Fi[this._gridId]||null},Ag.prototype._reset=function(){this._isActive=!1,this._isStarted=!1,this._container=null,this._containingBlock=null,this._dragStartEvent=null,this._dragMoveEvent=null,this._dragPrevMoveEvent=null,this._scrollEvent=null,this._scrollers=[],this._left=0,this._top=0,this._gridX=0,this._gridY=0,this._clientX=0,this._clientY=0,this._scrollDiffX=0,this._scrollDiffY=0,this._moveDiffX=0,this._moveDiffY=0,this._containerDiffX=0,this._containerDiffY=0},Ag.prototype._bindScrollListeners=function(){var t,e,n=this._getGrid()._element,i=this._container,r=this._scrollers;if(r.length=0,Jo(this._item._element.parentNode,r),i!==n)for(Jo(n,t=[]),e=0;e<t.length;e++)r.indexOf(t[e])<0&&r.push(t[e]);for(e=0;e<r.length;e++)r[e].addEventListener("scroll",this._onScroll,ag)},Ag.prototype._unbindScrollListeners=function(){var t,e=this._scrollers;for(t=0;t<e.length;t++)e[t].removeEventListener("scroll",this._onScroll,ag);e.length=0},Ag.prototype._resolveStartPredicate=function(t){var e=this._startPredicateData;if(!(t.distance<e.distance||e.delay))return this._resetStartPredicate(),!0},Ag.prototype._forceResolveStartPredicate=function(t){this._isDestroyed||1!==this._startPredicateState||(this._startPredicateState=2,this._onStart(t))},Ag.prototype._finishStartPredicate=function(t){var e=this._item._element,n=Math.abs(t.deltaX)<2&&Math.abs(t.deltaY)<2&&t.deltaTime<200;this._resetStartPredicate(),n&&function(t){if("a"===t.tagName.toLowerCase()){var e=t.getAttribute("href");if(e){var n=t.getAttribute("target");n&&"_self"!==n?window.open(e,n):window.location.href=e}}}(e)},Ag.prototype._resetHeuristics=function(t,e){this._blockedSortIndex=null,this._sortX1=this._sortX2=t,this._sortY1=this._sortY2=e},Ag.prototype._checkHeuristics=function(t,e){var n=this._getGrid()._settings.dragSortHeuristics,i=n.minDragDistance;if(i<=0)return this._blockedSortIndex=null,!0;var r=t-this._sortX2,o=e-this._sortY2,g=i>3&&n.minBounceBackAngle>0;if(g||(this._blockedSortIndex=null),Math.abs(r)>i||Math.abs(o)>i){if(g){var s=Math.atan2(r,o),a=Math.atan2(this._sortX2-this._sortX1,this._sortY2-this._sortY1),A=Math.atan2(Math.sin(s-a),Math.cos(s-a));Math.abs(A)>n.minBounceBackAngle&&(this._blockedSortIndex=null)}return this._sortX1=this._sortX2,this._sortY1=this._sortY2,this._sortX2=t,this._sortY2=e,!0}return!1},Ag.prototype._resetStartPredicate=function(){var t=this._startPredicateData;t&&(t.delayTimer&&(t.delayTimer=window.clearTimeout(t.delayTimer)),this._startPredicateData=null)},Ag.prototype._handleSort=function(){if(this._isActive){var t=this._getGrid()._settings;if(!t.dragSort||!t.dragAutoScroll.sortDuringScroll&&Ag.autoScroller.isItemScrolling(this._item))return this._sortX1=this._sortX2=this._gridX,this._sortY1=this._sortY2=this._gridY,this._isSortNeeded=!0,void(void 0!==this._sortTimer&&(this._sortTimer=window.clearTimeout(this._sortTimer)));var e=this._checkHeuristics(this._gridX,this._gridY);if(this._isSortNeeded||e){var n=t.dragSortHeuristics.sortInterval;n<=0||this._isSortNeeded?(this._isSortNeeded=!1,void 0!==this._sortTimer&&(this._sortTimer=window.clearTimeout(this._sortTimer)),this._checkOverlap()):void 0===this._sortTimer&&(this._sortTimer=window.setTimeout(this._handleSortDelayed,n))}}},Ag.prototype._handleSortDelayed=function(){this._isSortNeeded=!0,this._sortTimer=void 0,Zr(this._item._id,this._handleSort)},Ag.prototype._cancelSort=function(){var t;this._isSortNeeded=!1,void 0!==this._sortTimer&&(this._sortTimer=window.clearTimeout(this._sortTimer)),t=this._item._id,zr.remove(1,Pr+t)},Ag.prototype._finishSort=function(){var t=this._getGrid()._settings.dragSort&&(this._isSortNeeded||void 0!==this._sortTimer);this._cancelSort(),t&&this._checkOverlap()},Ag.prototype._checkOverlap=function(){if(this._isActive){var t,e,n,i,r,o,g,s,a=this._item,A=this._getGrid()._settings;(t=Jr(A.dragSortPredicate)?A.dragSortPredicate(a,this._dragMoveEvent):Ag.defaultSortPredicate(a,A.dragSortPredicate))&&"number"==typeof t.index&&(g=t.action===zi?zi:Ui,s=(e=a.getGrid())!==(i=t.grid||e),n=e._items.indexOf(a),r=Oo(i._items,t.index,s&&g===Ui?1:0),(s||r!==this._blockedSortIndex)&&(s?(this._blockedSortIndex=null,o=i._items[r],e._hasListeners(Ki)&&e._emit(Ki,{item:a,fromGrid:e,fromIndex:n,toGrid:i,toIndex:r}),i._hasListeners($i)&&i._emit($i,{item:a,fromGrid:e,fromIndex:n,toGrid:i,toIndex:r}),a._gridId=i._id,this._isMigrating=a._gridId!==this._gridId,e._items.splice(n,1),Ro(i._items,a,r),a._sortData=null,e._hasListeners(qi)&&e._emit(qi,{item:a,fromGrid:e,fromIndex:n,toGrid:i,toIndex:r}),i._hasListeners(Qi)&&i._emit(Qi,{item:a,fromGrid:e,fromIndex:n,toGrid:i,toIndex:r}),g===zi&&o&&o.isActive()&&i._items.indexOf(o)>-1&&i.send(o,e,n,{appendTo:this._container||document.body,layoutSender:!1,layoutReceiver:!1}),e.layout(),i.layout()):n!==r&&(this._blockedSortIndex=n,(g===zi?Po:Lo)(e._items,n,r),e._hasListeners(Ji)&&e._emit(Ji,{item:a,fromIndex:n,toIndex:r,action:g}),e.layout())))}},Ag.prototype._finishMigration=function(){var t,e,n=this._item,i=n._dragRelease,r=n._element,o=n._isActive,g=n.getGrid(),s=g._element,a=g._settings,A=a.dragContainer||s,C=this._getGrid()._settings,I=r.parentNode,c=o?C.itemVisibleClass:C.itemHiddenClass,l=o?a.itemVisibleClass:a.itemHiddenClass;this._isMigrating=!1,this.destroy(),C.itemClass!==a.itemClass&&(ng(r,C.itemClass),Mo(r,a.itemClass)),c!==l&&(ng(r,c),Mo(r,l)),A!==I&&(A.appendChild(r),e=Zo(I,A,!0),(t=eg(r)).x-=e.left,t.y-=e.top),n._refreshDimensions(),e=Zo(A,s,!0),i._containerDiffX=e.left,i._containerDiffY=e.top,n._drag=a.dragEnabled?new Ag(n):null,A!==I&&n._setTranslate(t.x,t.y),n._visibility.setStyles(o?a.visibleStyles:a.hiddenStyles),i.start()},Ag.prototype._preStartCheck=function(t){0===this._startPredicateState&&(this._startPredicateState=1),1===this._startPredicateState?(this._startPredicateResult=this._startPredicate(this._item,t),!0===this._startPredicateResult?(this._startPredicateState=2,this._onStart(t)):!1===this._startPredicateResult&&(this._resetStartPredicate(t),this._dragger._reset(),this._startPredicateState=0)):2===this._startPredicateState&&this._isActive&&this._onMove(t)},Ag.prototype._preEndCheck=function(t){var e=2===this._startPredicateState;this._startPredicate(this._item,t),this._startPredicateState=0,e&&this._isActive&&(this._isStarted?this._onEnd(t):this.stop())},Ag.prototype._onStart=function(t){var e,n,i,r=this._item;r._isActive&&(this._isActive=!0,this._dragStartEvent=t,Ag.autoScroller.addItem(r),e=r._id,n=this._prepareStart,i=this._applyStart,zr.add(0,Er+e,n),zr.add(2,Mr+e,i))},Ag.prototype._prepareStart=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=t._element,n=this._getGrid(),i=n._settings,r=n._element,o=i.dragContainer||r,g=Uo(o),s=eg(e),a=e.getBoundingClientRect(),A=o!==r;if(this._container=o,this._containingBlock=g,this._clientX=a.left,this._clientY=a.top,this._left=this._gridX=s.x,this._top=this._gridY=s.y,this._scrollDiffX=this._scrollDiffY=0,this._moveDiffX=this._moveDiffY=0,this._resetHeuristics(this._gridX,this._gridY),A){var C=Zo(g,r);this._containerDiffX=C.left,this._containerDiffY=C.top}}}},Ag.prototype._applyStart=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=this._getGrid(),n=t._element,i=t._dragRelease,r=t._migrate,o=this._container!==e._element;t.isPositioning()&&t._layout.stop(!0,this._left,this._top),r._isActive&&(this._left-=r._containerDiffX,this._top-=r._containerDiffY,this._gridX-=r._containerDiffX,this._gridY-=r._containerDiffY,r.stop(!0,this._left,this._top)),t.isReleasing()&&i._reset(),e._settings.dragPlaceholder.enabled&&t._dragPlaceholder.create(),this._isStarted=!0,e._emit("dragInit",t,this._dragStartEvent),o&&(n.parentNode===this._container?(this._gridX-=this._containerDiffX,this._gridY-=this._containerDiffY):(this._left+=this._containerDiffX,this._top+=this._containerDiffY,this._container.appendChild(n),t._setTranslate(this._left,this._top))),Mo(n,e._settings.itemDraggingClass),this._bindScrollListeners(),e._emit("dragStart",t,this._dragStartEvent)}}},Ag.prototype._onMove=function(t){var e,n,i,r=this._item;r._isActive?(this._dragMoveEvent=t,e=r._id,n=this._prepareMove,i=this._applyMove,zr.add(0,Tr+e,n),zr.add(2,Rr+e,i),Zr(r._id,this._handleSort)):this.stop()},Ag.prototype._prepareMove=function(){if(this._isActive&&this._item._isActive){var t=this._getGrid()._settings.dragAxis,e=this._dragMoveEvent,n=this._dragPrevMoveEvent||this._dragStartEvent||e;if("y"!==t){var i=e.clientX-n.clientX;this._left=this._left-this._moveDiffX+i,this._gridX=this._gridX-this._moveDiffX+i,this._clientX=this._clientX-this._moveDiffX+i,this._moveDiffX=i}if("x"!==t){var r=e.clientY-n.clientY;this._top=this._top-this._moveDiffY+r,this._gridY=this._gridY-this._moveDiffY+r,this._clientY=this._clientY-this._moveDiffY+r,this._moveDiffY=r}this._dragPrevMoveEvent=e}},Ag.prototype._applyMove=function(){if(this._isActive){var t=this._item;t._isActive&&(this._moveDiffX=this._moveDiffY=0,t._setTranslate(this._left,this._top),this._getGrid()._emit("dragMove",t,this._dragMoveEvent),Ag.autoScroller.updateItem(t))}},Ag.prototype._onScroll=function(t){var e,n,i,r=this._item;r._isActive?(this._scrollEvent=t,e=r._id,n=this._prepareScroll,i=this._applyScroll,zr.add(0,Or+e,n),zr.add(2,Lr+e,i),Zr(r._id,this._handleSort)):this.stop()},Ag.prototype._prepareScroll=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=t._element,n=this._getGrid(),i=n._element,r=n._settings.dragAxis,o="y"!==r,g="x"!==r,s=e.getBoundingClientRect();if(this._container!==i){var a=Zo(this._containingBlock,i);this._containerDiffX=a.left,this._containerDiffY=a.top}if(o){var A=this._clientX-this._moveDiffX-this._scrollDiffX-s.left;this._left=this._left-this._scrollDiffX+A,this._scrollDiffX=A}if(g){var C=this._clientY-this._moveDiffY-this._scrollDiffY-s.top;this._top=this._top-this._scrollDiffY+C,this._scrollDiffY=C}this._gridX=this._left-this._containerDiffX,this._gridY=this._top-this._containerDiffY}}},Ag.prototype._applyScroll=function(){if(this._isActive){var t=this._item;t._isActive&&(this._scrollDiffX=this._scrollDiffY=0,t._setTranslate(this._left,this._top),this._getGrid()._emit("dragScroll",t,this._scrollEvent))}},Ag.prototype._onEnd=function(t){var e=this._item,n=e._element,i=this._getGrid(),r=i._settings,o=e._dragRelease;e._isActive?(Gr(e._id),Wr(e._id),Vr(e._id),this._finishSort(),this._unbindScrollListeners(),o._containerDiffX=this._containerDiffX,o._containerDiffY=this._containerDiffY,this._reset(),ng(n,r.itemDraggingClass),Ag.autoScroller.removeItem(e),i._emit("dragEnd",e,t),this._isMigrating?this._finishMigration():o.start()):this.stop()};var Ig=/^(webkit|moz|ms|o|Webkit|Moz|MS|O)(?=[A-Z])/,cg={};function lg(t){var e=cg[t];return e||((e=t.replace(Ig,""))!==t&&(e=e[0].toLowerCase()+e.slice(1)),cg[t]=e,e)}function ug(t,e){for(var n in e)t.style[n]=e[n]}var hg,dg,pg=!(!Element||!Jr(Element.prototype.animate)),fg=!!(Element&&(hg=Element.prototype.animate,dg=window.Symbol,hg&&Jr(dg)&&Jr(dg.toString)&&dg(hg).toString().indexOf("[native code]")>-1));function mg(t){this._element=t,this._animation=null,this._duration=0,this._easing="",this._callback=null,this._props=[],this._values=[],this._isDestroyed=!1,this._onFinish=this._onFinish.bind(this)}function vg(t,e){var n={};for(var i in t)n[e?i:lg(i)]=t[i];return n}function yg(t,e){return"translateX("+t+"px) translateY("+e+"px)"}function bg(t){this._item=t,this._animation=new mg,this._element=null,this._className="",this._didMigrate=!1,this._resetAfterLayout=!1,this._left=0,this._top=0,this._transX=0,this._transY=0,this._nextTransX=0,this._nextTransY=0,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this),this._updateDimensions=this._updateDimensions.bind(this),this._onLayoutStart=this._onLayoutStart.bind(this),this._onLayoutEnd=this._onLayoutEnd.bind(this),this._onReleaseEnd=this._onReleaseEnd.bind(this),this._onMigrate=this._onMigrate.bind(this),this._onHide=this._onHide.bind(this)}function _g(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0}function wg(t){var e=t._element,n=e.style;this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isInterrupted=!1,this._currentStyles={},this._targetStyles={},this._nextLeft=0,this._nextTop=0,this._offsetLeft=0,this._offsetTop=0,this._skipNextAnimation=!1,this._animOptions={onFinish:this._finish.bind(this),duration:0,easing:0},n.left="0px",n.top="0px",t._setTranslate(0,0),this._animation=new mg(e),this._queue="layout-"+t._id,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this)}function xg(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._container=!1,this._containerDiffX=0,this._containerDiffY=0}function Sg(t){var e=t._isActive,n=t._element,i=n.children[0],r=t.getGrid()._settings;if(!i)throw new Error("No valid child element found within item element.");this._item=t,this._isDestroyed=!1,this._isHidden=!e,this._isHiding=!1,this._isShowing=!1,this._childElement=i,this._currentStyleProps=[],this._animation=new mg(i),this._queue="visibility-"+t._id,this._finishShow=this._finishShow.bind(this),this._finishHide=this._finishHide.bind(this),n.style.display=e?"":"none",Mo(n,e?r.itemVisibleClass:r.itemHiddenClass),this.setStyles(e?r.visibleStyles:r.hiddenStyles)}mg.prototype.start=function(t,e,n){if(!this._isDestroyed){var i=this._element,r=n||{};if(!pg)return ug(i,e),this._callback=Jr(r.onFinish)?r.onFinish:null,void this._onFinish();var o,g,s,a=this._animation,A=this._props,C=this._values,I=r.duration||300,c=r.easing||"ease",l=!1;if(a&&(g=0,I===this._duration&&c===this._easing||(l=!0),!l)){for(o in e)if(++g,-1===(s=A.indexOf(o))||e[o]!==C[s]){l=!0;break}g!==A.length&&(l=!0)}if(l&&a.cancel(),this._callback=Jr(r.onFinish)?r.onFinish:null,!a||l){for(o in A.length=C.length=0,e)A.push(o),C.push(e[o]);this._duration=I,this._easing=c,this._animation=i.animate([vg(t,fg),vg(e,fg)],{duration:I,easing:c}),this._animation.onfinish=this._onFinish,ug(i,e)}}},mg.prototype.stop=function(){!this._isDestroyed&&this._animation&&(this._animation.cancel(),this._animation=this._callback=null,this._props.length=this._values.length=0)},mg.prototype.getCurrentStyles=function(){return Cg(element,currentProps)},mg.prototype.isAnimating=function(){return!!this._animation},mg.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._element=null,this._isDestroyed=!0)},mg.prototype._onFinish=function(){var t=this._callback;this._animation=this._callback=null,this._props.length=this._values.length=0,t&&t()},bg.prototype._updateDimensions=function(){this.isActive()&&ug(this._element,{width:this._item._width+"px",height:this._item._height+"px"})},bg.prototype._onLayoutStart=function(t,e){var n=this._item;if(-1!==t.indexOf(n)){var i=n._left,r=n._top,o=this._left,g=this._top;if(this._left=i,this._top=r,e||this._didMigrate||o!==i||g!==r){var s,a,A,C=i+n._marginLeft,I=r+n._marginTop,c=n.getGrid();if(e||!(c._settings.layoutDuration>0)||this._didMigrate)return Yr(n._id),this._element.style[No]=yg(C,I),this._animation.stop(),void(this._didMigrate&&(c.getElement().appendChild(this._element),this._didMigrate=!1));this._nextTransX=C,this._nextTransY=I,s=n._id,a=this._setupAnimation,A=this._startAnimation,zr.add(0,Nr+s,a),zr.add(2,Dr+s,A)}}else this.reset()},bg.prototype._setupAnimation=function(){if(this.isActive()){var t=eg(this._element);this._transX=t.x,this._transY=t.y}},bg.prototype._startAnimation=function(){if(this.isActive()){var t=this._animation,e=this._transX,n=this._transY,i=this._nextTransX,r=this._nextTransY;if(e!==i||n!==r){var o=this._item.getGrid()._settings,g={},s={};g[No]=yg(e,n),s[No]=yg(i,r),t.start(g,s,{duration:o.layoutDuration,easing:o.layoutEasing,onFinish:this._onLayoutEnd})}else t.isAnimating()&&(this._element.style[No]=yg(i,r),t.stop())}},bg.prototype._onLayoutEnd=function(){this._resetAfterLayout&&this.reset()},bg.prototype._onReleaseEnd=function(t){if(t._id===this._item._id){if(!this._animation.isAnimating())return void this.reset();this._resetAfterLayout=!0}},bg.prototype._onMigrate=function(t){if(t.item===this._item){var e=this._item.getGrid(),n=t.toGrid;e.off(tr,this._onReleaseEnd),e.off(Hi,this._onLayoutStart),e.off(Ki,this._onMigrate),e.off(Zi,this._onHide),n.on(tr,this._onReleaseEnd),n.on(Hi,this._onLayoutStart),n.on(Ki,this._onMigrate),n.on(Zi,this._onHide),this._didMigrate=!0}},bg.prototype._onHide=function(t){t.indexOf(this._item)>-1&&this.reset()},bg.prototype.create=function(){if(this.isActive())this._resetAfterLayout=!1;else{var t,e=this._item,n=e.getGrid(),i=n._settings,r=this._animation;this._left=e._left,this._top=e._top,t=Jr(i.dragPlaceholder.createElement)?i.dragPlaceholder.createElement(e):document.createElement("div"),this._element=t,r._element=t,this._className=i.itemPlaceholderClass||"",this._className&&Mo(t,this._className),ug(t,{position:"absolute",left:"0px",top:"0px",width:e._width+"px",height:e._height+"px"}),t.style[No]=yg(e._left+e._marginLeft,e._top+e._marginTop),n.on(Hi,this._onLayoutStart),n.on(tr,this._onReleaseEnd),n.on(Ki,this._onMigrate),n.on(Zi,this._onHide),Jr(i.dragPlaceholder.onCreate)&&i.dragPlaceholder.onCreate(e,t),n.getElement().appendChild(t)}},bg.prototype.reset=function(){if(this.isActive()){var t,e=this._element,n=this._item,i=n.getGrid(),r=i._settings,o=this._animation;this._resetAfterLayout=!1,Yr(n._id),t=n._id,zr.remove(2,kr+t),o.stop(),o._element=null,i.off(tr,this._onReleaseEnd),i.off(Hi,this._onLayoutStart),i.off(Ki,this._onMigrate),i.off(Zi,this._onHide),this._className&&(ng(e,this._className),this._className=""),e.parentNode.removeChild(e),this._element=null,Jr(r.dragPlaceholder.onRemove)&&r.dragPlaceholder.onRemove(n,e)}},bg.prototype.isActive=function(){return!!this._element},bg.prototype.getElement=function(){return this._element},bg.prototype.updateDimensions=function(){var t,e;this.isActive()&&(t=this._item._id,e=this._updateDimensions,zr.add(2,kr+t,e))},bg.prototype.destroy=function(){this.reset(),this._animation.destroy(),this._item=this._animation=null},_g.prototype.start=function(){if(!this._isDestroyed&&!this._isActive){var t=this._item,e=t.getGrid(),n=e._settings;this._isActive=!0,Mo(t._element,n.itemReleasingClass),n.dragRelease.useDragContainer||this._placeToGrid(),e._emit("dragReleaseStart",t),e._nextLayoutData||t._layout.start(!1)}},_g.prototype.stop=function(t,e,n){if(!this._isDestroyed&&this._isActive){var i=this._item,r=i.getGrid();t||void 0!==e&&void 0!==n||(e=i._left,n=i._top);var o=this._placeToGrid(e,n);this._reset(o),t||r._emit(tr,i)}},_g.prototype.isJustReleased=function(){return this._isActive&&!1===this._isPositioningStarted},_g.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)},_g.prototype._placeToGrid=function(t,e){if(!this._isDestroyed){var n=this._item,i=n._element,r=n.getGrid()._element,o=!1;if(i.parentNode!==r){if(void 0===t||void 0===e){var g=eg(i);t=g.x-this._containerDiffX,e=g.y-this._containerDiffY}r.appendChild(i),n._setTranslate(t,e),o=!0}return this._containerDiffX=0,this._containerDiffY=0,o}},_g.prototype._reset=function(t){if(!this._isDestroyed){var e=this._item,n=e.getGrid()._settings.itemReleasingClass;this._isActive=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0,n&&(t&&e._element.clientWidth,ng(e._element,n))}},wg.prototype.start=function(t,e){if(!this._isDestroyed){var n,i,r,o=this._item,g=o._dragRelease,s=o.getGrid()._settings,a=this._isActive,A=g.isJustReleased(),C=A?s.dragRelease.duration:s.layoutDuration,I=A?s.dragRelease.easing:s.layoutEasing,c=!t&&!this._skipNextAnimation&&C>0;if(a&&(Ur(o._id),o._emitter.burst(this._queue,!0,o)),A&&(g._isPositioningStarted=!0),Jr(e)&&o._emitter.on(this._queue,e),this._skipNextAnimation=!1,!c)return this._updateOffsets(),o._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),void this._finish();this._animation.isAnimating()&&(this._animation._animation.onfinish=null),this._isActive=!0,this._animOptions.easing=I,this._animOptions.duration=C,this._isInterrupted=a,n=o._id,i=this._setupAnimation,r=this._startAnimation,zr.add(0,_r+n,i),zr.add(2,wr+n,r)}},wg.prototype.stop=function(t,e,n){if(!this._isDestroyed&&this._isActive){var i=this._item;if(Ur(i._id),this._animation.isAnimating()){if(void 0===e||void 0===n){var r=eg(i._element);e=r.x,n=r.y}i._setTranslate(e,n),this._animation.stop()}ng(i._element,i.getGrid()._settings.itemPositioningClass),this._isActive=!1,t&&i._emitter.burst(this._queue,!0,i)}},wg.prototype.destroy=function(){if(!this._isDestroyed){var t=this._item._element.style;this.stop(!0,0,0),this._item._emitter.clear(this._queue),this._animation.destroy(),t[No]="",t.left="",t.top="",this._item=null,this._currentStyles=null,this._targetStyles=null,this._animOptions=null,this._isDestroyed=!0}},wg.prototype._updateOffsets=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,n=t._dragRelease;this._offsetLeft=n._isActive?n._containerDiffX:e._isActive?e._containerDiffX:0,this._offsetTop=n._isActive?n._containerDiffY:e._isActive?e._containerDiffY:0,this._nextLeft=this._item._left+this._offsetLeft,this._nextTop=this._item._top+this._offsetTop}},wg.prototype._finish=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,n=t._dragRelease;t._tX=this._nextLeft,t._tY=this._nextTop,this._isActive&&(this._isActive=!1,ng(t._element,t.getGrid()._settings.itemPositioningClass)),n._isActive&&n.stop(),e._isActive&&e.stop(),t._emitter.burst(this._queue,!1,t)}},wg.prototype._setupAnimation=function(){var t=this._item;if(void 0===t._tX||void 0===t._tY){var e=eg(t._element);t._tX=e.x,t._tY=e.y}},wg.prototype._startAnimation=function(){var t=this._item,e=t.getGrid()._settings,n=this._animOptions.duration<=0;this._updateOffsets();var i=Math.abs(t._left-(t._tX-this._offsetLeft)),r=Math.abs(t._top-(t._tY-this._offsetTop));if(n||i<2&&r<2)return(i||r||this._isInterrupted)&&t._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),void this._finish();this._isInterrupted||Mo(t._element,e.itemPositioningClass),this._currentStyles[No]=yg(t._tX,t._tY),this._targetStyles[No]=yg(this._nextLeft,this._nextTop),t._tX=t._tY=void 0,this._animation.start(this._currentStyles,this._targetStyles,this._animOptions)},xg.prototype.start=function(t,e,n){if(!this._isDestroyed){var i,r,o,g,s,a,A,C,I,c,l=this._item,u=l._element,h=l.isActive(),d=l.isVisible(),p=l.getGrid(),f=p._settings,m=t._settings,v=t._element,y=t._items,b=p._items.indexOf(l),_=n||document.body;if("number"==typeof e)i=Oo(y,e,1);else{if(!(r=t.getItem(e)))return;i=y.indexOf(r)}(l.isPositioning()||this._isActive||l.isReleasing())&&(A=(a=eg(u)).x,C=a.y),l.isPositioning()&&l._layout.stop(!0,A,C),this._isActive&&(A-=this._containerDiffX,C-=this._containerDiffY,this.stop(!0,A,C)),l.isReleasing()&&(A-=l._dragRelease._containerDiffX,C-=l._dragRelease._containerDiffY,l._dragRelease.stop(!0,A,C)),l._visibility.stop(!0),l._drag&&l._drag.destroy(),p._hasListeners(Ki)&&p._emit(Ki,{item:l,fromGrid:p,fromIndex:b,toGrid:t,toIndex:i}),t._hasListeners($i)&&t._emit($i,{item:l,fromGrid:p,fromIndex:b,toGrid:t,toIndex:i}),f.itemClass!==m.itemClass&&(ng(u,f.itemClass),Mo(u,m.itemClass)),(I=d?f.itemVisibleClass:f.itemHiddenClass)!==(c=d?m.itemVisibleClass:m.itemHiddenClass)&&(ng(u,I),Mo(u,c)),p._items.splice(b,1),Ro(y,l,i),l._gridId=t._id,h?_!==(o=u.parentNode)&&(_.appendChild(u),g=Zo(_,o,!0),a||(A=(a=eg(u)).x,C=a.y),l._setTranslate(A+g.left,C+g.top)):v.appendChild(u),l._visibility.setStyles(d?m.visibleStyles:m.hiddenStyles),h&&(s=Zo(_,v,!0)),l._refreshDimensions(),l._sortData=null,l._drag=m.dragEnabled?new Ag(l):null,h?(this._isActive=!0,this._container=_,this._containerDiffX=s.left,this._containerDiffY=s.top):(this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0),p._hasListeners(qi)&&p._emit(qi,{item:l,fromGrid:p,fromIndex:b,toGrid:t,toIndex:i}),t._hasListeners(Qi)&&t._emit(Qi,{item:l,fromGrid:p,fromIndex:b,toGrid:t,toIndex:i})}},xg.prototype.stop=function(t,e,n){if(!this._isDestroyed&&this._isActive){var i,r=this._item,o=r._element,g=r.getGrid()._element;this._container!==g&&(void 0!==e&&void 0!==n||(t?(e=(i=eg(o)).x-this._containerDiffX,n=i.y-this._containerDiffY):(e=r._left,n=r._top)),g.appendChild(o),r._setTranslate(e,n)),this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0}},xg.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)},Sg.prototype.show=function(t,e){if(!this._isDestroyed){var n=this._item,i=n._element,r=Jr(e)?e:null,o=n.getGrid()._settings;this._isShowing||this._isHidden?!this._isShowing||t?(this._isShowing||(n._emitter.burst(this._queue,!0,n),ng(i,o.itemHiddenClass),Mo(i,o.itemVisibleClass),this._isHiding||(i.style.display="")),r&&n._emitter.on(this._queue,r),this._isShowing=!0,this._isHiding=this._isHidden=!1,this._startAnimation(!0,t,this._finishShow)):r&&n._emitter.on(this._queue,r):r&&r(!1,n)}},Sg.prototype.hide=function(t,e){if(!this._isDestroyed){var n=this._item,i=n._element,r=Jr(e)?e:null,o=n.getGrid()._settings;this._isHiding||!this._isHidden?!this._isHiding||t?(this._isHiding||(n._emitter.burst(this._queue,!0,n),Mo(i,o.itemHiddenClass),ng(i,o.itemVisibleClass)),r&&n._emitter.on(this._queue,r),this._isHidden=this._isHiding=!0,this._isShowing=!1,this._startAnimation(!1,t,this._finishHide)):r&&n._emitter.on(this._queue,r):r&&r(!1,n)}},Sg.prototype.stop=function(t){if(!this._isDestroyed&&(this._isHiding||this._isShowing)){var e=this._item;Hr(e._id),this._animation.stop(),t&&e._emitter.burst(this._queue,!0,e)}},Sg.prototype.setStyles=function(t){var e=this._childElement,n=this._currentStyleProps;for(var i in this._removeCurrentStyles(),t)n.push(i),e.style[i]=t[i]},Sg.prototype.destroy=function(){if(!this._isDestroyed){var t=this._item,e=t._element,n=t.getGrid()._settings;this.stop(!0),t._emitter.clear(this._queue),this._animation.destroy(),this._removeCurrentStyles(),ng(e,n.itemVisibleClass),ng(e,n.itemHiddenClass),e.style.display="",this._isHiding=this._isShowing=!1,this._isDestroyed=this._isHidden=!0}},Sg.prototype._startAnimation=function(t,e,n){if(!this._isDestroyed){var i,r=this._item,o=this._animation,g=this._childElement,s=r.getGrid()._settings,a=t?s.visibleStyles:s.hiddenStyles,A=t?s.showDuration:s.hideDuration,C=t?s.showEasing:s.hideEasing,I=e||A<=0;if(a){if(Hr(r._id),I)return ug(g,a),o.stop(),void(n&&n());var c,l,u;o.isAnimating()&&(o._animation.onfinish=null),c=r._id,l=function(){i=Cg(g,a)},u=function(){o.start(i,a,{duration:A,easing:C,onFinish:n})},zr.add(0,xr+c,l),zr.add(2,Sr+c,u)}else n&&n()}},Sg.prototype._finishShow=function(){this._isHidden||(this._isShowing=!1,this._item._emitter.burst(this._queue,!1,this._item))},Sg.prototype._finishHide=function(){if(this._isHidden){var t=this._item;this._isHiding=!1,t._layout.stop(!0,0,0),t._element.style.display="none",t._emitter.burst(this._queue,!1,t)}},Sg.prototype._removeCurrentStyles=function(){for(var t=this._childElement,e=this._currentStyleProps,n=0;n<e.length;n++)t.style[e[n]]="";e.length=0};var Eg=0;function Mg(){return++Eg}function Tg(t,e,n){var i=t._settings;if(Bi){if(Bi.has(e))throw new Error("You can only create one Muuri Item per element!");Bi.set(e,this)}this._id=Mg(),this._gridId=t._id,this._element=e,this._isDestroyed=!1,this._left=0,this._top=0,this._width=0,this._height=0,this._marginLeft=0,this._marginRight=0,this._marginTop=0,this._marginBottom=0,this._tX=void 0,this._tY=void 0,this._sortData=null,this._emitter=new rr,e.parentNode!==t._element&&t._element.appendChild(e),Mo(e,i.itemClass),"boolean"!=typeof n&&(n="none"!==eo(e,"display")),this._isActive=n,this._visibility=new Sg(this),this._layout=new wg(this),this._migrate=new xg(this),this._drag=i.dragEnabled?new Ag(this):null,this._dragRelease=new _g(this),this._dragPlaceholder=new bg(this)}function Rg(t){var e,n,i,r,o,g=.001,s=.5;function a(t){return((1e3*t+.5<<0)/10<<0)/100}function A(){this.currentRects=[],this.nextRects=[],this.rectTarget={},this.rectStore=[],this.slotSizes=[],this.rectId=0,this.slotIndex=-1,this.slotData={left:0,top:0,width:0,height:0},this.sortRectsLeftTop=this.sortRectsLeftTop.bind(this),this.sortRectsTopLeft=this.sortRectsTopLeft.bind(this)}if(A.prototype.computeLayout=function(t,e){var n,i,r,o,g,s,A=t.items,C=t.slots,I=!!(1&e),c=!!(2&e),l=!!(4&e),u=!!(8&e),h=!!(16&e),d="number"==typeof A[0];if(!A.length)return t;for(i=d?2:1,n=0;n<A.length;n+=i)d?(o=A[n],g=A[n+1]):(o=(r=A[n])._width+r._marginLeft+r._marginRight,g=r._height+r._marginTop+r._marginBottom),h&&(o=a(o),g=a(g)),s=this.computeNextSlot(t,o,g,I,c),c?s.left+s.width>t.width&&(t.width=s.left+s.width):s.top+s.height>t.height&&(t.height=s.top+s.height),C[++this.slotIndex]=s.left,C[++this.slotIndex]=s.top,(l||u)&&this.slotSizes.push(s.width,s.height);if(l)for(n=0;n<C.length;n+=2)C[n]=t.width-(C[n]+this.slotSizes[n]);if(u)for(n=1;n<C.length;n+=2)C[n]=t.height-(C[n]+this.slotSizes[n]);return this.slotSizes.length=0,this.currentRects.length=0,this.nextRects.length=0,this.rectId=0,this.slotIndex=-1,t},A.prototype.computeNextSlot=function(t,e,n,i,r){var o,a,A,C,I,c=this.slotData,l=this.currentRects,u=this.nextRects,h=!1;for(u.length=0,c.left=null,c.top=null,c.width=e,c.height=n,C=0;C<l.length;C++)if((a=l[C])&&(o=this.getRect(a),c.width<=o.width+g&&c.height<=o.height+g)){c.left=o.left,c.top=o.top;break}if(null===c.left&&(r?(c.left=t.width,c.top=0):(c.left=0,c.top=t.height),i||(h=!0)),!r&&c.top+c.height>t.height+g&&(c.left>s&&u.push(this.addRect(0,t.height,c.left,1/0)),c.left+c.width<t.width-s&&u.push(this.addRect(c.left+c.width,t.height,t.width-c.left-c.width,1/0)),t.height=c.top+c.height),r&&c.left+c.width>t.width+g&&(c.top>s&&u.push(this.addRect(t.width,0,1/0,c.top)),c.top+c.height<t.height-s&&u.push(this.addRect(t.width,c.top+c.height,1/0,t.height-c.top-c.height)),t.width=c.left+c.width),!h)for(i&&(C=0);C<l.length;C++)if(a=l[C])for(o=this.getRect(a),A=this.splitRect(o,c),I=0;I<A.length;I++)a=A[I],o=this.getRect(a),(r?o.left+g<t.width-g:o.top+g<t.height-g)&&u.push(a);return u.length>1&&this.purgeRects(u).sort(r?this.sortRectsLeftTop:this.sortRectsTopLeft),this.currentRects=u,this.nextRects=l,c},A.prototype.addRect=function(t,e,n,i){var r=++this.rectId;return this.rectStore[r]=t||0,this.rectStore[++this.rectId]=e||0,this.rectStore[++this.rectId]=n||0,this.rectStore[++this.rectId]=i||0,r},A.prototype.getRect=function(t,e){return e||(e=this.rectTarget),e.left=this.rectStore[t]||0,e.top=this.rectStore[++t]||0,e.width=this.rectStore[++t]||0,e.height=this.rectStore[++t]||0,e},A.prototype.splitRect=(e=[],n=0,i=0,function(t,r){return e.length=0,t.left+t.width<=r.left+g||r.left+r.width<=t.left+g||t.top+t.height<=r.top+g||r.top+r.height<=t.top+g?(e.push(this.addRect(t.left,t.top,t.width,t.height)),e):((n=r.left-t.left)>=s&&e.push(this.addRect(t.left,t.top,n,t.height)),(n=t.left+t.width-(r.left+r.width))>=s&&e.push(this.addRect(r.left+r.width,t.top,n,t.height)),(i=r.top-t.top)>=s&&e.push(this.addRect(t.left,t.top,t.width,i)),(i=t.top+t.height-(r.top+r.height))>=s&&e.push(this.addRect(t.left,r.top+r.height,t.width,i)),e)}),A.prototype.isRectAWithinRectB=function(t,e){return t.left+g>=e.left&&t.top+g>=e.top&&t.left+t.width-g<=e.left+e.width&&t.top+t.height-g<=e.top+e.height},A.prototype.purgeRects=(r={},o={},function(t){for(var e,n=t.length;n--;)if(e=t.length,t[n])for(this.getRect(t[n],r);e--;)if(t[e]&&n!==e&&(this.getRect(t[e],o),this.isRectAWithinRectB(r,o))){t[n]=0;break}return t}),A.prototype.sortRectsTopLeft=function(){var t={},e={};return function(n,i){return this.getRect(n,t),this.getRect(i,e),t.top<e.top&&t.top+g<e.top?-1:t.top>e.top&&t.top-g>e.top?1:t.left<e.left&&t.left+g<e.left?-1:t.left>e.left&&t.left-g>e.left?1:0}}(),A.prototype.sortRectsLeftTop=function(){var t={},e={};return function(n,i){return this.getRect(n,t),this.getRect(i,e),t.left<e.left&&t.left+g<e.left?-1:t.left>e.left&&t.left-g<e.left?1:t.top<e.top&&t.top+g<e.top?-1:t.top>e.top&&t.top-g>e.top?1:0}}(),t){var C=new A;self.onmessage=function(t){var e=new Float32Array(t.data),n=e.subarray(4,e.length),i=new Float32Array(n.length),r=e[3],o={items:n,slots:i,width:e[1],height:e[2]};C.computeLayout(o,r),e[1]=o.width,e[2]=o.height,e.set(o.slots,4),postMessage(e.buffer,[e.buffer])}}return A}Tg.prototype.getGrid=function(){return Fi[this._gridId]},Tg.prototype.getElement=function(){return this._element},Tg.prototype.getWidth=function(){return this._width},Tg.prototype.getHeight=function(){return this._height},Tg.prototype.getMargin=function(){return{left:this._marginLeft,right:this._marginRight,top:this._marginTop,bottom:this._marginBottom}},Tg.prototype.getPosition=function(){return{left:this._left,top:this._top}},Tg.prototype.isActive=function(){return this._isActive},Tg.prototype.isVisible=function(){return!!this._visibility&&!this._visibility._isHidden},Tg.prototype.isShowing=function(){return!(!this._visibility||!this._visibility._isShowing)},Tg.prototype.isHiding=function(){return!(!this._visibility||!this._visibility._isHiding)},Tg.prototype.isPositioning=function(){return!(!this._layout||!this._layout._isActive)},Tg.prototype.isDragging=function(){return!(!this._drag||!this._drag._isActive)},Tg.prototype.isReleasing=function(){return!(!this._dragRelease||!this._dragRelease._isActive)},Tg.prototype.isDestroyed=function(){return this._isDestroyed},Tg.prototype._refreshDimensions=function(t){if(!(this._isDestroyed||!0!==t&&this._visibility._isHidden)){var e=this._element,n=this._dragPlaceholder,i=e.getBoundingClientRect();this._width=i.width,this._height=i.height,this._marginLeft=Math.max(0,no(e,"margin-left")),this._marginRight=Math.max(0,no(e,"margin-right")),this._marginTop=Math.max(0,no(e,"margin-top")),this._marginBottom=Math.max(0,no(e,"margin-bottom")),n&&n.updateDimensions()}},Tg.prototype._refreshSortData=function(){if(!this._isDestroyed){var t,e=this._sortData={},n=this.getGrid()._settings.sortData;for(t in n)e[t]=n[t](this,this._element)}},Tg.prototype._addToLayout=function(t,e){!0!==this._isActive&&(this._isActive=!0,this._left=t||0,this._top=e||0)},Tg.prototype._removeFromLayout=function(){!1!==this._isActive&&(this._isActive=!1,this._left=0,this._top=0)},Tg.prototype._canSkipLayout=function(t,e){return this._left===t&&this._top===e&&!this._migrate._isActive&&!this._layout._skipNextAnimation&&!this._dragRelease.isJustReleased()},Tg.prototype._setTranslate=function(t,e){return(this._tX!==t||this._tY!==e)&&(this._tX=t,this._tY=e,this._element.style[No]=yg(t,e),!0)},Tg.prototype._destroy=function(t){if(!this._isDestroyed){var e=this._element,n=this.getGrid()._settings;this._dragPlaceholder.destroy(),this._dragRelease.destroy(),this._migrate.destroy(),this._layout.destroy(),this._visibility.destroy(),this._drag&&this._drag.destroy(),this._emitter.destroy(),ng(e,n.itemClass),t&&e.parentNode.removeChild(e),Bi&&Bi.delete(e),this._isActive=!1,this._isDestroyed=!0}};var Og=Rg(),Lg=null,Pg=[];function Ng(t,e){if(this._options=0,this._processor=null,this._layoutQueue=[],this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={},this._workers=[],this._onWorkerMessage=this._onWorkerMessage.bind(this),this.setOptions(e),(t="number"==typeof t?Math.max(0,t):0)&&window.Worker&&window.URL&&window.Blob)try{this._workers=function(t,e){var n=[];if(t>0){Lg||(Lg=URL.createObjectURL(new Blob(["("+Rg.toString()+")(true)"],{type:"application/javascript"})));for(var i,r=0;r<t;r++)i=new Worker(Lg),e&&(i.onmessage=e),n.push(i),Pg.push(i)}return n}(t,this._onWorkerMessage)}catch(t){this._processor=new Og}else this._processor=new Og}Ng.prototype._sendToWorker=function(){if(this._layoutQueue.length&&this._workers.length){var t=this._layoutQueue.shift(),e=this._workers.pop(),n=this._layoutWorkerData[t];delete this._layoutWorkerData[t],this._layoutWorkers[t]=e,e.postMessage(n.buffer,[n.buffer])}},Ng.prototype._onWorkerMessage=function(t){var e=new Float32Array(t.data),n=e[0],i=this._layouts[n],r=this._layoutCallbacks[n],o=this._layoutWorkers[n];i&&delete this._layoutCallbacks[n],r&&delete this._layoutCallbacks[n],o&&delete this._layoutWorkers[n],i&&r&&(i.width=e[1],i.height=e[2],i.slots=e.subarray(4,e.length),this._finalizeLayout(i),r(i)),o&&(this._workers.push(o),this._sendToWorker())},Ng.prototype._finalizeLayout=function(t){var e=t._grid,n=2&t._settings,i="border-box"===e._boxSizing;return delete t._grid,delete t._settings,t.styles={},n?t.styles.width=(i?t.width+e._borderLeft+e._borderRight:t.width)+"px":t.styles.height=(i?t.height+e._borderTop+e._borderBottom:t.height)+"px",t},Ng.prototype.setOptions=function(t){var e,n,i,r,o;t&&(e="boolean"==typeof t.fillGaps?t.fillGaps?1:0:1&this._options,n="boolean"==typeof t.horizontal?t.horizontal?2:0:2&this._options,i="boolean"==typeof t.alignRight?t.alignRight?4:0:4&this._options,r="boolean"==typeof t.alignBottom?t.alignBottom?8:0:8&this._options,o="boolean"==typeof t.rounding?t.rounding?16:0:16&this._options,this._options=e|n|i|r|o)},Ng.prototype.createLayout=function(t,e,n,i,r,o){if(this._layouts[e])throw new Error("A layout with the provided id is currently being processed.");var g=2&this._options,s={id:e,items:n,slots:null,width:g?0:i,height:g?r:0,_grid:t,_settings:this._options};if(!n.length)return s.slots=[],this._finalizeLayout(s),void o(s);if(this._processor)return s.slots=window.Float32Array?new Float32Array(2*n.length):new Array(2*n.length),this._processor.computeLayout(s,s._settings),this._finalizeLayout(s),void o(s);var a,A,C,I=new Float32Array(4+2*n.length);for(I[0]=e,I[1]=s.width,I[2]=s.height,I[3]=s._settings,a=0,A=3;a<n.length;a++)C=n[a],I[++A]=C._width+C._marginLeft+C._marginRight,I[++A]=C._height+C._marginTop+C._marginBottom;return this._layoutQueue.push(e),this._layouts[e]=s,this._layoutCallbacks[e]=o,this._layoutWorkerData[e]=I,this._sendToWorker(),this.cancelLayout.bind(this,e)},Ng.prototype.cancelLayout=function(t){if(this._layouts[t]&&(delete this._layouts[t],delete this._layoutCallbacks[t],this._layoutWorkerData[t])){delete this._layoutWorkerData[t];var e=this._layoutQueue.indexOf(t);e>-1&&this._layoutQueue.splice(e,1)}},Ng.prototype.destroy=function(){for(var t in this._layoutWorkers)this._workers.push(this._layoutWorkers[t]);!function(t){for(var e,n,i=0;i<t.length;i++)(e=t[i]).onmessage=null,e.onerror=null,e.onmessageerror=null,e.terminate(),(n=Pg.indexOf(e))>-1&&Pg.splice(n,1);Lg&&!Pg.length&&(URL.revokeObjectURL(Lg),Lg=null)}(this._workers),this._workers.length=0,this._layoutQueue.length=0,this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={}};var Dg=0;function kg(t){var e=Object.prototype.toString.call(t);return"[object HTMLCollection]"===e||"[object NodeList]"===e}var jg=Object.prototype.toString;function Fg(t){return"object"==typeof t&&"[object Object]"===jg.call(t)}function Bg(){}var zg,Ug="number",Hg="string",Gg="instant",Wg=0;function Vg(t,e){if(typeof t===Hg&&(t=document.querySelector(t)),!(t.getRootNode?t.getRootNode({composed:!0})===document:document.body.contains(t))||t===document.documentElement)throw new Error("Container element must be an existing DOM element.");var n,i,r=function(t,e){var n=Zg({},t);return e&&(n=Zg(n,e)),e&&e.visibleStyles?n.visibleStyles=e.visibleStyles:t&&t.visibleStyles&&(n.visibleStyles=t.visibleStyles),e&&e.hiddenStyles?n.hiddenStyles=e.hiddenStyles:t&&t.hiddenStyles&&(n.hiddenStyles=t.hiddenStyles),n}(Vg.defaultOptions,e);r.visibleStyles=Yg(r.visibleStyles),r.hiddenStyles=Yg(r.hiddenStyles),Jr(r.dragSort)||(r.dragSort=!!r.dragSort),this._id=Mg(),this._element=t,this._settings=r,this._isDestroyed=!1,this._items=[],this._layout={id:0,items:[],slots:[]},this._isLayoutFinished=!0,this._nextLayoutData=null,this._emitter=new rr,this._onLayoutDataReceived=this._onLayoutDataReceived.bind(this),Fi[this._id]=this,Mo(t,r.containerClass),n=this,typeof(i=r.layoutOnResize)!==Ug&&(i=!0===i?0:-1),i>=0&&(n._resizeHandler=function(t,e){var n=++Dg,i=0,r=0,o=!1,g=function(e){o||(r&&(i-=e-r),r=e,i>0?function(t,e){zr.add(0,Br+t,e)}(n,g):(i=r=0,t()))};return function(s){if(!o){if(!(e<=0))return!0===s?(o=!0,i=r=0,g=void 0,void function(t){zr.remove(0,Br+t)}(n)):void(i<=0?(i=e,g(0)):i=e);!0!==s&&t()}}}((function(){n.refreshItems().layout()}),i),window.addEventListener("resize",n._resizeHandler)),this.add(function(t,e){if("*"===e)return t.children;if(typeof e===Hg){for(var n=[],i=t.children,r=0;r<i.length;r++)Eo(i[r],e)&&n.push(i[r]);return n}return Array.isArray(e)||kg(e)?e:[]}(t,r.items),{layout:!1}),r.layoutOnInit&&this.layout(!0)}function Zg(t,e){var n,i,r,o=Object.keys(e),g=o.length;for(r=0;r<g;r++)n=Fg(e[i=o[r]]),Fg(t[i])&&n?t[i]=Zg(Zg({},t[i]),e[i]):n?t[i]=Zg({},e[i]):Array.isArray(e[i])?t[i]=e[i].slice(0):t[i]=e[i];return t}function Yg(t){var e,n,i={},r=document.documentElement.style;for(e in t)t[e]&&(n=Ar(r,e))&&(i[n]=t[e]);return i}function Xg(t){for(var e={},n=0;n<t.length;n++)e[t[n]._id]=n;return e}function Jg(t,e,n){return t[e._id]-t[n._id]}Vg.Item=Tg,Vg.ItemLayout=wg,Vg.ItemVisibility=Sg,Vg.ItemMigrate=xg,Vg.ItemDrag=Ag,Vg.ItemDragRelease=_g,Vg.ItemDragPlaceholder=bg,Vg.Emitter=rr,Vg.Animator=mg,Vg.Dragger=mr,Vg.Packer=Ng,Vg.AutoScroller=wo,Vg.defaultPacker=new Ng(2),Vg.defaultOptions={items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!1},layoutOnResize:150,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:!1,dragContainer:null,dragHandle:null,dragStartPredicate:{distance:0,delay:0},dragAxis:"xy",dragSort:!0,dragSortHeuristics:{sortInterval:100,minDragDistance:10,minBounceBackAngle:1},dragSortPredicate:{threshold:50,action:Ui,migrateAction:Ui},dragRelease:{duration:300,easing:"ease",useDragContainer:!0},dragCssProps:{touchAction:"none",userSelect:"none",userDrag:"none",tapHighlightColor:"rgba(0, 0, 0, 0)",touchCallout:"none",contentZooming:"none"},dragPlaceholder:{enabled:!1,createElement:null,onCreate:null,onRemove:null},dragAutoScroll:{targets:[],handle:null,threshold:50,safeZone:.2,speed:wo.smoothSpeed(1e3,2e3,2500),sortDuringScroll:!0,smoothStop:!1,onStart:null,onStop:null},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing",itemPlaceholderClass:"muuri-item-placeholder"},Vg.prototype.on=function(t,e){return this._emitter.on(t,e),this},Vg.prototype.off=function(t,e){return this._emitter.off(t,e),this},Vg.prototype.getElement=function(){return this._element},Vg.prototype.getItem=function(t){if(this._isDestroyed||!t&&0!==t)return null;if(typeof t===Ug)return this._items[t>-1?t:this._items.length+t]||null;if(t instanceof Tg)return t._gridId===this._id?t:null;if(Bi){var e=Bi.get(t);return e&&e._gridId===this._id?e:null}for(var n=0;n<this._items.length;n++)if(this._items[n]._element===t)return this._items[n];return null},Vg.prototype.getItems=function(t){if(this._isDestroyed||void 0===t)return this._items.slice(0);var e,n,i=[];if(Array.isArray(t)||kg(t))for(e=0;e<t.length;e++)(n=this.getItem(t[e]))&&i.push(n);else(n=this.getItem(t))&&i.push(n);return i},Vg.prototype.refreshItems=function(t,e){if(this._isDestroyed)return this;var n,i,r,o,g=t||this._items;if(!0===e)for(o=[],n=0;n<g.length;n++)(i=g[n]).isVisible()||i.isHiding()||((r=i.getElement().style).visibility="hidden",r.display="",o.push(r));for(n=0;n<g.length;n++)g[n]._refreshDimensions(e);if(!0===e){for(n=0;n<o.length;n++)(r=o[n]).visibility="",r.display="none";o.length=0}return this},Vg.prototype.refreshSortData=function(t){if(this._isDestroyed)return this;for(var e=t||this._items,n=0;n<e.length;n++)e[n]._refreshSortData();return this},Vg.prototype.synchronize=function(){if(this._isDestroyed)return this;var t,e,n=this._items;if(!n.length)return this;for(var i=0;i<n.length;i++)(e=n[i]._element).parentNode===this._element&&(t=t||document.createDocumentFragment()).appendChild(e);return t?(this._element.appendChild(t),this._emit("synchronize"),this):this},Vg.prototype.layout=function(t,e){if(this._isDestroyed)return this;var n=this._nextLayoutData;n&&Jr(n.cancel)&&n.cancel();var i=Wg=Wg%16777216+1;this._nextLayoutData={id:i,instant:t,onFinish:e,cancel:null};for(var r=this._items,o=[],g=0;g<r.length;g++)r[g]._isActive&&o.push(r[g]);this._refreshDimensions();var s,a=this._width-this._borderLeft-this._borderRight,A=this._height-this._borderTop-this._borderBottom,C=this._settings.layout;return Jr(C)?s=C(this,i,o,a,A,this._onLayoutDataReceived):(Vg.defaultPacker.setOptions(C),s=Vg.defaultPacker.createLayout(this,i,o,a,A,this._onLayoutDataReceived)),Jr(s)&&this._nextLayoutData&&this._nextLayoutData.id===i&&(this._nextLayoutData.cancel=s),this},Vg.prototype.add=function(t,e){if(this._isDestroyed||!t)return[];var n,i=kg(n=t)?Array.prototype.slice.call(n):Array.prototype.concat(n);if(!i.length)return i;var r,o,g,s,a=e||{},A=a.layout?a.layout:void 0===a.layout,C=this._items,I=!1;for(s=0;s<i.length;s++)(o=i[s]).parentNode!==this._element&&(r=r||document.createDocumentFragment()).appendChild(o);for(r&&this._element.appendChild(r),s=0;s<i.length;s++)o=i[s],(g=i[s]=new Tg(this,o,a.active))._isActive&&(I=!0,g._layout._skipNextAnimation=!0);for(s=0;s<i.length;s++)(g=i[s])._refreshDimensions(),g._refreshSortData();return Ro(C,i,a.index),this._hasListeners("add")&&this._emit("add",i.slice(0)),I&&A&&this.layout(A===Gg,Jr(A)?A:void 0),i},Vg.prototype.remove=function(t,e){if(this._isDestroyed||!t.length)return[];var n,i,r,o=e||{},g=o.layout?o.layout:void 0===o.layout,s=!1,a=this.getItems(),A=[],C=[];for(r=0;r<t.length;r++)(i=t[r])._isDestroyed||-1!==(n=this._items.indexOf(i))&&(i._isActive&&(s=!0),A.push(i),C.push(a.indexOf(i)),i._destroy(o.removeElements),this._items.splice(n,1));return this._hasListeners(Vi)&&this._emit(Vi,A.slice(0),C),s&&g&&this.layout(g===Gg,Jr(g)?g:void 0),A},Vg.prototype.show=function(t,e){return!this._isDestroyed&&t.length&&this._setItemsVisibility(t,!0,e),this},Vg.prototype.hide=function(t,e){return!this._isDestroyed&&t.length&&this._setItemsVisibility(t,!1,e),this},Vg.prototype.filter=function(t,e){if(this._isDestroyed||!this._items.length)return this;var n,i,r=[],o=[],g=typeof t===Hg,s=Jr(t),a=e||{},A=!0===a.instant,C=a.syncWithLayout,I=a.layout?a.layout:void 0===a.layout,c=Jr(a.onFinish)?a.onFinish:null,l=-1,u=Bg;if(c&&(u=function(){++l&&c(r.slice(0),o.slice(0))}),s||g)for(i=0;i<this._items.length;i++)n=this._items[i],(s?t(n):Eo(n._element,t))?r.push(n):o.push(n);return r.length?this.show(r,{instant:A,syncWithLayout:C,onFinish:u,layout:!1}):u(),o.length?this.hide(o,{instant:A,syncWithLayout:C,onFinish:u,layout:!1}):u(),(r.length||o.length)&&(this._hasListeners(Yi)&&this._emit(Yi,r.slice(0),o.slice(0)),I&&this.layout(I===Gg,Jr(I)?I:void 0)),this},Vg.prototype.sort=function(){var t,e,n,i;function r(r,o){for(var g,s,a,A,C=0,I=0;I<t.length;I++)if(g=t[I][0],s=t[I][1],a=(r._sortData?r:r._refreshSortData())._sortData[g],A=(o._sortData?o:o._refreshSortData())._sortData[g],C="desc"===s||!s&&e?A<a?-1:A>a?1:0:a<A?-1:a>A?1:0)return C;return C||(i||(i=Xg(n)),C=e?Jg(i,o,r):Jg(i,r,o)),C}function o(r,o){var g=e?-t(r,o):t(r,o);return g||(i||(i=Xg(n)),g=e?Jg(i,o,r):Jg(i,r,o)),g}return function(g,s){if(this._isDestroyed||this._items.length<2)return this;var a=this._items,A=s||{},C=A.layout?A.layout:void 0===A.layout;if(e=!!A.descending,n=a.slice(0),i=null,Jr(g))t=g,a.sort(o);else if(typeof g===Hg)t=g.trim().split(" ").filter((function(t){return t})).map((function(t){return t.split(":")})),a.sort(r);else{if(!Array.isArray(g))throw t=e=n=i=null,new Error("Invalid comparer argument provided.");a.length=0,a.push.apply(a,g)}return this._hasListeners(Xi)&&this._emit(Xi,a.slice(0),n),C&&this.layout(C===Gg,Jr(C)?C:void 0),t=e=n=i=null,this}}(),Vg.prototype.move=function(t,e,n){if(this._isDestroyed||this._items.length<2)return this;var i,r,o=this._items,g=n||{},s=g.layout?g.layout:void 0===g.layout,a=g.action===zi,A=a?zi:Ui,C=this.getItem(t),I=this.getItem(e);return C&&I&&C!==I&&(i=o.indexOf(C),r=o.indexOf(I),a?Po(o,i,r):Lo(o,i,r),this._hasListeners(Ji)&&this._emit(Ji,{item:C,fromIndex:i,toIndex:r,action:A}),s&&this.layout(s===Gg,Jr(s)?s:void 0)),this},Vg.prototype.send=function(t,e,n,i){if(this._isDestroyed||e._isDestroyed||this===e)return this;if(!(t=this.getItem(t)))return this;var r=i||{},o=r.appendTo||document.body,g=r.layoutSender?r.layoutSender:void 0===r.layoutSender,s=r.layoutReceiver?r.layoutReceiver:void 0===r.layoutReceiver;return t._migrate.start(e,n,o),t._migrate._isActive&&t._isActive&&(g&&this.layout(g===Gg,Jr(g)?g:void 0),s&&e.layout(s===Gg,Jr(s)?s:void 0)),this},Vg.prototype.destroy=function(t){if(this._isDestroyed)return this;var e,n,i,r=this._element,o=this._items.slice(0),g=this._layout&&this._layout.styles||{};for((i=this)._resizeHandler&&(i._resizeHandler(!0),window.removeEventListener("resize",i._resizeHandler),i._resizeHandler=null),e=0;e<o.length;e++)o[e]._destroy(t);for(n in this._items.length=0,ng(r,this._settings.containerClass),g)r.style[n]="";return this._emit("destroy"),this._emitter.destroy(),delete Fi[this._id],this._isDestroyed=!0,this},Vg.prototype._emit=function(){this._isDestroyed||this._emitter.emit.apply(this._emitter,arguments)},Vg.prototype._hasListeners=function(t){return!this._isDestroyed&&this._emitter.countListeners(t)>0},Vg.prototype._updateBoundingRect=function(){var t=this._element.getBoundingClientRect();this._width=t.width,this._height=t.height,this._left=t.left,this._top=t.top,this._right=t.right,this._bottom=t.bottom},Vg.prototype._updateBorders=function(t,e,n,i){var r=this._element;t&&(this._borderLeft=no(r,"border-left-width")),e&&(this._borderRight=no(r,"border-right-width")),n&&(this._borderTop=no(r,"border-top-width")),i&&(this._borderBottom=no(r,"border-bottom-width"))},Vg.prototype._refreshDimensions=function(){this._updateBoundingRect(),this._updateBorders(1,1,1,1),this._boxSizing=eo(this._element,"box-sizing")},Vg.prototype._onLayoutDataReceived=(zg=[],function(t){if(!this._isDestroyed&&this._nextLayoutData&&this._nextLayoutData.id===t.id){var e,n,i,r,o=this,g=this._nextLayoutData.instant,s=this._nextLayoutData.onFinish,a=t.items.length,A=a;for(this._nextLayoutData=null,!this._isLayoutFinished&&this._hasListeners(Wi)&&this._emit(Wi,this._layout.items.slice(0)),this._layout=t,zg.length=0,r=0;r<a;r++)(e=t.items[r])?(n=t.slots[2*r],i=t.slots[2*r+1],e._canSkipLayout(n,i)?--A:(e._left=n,e._top=i,e.isActive()&&!e.isDragging()?zg.push(e):--A)):--A;if(t.styles&&ug(this._element,t.styles),!this._hasListeners(Hi)||(this._emit(Hi,t.items.slice(0),!0===g),this._layout.id===t.id)){var C=function(){if(!(--A>0)){var e=o._layout.id!==t.id,n=Jr(g)?g:s;e||(o._isLayoutFinished=!0),Jr(n)&&n(t.items.slice(0),e),!e&&o._hasListeners(Gi)&&o._emit(Gi,t.items.slice(0))}};if(!zg.length)return C(),this;for(this._isLayoutFinished=!1,r=0;r<zg.length&&this._layout.id===t.id;r++)zg[r]._layout.start(!0===g,C);return this._layout.id===t.id&&(zg.length=0),this}}}),Vg.prototype._setItemsVisibility=function(t,e,n){var i,r,o=this,g=t.slice(0),s=n||{},a=!0===s.instant,A=s.onFinish,C=s.layout?s.layout:void 0===s.layout,I=g.length,c=e?"showStart":Zi,l=e?"showEnd":"hideEnd",u=e?"show":"hide",h=!1,d=[],p=[];if(I){for(r=0;r<g.length;r++)i=g[r],(e&&!i._isActive||!e&&i._isActive)&&(h=!0),i._layout._skipNextAnimation=!(!e||i._isActive),e&&i._visibility._isHidden&&p.push(i),e?i._addToLayout():i._removeFromLayout();p.length&&(this.refreshItems(p,!0),p.length=0),h&&!1!==s.syncWithLayout?this.on(Hi,f):f(),h&&C&&this.layout(C===Gg,Jr(C)?C:void 0)}else Jr(A)&&A(g);function f(){for(h&&!1!==s.syncWithLayout&&o.off(Hi,f),o._hasListeners(c)&&o._emit(c,g.slice(0)),r=0;r<g.length;r++)g[r]._gridId===o._id?g[r]._visibility[u](a,(function(t,e){t||d.push(e),--I<1&&(Jr(A)&&A(d.slice(0)),o._hasListeners(l)&&o._emit(l,d.slice(0)))})):--I<1&&(Jr(A)&&A(d.slice(0)),o._hasListeners(l)&&o._emit(l,d.slice(0)))}};const qg=Vg;function Kg(t){return Kg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(t)}function Qg(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function $g(t,e){if(e&&("object"===Kg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ts(t){var e="function"==typeof Map?new Map:void 0;return ts=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return es(t,arguments,rs(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),is(n,t)},ts(t)}function es(t,e,n){return es=ns()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&is(r,n.prototype),r},es.apply(null,arguments)}function ns(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function is(t,e){return is=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},is(t,e)}function rs(t){return rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rs(t)}var os=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&is(t,e)}(g,t);var e,n,i,r,o=(e=g,n=ns(),function(){var t,i=rs(e);if(n){var r=rs(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return $g(this,t)});function g(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(t=o.call(this)).innerHTML="\n            <style>\n            :host {\n                all: inherit;\n            }\n          .grid {\n            position: relative;\n\n          }\n          .item {\n            display: block;\n            position: absolute;\n            min-width: 200px;\n            min-height: 168px;\n            margin: 5px;\n            z-index: 1;\n            background: #fff;\n            box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.3);\n            color: #555;\n          }\n          .item.muuri-item-dragging {\n            z-index: 3;\n\n          }\n          .item.muuri-item-releasing {\n            z-index: 2;\n\n          }\n          .item.muuri-item-hidden {\n            z-index: 0;\n\n          }\n          .item-content {\n            position: relative;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n\n          }\n          .item-header {\n            height: 23px;\n            background: #DFD;\n          }\n          </style>\n              ",t}return i=g,(r=[{key:"connectedCallback",value:function(){var t=document.createElement("div");t.style.position="relative",t.innerHTML="";var e=document.createElement("div");t.appendChild(e),this.appendChild(t),qg.defaultOptions.dragEnabled=!0,this.grid=new qg(e,{items:t.querySelectorAll(".item")}),this.i=0}},{key:"add",value:function(t,e){var n=this;this.i+=1;var i=document.createElement("div");i.setAttribute("class","item");var r=document.createElement("div");r.setAttribute("class","item-header");var o=document.createElement("div");o.setAttribute("class","item-content"),i.appendChild(r),i.appendChild(o),o.appendChild(t.getNode());var g=this.grid.add(i),s=document.createElement("input");s.style.position="absolute",s.style.top="2px",s.style.right="2px",s.setAttribute("type","button"),s.value="x",s.onclick=function(t){n.grid.remove(g,{removeElements:!0}),e()};var a=document.createElement("input");a.style.position="absolute",a.style.top="2px",a.style.right="32px",a.setAttribute("type","button"),a.value="save",a.onclick=function(e){console.log("TODO",t.getState())},r.appendChild(s),r.appendChild(a)}}])&&Qg(i.prototype,r),g}(ts(HTMLElement)),gs=customElements.get("muuri-layout");void 0===gs&&(gs=os,customElements.define("muuri-layout",gs));const ss=gs;var as={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},As={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},Cs={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},Is=["touchstart","pointerdown","mousedown","keydown"],cs=["touchend","pointerup","mouseup","contextmenu"],ls=[],us=function(t){function e(n){var i=t.call(this,$e($e({},e.defaultAdapter),n))||this;return i.activationAnimationHasEnded_=!1,i.activationTimer_=0,i.fgDeactivationRemovalTimer_=0,i.fgScale_="0",i.frame_={width:0,height:0},i.initialSize_=0,i.layoutFrame_=0,i.maxRadius_=0,i.unboundedCoords_={left:0,top:0},i.activationState_=i.defaultActivationState_(),i.activationTimerCallback_=function(){i.activationAnimationHasEnded_=!0,i.runDeactivationUXLogicIfReady_()},i.activateHandler_=function(t){return i.activate_(t)},i.deactivateHandler_=function(){return i.deactivate_()},i.focusHandler_=function(){return i.handleFocus()},i.blurHandler_=function(){return i.handleBlur()},i.resizeHandler_=function(){return i.layout()},i}return Qe(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return as},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return As},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Cs},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this,n=this.supportsPressRipple_();if(this.registerRootHandlers_(n),n){var i=e.cssClasses,r=i.ROOT,o=i.UNBOUNDED;requestAnimationFrame((function(){t.adapter.addClass(r),t.adapter.isUnbounded()&&(t.adapter.addClass(o),t.layoutInternal_())}))}},e.prototype.destroy=function(){var t=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var n=e.cssClasses,i=n.ROOT,r=n.UNBOUNDED;requestAnimationFrame((function(){t.adapter.removeClass(i),t.adapter.removeClass(r),t.removeCssVars_()}))}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},e.prototype.activate=function(t){this.activate_(t)},e.prototype.deactivate=function(){this.deactivate_()},e.prototype.layout=function(){var t=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){t.layoutInternal_(),t.layoutFrame_=0}))},e.prototype.setUnbounded=function(t){var n=e.cssClasses.UNBOUNDED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.handleFocus=function(){var t=this;requestAnimationFrame((function(){return t.adapter.addClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.handleBlur=function(){var t=this;requestAnimationFrame((function(){return t.adapter.removeClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.supportsPressRipple_=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers_=function(t){var e=this;t&&(Is.forEach((function(t){e.adapter.registerInteractionHandler(t,e.activateHandler_)})),this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler_)),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_)},e.prototype.registerDeactivationHandlers_=function(t){var e=this;"keydown"===t.type?this.adapter.registerInteractionHandler("keyup",this.deactivateHandler_):cs.forEach((function(t){e.adapter.registerDocumentInteractionHandler(t,e.deactivateHandler_)}))},e.prototype.deregisterRootHandlers_=function(){var t=this;Is.forEach((function(e){t.adapter.deregisterInteractionHandler(e,t.activateHandler_)})),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler_)},e.prototype.deregisterDeactivationHandlers_=function(){var t=this;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler_),cs.forEach((function(e){t.adapter.deregisterDocumentInteractionHandler(e,t.deactivateHandler_)}))},e.prototype.removeCssVars_=function(){var t=this,n=e.strings;Object.keys(n).forEach((function(e){0===e.indexOf("VAR_")&&t.adapter.updateCssVariable(n[e],null)}))},e.prototype.activate_=function(t){var e=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState_;if(!n.isActivated){var i=this.previousActivationEvent_;i&&void 0!==t&&i.type!==t.type||(n.isActivated=!0,n.isProgrammatic=void 0===t,n.activationEvent=t,n.wasActivatedByPointer=!n.isProgrammatic&&void 0!==t&&("mousedown"===t.type||"touchstart"===t.type||"pointerdown"===t.type),void 0!==t&&ls.length>0&&ls.some((function(t){return e.adapter.containsEventTarget(t)}))?this.resetActivationState_():(void 0!==t&&(ls.push(t.target),this.registerDeactivationHandlers_(t)),n.wasElementMadeActive=this.checkElementMadeActive_(t),n.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame((function(){ls=[],n.wasElementMadeActive||void 0===t||" "!==t.key&&32!==t.keyCode||(n.wasElementMadeActive=e.checkElementMadeActive_(t),n.wasElementMadeActive&&e.animateActivation_()),n.wasElementMadeActive||(e.activationState_=e.defaultActivationState_())}))))}}},e.prototype.checkElementMadeActive_=function(t){return void 0===t||"keydown"!==t.type||this.adapter.isSurfaceActive()},e.prototype.animateActivation_=function(){var t=this,n=e.strings,i=n.VAR_FG_TRANSLATE_START,r=n.VAR_FG_TRANSLATE_END,o=e.cssClasses,g=o.FG_DEACTIVATION,s=o.FG_ACTIVATION,a=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var A="",C="";if(!this.adapter.isUnbounded()){var I=this.getFgTranslationCoordinates_(),c=I.startPoint,l=I.endPoint;A=c.x+"px, "+c.y+"px",C=l.x+"px, "+l.y+"px"}this.adapter.updateCssVariable(i,A),this.adapter.updateCssVariable(r,C),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter.removeClass(g),this.adapter.computeBoundingRect(),this.adapter.addClass(s),this.activationTimer_=setTimeout((function(){return t.activationTimerCallback_()}),a)},e.prototype.getFgTranslationCoordinates_=function(){var t,e=this.activationState_,n=e.activationEvent;return{startPoint:t={x:(t=e.wasActivatedByPointer?function(t,e,n){if(!t)return{x:0,y:0};var i,r,o=e.x,g=e.y,s=o+n.left,a=g+n.top;if("touchstart"===t.type){var A=t;i=A.changedTouches[0].pageX-s,r=A.changedTouches[0].pageY-a}else{var C=t;i=C.pageX-s,r=C.pageY-a}return{x:i,y:r}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2}).x-this.initialSize_/2,y:t.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},e.prototype.runDeactivationUXLogicIfReady_=function(){var t=this,n=e.cssClasses.FG_DEACTIVATION,i=this.activationState_,r=i.hasDeactivationUXRun,o=i.isActivated;(r||!o)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer_=setTimeout((function(){t.adapter.removeClass(n)}),Cs.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses_=function(){var t=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(t),this.activationAnimationHasEnded_=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState_=function(){var t=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout((function(){return t.previousActivationEvent_=void 0}),e.numbers.TAP_DELAY_MS)},e.prototype.deactivate_=function(){var t=this,e=this.activationState_;if(e.isActivated){var n=$e({},e);e.isProgrammatic?(requestAnimationFrame((function(){return t.animateDeactivation_(n)})),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame((function(){t.activationState_.hasDeactivationUXRun=!0,t.animateDeactivation_(n),t.resetActivationState_()})))}},e.prototype.animateDeactivation_=function(t){var e=t.wasActivatedByPointer,n=t.wasElementMadeActive;(e||n)&&this.runDeactivationUXLogicIfReady_()},e.prototype.layoutInternal_=function(){this.frame_=this.adapter.computeBoundingRect();var t=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter.isUnbounded()?t:Math.sqrt(Math.pow(this.frame_.width,2)+Math.pow(this.frame_.height,2))+e.numbers.PADDING;var n=Math.floor(t*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&n%2!=0?this.initialSize_=n-1:this.initialSize_=n,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},e.prototype.updateLayoutCssVars_=function(){var t=e.strings,n=t.VAR_FG_SIZE,i=t.VAR_LEFT,r=t.VAR_TOP,o=t.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize_+"px"),this.adapter.updateCssVariable(o,this.fgScale_),this.adapter.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter.updateCssVariable(i,this.unboundedCoords_.left+"px"),this.adapter.updateCssVariable(r,this.unboundedCoords_.top+"px"))},e}(hi);const hs=us,ds=new WeakMap,ps=pn((t=>e=>{if(!(e instanceof Mn)||e instanceof Ln||"style"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");const{committer:n}=e,{style:i}=n.element;let r=ds.get(e);void 0===r&&(i.cssText=n.strings.join(" "),ds.set(e,r=new Set)),r.forEach((e=>{e in t||(r.delete(e),-1===e.indexOf("-")?i[e]=null:i.removeProperty(e))}));for(const e in t)r.add(e),-1===e.indexOf("-")?i[e]=t[e]:i.setProperty(e,t[e])}));class fs extends Ti{constructor(){super(...arguments),this.primary=!1,this.accent=!1,this.unbounded=!1,this.disabled=!1,this.activated=!1,this.selected=!1,this.hovering=!1,this.bgFocused=!1,this.fgActivation=!1,this.fgDeactivation=!1,this.fgScale="",this.fgSize="",this.translateStart="",this.translateEnd="",this.leftPos="",this.topPos="",this.mdcFoundationClass=hs}get isActive(){return(this.parentElement||this).matches(":active")}createAdapter(){return{browserSupportsCssVars:()=>!0,isUnbounded:()=>this.unbounded,isSurfaceActive:()=>this.isActive,isSurfaceDisabled:()=>this.disabled,addClass:t=>{switch(t){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!0;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!0;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!0}},removeClass:t=>{switch(t){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!1;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!1;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!1}},containsEventTarget:()=>!0,registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{},registerDocumentInteractionHandler:()=>{},deregisterDocumentInteractionHandler:()=>{},registerResizeHandler:()=>{},deregisterResizeHandler:()=>{},updateCssVariable:(t,e)=>{switch(t){case"--mdc-ripple-fg-scale":this.fgScale=e;break;case"--mdc-ripple-fg-size":this.fgSize=e;break;case"--mdc-ripple-fg-translate-end":this.translateEnd=e;break;case"--mdc-ripple-fg-translate-start":this.translateStart=e;break;case"--mdc-ripple-left":this.leftPos=e;break;case"--mdc-ripple-top":this.topPos=e}},computeBoundingRect:()=>(this.parentElement||this).getBoundingClientRect(),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset})}}startPress(t){this.waitForFoundation((()=>{this.mdcFoundation.activate(t)}))}endPress(){this.waitForFoundation((()=>{this.mdcFoundation.deactivate()}))}startFocus(){this.waitForFoundation((()=>{this.mdcFoundation.handleFocus()}))}endFocus(){this.waitForFoundation((()=>{this.mdcFoundation.handleBlur()}))}startHover(){this.hovering=!0}endHover(){this.hovering=!1}waitForFoundation(t){this.mdcFoundation?t():this.updateComplete.then(t)}render(){const t={"mdc-ripple-upgraded--unbounded":this.unbounded,"mdc-ripple-upgraded--background-focused":this.bgFocused,"mdc-ripple-upgraded--foreground-activation":this.fgActivation,"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation,hover:this.hovering,primary:this.primary,accent:this.accent,disabled:this.disabled,activated:this.activated,selected:this.selected};return zn`
        <div class="mdc-ripple-surface mdc-ripple-upgraded ${Li(t)}"
          style="${ps({"--mdc-ripple-fg-scale":this.fgScale,"--mdc-ripple-fg-size":this.fgSize,"--mdc-ripple-fg-translate-end":this.translateEnd,"--mdc-ripple-fg-translate-start":this.translateStart,"--mdc-ripple-left":this.leftPos,"--mdc-ripple-top":this.topPos})}"></div>`}}tn([ti(".mdc-ripple-surface")],fs.prototype,"mdcRoot",void 0),tn([Qn({type:Boolean})],fs.prototype,"primary",void 0),tn([Qn({type:Boolean})],fs.prototype,"accent",void 0),tn([Qn({type:Boolean})],fs.prototype,"unbounded",void 0),tn([Qn({type:Boolean})],fs.prototype,"disabled",void 0),tn([Qn({type:Boolean})],fs.prototype,"activated",void 0),tn([Qn({type:Boolean})],fs.prototype,"selected",void 0),tn([$n()],fs.prototype,"hovering",void 0),tn([$n()],fs.prototype,"bgFocused",void 0),tn([$n()],fs.prototype,"fgActivation",void 0),tn([$n()],fs.prototype,"fgDeactivation",void 0),tn([$n()],fs.prototype,"fgScale",void 0),tn([$n()],fs.prototype,"fgSize",void 0),tn([$n()],fs.prototype,"translateStart",void 0),tn([$n()],fs.prototype,"translateEnd",void 0),tn([$n()],fs.prototype,"leftPos",void 0),tn([$n()],fs.prototype,"topPos",void 0);const ms=Ai`:host{display:block;position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;pointer-events:none}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host .primary{--mdc-ripple-color: var(--mdc-theme-primary, #6200ee)}:host .accent{--mdc-ripple-color: var( --mdc-theme-secondary, #018786 )}:host .mdc-ripple-surface{top:0;bottom:0;left:0;right:0;width:100%;height:100%;pointer-events:none;--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;position:relative;outline:none;overflow:hidden;--mdc-ripple-fg-opacity: var( --mdc-ripple-press-opacity, 0.12 )}:host .mdc-ripple-surface::before,:host .mdc-ripple-surface::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}:host .mdc-ripple-surface::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}:host .mdc-ripple-surface.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}:host .mdc-ripple-surface.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}:host .mdc-ripple-surface.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}:host .mdc-ripple-surface.mdc-ripple-upgraded--foreground-activation::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:host .mdc-ripple-surface.mdc-ripple-upgraded--foreground-deactivation::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}:host .mdc-ripple-surface::before,:host .mdc-ripple-surface::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}:host .mdc-ripple-surface.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}:host .mdc-ripple-surface.mdc-ripple-upgraded--unbounded{overflow:visible}:host .mdc-ripple-surface.mdc-ripple-upgraded--unbounded::before,:host .mdc-ripple-surface.mdc-ripple-upgraded--unbounded::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}:host .mdc-ripple-surface.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::before,:host .mdc-ripple-surface.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}:host .mdc-ripple-surface.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}:host .mdc-ripple-surface.hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}:host .mdc-ripple-surface.mdc-ripple-upgraded--background-focused::before{opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}:host .mdc-ripple-surface::before,:host .mdc-ripple-surface::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}:host .mdc-ripple-surface.activated{--mdc-ripple-press-opacity: calc( var(--mdc-ripple-press-opacity, 0.12) + 0.12 )}:host .mdc-ripple-surface.activated::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}:host .mdc-ripple-surface.activated.hover::before{opacity:.16;opacity:calc( var(--mdc-ripple-hover-opacity, 0.04) + var(--mdc-ripple-activated-opacity, 0.12) )}:host .mdc-ripple-surface.activated.mdc-ripple-upgraded--background-focused::before{opacity:.24;opacity:calc( var(--mdc-ripple-focus-opacity, 0.12) + var(--mdc-ripple-activated-opacity, 0.12) )}:host .mdc-ripple-surface.selected{--mdc-ripple-press-opacity: calc( var(--mdc-ripple-press-opacity, 0.12) + 0.08 )}:host .mdc-ripple-surface.selected::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}:host .mdc-ripple-surface.selected.hover::before{opacity:.12;opacity:calc( var(--mdc-ripple-hover-opacity, 0.04) + var(--mdc-ripple-selected-opacity, 0.08) )}:host .mdc-ripple-surface.selected.mdc-ripple-upgraded--background-focused::before{opacity:.2;opacity:calc( var(--mdc-ripple-focus-opacity, 0.12) + var(--mdc-ripple-selected-opacity, 0.08) )}:host .mdc-ripple-surface.disabled{--mdc-ripple-color: transparent}:host .mdc-ripple-surface::before{z-index:1;z-index:var(--m-ripple-z-index, 1)}:host .mdc-ripple-surface::after{z-index:0;z-index:var(--m-ripple-z-index, 0)}`;let vs=class extends fs{};vs.styles=ms,vs=tn([qn("mwc-ripple")],vs);class ys{constructor(t){this.startPress=e=>{t().then((t=>{t&&t.startPress(e)}))},this.endPress=()=>{t().then((t=>{t&&t.endPress()}))},this.startFocus=()=>{t().then((t=>{t&&t.startFocus()}))},this.endFocus=()=>{t().then((t=>{t&&t.endFocus()}))},this.startHover=()=>{t().then((t=>{t&&t.startHover()}))},this.endHover=()=>{t().then((t=>{t&&t.endHover()}))}}}class bs extends Ii{constructor(){super(...arguments),this.disabled=!1,this.icon="",this.label="",this.shouldRenderRipple=!1,this.rippleHandlers=new ys((()=>(this.shouldRenderRipple=!0,this.ripple)))}renderRipple(){return this.shouldRenderRipple?zn`
            <mwc-ripple
                .disabled="${this.disabled}"
                unbounded>
            </mwc-ripple>`:""}focus(){const t=this.buttonElement;t&&(this.rippleHandlers.startFocus(),t.focus())}blur(){const t=this.buttonElement;t&&(this.rippleHandlers.endFocus(),t.blur())}render(){return zn`<button
        class="mdc-icon-button"
        aria-label="${this.label||this.icon}"
        ?disabled="${this.disabled}"
        @focus="${this.handleRippleFocus}"
        @blur="${this.handleRippleBlur}"
        @mousedown="${this.handleRippleMouseDown}"
        @mouseenter="${this.handleRippleMouseEnter}"
        @mouseleave="${this.handleRippleMouseLeave}"
        @touchstart="${this.handleRippleTouchStart}"
        @touchend="${this.handleRippleDeactivate}"
        @touchcancel="${this.handleRippleDeactivate}">
      ${this.renderRipple()}
    <i class="material-icons">${this.icon}</i>
    <span class="default-slot-container">
        <slot></slot>
    </span>
  </button>`}handleRippleMouseDown(t){const e=()=>{window.removeEventListener("mouseup",e),this.handleRippleDeactivate()};window.addEventListener("mouseup",e),this.rippleHandlers.startPress(t)}handleRippleTouchStart(t){this.rippleHandlers.startPress(t)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}}tn([Qn({type:Boolean,reflect:!0})],bs.prototype,"disabled",void 0),tn([Qn({type:String})],bs.prototype,"icon",void 0),tn([Qn({type:String})],bs.prototype,"label",void 0),tn([ti("button")],bs.prototype,"buttonElement",void 0),tn([ei("mwc-ripple")],bs.prototype,"ripple",void 0),tn([$n()],bs.prototype,"shouldRenderRipple",void 0),tn([ri({passive:!0})],bs.prototype,"handleRippleMouseDown",null),tn([ri({passive:!0})],bs.prototype,"handleRippleTouchStart",null);const _s=Ai`.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:transparent;fill:currentColor;color:inherit;font-size:24px;text-decoration:none;cursor:pointer;user-select:none;width:48px;height:48px;padding:12px}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button:disabled{color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-disabled-on-light, rgba(0, 0, 0, 0.38))}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}:host{display:inline-block;outline:none;--mdc-ripple-color: currentcolor}:host([disabled]){pointer-events:none}:host,.mdc-icon-button{vertical-align:top}.mdc-icon-button{width:var(--mdc-icon-button-size, 48px);height:var(--mdc-icon-button-size, 48px);padding:calc((var(--mdc-icon-button-size, 48px) - var(--mdc-icon-size, 24px)) / 2)}.mdc-icon-button>i{position:absolute;top:0;padding-top:inherit}.mdc-icon-button i,.mdc-icon-button svg,.mdc-icon-button img,.mdc-icon-button ::slotted(*){display:block;width:var(--mdc-icon-size, 24px);height:var(--mdc-icon-size, 24px)}`;let ws=class extends bs{};ws.styles=_s,ws=tn([qn("mwc-icon-button")],ws),n(5971),n(352);var xs={CLOSING:"mdc-dialog--closing",OPEN:"mdc-dialog--open",OPENING:"mdc-dialog--opening",SCROLLABLE:"mdc-dialog--scrollable",SCROLL_LOCK:"mdc-dialog-scroll-lock",STACKED:"mdc-dialog--stacked"},Ss={ACTION_ATTRIBUTE:"data-mdc-dialog-action",BUTTON_DEFAULT_ATTRIBUTE:"data-mdc-dialog-button-default",BUTTON_SELECTOR:".mdc-dialog__button",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".mdc-dialog__container",CONTENT_SELECTOR:".mdc-dialog__content",DESTROY_ACTION:"destroy",INITIAL_FOCUS_ATTRIBUTE:"data-mdc-dialog-initial-focus",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".mdc-dialog__scrim",SUPPRESS_DEFAULT_PRESS_SELECTOR:["textarea",".mdc-menu .mdc-list-item"].join(", "),SURFACE_SELECTOR:".mdc-dialog__surface"},Es={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150},Ms=function(t){function e(n){var i=t.call(this,$e($e({},e.defaultAdapter),n))||this;return i.isOpen_=!1,i.animationFrame_=0,i.animationTimer_=0,i.layoutFrame_=0,i.escapeKeyAction_=Ss.CLOSE_ACTION,i.scrimClickAction_=Ss.CLOSE_ACTION,i.autoStackButtons_=!0,i.areButtonsStacked_=!1,i.suppressDefaultPressSelector=Ss.SUPPRESS_DEFAULT_PRESS_SELECTOR,i}return Qe(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return xs},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Ss},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Es},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},getInitialFocusEl:function(){return null},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.adapter.hasClass(xs.STACKED)&&this.setAutoStackButtons(!1)},e.prototype.destroy=function(){this.isOpen_&&this.close(Ss.DESTROY_ACTION),this.animationTimer_&&(clearTimeout(this.animationTimer_),this.handleAnimationTimerEnd_()),this.layoutFrame_&&(cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=0)},e.prototype.open=function(){var t=this;this.isOpen_=!0,this.adapter.notifyOpening(),this.adapter.addClass(xs.OPENING),this.runNextAnimationFrame_((function(){t.adapter.addClass(xs.OPEN),t.adapter.addBodyClass(xs.SCROLL_LOCK),t.layout(),t.animationTimer_=setTimeout((function(){t.handleAnimationTimerEnd_(),t.adapter.trapFocus(t.adapter.getInitialFocusEl()),t.adapter.notifyOpened()}),Es.DIALOG_ANIMATION_OPEN_TIME_MS)}))},e.prototype.close=function(t){var e=this;void 0===t&&(t=""),this.isOpen_&&(this.isOpen_=!1,this.adapter.notifyClosing(t),this.adapter.addClass(xs.CLOSING),this.adapter.removeClass(xs.OPEN),this.adapter.removeBodyClass(xs.SCROLL_LOCK),cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,clearTimeout(this.animationTimer_),this.animationTimer_=setTimeout((function(){e.adapter.releaseFocus(),e.handleAnimationTimerEnd_(),e.adapter.notifyClosed(t)}),Es.DIALOG_ANIMATION_CLOSE_TIME_MS))},e.prototype.isOpen=function(){return this.isOpen_},e.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction_},e.prototype.setEscapeKeyAction=function(t){this.escapeKeyAction_=t},e.prototype.getScrimClickAction=function(){return this.scrimClickAction_},e.prototype.setScrimClickAction=function(t){this.scrimClickAction_=t},e.prototype.getAutoStackButtons=function(){return this.autoStackButtons_},e.prototype.setAutoStackButtons=function(t){this.autoStackButtons_=t},e.prototype.getSuppressDefaultPressSelector=function(){return this.suppressDefaultPressSelector},e.prototype.setSuppressDefaultPressSelector=function(t){this.suppressDefaultPressSelector=t},e.prototype.layout=function(){var t=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){t.layoutInternal_(),t.layoutFrame_=0}))},e.prototype.handleClick=function(t){if(this.adapter.eventTargetMatches(t.target,Ss.SCRIM_SELECTOR)&&""!==this.scrimClickAction_)this.close(this.scrimClickAction_);else{var e=this.adapter.getActionFromEvent(t);e&&this.close(e)}},e.prototype.handleKeydown=function(t){var e="Enter"===t.key||13===t.keyCode;if(e&&!this.adapter.getActionFromEvent(t)){var n=t.composedPath?t.composedPath()[0]:t.target,i=!this.adapter.eventTargetMatches(n,this.suppressDefaultPressSelector);e&&i&&this.adapter.clickDefaultButton()}},e.prototype.handleDocumentKeydown=function(t){("Escape"===t.key||27===t.keyCode)&&""!==this.escapeKeyAction_&&this.close(this.escapeKeyAction_)},e.prototype.layoutInternal_=function(){this.autoStackButtons_&&this.detectStackedButtons_(),this.detectScrollableContent_()},e.prototype.handleAnimationTimerEnd_=function(){this.animationTimer_=0,this.adapter.removeClass(xs.OPENING),this.adapter.removeClass(xs.CLOSING)},e.prototype.runNextAnimationFrame_=function(t){var e=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame((function(){e.animationFrame_=0,clearTimeout(e.animationTimer_),e.animationTimer_=setTimeout(t,0)}))},e.prototype.detectStackedButtons_=function(){this.adapter.removeClass(xs.STACKED);var t=this.adapter.areButtonsStacked();t&&this.adapter.addClass(xs.STACKED),t!==this.areButtonsStacked_&&(this.adapter.reverseButtons(),this.areButtonsStacked_=t)},e.prototype.detectScrollableContent_=function(){this.adapter.removeClass(xs.SCROLLABLE),this.adapter.isContentScrollable()&&this.adapter.addClass(xs.SCROLLABLE)},e}(hi);const Ts=Ms;function Rs(t){return void 0===t&&(t=window),!!function(t){void 0===t&&(t=window);var e=!1;try{var n={get passive(){return e=!0,!1}},i=function(){};t.document.addEventListener("test",i,n),t.document.removeEventListener("test",i,n)}catch(t){e=!1}return e}(t)&&{passive:!0}}const Os=t=>(e,n)=>{if(e.constructor._observers){if(!e.constructor.hasOwnProperty("_observers")){const t=e.constructor._observers;e.constructor._observers=new Map,t.forEach(((t,n)=>e.constructor._observers.set(n,t)))}}else{e.constructor._observers=new Map;const t=e.updated;e.updated=function(e){t.call(this,e),e.forEach(((t,e)=>{const n=this.constructor._observers.get(e);void 0!==n&&n.call(this,this[e],t)}))}}e.constructor._observers.set(n,t)},Ls=document.$blockingElements;class Ps extends Ti{constructor(){super(...arguments),this.hideActions=!1,this.stacked=!1,this.heading="",this.scrimClickAction="close",this.escapeKeyAction="close",this.open=!1,this.defaultAction="close",this.actionAttribute="dialogAction",this.initialFocusAttribute="dialogInitialFocus",this.mdcFoundationClass=Ts,this.boundLayout=null,this.boundHandleClick=null,this.boundHandleKeydown=null,this.boundHandleDocumentKeydown=null}get primaryButton(){let t=this.primarySlot.assignedNodes();t=t.filter((t=>t instanceof HTMLElement));return t[0]||null}emitNotification(t,e){const n=new CustomEvent(t,{detail:e?{action:e}:{}});this.dispatchEvent(n)}getInitialFocusEl(){const t=`[${this.initialFocusAttribute}]`,e=this.querySelector(t);if(e)return e;const n=this.primarySlot.assignedNodes({flatten:!0}),i=this.searchNodeTreesForAttribute(n,this.initialFocusAttribute);if(i)return i;const r=this.secondarySlot.assignedNodes({flatten:!0}),o=this.searchNodeTreesForAttribute(r,this.initialFocusAttribute);if(o)return o;const g=this.contentSlot.assignedNodes({flatten:!0});return this.searchNodeTreesForAttribute(g,this.initialFocusAttribute)}searchNodeTreesForAttribute(t,e){for(const n of t)if(n instanceof HTMLElement){if(n.hasAttribute(e))return n;{const t=n.querySelector(`[${e}]`);if(t)return t}}return null}createAdapter(){return Object.assign(Object.assign({},bi(this.mdcRoot)),{addBodyClass:()=>document.body.style.overflow="hidden",removeBodyClass:()=>document.body.style.overflow="",areButtonsStacked:()=>this.stacked,clickDefaultButton:()=>{const t=this.primaryButton;t&&t.click()},eventTargetMatches:(t,e)=>!!t&&vi(t,e),getActionFromEvent:t=>{if(!t.target)return"";const e=function(t,e){if(t.closest)return t.closest(e);for(var n=t;n;){if(vi(n,e))return n;n=n.parentElement}return null}(t.target,`[${this.actionAttribute}]`);return e&&e.getAttribute(this.actionAttribute)},getInitialFocusEl:()=>this.getInitialFocusEl(),isContentScrollable:()=>{const t=this.contentElement;return!!t&&t.scrollHeight>t.offsetHeight},notifyClosed:t=>this.emitNotification("closed",t),notifyClosing:t=>{this.closingDueToDisconnect||(this.open=!1),this.emitNotification("closing",t)},notifyOpened:()=>this.emitNotification("opened"),notifyOpening:()=>{this.open=!0,this.emitNotification("opening")},reverseButtons:()=>{},releaseFocus:()=>{Ls.remove(this)},trapFocus:t=>{Ls.push(this),t&&t.focus()}})}render(){const t={[xs.STACKED]:this.stacked};let e=zn``;this.heading&&(e=this.renderHeading());const n={"mdc-dialog__actions":!this.hideActions};return zn`
    <div class="mdc-dialog ${Li(t)}"
        role="alertdialog"
        aria-modal="true"
        aria-labelledby="title"
        aria-describedby="content">
      <div class="mdc-dialog__container">
        <div class="mdc-dialog__surface">
          ${e}
          <div id="content" class="mdc-dialog__content">
            <slot id="contentSlot"></slot>
          </div>
          <footer
              id="actions"
              class="${Li(n)}">
            <span>
              <slot name="secondaryAction"></slot>
            </span>
            <span>
             <slot name="primaryAction"></slot>
            </span>
          </footer>
        </div>
      </div>
      <div class="mdc-dialog__scrim"></div>
    </div>`}renderHeading(){return zn`
      <h2 id="title" class="mdc-dialog__title">${this.heading}</h2>`}firstUpdated(){super.firstUpdated(),this.mdcFoundation.setAutoStackButtons(!0)}connectedCallback(){super.connectedCallback(),this.open&&this.mdcFoundation&&!this.mdcFoundation.isOpen()&&(this.setEventListeners(),this.mdcFoundation.open())}disconnectedCallback(){super.disconnectedCallback(),this.open&&this.mdcFoundation&&(this.removeEventListeners(),this.closingDueToDisconnect=!0,this.mdcFoundation.close(this.currentAction||this.defaultAction),this.closingDueToDisconnect=!1,this.currentAction=void 0,Ls.remove(this))}forceLayout(){this.mdcFoundation.layout()}focus(){const t=this.getInitialFocusEl();t&&t.focus()}blur(){if(!this.shadowRoot)return;const t=this.shadowRoot.activeElement;if(t)t instanceof HTMLElement&&t.blur();else{const t=this.getRootNode(),e=t instanceof Document?t.activeElement:null;e instanceof HTMLElement&&e.blur()}}setEventListeners(){this.boundHandleClick=this.mdcFoundation.handleClick.bind(this.mdcFoundation),this.boundLayout=()=>{this.open&&this.mdcFoundation.layout.bind(this.mdcFoundation)},this.boundHandleKeydown=this.mdcFoundation.handleKeydown.bind(this.mdcFoundation),this.boundHandleDocumentKeydown=this.mdcFoundation.handleDocumentKeydown.bind(this.mdcFoundation),this.mdcRoot.addEventListener("click",this.boundHandleClick),window.addEventListener("resize",this.boundLayout,Rs()),window.addEventListener("orientationchange",this.boundLayout,Rs()),this.mdcRoot.addEventListener("keydown",this.boundHandleKeydown,Rs()),document.addEventListener("keydown",this.boundHandleDocumentKeydown,Rs())}removeEventListeners(){this.boundHandleClick&&this.mdcRoot.removeEventListener("click",this.boundHandleClick),this.boundLayout&&(window.removeEventListener("resize",this.boundLayout),window.removeEventListener("orientationchange",this.boundLayout)),this.boundHandleKeydown&&this.mdcRoot.removeEventListener("keydown",this.boundHandleKeydown),this.boundHandleDocumentKeydown&&this.mdcRoot.removeEventListener("keydown",this.boundHandleDocumentKeydown)}close(){this.open=!1}show(){this.open=!0}}tn([ti(".mdc-dialog")],Ps.prototype,"mdcRoot",void 0),tn([ti('slot[name="primaryAction"]')],Ps.prototype,"primarySlot",void 0),tn([ti('slot[name="secondaryAction"]')],Ps.prototype,"secondarySlot",void 0),tn([ti("#contentSlot")],Ps.prototype,"contentSlot",void 0),tn([ti(".mdc-dialog__content")],Ps.prototype,"contentElement",void 0),tn([ti(".mdc-container")],Ps.prototype,"conatinerElement",void 0),tn([Qn({type:Boolean})],Ps.prototype,"hideActions",void 0),tn([Qn({type:Boolean}),Os((function(){this.forceLayout()}))],Ps.prototype,"stacked",void 0),tn([Qn({type:String})],Ps.prototype,"heading",void 0),tn([Qn({type:String}),Os((function(t){this.mdcFoundation.setScrimClickAction(t)}))],Ps.prototype,"scrimClickAction",void 0),tn([Qn({type:String}),Os((function(t){this.mdcFoundation.setEscapeKeyAction(t)}))],Ps.prototype,"escapeKeyAction",void 0),tn([Qn({type:Boolean,reflect:!0}),Os((function(t){this.mdcFoundation&&this.isConnected&&(t?(this.setEventListeners(),this.mdcFoundation.open()):(this.removeEventListeners(),this.mdcFoundation.close(this.currentAction||this.defaultAction),this.currentAction=void 0))}))],Ps.prototype,"open",void 0),tn([Qn()],Ps.prototype,"defaultAction",void 0),tn([Qn()],Ps.prototype,"actionAttribute",void 0),tn([Qn()],Ps.prototype,"initialFocusAttribute",void 0);const Ns=Ai`.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:0;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:#fff;background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:7}.mdc-dialog .mdc-dialog__surface{background-color:#fff;background-color:var(--mdc-theme-surface, #fff)}.mdc-dialog .mdc-dialog__scrim{background-color:rgba(0,0,0,.32)}.mdc-dialog .mdc-dialog__title{color:rgba(0,0,0,.87)}.mdc-dialog .mdc-dialog__content{color:rgba(0,0,0,.6)}.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__title,.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__actions{border-color:rgba(0,0,0,.12)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog .mdc-dialog__surface{border-radius:4px;border-radius:var(--mdc-shape-medium, 4px)}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0,0,0,.12);display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-dialog[dir=rtl] .mdc-dialog__surface,[dir=rtl] .mdc-dialog .mdc-dialog__surface{text-align:right}.mdc-dialog__title{display:block;margin-top:0;line-height:normal;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);position:relative;flex-shrink:0;box-sizing:border-box;margin:0;padding:0 24px 9px;border-bottom:1px solid transparent}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-dialog[dir=rtl] .mdc-dialog__title,[dir=rtl] .mdc-dialog .mdc-dialog__title{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{padding-bottom:15px}.mdc-dialog__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-body1-font-size, 1rem);line-height:1.5rem;line-height:var(--mdc-typography-body1-line-height, 1.5rem);font-weight:400;font-weight:var(--mdc-typography-body1-font-weight, 400);letter-spacing:0.03125em;letter-spacing:var(--mdc-typography-body1-letter-spacing, 0.03125em);text-decoration:inherit;text-decoration:var(--mdc-typography-body1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body1-text-transform, inherit);flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;-webkit-overflow-scrolling:touch}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid transparent}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-dialog[dir=rtl] .mdc-dialog__button,[dir=rtl] .mdc-dialog .mdc-dialog__button{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog-scroll-lock{overflow:hidden}#actions:not(.mdc-dialog__actions){display:none}.mdc-dialog__surface{box-shadow:var(--mdc-dialog-box-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}@media(min-width: 560px){.mdc-dialog .mdc-dialog__surface{max-width:560px;max-width:var(--mdc-dialog-max-width, 560px)}}.mdc-dialog .mdc-dialog__scrim{background-color:rgba(0, 0, 0, 0.32);background-color:var(--mdc-dialog-scrim-color, rgba(0, 0, 0, 0.32))}.mdc-dialog .mdc-dialog__title{color:rgba(0, 0, 0, 0.87);color:var(--mdc-dialog-heading-ink-color, rgba(0, 0, 0, 0.87))}.mdc-dialog .mdc-dialog__content{color:rgba(0, 0, 0, 0.6);color:var(--mdc-dialog-content-ink-color, rgba(0, 0, 0, 0.6))}.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__title,.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__actions{border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-dialog-scroll-divider-color, rgba(0, 0, 0, 0.12))}.mdc-dialog .mdc-dialog__surface{min-width:280px;min-width:var(--mdc-dialog-min-width, 280px)}.mdc-dialog .mdc-dialog__surface{max-height:var(--mdc-dialog-max-height, calc(100% - 32px))}#actions ::slotted(*){margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] #actions ::slotted(*),#actions ::slotted(*)[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog[dir=rtl] #actions ::slotted(*),[dir=rtl] .mdc-dialog #actions ::slotted(*){text-align:left}.mdc-dialog--stacked #actions{flex-direction:column-reverse}.mdc-dialog--stacked #actions *:not(:last-child) ::slotted(*){flex-basis:1e-9px;margin-top:12px}`;let Ds=class extends Ps{};Ds.styles=Ns,Ds=tn([qn("mwc-dialog")],Ds);const ks=new WeakMap,js=pn((t=>e=>{const n=ks.get(e);if(void 0===t&&e instanceof Mn){if(void 0!==n||!ks.has(e)){const t=e.committer.name;e.committer.element.removeAttribute(t)}}else t!==n&&e.setValue(t);ks.set(e,t)}));var Fs="Backspace",Bs="Enter",zs="Spacebar",Us="PageUp",Hs="PageDown",Gs="End",Ws="Home",Vs="ArrowLeft",Zs="ArrowUp",Ys="ArrowRight",Xs="ArrowDown",Js="Delete",qs="Escape",Ks=new Set;Ks.add(Fs),Ks.add(Bs),Ks.add(zs),Ks.add(Us),Ks.add(Hs),Ks.add(Gs),Ks.add(Ws),Ks.add(Vs),Ks.add(Zs),Ks.add(Ys),Ks.add(Xs),Ks.add(Js),Ks.add(qs);var Qs=new Map;Qs.set(8,Fs),Qs.set(13,Bs),Qs.set(32,zs),Qs.set(33,Us),Qs.set(34,Hs),Qs.set(35,Gs),Qs.set(36,Ws),Qs.set(37,Vs),Qs.set(38,Zs),Qs.set(39,Ys),Qs.set(40,Xs),Qs.set(46,Js),Qs.set(27,qs);var $s=new Set;function ta(t){var e=t.key;return Ks.has(e)?e:Qs.get(t.keyCode)||"Unknown"}$s.add(Us),$s.add(Hs),$s.add(Gs),$s.add(Ws),$s.add(Vs),$s.add(Zs),$s.add(Ys),$s.add(Xs);var ea="mdc-list-item--disabled",na={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"\n    .mdc-list-item button:not(:disabled),\n    .mdc-list-item a\n  ",FOCUSABLE_CHILD_ELEMENTS:'\n    .mdc-list-item button:not(:disabled),\n    .mdc-list-item a,\n    .mdc-list-item input[type="radio"]:not(:disabled),\n    .mdc-list-item input[type="checkbox"]:not(:disabled)\n  ',RADIO_SELECTOR:'input[type="radio"]'},ia={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300};const ra=["input","button","textarea","select"];function oa(t){return t instanceof Set}const ga=t=>{const e=t===ia.UNSET_INDEX?new Set:t;return oa(e)?new Set(e):new Set([e])};class sa extends hi{constructor(t){super(Object.assign(Object.assign({},sa.defaultAdapter),t)),this.isMulti_=!1,this.wrapFocus_=!1,this.isVertical_=!0,this.selectedIndex_=ia.UNSET_INDEX,this.focusedItemIndex_=ia.UNSET_INDEX,this.useActivatedClass_=!1,this.ariaCurrentAttrValue_=null}static get strings(){return na}static get numbers(){return ia}static get defaultAdapter(){return{focusItemAtIndex:()=>{},getFocusedElementIndex:()=>0,getListItemCount:()=>0,isFocusInsideList:()=>!1,isRootFocused:()=>!1,notifyAction:()=>{},notifySelected:()=>{},getSelectedStateForElementIndex:()=>!1,setDisabledStateForElementIndex:()=>{},getDisabledStateForElementIndex:()=>!1,setSelectedStateForElementIndex:()=>{},setActivatedStateForElementIndex:()=>{},setTabIndexForElementIndex:()=>{},setAttributeForElementIndex:()=>{},getAttributeForElementIndex:()=>null}}setWrapFocus(t){this.wrapFocus_=t}setMulti(t){this.isMulti_=t;const e=this.selectedIndex_;if(t){if(!oa(e)){const t=e===ia.UNSET_INDEX;this.selectedIndex_=t?new Set:new Set([e])}}else if(oa(e))if(e.size){const t=Array.from(e).sort();this.selectedIndex_=t[0]}else this.selectedIndex_=ia.UNSET_INDEX}setVerticalOrientation(t){this.isVertical_=t}setUseActivatedClass(t){this.useActivatedClass_=t}getSelectedIndex(){return this.selectedIndex_}setSelectedIndex(t){this.isIndexValid_(t)&&(this.isMulti_?this.setMultiSelectionAtIndex_(ga(t)):this.setSingleSelectionAtIndex_(t))}handleFocusIn(t,e){e>=0&&this.adapter.setTabIndexForElementIndex(e,0)}handleFocusOut(t,e){e>=0&&this.adapter.setTabIndexForElementIndex(e,-1),setTimeout((()=>{this.adapter.isFocusInsideList()||this.setTabindexToFirstSelectedItem_()}),0)}handleKeydown(t,e,n){const i="ArrowLeft"===ta(t),r="ArrowUp"===ta(t),o="ArrowRight"===ta(t),g="ArrowDown"===ta(t),s="Home"===ta(t),a="End"===ta(t),A="Enter"===ta(t),C="Spacebar"===ta(t);if(this.adapter.isRootFocused())return void(r||a?(t.preventDefault(),this.focusLastElement()):(g||s)&&(t.preventDefault(),this.focusFirstElement()));let I,c=this.adapter.getFocusedElementIndex();if(!(-1===c&&(c=n,c<0))){if(this.isVertical_&&g||!this.isVertical_&&o)this.preventDefaultEvent(t),I=this.focusNextElement(c);else if(this.isVertical_&&r||!this.isVertical_&&i)this.preventDefaultEvent(t),I=this.focusPrevElement(c);else if(s)this.preventDefaultEvent(t),I=this.focusFirstElement();else if(a)this.preventDefaultEvent(t),I=this.focusLastElement();else if((A||C)&&e){const e=t.target;if(e&&"A"===e.tagName&&A)return;this.preventDefaultEvent(t),this.setSelectedIndexOnAction_(c,!0)}this.focusedItemIndex_=c,void 0!==I&&(this.setTabindexAtIndex_(I),this.focusedItemIndex_=I)}}handleSingleSelection(t,e,n){t!==ia.UNSET_INDEX&&(this.setSelectedIndexOnAction_(t,e,n),this.setTabindexAtIndex_(t),this.focusedItemIndex_=t)}focusNextElement(t){let e=t+1;if(e>=this.adapter.getListItemCount()){if(!this.wrapFocus_)return t;e=0}return this.adapter.focusItemAtIndex(e),e}focusPrevElement(t){let e=t-1;if(e<0){if(!this.wrapFocus_)return t;e=this.adapter.getListItemCount()-1}return this.adapter.focusItemAtIndex(e),e}focusFirstElement(){return this.adapter.focusItemAtIndex(0),0}focusLastElement(){const t=this.adapter.getListItemCount()-1;return this.adapter.focusItemAtIndex(t),t}setEnabled(t,e){this.isIndexValid_(t)&&this.adapter.setDisabledStateForElementIndex(t,!e)}preventDefaultEvent(t){const e=`${t.target.tagName}`.toLowerCase();-1===ra.indexOf(e)&&t.preventDefault()}setSingleSelectionAtIndex_(t,e=!0){this.selectedIndex_!==t&&(this.selectedIndex_!==ia.UNSET_INDEX&&(this.adapter.setSelectedStateForElementIndex(this.selectedIndex_,!1),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(this.selectedIndex_,!1)),e&&this.adapter.setSelectedStateForElementIndex(t,!0),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(t,!0),this.setAriaForSingleSelectionAtIndex_(t),this.selectedIndex_=t,this.adapter.notifySelected(t))}setMultiSelectionAtIndex_(t,e=!0){const n=((t,e)=>{const n=Array.from(t),i=Array.from(e),r={added:[],removed:[]},o=n.sort(),g=i.sort();let s=0,a=0;for(;s<o.length||a<g.length;){const t=o[s],e=g[a];t!==e?void 0!==t&&(void 0===e||t<e)?(r.removed.push(t),s++):void 0!==e&&(void 0===t||e<t)&&(r.added.push(e),a++):(s++,a++)}return r})(ga(this.selectedIndex_),t);if(n.removed.length||n.added.length){for(const t of n.removed)e&&this.adapter.setSelectedStateForElementIndex(t,!1),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(t,!1);for(const t of n.added)e&&this.adapter.setSelectedStateForElementIndex(t,!0),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(t,!0);this.selectedIndex_=t,this.adapter.notifySelected(t,n)}}setAriaForSingleSelectionAtIndex_(t){this.selectedIndex_===ia.UNSET_INDEX&&(this.ariaCurrentAttrValue_=this.adapter.getAttributeForElementIndex(t,na.ARIA_CURRENT));const e=null!==this.ariaCurrentAttrValue_,n=e?na.ARIA_CURRENT:na.ARIA_SELECTED;this.selectedIndex_!==ia.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex_,n,"false");const i=e?this.ariaCurrentAttrValue_:"true";this.adapter.setAttributeForElementIndex(t,n,i)}setTabindexAtIndex_(t){this.focusedItemIndex_===ia.UNSET_INDEX&&0!==t?this.adapter.setTabIndexForElementIndex(0,-1):this.focusedItemIndex_>=0&&this.focusedItemIndex_!==t&&this.adapter.setTabIndexForElementIndex(this.focusedItemIndex_,-1),this.adapter.setTabIndexForElementIndex(t,0)}setTabindexToFirstSelectedItem_(){let t=0;"number"==typeof this.selectedIndex_&&this.selectedIndex_!==ia.UNSET_INDEX?t=this.selectedIndex_:oa(this.selectedIndex_)&&this.selectedIndex_.size>0&&(t=Math.min(...this.selectedIndex_)),this.setTabindexAtIndex_(t)}isIndexValid_(t){if(t instanceof Set){if(!this.isMulti_)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");if(0===t.size)return!0;{let e=!1;for(const n of t)if(e=this.isIndexInRange_(n),e)break;return e}}if("number"==typeof t){if(this.isMulti_)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+t);return t===ia.UNSET_INDEX||this.isIndexInRange_(t)}return!1}isIndexInRange_(t){const e=this.adapter.getListItemCount();return t>=0&&t<e}setSelectedIndexOnAction_(t,e,n){if(this.adapter.getDisabledStateForElementIndex(t))return;let i=t;this.isMulti_&&(i=new Set([t])),this.isIndexValid_(i)&&(this.isMulti_?this.toggleMultiAtIndex(t,n,e):e||n?this.setSingleSelectionAtIndex_(t,e):this.selectedIndex_===t&&this.setSingleSelectionAtIndex_(ia.UNSET_INDEX),e&&this.adapter.notifyAction(t))}toggleMultiAtIndex(t,e,n=!0){let i=!1;i=void 0===e?!this.adapter.getSelectedStateForElementIndex(t):e;const r=ga(this.selectedIndex_);i?r.add(t):r.delete(t),this.setMultiSelectionAtIndex_(r,n)}}const aa=sa,Aa=t=>t.hasAttribute("mwc-list-item");class Ca extends Ti{constructor(){super(...arguments),this.mdcAdapter=null,this.mdcFoundationClass=aa,this.activatable=!1,this.multi=!1,this.wrapFocus=!1,this.itemRoles=null,this.innerRole=null,this.innerAriaLabel=null,this.rootTabbable=!1,this.previousTabindex=null,this.noninteractive=!1,this.items_=[]}get assignedElements(){const t=this.slotElement;return t?t.assignedNodes({flatten:!0}).filter(yi):[]}get items(){return this.items_}updateItems(){const t=this.assignedElements,e=[];for(const n of t)Aa(n)&&(e.push(n),n._managingList=this),n.hasAttribute("divider")&&!n.hasAttribute("role")&&n.setAttribute("role","separator");this.items_=e;const n=new Set;if(this.items_.forEach(((t,e)=>{this.itemRoles?t.setAttribute("role",this.itemRoles):t.removeAttribute("role"),t.selected&&n.add(e)})),this.multi)this.select(n);else{const t=n.size?n.entries().next().value[1]:-1;this.select(t)}const i=new Event("items-updated",{bubbles:!0,composed:!0});this.dispatchEvent(i)}get selected(){const t=this.index;if(!oa(t))return-1===t?null:this.items[t];const e=[];for(const n of t)e.push(this.items[n]);return e}get index(){return this.mdcFoundation?this.mdcFoundation.getSelectedIndex():-1}render(){const t=null===this.innerRole?void 0:this.innerRole,e=null===this.innerAriaLabel?void 0:this.innerAriaLabel,n=this.rootTabbable?"0":"-1";return zn`
      <!-- @ts-ignore -->
      <ul
          tabindex=${n}
          role="${js(t)}"
          aria-label="${js(e)}"
          class="mdc-list"
          @keydown=${this.onKeydown}
          @focusin=${this.onFocusIn}
          @focusout=${this.onFocusOut}
          @request-selected=${this.onRequestSelected}
          @list-item-rendered=${this.onListItemConnected}>
        <slot></slot>
      </ul>
    `}firstUpdated(){super.firstUpdated(),this.items.length||(this.mdcFoundation.setMulti(this.multi),this.layout())}onFocusIn(t){if(this.mdcFoundation&&this.mdcRoot){const e=this.getIndexOfTarget(t);this.mdcFoundation.handleFocusIn(t,e)}}onFocusOut(t){if(this.mdcFoundation&&this.mdcRoot){const e=this.getIndexOfTarget(t);this.mdcFoundation.handleFocusOut(t,e)}}onKeydown(t){if(this.mdcFoundation&&this.mdcRoot){const e=this.getIndexOfTarget(t),n=t.target,i=Aa(n);this.mdcFoundation.handleKeydown(t,i,e)}}onRequestSelected(t){if(this.mdcFoundation){let e=this.getIndexOfTarget(t);if(-1===e&&(this.layout(),e=this.getIndexOfTarget(t),-1===e))return;if(this.items[e].disabled)return;const n=t.detail.selected,i=t.detail.source;this.mdcFoundation.handleSingleSelection(e,"interaction"===i,n),t.stopPropagation()}}getIndexOfTarget(t){const e=this.items,n=t.composedPath();for(const t of n){let n=-1;if(yi(t)&&Aa(t)&&(n=e.indexOf(t)),-1!==n)return n}return-1}createAdapter(){return this.mdcAdapter={getListItemCount:()=>this.mdcRoot?this.items.length:0,getFocusedElementIndex:this.getFocusedItemIndex,getAttributeForElementIndex:(t,e)=>{if(!this.mdcRoot)return"";const n=this.items[t];return n?n.getAttribute(e):""},setAttributeForElementIndex:(t,e,n)=>{if(!this.mdcRoot)return;const i=this.items[t];i&&i.setAttribute(e,n)},focusItemAtIndex:t=>{const e=this.items[t];e&&e.focus()},setTabIndexForElementIndex:(t,e)=>{const n=this.items[t];n&&(n.tabindex=e)},notifyAction:t=>{const e={bubbles:!0,composed:!0};e.detail={index:t};const n=new CustomEvent("action",e);this.dispatchEvent(n)},notifySelected:(t,e)=>{const n={bubbles:!0,composed:!0};n.detail={index:t,diff:e};const i=new CustomEvent("selected",n);this.dispatchEvent(i)},isFocusInsideList:()=>Mi(this),isRootFocused:()=>{const t=this.mdcRoot;return t.getRootNode().activeElement===t},setDisabledStateForElementIndex:(t,e)=>{const n=this.items[t];n&&(n.disabled=e)},getDisabledStateForElementIndex:t=>{const e=this.items[t];return!!e&&e.disabled},setSelectedStateForElementIndex:(t,e)=>{const n=this.items[t];n&&(n.selected=e)},getSelectedStateForElementIndex:t=>{const e=this.items[t];return!!e&&e.selected},setActivatedStateForElementIndex:(t,e)=>{const n=this.items[t];n&&(n.activated=e)}},this.mdcAdapter}selectUi(t,e=!1){const n=this.items[t];n&&(n.selected=!0,n.activated=e)}deselectUi(t){const e=this.items[t];e&&(e.selected=!1,e.activated=!1)}select(t){this.mdcFoundation&&this.mdcFoundation.setSelectedIndex(t)}toggle(t,e){this.multi&&this.mdcFoundation.toggleMultiAtIndex(t,e)}onListItemConnected(t){const e=t.target;this.layout(-1===this.items.indexOf(e))}layout(t=!0){t&&this.updateItems();const e=this.items[0];for(const t of this.items)t.tabindex=-1;e&&(this.noninteractive?this.previousTabindex||(this.previousTabindex=e):e.tabindex=0)}getFocusedItemIndex(){if(!this.mdcRoot)return-1;if(!this.items.length)return-1;const t=Ei();if(!t.length)return-1;for(let e=t.length-1;e>=0;e--){const n=t[e];if(Aa(n))return this.items.indexOf(n)}return-1}focusItemAtIndex(t){for(const t of this.items)if(0===t.tabindex){t.tabindex=-1;break}this.items[t].tabindex=0,this.items[t].focus()}focus(){const t=this.mdcRoot;t&&t.focus()}blur(){const t=this.mdcRoot;t&&t.blur()}}tn([ti(".mdc-list")],Ca.prototype,"mdcRoot",void 0),tn([ti("slot")],Ca.prototype,"slotElement",void 0),tn([Qn({type:Boolean}),Os((function(t){this.mdcFoundation&&this.mdcFoundation.setUseActivatedClass(t)}))],Ca.prototype,"activatable",void 0),tn([Qn({type:Boolean}),Os((function(t,e){this.mdcFoundation&&this.mdcFoundation.setMulti(t),void 0!==e&&this.layout()}))],Ca.prototype,"multi",void 0),tn([Qn({type:Boolean}),Os((function(t){this.mdcFoundation&&this.mdcFoundation.setWrapFocus(t)}))],Ca.prototype,"wrapFocus",void 0),tn([Qn({type:String}),Os((function(t,e){void 0!==e&&this.updateItems()}))],Ca.prototype,"itemRoles",void 0),tn([Qn({type:String})],Ca.prototype,"innerRole",void 0),tn([Qn({type:String})],Ca.prototype,"innerAriaLabel",void 0),tn([Qn({type:Boolean})],Ca.prototype,"rootTabbable",void 0),tn([Qn({type:Boolean,reflect:!0}),Os((function(t){const e=this.slotElement;if(t&&e){const t=function(t,e){for(const e of t.assignedNodes({flatten:!0}))if(yi(e)){const t=e;if(vi(t,'[tabindex="0"]'))return t}return null}(e);this.previousTabindex=t,t&&t.setAttribute("tabindex","-1")}else!t&&this.previousTabindex&&(this.previousTabindex.setAttribute("tabindex","0"),this.previousTabindex=null)}))],Ca.prototype,"noninteractive",void 0);const Ia=Ai`@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host{display:block}.mdc-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);line-height:1.5rem;margin:0;padding:8px 0;list-style-type:none;color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87));padding:var(--mdc-list-vertical-padding, 8px) 0}.mdc-list:focus{outline:none}.mdc-list-item{height:48px}.mdc-list--dense{padding-top:4px;padding-bottom:4px;font-size:.812rem}.mdc-list ::slotted([divider]){height:0;margin:0;border:none;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgba(0, 0, 0, 0.12)}.mdc-list ::slotted([divider][padded]){margin:0 var(--mdc-list-side-padding, 16px)}.mdc-list ::slotted([divider][inset]){margin-left:var(--mdc-list-inset-margin, 72px);margin-right:0;width:calc(100% - var(--mdc-list-inset-margin, 72px))}.mdc-list-group[dir=rtl] .mdc-list ::slotted([divider][inset]),[dir=rtl] .mdc-list-group .mdc-list ::slotted([divider][inset]){margin-left:0;margin-right:var(--mdc-list-inset-margin, 72px)}.mdc-list ::slotted([divider][inset][padded]){width:calc(100% - var(--mdc-list-inset-margin, 72px) - var(--mdc-list-side-padding, 16px))}.mdc-list--dense ::slotted([mwc-list-item]){height:40px}.mdc-list--dense ::slotted([mwc-list]){--mdc-list-item-graphic-size: 20px}.mdc-list--two-line.mdc-list--dense ::slotted([mwc-list-item]),.mdc-list--avatar-list.mdc-list--dense ::slotted([mwc-list-item]){height:60px}.mdc-list--avatar-list.mdc-list--dense ::slotted([mwc-list]){--mdc-list-item-graphic-size: 36px}:host([noninteractive]){pointer-events:none;cursor:default}.mdc-list--dense ::slotted(.mdc-list-item__primary-text){display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list--dense ::slotted(.mdc-list-item__primary-text)::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list--dense ::slotted(.mdc-list-item__primary-text)::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}`;let ca=class extends Ca{};ca.styles=Ia,ca=tn([qn("mwc-list")],ca);class la extends Ii{constructor(){super(...arguments),this.value="",this.group=null,this.tabindex=-1,this.disabled=!1,this.twoline=!1,this.activated=!1,this.graphic=null,this.multipleGraphics=!1,this.hasMeta=!1,this.noninteractive=!1,this.selected=!1,this.shouldRenderRipple=!1,this._managingList=null,this.boundOnClick=this.onClick.bind(this),this._firstChanged=!0,this._skipPropRequest=!1,this.rippleHandlers=new ys((()=>(this.shouldRenderRipple=!0,this.ripple))),this.listeners=[{target:this,eventNames:["click"],cb:()=>{this.onClick()}},{target:this,eventNames:["mouseenter"],cb:this.rippleHandlers.startHover},{target:this,eventNames:["mouseleave"],cb:this.rippleHandlers.endHover},{target:this,eventNames:["focus"],cb:this.rippleHandlers.startFocus},{target:this,eventNames:["blur"],cb:this.rippleHandlers.endFocus},{target:this,eventNames:["mousedown","touchstart"],cb:t=>{const e=t.type;this.onDown("mousedown"===e?"mouseup":"touchend",t)}}]}get text(){const t=this.textContent;return t?t.trim():""}render(){const t=this.renderText(),e=this.graphic?this.renderGraphic():zn``,n=this.hasMeta?this.renderMeta():zn``;return zn`
      ${this.renderRipple()}
      ${e}
      ${t}
      ${n}`}renderRipple(){return this.shouldRenderRipple?zn`
      <mwc-ripple
        .activated=${this.activated}>
      </mwc-ripple>`:this.activated?zn`<div class="fake-activated-ripple"></div>`:""}renderGraphic(){const t={multi:this.multipleGraphics};return zn`
      <span class="mdc-list-item__graphic material-icons ${Li(t)}">
        <slot name="graphic"></slot>
      </span>`}renderMeta(){return zn`
      <span class="mdc-list-item__meta material-icons">
        <slot name="meta"></slot>
      </span>`}renderText(){const t=this.twoline?this.renderTwoline():this.renderSingleLine();return zn`
      <span class="mdc-list-item__text">
        ${t}
      </span>`}renderSingleLine(){return zn`<slot></slot>`}renderTwoline(){return zn`
      <span class="mdc-list-item__primary-text">
        <slot></slot>
      </span>
      <span class="mdc-list-item__secondary-text">
        <slot name="secondary"></slot>
      </span>
    `}onClick(){this.fireRequestSelected(!this.selected,"interaction")}onDown(t,e){const n=()=>{window.removeEventListener(t,n),this.rippleHandlers.endPress()};window.addEventListener(t,n),this.rippleHandlers.startPress(e)}fireRequestSelected(t,e){if(this.noninteractive)return;const n=new CustomEvent("request-selected",{bubbles:!0,composed:!0,detail:{source:e,selected:t}});this.dispatchEvent(n)}connectedCallback(){super.connectedCallback(),this.noninteractive||this.setAttribute("mwc-list-item","");for(const t of this.listeners)for(const e of t.eventNames)t.target.addEventListener(e,t.cb,{passive:!0})}disconnectedCallback(){super.disconnectedCallback();for(const t of this.listeners)for(const e of t.eventNames)t.target.removeEventListener(e,t.cb);this._managingList&&this._managingList.layout(!0)}firstUpdated(){const t=new Event("list-item-rendered",{bubbles:!0,composed:!0});this.dispatchEvent(t)}}tn([ti("slot")],la.prototype,"slotElement",void 0),tn([ei("mwc-ripple")],la.prototype,"ripple",void 0),tn([Qn({type:String})],la.prototype,"value",void 0),tn([Qn({type:String,reflect:!0})],la.prototype,"group",void 0),tn([Qn({type:Number,reflect:!0})],la.prototype,"tabindex",void 0),tn([Qn({type:Boolean,reflect:!0}),Os((function(t){t?this.setAttribute("aria-disabled","true"):this.setAttribute("aria-disabled","false")}))],la.prototype,"disabled",void 0),tn([Qn({type:Boolean,reflect:!0})],la.prototype,"twoline",void 0),tn([Qn({type:Boolean,reflect:!0})],la.prototype,"activated",void 0),tn([Qn({type:String,reflect:!0})],la.prototype,"graphic",void 0),tn([Qn({type:Boolean})],la.prototype,"multipleGraphics",void 0),tn([Qn({type:Boolean})],la.prototype,"hasMeta",void 0),tn([Qn({type:Boolean,reflect:!0}),Os((function(t){t?(this.removeAttribute("aria-checked"),this.removeAttribute("mwc-list-item"),this.selected=!1,this.activated=!1,this.tabIndex=-1):this.setAttribute("mwc-list-item","")}))],la.prototype,"noninteractive",void 0),tn([Qn({type:Boolean,reflect:!0}),Os((function(t){const e=this.getAttribute("role"),n="gridcell"===e||"option"===e||"row"===e||"tab"===e;n&&t?this.setAttribute("aria-selected","true"):n&&this.setAttribute("aria-selected","false"),this._firstChanged?this._firstChanged=!1:this._skipPropRequest||this.fireRequestSelected(t,"property")}))],la.prototype,"selected",void 0),tn([$n()],la.prototype,"shouldRenderRipple",void 0),tn([$n()],la.prototype,"_managingList",void 0);const ua=Ai`:host{cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;height:48px;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mdc-list-side-padding, 16px);padding-right:var(--mdc-list-side-padding, 16px);outline:none;height:48px;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host:focus{outline:none}:host([activated]){color:#6200ee;color:var(--mdc-theme-primary, #6200ee);--mdc-ripple-color: var(--mdc-theme-primary, #6200ee)}:host([activated]) .mdc-list-item__graphic{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host([activated]) .fake-activated-ripple::before{position:absolute;display:block;top:0;bottom:0;left:0;right:0;width:100%;height:100%;pointer-events:none;z-index:1;content:"";opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12);background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-list-item__graphic{flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;display:inline-flex}.mdc-list-item__graphic ::slotted(*){flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;width:100%;height:100%;text-align:center}.mdc-list-item__meta{width:var(--mdc-list-item-meta-size, 24px);height:var(--mdc-list-item-meta-size, 24px);margin-left:auto;margin-right:0;color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-hint-on-background, rgba(0, 0, 0, 0.38))}.mdc-list-item__meta.multi{width:auto}.mdc-list-item__meta ::slotted(*){width:var(--mdc-list-item-meta-size, 24px);line-height:var(--mdc-list-item-meta-size, 24px)}.mdc-list-item__meta ::slotted(.material-icons),.mdc-list-item__meta ::slotted(mwc-icon){line-height:var(--mdc-list-item-meta-size, 24px) !important}.mdc-list-item__meta ::slotted(:not(.material-icons):not(mwc-icon)){-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit)}:host[dir=rtl] .mdc-list-item__meta,[dir=rtl] :host .mdc-list-item__meta{margin-left:0;margin-right:auto}.mdc-list-item__meta ::slotted(*){width:100%;height:100%}.mdc-list-item__text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item__text ::slotted([for]),.mdc-list-item__text[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;margin-bottom:-20px;display:block}.mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;display:block}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list--dense .mdc-list-item__secondary-text{font-size:inherit}* ::slotted(a),a{color:inherit;text-decoration:none}:host([twoline]){height:72px}:host([twoline]) .mdc-list-item__text{align-self:flex-start}:host([disabled]),:host([noninteractive]){cursor:default;pointer-events:none}:host([disabled]) .mdc-list-item__text ::slotted(*){opacity:.38}:host([disabled]) .mdc-list-item__text ::slotted(*),:host([disabled]) .mdc-list-item__primary-text ::slotted(*),:host([disabled]) .mdc-list-item__secondary-text ::slotted(*){color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-list-item__secondary-text ::slotted(*){color:rgba(0, 0, 0, 0.54);color:var(--mdc-theme-text-secondary-on-background, rgba(0, 0, 0, 0.54))}.mdc-list-item__graphic ::slotted(*){background-color:transparent;color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-icon-on-background, rgba(0, 0, 0, 0.38))}.mdc-list-group__subheader ::slotted(*){color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host([graphic=avatar]) .mdc-list-item__graphic{width:var(--mdc-list-item-graphic-size, 40px);height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-list-item__graphic.multi{width:auto}:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 40px);line-height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 40px) !important}:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(*){border-radius:50%}:host([graphic=avatar],[graphic=medium],[graphic=large],[graphic=control]) .mdc-list-item__graphic{margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 16px)}:host[dir=rtl] :host([graphic=avatar],[graphic=medium],[graphic=large],[graphic=control]) .mdc-list-item__graphic,[dir=rtl] :host :host([graphic=avatar],[graphic=medium],[graphic=large],[graphic=control]) .mdc-list-item__graphic{margin-left:var(--mdc-list-item-graphic-margin, 16px);margin-right:0}:host([graphic=icon]) .mdc-list-item__graphic{width:var(--mdc-list-item-graphic-size, 24px);height:var(--mdc-list-item-graphic-size, 24px);margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 32px)}:host([graphic=icon]) .mdc-list-item__graphic.multi{width:auto}:host([graphic=icon]) .mdc-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 24px);line-height:var(--mdc-list-item-graphic-size, 24px)}:host([graphic=icon]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=icon]) .mdc-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 24px) !important}:host[dir=rtl] :host([graphic=icon]) .mdc-list-item__graphic,[dir=rtl] :host :host([graphic=icon]) .mdc-list-item__graphic{margin-left:var(--mdc-list-item-graphic-margin, 32px);margin-right:0}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:56px}:host([graphic=medium]:not([twoLine])),:host([graphic=large]:not([twoLine])){height:72px}:host([graphic=medium]) .mdc-list-item__graphic,:host([graphic=large]) .mdc-list-item__graphic{width:var(--mdc-list-item-graphic-size, 56px);height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-list-item__graphic.multi,:host([graphic=large]) .mdc-list-item__graphic.multi{width:auto}:host([graphic=medium]) .mdc-list-item__graphic ::slotted(*),:host([graphic=large]) .mdc-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 56px);line-height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=medium]) .mdc-list-item__graphic ::slotted(mwc-icon),:host([graphic=large]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=large]) .mdc-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 56px) !important}:host([graphic=large]){padding-left:0px}`;let ha=class extends la{};function da(t,e){var n="data:text/json;charset=UTF-8,"+encodeURIComponent(e),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download",t),i.click(),i.remove()}ha.styles=ua,ha=tn([qn("mwc-list-item")],ha);const pa=function(t,e,n,i){var r=new Ds;t.appendChild(r);var o=new ws;return o.setAttribute("icon","storage"),o.setAttribute("slot","actionItems"),e.appendChild(o),o.onclick=function(){n.keys().then((function(t){r.innerHTML="";var e=new ca;r.appendChild(e),t.forEach((function(t){var r=new ha,o=document.createElement("div");o.style.float="left";var g=new ws;g.setAttribute("icon","launch"),g.setAttribute("label","open"),g.setAttribute("size",12);var s=new ws;s.setAttribute("icon","delete"),s.setAttribute("label","delete");var a=new ws;a.setAttribute("icon","save_alt"),a.onclick=function(){n.getItem(t).then((function(e){da(t+".json",e)}))},o.appendChild(g),o.appendChild(a),o.appendChild(s),r.append(o);var A=document.createElement("div");A.style.float="left",A.style.paddingTop="15px",A.style.paddingLeft="5px",A.innerText=t,r.appendChild(A),e.appendChild(r),g.onclick=function(){n.getItem(t).then((function(t){var e=JSON.parse(t);i(e)}))},s.onclick=function(){confirm("Delete panel '"+t+"' from panel space?")&&n.removeItem(t).then((function(){r.remove()}))}}))})),r.open=!0},o};var fa,ma,va={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},ya={CLOSED_EVENT:"MDCMenuSurface:closed",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},ba={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67};!function(t){t[t.BOTTOM=1]="BOTTOM",t[t.CENTER=2]="CENTER",t[t.RIGHT=4]="RIGHT",t[t.FLIP_RTL=8]="FLIP_RTL"}(fa||(fa={})),function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=4]="TOP_RIGHT",t[t.BOTTOM_LEFT=1]="BOTTOM_LEFT",t[t.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",t[t.TOP_START=8]="TOP_START",t[t.TOP_END=12]="TOP_END",t[t.BOTTOM_START=9]="BOTTOM_START",t[t.BOTTOM_END=13]="BOTTOM_END"}(ma||(ma={}));var _a=function(t){function e(n){var i=t.call(this,$e($e({},e.defaultAdapter),n))||this;return i.isSurfaceOpen=!1,i.isQuickOpen=!1,i.isHoistedElement=!1,i.isFixedPosition=!1,i.openAnimationEndTimerId=0,i.closeAnimationEndTimerId=0,i.animationRequestId=0,i.anchorCorner=ma.TOP_START,i.originCorner=ma.TOP_START,i.anchorMargin={top:0,right:0,bottom:0,left:0},i.position={x:0,y:0},i}return Qe(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return va},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return ya},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return ba},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Corner",{get:function(){return ma},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyOpen:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=e.cssClasses,n=t.ROOT,i=t.OPEN;if(!this.adapter.hasClass(n))throw new Error(n+" class required in root element.");this.adapter.hasClass(i)&&(this.isSurfaceOpen=!0)},e.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},e.prototype.setAnchorCorner=function(t){this.anchorCorner=t},e.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^fa.RIGHT},e.prototype.setAnchorMargin=function(t){this.anchorMargin.top=t.top||0,this.anchorMargin.right=t.right||0,this.anchorMargin.bottom=t.bottom||0,this.anchorMargin.left=t.left||0},e.prototype.setIsHoisted=function(t){this.isHoistedElement=t},e.prototype.setFixedPosition=function(t){this.isFixedPosition=t},e.prototype.setAbsolutePosition=function(t,e){this.position.x=this.isFinite(t)?t:0,this.position.y=this.isFinite(e)?e:0},e.prototype.setQuickOpen=function(t){this.isQuickOpen=t},e.prototype.isOpen=function(){return this.isSurfaceOpen},e.prototype.open=function(){var t=this;this.isSurfaceOpen||(this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(e.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(e.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame((function(){t.adapter.addClass(e.cssClasses.OPEN),t.dimensions=t.adapter.getInnerDimensions(),t.autoposition(),t.openAnimationEndTimerId=setTimeout((function(){t.openAnimationEndTimerId=0,t.adapter.removeClass(e.cssClasses.ANIMATING_OPEN),t.adapter.notifyOpen()}),ba.TRANSITION_OPEN_DURATION)})),this.isSurfaceOpen=!0))},e.prototype.close=function(t){var n=this;void 0===t&&(t=!1),this.isSurfaceOpen&&(this.isQuickOpen?(this.isSurfaceOpen=!1,t||this.maybeRestoreFocus(),this.adapter.removeClass(e.cssClasses.OPEN),this.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),this.adapter.notifyClose()):(this.adapter.addClass(e.cssClasses.ANIMATING_CLOSED),requestAnimationFrame((function(){n.adapter.removeClass(e.cssClasses.OPEN),n.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),n.closeAnimationEndTimerId=setTimeout((function(){n.closeAnimationEndTimerId=0,n.adapter.removeClass(e.cssClasses.ANIMATING_CLOSED),n.adapter.notifyClose()}),ba.TRANSITION_CLOSE_DURATION)})),this.isSurfaceOpen=!1,t||this.maybeRestoreFocus()))},e.prototype.handleBodyClick=function(t){var e=t.target;this.adapter.isElementInContainer(e)||this.close()},e.prototype.handleKeydown=function(t){var e=t.keyCode;("Escape"===t.key||27===e)&&this.close()},e.prototype.autoposition=function(){var t;this.measurements=this.getAutoLayoutmeasurements();var n=this.getoriginCorner(),i=this.getMenuSurfaceMaxHeight(n),r=this.hasBit(n,fa.BOTTOM)?"bottom":"top",o=this.hasBit(n,fa.RIGHT)?"right":"left",g=this.getHorizontalOriginOffset(n),s=this.getVerticalOriginOffset(n),a=this.measurements,A=a.anchorSize,C=a.surfaceSize,I=((t={})[o]=g,t[r]=s,t);A.width/C.width>ba.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(o="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(I),this.adapter.setTransformOrigin(o+" "+r),this.adapter.setPosition(I),this.adapter.setMaxHeight(i?i+"px":""),this.hasBit(n,fa.BOTTOM)||this.adapter.addClass(e.cssClasses.IS_OPEN_BELOW)},e.prototype.getAutoLayoutmeasurements=function(){var t=this.adapter.getAnchorDimensions(),e=this.adapter.getBodyDimensions(),n=this.adapter.getWindowDimensions(),i=this.adapter.getWindowScroll();return t||(t={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:t,bodySize:e,surfaceSize:this.dimensions,viewportDistance:{top:t.top,right:n.width-t.right,bottom:n.height-t.bottom,left:t.left},viewportSize:n,windowScroll:i}},e.prototype.getoriginCorner=function(){var t,n,i=this.originCorner,r=this.measurements,o=r.viewportDistance,g=r.anchorSize,s=r.surfaceSize,a=e.numbers.MARGIN_TO_EDGE;this.hasBit(this.anchorCorner,fa.BOTTOM)?(t=o.top-a+g.height+this.anchorMargin.bottom,n=o.bottom-a-this.anchorMargin.bottom):(t=o.top-a+this.anchorMargin.top,n=o.bottom-a+g.height-this.anchorMargin.top),!(n-s.height>0)&&t>=n&&(i=this.setBit(i,fa.BOTTOM));var A,C,I,c=this.adapter.isRtl(),l=this.hasBit(this.anchorCorner,fa.FLIP_RTL),u=this.hasBit(this.anchorCorner,fa.RIGHT);(I=c&&l?!u:u)?(A=o.left+g.width+this.anchorMargin.right,C=o.right-this.anchorMargin.right):(A=o.left+this.anchorMargin.left,C=o.right+g.width-this.anchorMargin.left);var h=A-s.width>0,d=C-s.width>0,p=this.hasBit(i,fa.FLIP_RTL)&&this.hasBit(i,fa.RIGHT);return d&&p&&c||!h&&p?i=this.unsetBit(i,fa.RIGHT):(h&&I&&c||h&&!I&&u||!d&&A>=C)&&(i=this.setBit(i,fa.RIGHT)),i},e.prototype.getMenuSurfaceMaxHeight=function(t){var n=this.measurements.viewportDistance,i=0,r=this.hasBit(t,fa.BOTTOM),o=this.hasBit(this.anchorCorner,fa.BOTTOM),g=e.numbers.MARGIN_TO_EDGE;return r?(i=n.top+this.anchorMargin.top-g,o||(i+=this.measurements.anchorSize.height)):(i=n.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-g,o&&(i-=this.measurements.anchorSize.height)),i},e.prototype.getHorizontalOriginOffset=function(t){var e=this.measurements.anchorSize,n=this.hasBit(t,fa.RIGHT),i=this.hasBit(this.anchorCorner,fa.RIGHT);if(n){var r=i?e.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?r-(this.measurements.viewportSize.width-this.measurements.bodySize.width):r}return i?e.width-this.anchorMargin.right:this.anchorMargin.left},e.prototype.getVerticalOriginOffset=function(t){var e=this.measurements.anchorSize,n=this.hasBit(t,fa.BOTTOM),i=this.hasBit(this.anchorCorner,fa.BOTTOM);return n?i?e.height-this.anchorMargin.top:-this.anchorMargin.bottom:i?e.height+this.anchorMargin.bottom:this.anchorMargin.top},e.prototype.adjustPositionForHoistedElement=function(t){var e,n,i=this.measurements,r=i.windowScroll,o=i.viewportDistance,g=Object.keys(t);try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(g),a=s.next();!a.done;a=s.next()){var A=a.value,C=t[A]||0;C+=o[A],this.isFixedPosition||("top"===A?C+=r.y:"bottom"===A?C-=r.y:"left"===A?C+=r.x:C-=r.x),t[A]=C}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},e.prototype.maybeRestoreFocus=function(){var t=this.adapter.isFocused(),e=document.activeElement&&this.adapter.isElementInContainer(document.activeElement);(t||e)&&this.adapter.restoreFocus()},e.prototype.hasBit=function(t,e){return Boolean(t&e)},e.prototype.setBit=function(t,e){return t|e},e.prototype.unsetBit=function(t,e){return t^e},e.prototype.isFinite=function(t){return"number"==typeof t&&isFinite(t)},e}(hi);const wa=_a,xa={TOP_LEFT:ma.TOP_LEFT,TOP_RIGHT:ma.TOP_RIGHT,BOTTOM_LEFT:ma.BOTTOM_LEFT,BOTTOM_RIGHT:ma.BOTTOM_RIGHT,TOP_START:ma.TOP_START,TOP_END:ma.TOP_END,BOTTOM_START:ma.BOTTOM_START,BOTTOM_END:ma.BOTTOM_END};class Sa extends Ti{constructor(){super(...arguments),this.mdcFoundationClass=wa,this.absolute=!1,this.fullwidth=!1,this.fixed=!1,this.x=null,this.y=null,this.quick=!1,this.open=!1,this.bitwiseCorner=ma.TOP_START,this.previousMenuCorner=null,this.menuCorner="START",this.corner="TOP_START",this.styleTop="",this.styleLeft="",this.styleRight="",this.styleBottom="",this.styleMaxHeight="",this.styleTransformOrigin="",this.anchor=null,this.previouslyFocused=null,this.previousAnchor=null,this.onBodyClickBound=()=>{}}render(){const t={"mdc-menu-surface--fixed":this.fixed,"mdc-menu-surface--fullwidth":this.fullwidth},e={top:this.styleTop,left:this.styleLeft,right:this.styleRight,bottom:this.styleBottom,"max-height":this.styleMaxHeight,"transform-origin":this.styleTransformOrigin};return zn`
      <div
          class="mdc-menu-surface ${Li(t)}"
          style="${ps(e)}"
          @keydown=${this.onKeydown}
          @opened=${this.registerBodyClick}
          @closed=${this.deregisterBodyClick}>
        <slot></slot>
      </div>`}createAdapter(){return Object.assign(Object.assign({},bi(this.mdcRoot)),{hasAnchor:()=>!!this.anchor,notifyClose:()=>{const t=new CustomEvent("closed",{bubbles:!0,composed:!0});this.open=!1,this.mdcRoot.dispatchEvent(t)},notifyOpen:()=>{const t=new CustomEvent("opened",{bubbles:!0,composed:!0});this.open=!0,this.mdcRoot.dispatchEvent(t)},isElementInContainer:()=>!1,isRtl:()=>!!this.mdcRoot&&"rtl"===getComputedStyle(this.mdcRoot).direction,setTransformOrigin:t=>{this.mdcRoot&&(this.styleTransformOrigin=t)},isFocused:()=>Mi(this),saveFocus:()=>{const t=Ei(),e=t.length;e||(this.previouslyFocused=null),this.previouslyFocused=t[e-1]},restoreFocus:()=>{this.previouslyFocused&&"focus"in this.previouslyFocused&&this.previouslyFocused.focus()},getInnerDimensions:()=>{const t=this.mdcRoot;return t?{width:t.offsetWidth,height:t.offsetHeight}:{width:0,height:0}},getAnchorDimensions:()=>{const t=this.anchor;return t?t.getBoundingClientRect():null},getBodyDimensions:()=>({width:document.body.clientWidth,height:document.body.clientHeight}),getWindowDimensions:()=>({width:window.innerWidth,height:window.innerHeight}),getWindowScroll:()=>({x:window.pageXOffset,y:window.pageYOffset}),setPosition:t=>{this.mdcRoot&&(this.styleLeft="left"in t?`${t.left}px`:"",this.styleRight="right"in t?`${t.right}px`:"",this.styleTop="top"in t?`${t.top}px`:"",this.styleBottom="bottom"in t?`${t.bottom}px`:"")},setMaxHeight:async t=>{this.mdcRoot&&(this.styleMaxHeight=t,await this.updateComplete,this.styleMaxHeight=`var(--mdc-menu-max-height, ${t})`)}})}onKeydown(t){this.mdcFoundation&&this.mdcFoundation.handleKeydown(t)}onBodyClick(t){-1===t.composedPath().indexOf(this)&&this.close()}registerBodyClick(){this.onBodyClickBound=this.onBodyClick.bind(this),document.body.addEventListener("click",this.onBodyClickBound,{passive:!0,capture:!0})}deregisterBodyClick(){document.body.removeEventListener("click",this.onBodyClickBound)}close(){this.open=!1}show(){this.open=!0}}tn([ti(".mdc-menu-surface")],Sa.prototype,"mdcRoot",void 0),tn([ti("slot")],Sa.prototype,"slotElement",void 0),tn([Qn({type:Boolean}),Os((function(t){this.mdcFoundation&&!this.fixed&&this.mdcFoundation.setIsHoisted(t)}))],Sa.prototype,"absolute",void 0),tn([Qn({type:Boolean})],Sa.prototype,"fullwidth",void 0),tn([Qn({type:Boolean}),Os((function(t){this.mdcFoundation&&!this.absolute&&this.mdcFoundation.setIsHoisted(t)}))],Sa.prototype,"fixed",void 0),tn([Qn({type:Number}),Os((function(t){this.mdcFoundation&&null!==this.y&&null!==t&&(this.mdcFoundation.setAbsolutePosition(t,this.y),this.mdcFoundation.setAnchorMargin({left:t,top:this.y,right:-t,bottom:this.y}))}))],Sa.prototype,"x",void 0),tn([Qn({type:Number}),Os((function(t){this.mdcFoundation&&null!==this.x&&null!==t&&(this.mdcFoundation.setAbsolutePosition(this.x,t),this.mdcFoundation.setAnchorMargin({left:this.x,top:t,right:-this.x,bottom:t}))}))],Sa.prototype,"y",void 0),tn([Qn({type:Boolean}),Os((function(t){this.mdcFoundation&&this.mdcFoundation.setQuickOpen(t)}))],Sa.prototype,"quick",void 0),tn([Qn({type:Boolean,reflect:!0}),Os((function(t,e){this.mdcFoundation&&(t?this.mdcFoundation.open():void 0!==e&&this.mdcFoundation.close())}))],Sa.prototype,"open",void 0),tn([$n(),Os((function(t){this.mdcFoundation&&this.mdcFoundation.setAnchorCorner(t)}))],Sa.prototype,"bitwiseCorner",void 0),tn([Qn({type:String}),Os((function(t){if(this.mdcFoundation){const e="START"===t||"END"===t,n=null===this.previousMenuCorner,i=!n&&t!==this.previousMenuCorner,r=n&&"END"===t;e&&(i||r)&&(this.bitwiseCorner=this.bitwiseCorner^fa.RIGHT,this.mdcFoundation.flipCornerHorizontally(),this.previousMenuCorner=t)}}))],Sa.prototype,"menuCorner",void 0),tn([Qn({type:String}),Os((function(t){if(this.mdcFoundation&&t){let e=xa[t];"END"===this.menuCorner&&(e^=fa.RIGHT),this.bitwiseCorner=e}}))],Sa.prototype,"corner",void 0),tn([$n()],Sa.prototype,"styleTop",void 0),tn([$n()],Sa.prototype,"styleLeft",void 0),tn([$n()],Sa.prototype,"styleRight",void 0),tn([$n()],Sa.prototype,"styleBottom",void 0),tn([$n()],Sa.prototype,"styleMaxHeight",void 0),tn([$n()],Sa.prototype,"styleTransformOrigin",void 0);const Ea=Ai`.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-height:calc(100vh - 32px);margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;transition:opacity .03s linear,transform .12s cubic-bezier(0, 0, 0.2, 1),height 250ms cubic-bezier(0, 0, 0.2, 1);box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;background-color:var(--mdc-theme-surface, #fff);color:#000;color:var(--mdc-theme-on-surface, #000);border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0;transition:opacity .075s linear}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}:host(:not([open])){display:none}.mdc-menu-surface{z-index:8;z-index:var(--mdc-menu-z-index, 8);max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px))}`;let Ma=class extends Sa{};Ma.styles=Ea,Ma=tn([qn("mwc-menu-surface")],Ma);var Ta,Ra={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},Oa={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list",SELECTED_EVENT:"MDCMenu:selected"},La={FOCUS_ROOT_INDEX:-1};!function(t){t[t.NONE=0]="NONE",t[t.LIST_ROOT=1]="LIST_ROOT",t[t.FIRST_ITEM=2]="FIRST_ITEM",t[t.LAST_ITEM=3]="LAST_ITEM"}(Ta||(Ta={}));var Pa=function(t){function e(n){var i=t.call(this,$e($e({},e.defaultAdapter),n))||this;return i.closeAnimationEndTimerId_=0,i.defaultFocusState_=Ta.LIST_ROOT,i}return Qe(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Ra},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Oa},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return La},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.closeAnimationEndTimerId_&&clearTimeout(this.closeAnimationEndTimerId_),this.adapter.closeSurface()},e.prototype.handleKeydown=function(t){var e=t.key,n=t.keyCode;("Tab"===e||9===n)&&this.adapter.closeSurface(!0)},e.prototype.handleItemAction=function(t){var e=this,n=this.adapter.getElementIndex(t);n<0||(this.adapter.notifySelected({index:n}),this.adapter.closeSurface(),this.closeAnimationEndTimerId_=setTimeout((function(){var n=e.adapter.getElementIndex(t);n>=0&&e.adapter.isSelectableItemAtIndex(n)&&e.setSelectedIndex(n)}),_a.numbers.TRANSITION_CLOSE_DURATION))},e.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState_){case Ta.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case Ta.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case Ta.NONE:break;default:this.adapter.focusListRoot()}},e.prototype.setDefaultFocusState=function(t){this.defaultFocusState_=t},e.prototype.setSelectedIndex=function(t){if(this.validatedIndex_(t),!this.adapter.isSelectableItemAtIndex(t))throw new Error("MDCMenuFoundation: No selection group at specified index.");var e=this.adapter.getSelectedSiblingOfItemAtIndex(t);e>=0&&(this.adapter.removeAttributeFromElementAtIndex(e,Oa.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(e,Ra.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(t,Ra.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(t,Oa.ARIA_CHECKED_ATTR,"true")},e.prototype.setEnabled=function(t,e){this.validatedIndex_(t),e?(this.adapter.removeClassFromElementAtIndex(t,ea),this.adapter.addAttributeToElementAtIndex(t,Oa.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(t,ea),this.adapter.addAttributeToElementAtIndex(t,Oa.ARIA_DISABLED_ATTR,"true"))},e.prototype.validatedIndex_=function(t){var e=this.adapter.getMenuItemCount();if(!(t>=0&&t<e))throw new Error("MDCMenuFoundation: No list item at specified index.")},e}(hi);const Na=Pa;class Da extends Ti{constructor(){super(...arguments),this.mdcFoundationClass=Na,this.listElement_=null,this.anchor=null,this.open=!1,this.quick=!1,this.wrapFocus=!1,this.innerRole="menu",this.corner="TOP_START",this.x=null,this.y=null,this.absolute=!1,this.multi=!1,this.activatable=!1,this.fixed=!1,this.forceGroupSelection=!1,this.fullwidth=!1,this.menuCorner="START",this.defaultFocus="LIST_ROOT",this._listUpdateComplete=null}get listElement(){return this.listElement_||(this.listElement_=this.renderRoot.querySelector("mwc-list")),this.listElement_}get items(){const t=this.listElement;return t?t.items:[]}get index(){const t=this.listElement;return t?t.index:-1}get selected(){const t=this.listElement;return t?t.selected:null}render(){const t="menu"===this.innerRole?"menuitem":"option";return zn`
      <mwc-menu-surface
          ?hidden=${!this.open}
          .anchor=${this.anchor}
          .open=${this.open}
          .quick=${this.quick}
          .corner=${this.corner}
          .x=${this.x}
          .y=${this.y}
          .absolute=${this.absolute}
          .fixed=${this.fixed}
          .fullwidth=${this.fullwidth}
          .menuCorner=${this.menuCorner}
          class="mdc-menu mdc-menu-surface"
          @closed=${this.onClosed}
          @opened=${this.onOpened}
          @keydown=${this.onKeydown}>
        <mwc-list
          rootTabbable
          .innerRole=${this.innerRole}
          .multi=${this.multi}
          class="mdc-list"
          .itemRoles=${t}
          .wrapFocus=${this.wrapFocus}
          .activatable=${this.activatable}
          @action=${this.onAction}>
        <slot></slot>
      </mwc-list>
    </mwc-menu-surface>`}createAdapter(){return{addClassToElementAtIndex:(t,e)=>{const n=this.listElement;if(!n)return;const i=n.items[t];i&&("mdc-menu-item--selected"===e?this.forceGroupSelection&&!i.selected&&n.toggle(t,!0):i.classList.add(e))},removeClassFromElementAtIndex:(t,e)=>{const n=this.listElement;if(!n)return;const i=n.items[t];i&&("mdc-menu-item--selected"===e?i.selected&&n.toggle(t,!1):i.classList.remove(e))},addAttributeToElementAtIndex:(t,e,n)=>{const i=this.listElement;if(!i)return;const r=i.items[t];r&&r.setAttribute(e,n)},removeAttributeFromElementAtIndex:(t,e)=>{const n=this.listElement;if(!n)return;const i=n.items[t];i&&i.removeAttribute(e)},elementContainsClass:(t,e)=>t.classList.contains(e),closeSurface:()=>{this.open=!1},getElementIndex:t=>{const e=this.listElement;return e?e.items.indexOf(t):-1},notifySelected:()=>{},getMenuItemCount:()=>{const t=this.listElement;return t?t.items.length:0},focusItemAtIndex:t=>{const e=this.listElement;if(!e)return;const n=e.items[t];n&&n.focus()},focusListRoot:()=>{this.listElement&&this.listElement.focus()},getSelectedSiblingOfItemAtIndex:t=>{const e=this.listElement;if(!e)return-1;const n=e.items[t];if(!n||!n.group)return-1;for(let i=0;i<e.items.length;i++){if(i===t)continue;const r=e.items[i];if(r.selected&&r.group===n.group)return i}return-1},isSelectableItemAtIndex:t=>{const e=this.listElement;if(!e)return!1;const n=e.items[t];return!!n&&n.hasAttribute("group")}}}onKeydown(t){this.mdcFoundation&&this.mdcFoundation.handleKeydown(t)}onAction(t){const e=this.listElement;if(this.mdcFoundation&&e){const n=t.detail.index,i=e.items[n];i&&this.mdcFoundation.handleItemAction(i)}}onOpened(){this.open=!0,this.mdcFoundation&&this.mdcFoundation.handleMenuSurfaceOpened()}onClosed(){this.open=!1}async _getUpdateComplete(){await this._listUpdateComplete,await super._getUpdateComplete()}async firstUpdated(){super.firstUpdated();const t=this.listElement;t&&(this._listUpdateComplete=t.updateComplete,await this._listUpdateComplete)}select(t){const e=this.listElement;e&&e.select(t)}close(){this.open=!1}show(){this.open=!0}getFocusedItemIndex(){const t=this.listElement;return t?t.getFocusedItemIndex():-1}focusItemAtIndex(t){const e=this.listElement;e&&e.focusItemAtIndex(t)}layout(t=!0){const e=this.listElement;e&&e.layout(t)}}tn([ti(".mdc-menu")],Da.prototype,"mdcRoot",void 0),tn([ti("slot")],Da.prototype,"slotElement",void 0),tn([Qn({type:Object})],Da.prototype,"anchor",void 0),tn([Qn({type:Boolean,reflect:!0})],Da.prototype,"open",void 0),tn([Qn({type:Boolean})],Da.prototype,"quick",void 0),tn([Qn({type:Boolean})],Da.prototype,"wrapFocus",void 0),tn([Qn({type:String})],Da.prototype,"innerRole",void 0),tn([Qn({type:String})],Da.prototype,"corner",void 0),tn([Qn({type:Number})],Da.prototype,"x",void 0),tn([Qn({type:Number})],Da.prototype,"y",void 0),tn([Qn({type:Boolean})],Da.prototype,"absolute",void 0),tn([Qn({type:Boolean})],Da.prototype,"multi",void 0),tn([Qn({type:Boolean})],Da.prototype,"activatable",void 0),tn([Qn({type:Boolean})],Da.prototype,"fixed",void 0),tn([Qn({type:Boolean})],Da.prototype,"forceGroupSelection",void 0),tn([Qn({type:Boolean})],Da.prototype,"fullwidth",void 0),tn([Qn({type:String})],Da.prototype,"menuCorner",void 0),tn([Qn({type:String}),Os((function(t){this.mdcFoundation&&this.mdcFoundation.setDefaultFocusState(Ta[t])}))],Da.prototype,"defaultFocus",void 0);const ka=Ai`mwc-list ::slotted([mwc-list-item]:not([twoline])){height:var(--mdc-menu-item-height, 48px)}mwc-list{max-width:var(--mdc-menu-max-width, auto);min-width:var(--mdc-menu-min-width, auto)}`;let ja=class extends Da{};function Fa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ba(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fa(Object(n),!0).forEach((function(e){za(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function za(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}ja.styles=ka,ja=tn([qn("mwc-menu")],ja);const Ua=function(t,e,n,i){var r=new ws;r.setAttribute("icon","add"),r.setAttribute("slot","actionItems"),e.appendChild(r),r.onclick=function(){o.open=!0};var o=new ja;o.setAttribute("absolute",""),o.setAttribute("y","50"),o.setAttribute("x","0"),e.appendChild(o),o.anchor=r;var g=new ca;return o.appendChild(g),n.List().forEach((function(t){var e=new ha;e.innerHTML=t.name,e.onclick=function(){var e=Ba(Ba({},t.initState),{},{componentName:t.name});i(e)},g.appendChild(e)})),r},Ha=function(t,e){var n=new ws;n.setAttribute("icon","add_circle"),n.setAttribute("slot","navigationIcon"),t.appendChild(n);var i=new ja;i.setAttribute("absolute",""),i.setAttribute("y","50"),i.setAttribute("x","0"),t.appendChild(i),i.anchor=n,n.onclick=function(){i.open=!0},e.forEach((function(t){var e=new ha;e.innerHTML=t+" layout",e.onclick=function(){window.open("./?layout="+t)},i.appendChild(e)}))};function Ga(t){return Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(t)}function Wa(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Va(t,e){return Va=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Va(t,e)}function Za(t,e){if(e&&("object"===Ga(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ya(t){return Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ya(t)}var Xa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Va(t,e)}(g,t);var e,n,i,r,o=(i=g,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ya(i);if(r){var n=Ya(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Za(this,t)});function g(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(t=o.call(this)).shadow=t.attachShadow({mode:"open"}),t.shadow.innerHTML="\n        <style> \n            :host {\n                all: inherit;\n                --mdc-theme-primary:#1c98e5;\n            };\n        </style>\n        <slot>\n        </slot>\n        ",t}return e=g,n=[{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){var t=this,e=document.createElement("div");this.appendChild(e);var n=new ji;n.setAttribute("dense",!0),e.appendChild(n),Ha(n,t.layouts);var i=document.createElement("div");e.appendChild(i);var r=new ss;i.appendChild(r);var o=function(e){var n=document.createElement("div");n.innerHTML=e.name||e.componentName;var i=new q(n,e),o=t.packages.Get(e.componentName).render(t.core,{})(i,e);r.add(i,(function(){L(o)}))};Ua(0,n,t.packages,o),pa(e,n,t.panelDb,o)}}],n&&Wa(e.prototype,n),g}(R);gt("block-layout",Xa);var Ja=n(8651),qa=n.n(Ja),Ka=n(4087),Qa=n(6406),$a=n(5694),tA=n(1460),eA=n(9883);const nA=function(t,e,n,i,r,o){var g=new eA(t,e);return i.List().forEach((function(t){g.registerComponent(t.name,(function(e,i){var r=t.render(n,{})(e,i);e.on("destroy",(function(t){L(r)})),e.on("resize",(function(t){}))}))})),g.on("stackCreated",(function(t){var e=document.createElement("li");e.setAttribute("class","lm_dupbtn");var n=document.createElement("li");n.setAttribute("class","lm_renamebtn");var i=document.createElement("li");i.setAttribute("class","lm_savebtn"),t.header.controlsContainer.prepend(e),t.header.controlsContainer.prepend(i),t.header.controlsContainer.prepend(n),n.onclick=function(){var e=t.getActiveContentItem().container,n=e.getState(),i=prompt("Set a new title for this panel",n.name);null==i||""==i||(e.setTitle(i),n.name=i,e.setState(n))},e.onclick=function(){a()},i.onclick=function(){s()};var s=function(){var e=t.getActiveContentItem().container,n=e.getState();n.componentName=e._config.componentName;var i=window.prompt("Panel Name:",n.name||"");i&&""!=i&&(n.name=i,r.setItem(i,JSON.stringify(n)).then((function(){o.style.background="green",setTimeout((function(){o.style.background=null}),162)})))},a=function(){var e=t.getActiveContentItem().container,n=e.getState(),i={title:n.name||n.componentName,type:"component",componentName:e._config.componentName,componentState:JSON.parse(JSON.stringify(n))};g.root.contentItems[0].addChild(i)}})),g};function iA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function rA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iA(Object(n),!0).forEach((function(e){oA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gA={hasHeaders:!1,constrainDragToContainer:!1,reorderEnabled:!1,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showPopoutIcon:!1,showMaximiseIcon:!1,showCloseIcon:!1};function sA(t){return sA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sA(t)}function aA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function CA(t,e){return CA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},CA(t,e)}function IA(t,e){if(e&&("object"===sA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function cA(t){return cA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cA(t)}var lA={settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showPopoutIcon:!1,showMaximiseIcon:!0,showCloseIcon:!0},content:[{type:"row",content:[]}]},uA=Ka.Z.toString()+"\n"+Qa.Z.toString()+"\n\n"+$a.Z.toString()+"\n"+tA.Z.toString()+"\n\n",hA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CA(t,e)}(s,t);var e,n,i,r,o,g=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=cA(r);if(o){var n=cA(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return IA(this,t)});function s(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return aA(this,s),(t=g.call(this)).useShadow=e,e?(t.shadow=t.attachShadow({mode:"open"}),t.shadow.innerHTML="\n        <style> \n            :host {\n                all:inherit;\n                --mdc-theme-primary:#1c98e5;\n            };\n        "+uA+"\n        </style>\n        <slot>\n        </slot>\n        "):t.innerHTML="<style>\n            :root {\n                --mdc-theme-primary:#1c98e5;\n            }\n            "+uA+"\n                </style>\n            ",t}return e=s,n=[{key:"connectedCallback",value:function(){this.render()}},{key:"publish",get:function(){return""==this.getAttribute("publish")},set:function(t){1==t?this.setAttribute("publish",""):this.removeAttribute("publish")}},{key:"render",value:function(){var t=document.createElement("div");this.useShadow?this.shadow.appendChild(t):this.appendChild(t);var e=this,n=qa().createInstance({name:e.namespace+"_stone_wsdb"}),i=50,r=new ji;if(this.publish)i=0;else{r.setAttribute("dense",!0);var o=this.panelDb;Ha(r,e.layouts);var g=new Ds,s=new ws,a=document.createElement("div");s.setAttribute("icon","folder_open"),s.setAttribute("slot","navigationIcon"),r.appendChild(s),s.onclick=function(){g.open=!0,a.innerHTML="";var t=new ca;n.keys().then((function(i){i.forEach((function(i){var r=new ha;t.appendChild(r);var s=document.createElement("div");s.style.float="left";var a=new ws;a.setAttribute("icon","launch"),a.setAttribute("size",12);var A=new ws;A.setAttribute("icon","delete"),s.appendChild(a),s.appendChild(A),r.appendChild(s);var C=document.createElement("div");C.style.float="left",C.style.paddingTop="15px",C.style.paddingLeft="5px",C.innerText=i,r.appendChild(C),a.onclick=function(t){n.getItem(i).then((function(t){"destroy"in f&&f.destroy(),(f=nA(JSON.parse(t),p,e.core,e.packages,o,h)).init()})),g.open=!1},A.onclick=function(t){confirm("Delete session '"+i+"' from workspace?")&&n.removeItem(i).then((function(){r.remove()}))}}))})),a.appendChild(t)};var A=new ws;A.setAttribute("icon","folder_open"),A.onclick=function(){var t,n;t=function(t){"destroy"in f&&f.destroy(),(f=nA(t,p,e.core,e.packages,o,h)).init()},(n=document.createElement("input")).setAttribute("type","file"),n.addEventListener("change",(function(e){var n=new FileReader;n.onloadend=function(e){if(e.target.readyState==FileReader.DONE){var n=JSON.parse(e.target.result);t(n)}},n.readAsText(e.target.files[0],"UTF-8")})),n.click(),n.remove(),g.open=!1},g.appendChild(A),g.appendChild(a),t.appendChild(g);var C=new ws;C.setAttribute("icon","save"),C.setAttribute("slot","navigationIcon"),r.appendChild(C),C.onclick=function(){I.open=!0};var I=new Ds,c=new ws;c.setAttribute("icon","save_alt"),c.onclick=function(){da("session.json",JSON.stringify(f.toConfig())),I.open=!1};var l=new ws;l.setAttribute("icon","save"),l.onclick=function(){var t=prompt("Session Name:");if(null!==t){var e=JSON.stringify(f.toConfig());n.setItem(t,e)}I.open=!1},I.appendChild(l),I.appendChild(c),t.appendChild(I);var u=function(t){var e={title:t.name,type:"component",componentName:t.componentName,componentState:JSON.parse(JSON.stringify(t))};!function(t){void 0===t.root.contentItems[0]&&t.root.addChild({type:"row",content:[]})}(f),f.root.contentItems[0].addChild(e)};Ua(0,r,e.packages,u);var h=pa(t,r,e.panelDb,u);t.appendChild(r)}var d=e.session;d&&fetch(d).then((function(t){return t.text()})).then((function(t){var n=JSON.parse(t);"destroy"in f&&f.destroy(),(f=function(t,e,n,i,r,o){var g=function(t){return t.settings=rA(rA({},t.settings),gA),t}(t),s=new eA(g,e);return i.List().forEach((function(t){s.registerComponent(t.name,(function(e,i){var r=t.render(n,{})(e,i);e.on("destroy",(function(t){L(r)})),e.on("resize",(function(t){console.log("TODO process resize event",e.width,e.height)}))}))})),s}(n,p,e.core,e.packages)).init()})).catch((function(t){console.warn(t)}));var p=document.createElement("div");p.style.position="relative",t.appendChild(p),p.style.minHeight="500px",p.style.height=window.innerHeight-i+"px",window.addEventListener("resize",(function(){p.style.height=window.innerHeight-i+"px",f.updateSize()}));var f=nA(lA,p,e.core,e.packages,o,h);f.init()}}],i=[{key:"is",get:function(){return"stone-layout"}}],n&&AA(e.prototype,n),i&&AA(e,i),s}(R);gt(hA.is,hA);const dA=hA;function pA(t){return pA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pA(t)}function fA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function mA(t,e){return mA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},mA(t,e)}function vA(t,e){if(e&&("object"===pA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function yA(t){return yA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yA(t)}var bA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mA(t,e)}(g,t);var e,n,i,r,o=(i=g,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yA(i);if(r){var n=yA(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return vA(this,t)});function g(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(t=o.call(this)).shadow=t.attachShadow({mode:"open"}),t.shadow.innerHTML="\n        <style> \n            :host {\n                all:initial;\n                --mdc-theme-primary:#1c98e5;\n            };\n        </style>\n        <slot>\n        </slot>\n        ",t}return e=g,(n=[{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){var t=this,e=this.panelDb,n=document.createElement("div");this.appendChild(n);var i=0;if(!t.publish){var r=new ji;r.setAttribute("dense",!0),n.appendChild(r),Ha(r,t.layouts),i=50}var o=document.createElement("div"),g={};n.appendChild(o);var s,a=new q(o,g);new ResizeObserver((function(){console.log("resizeObserver content??",o.clientHeight,o.clientWidth)})).observe(o),a.width=o.clientWidth||window.innerWidth,a.height=window.innerHeight-i,window.addEventListener("resize",(function(t){a.width=o.clientWidth||window.innerWidth,a.height=window.innerHeight-i,a.emit("resize")}));var A=document.createElement("div");if(A.setAttribute("slot","title"),!t.publish){r.appendChild(A);var C=function(e){"process"in t&&(L(t.process),o.innerHTML="",a.off("resize")),s=e.componentName,A.innerHTML=e.name||e.componentName,a.setState(e),t.process=t.packages.Get(e.componentName).render(t.core,{})(a,e)};Ua(0,r,t.packages,C),pa(n,r,t.panelDb,C);var I=new ws;I.setAttribute("icon","save"),I.setAttribute("slot","actionItems"),I.onclick=function(){c()};var c=function(){var t=a.getState(),n=window.prompt("Panel Name:",t.name||"");n&&""!=n&&(t.name=n,t.componentName=s,e.setItem(n,JSON.stringify(t)).then((function(){panelSpaceButton.style.background="green",setTimeout((function(){panelSpaceButton.style.background=null}),162)})))};r.appendChild(I)}var l={};if(t.session){var u=t.session;fetch(u).then((function(t){return t.text()})).then((function(e){var n=JSON.parse(e);t.process=t.packages.Get(n.componentName).render(t.core,l)(a,n)})).catch((function(t){console.warn(t)}))}else t.init&&(t.process=t.packages.Get(t.init).render(t.core,l)(a,g))}}])&&fA(e.prototype,n),g}(R);gt("single-app-layout",bA);const _A=bA;function wA(t){return wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wA(t)}function xA(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function SA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function EA(t,e){return EA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},EA(t,e)}function MA(t,e){if(e&&("object"===wA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return TA(t)}function TA(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RA(t){return RA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},RA(t)}var OA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EA(t,e)}(g,t);var e,n,i,r,o=(i=g,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=RA(i);if(r){var n=RA(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return MA(this,t)});function g(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(t=o.call(this)).shadow=t.attachShadow({mode:"open"}),t.selected=null,t.addEventListener("mousedown",(function(e){"button"in e&&0===e.button&&t.mouseDown(e)})),t.addEventListener("mouseup",t.mouseUp),t.addEventListener("mousemove",t.mouseMove),t.addEventListener("touchstart",t.mouseDown),t.addEventListener("touchend",t.mouseUp),t.addEventListener("touchmove",t.mouseMove),t.addEventListener("dragstart",(function(t){return t.preventDefault()}));var e=TA(t);return e.height=window.innerHeight,e.width=window.innerWidth,window.addEventListener("resize",(function(t){e.height=window.innerHeight,e.width=window.innerWidth,e.shadow.querySelector("style").innerHTML="\n\t        :host{\n                    all: inherit;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\twidth: 100%;\n                    height:"+e.height+"px;\n\t\t\t\t\tbackground-color: #666;\n\t\t\t\t\toverflow: auto;\n\t\t\t\t}\n\n            "})),document.addEventListener("keydown",(function(t){t.ctrlKey&&39==t.which&&e.currentWindow&&e.currentWindow.toRightHalf(),t.ctrlKey&&37==t.which&&e.currentWindow&&e.currentWindow.toLeftHalf(),t.ctrlKey&&38==t.which&&e.currentWindow&&e.currentWindow.maximize(),t.ctrlKey&&40==t.which&&e.currentWindow&&(e.currentWindow.minimize(),e.currentWindow=null)})),t}return e=g,n=[{key:"mouseUp",value:function(){this.selected=null}},{key:"mouseDown",value:function(t){var e=t.path||t.composedPath&&t.composedPath();this.lastX=t.pageX||(t.touches?t.touches[0].pageX:0),this.lastY=t.pageY||(t.touches?t.touches[0].pageY:0);for(var n=!0,i=0;i<e.length;i++){if("m-os-window"===e[i].localName&&e[i].isMoving){this.selected=e[i];break}"m-os-menu"===e[i].localName&&(n=!1)}if(n){var r,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return xA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xA(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,g=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return g=t.done,t},e:function(t){s=!0,o=t},f:function(){try{g||null==n.return||n.return()}finally{if(s)throw o}}}}(this.getElementsByTagName("m-os-menu"));try{for(o.s();!(r=o.n()).done;)(t=r.value).visible=!1}catch(t){o.e(t)}finally{o.f()}}}},{key:"mouseMove",value:function(t){if(this.selected&&!this.selected.fixed){t.preventDefault();var e=t.pageX||(t.touches?t.touches[0].pageX:0),n=t.pageY||(t.touches?t.touches[0].pageY:0);this.selected.style.left=this.selected.offsetLeft+(e-this.lastX)+"px",this.selected.style.top=this.selected.offsetTop+(n-this.lastY)+"px",this.lastX=e,this.lastY=n}}},{key:"attributeChangedCallback",value:function(t,e,n){this.render()}},{key:"connectedCallback",value:function(){this.render()}},{key:"disconnectedCallback",value:function(){alert("disconnect desktop")}},{key:"render",value:function(){this.shadow.innerHTML="\n\t\t\t<style>\n                \n\t\t        :host{\n                    all: inherit;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\twidth: 100%;\n                    height:"+this.height+"px;\n\t\t\t\t\tbackground-color: #666;\n\t\t\t\t\toverflow: auto;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<slot></slot>\n\n\t",this.selected=null}}],n&&SA(e.prototype,n),g}(R);gt("m-os-desktop",OA);const LA=OA;var PA,NA=n(9180),DA=new Uint8Array(16);function kA(){if(!PA&&!(PA="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return PA(DA)}const jA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,FA=function(t){return"string"==typeof t&&jA.test(t)};for(var BA=[],zA=0;zA<256;++zA)BA.push((zA+256).toString(16).substr(1));const UA=function(t,e,n){var i=(t=t||{}).random||(t.rng||kA)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(BA[t[e+0]]+BA[t[e+1]]+BA[t[e+2]]+BA[t[e+3]]+"-"+BA[t[e+4]]+BA[t[e+5]]+"-"+BA[t[e+6]]+BA[t[e+7]]+"-"+BA[t[e+8]]+BA[t[e+9]]+"-"+BA[t[e+10]]+BA[t[e+11]]+BA[t[e+12]]+BA[t[e+13]]+BA[t[e+14]]+BA[t[e+15]]).toLowerCase();if(!FA(n))throw TypeError("Stringified UUID is invalid");return n}(i)};function HA(t){return HA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HA(t)}function GA(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function WA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function VA(t,e){if(e&&("object"===HA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ZA(t)}function ZA(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YA(t){var e="function"==typeof Map?new Map:void 0;return YA=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return XA(t,arguments,KA(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),qA(n,t)},YA(t)}function XA(t,e,n){return XA=JA()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&qA(r,n.prototype),r},XA.apply(null,arguments)}function JA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function qA(t,e){return qA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},qA(t,e)}function KA(t){return KA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},KA(t)}var QA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qA(t,e)}(s,t);var e,n,i,r,o,g=(e=s,n=JA(),function(){var t,i=KA(e);if(n){var r=KA(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return VA(this,t)});function s(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var e=ZA(t=g.call(this));return t.uid=UA(),t.shadow=t.attachShadow({mode:"open"}),t.isMoving=!1,t.lastTop=t.lastLeft=t.lastWidth=t.lastHeight=null,t.index=900,e=ZA(t),t.resizeObserver=new ResizeObserver((function(){"resize"in e.eventHub&&"function"==typeof e.eventHub.resize&&e.eventHub.resize({width:parseInt(e.style.width.replace("px","")),height:parseInt(e.style.height.replace("px",""))})})),t.resizeObserver.observe(ZA(t)),t.eventHub={},t}return i=s,o=[{key:"observedAttributes",get:function(){return["name","title","fixed"]}}],(r=[{key:"on",value:function(t,e){this.eventHub[t]=e}},{key:"mouseUp",value:function(){this.isMoving=!1}},{key:"mouseDown",value:function(){this.isMoving=!0}},{key:"maximize",value:function(){if(null!==this.lastTop)this.style.top=this.lastTop+"px",this.style.left=this.lastLeft+"px",this.style.width=this.lastWidth+"px",this.style.height=this.lastHeight+"px",this.lastTop=this.lastLeft=this.lastWidth=this.lastHeight=null,this.fixed=!1;else{var t=this.getBoundingClientRect();this.lastTop=t.top,this.lastLeft=t.left,this.lastWidth=t.width,this.lastHeight=t.height,this.style.top=0,this.style.left=0,this.style.width=innerWidth+"px",this.style.height=innerHeight+"px",this.fixed=!0}this.topBar.style.backgroundColor="#0FA"}},{key:"toLeftHalf",value:function(){if(!this.fixed){var t=this.getBoundingClientRect();this.lastTop=t.top,this.lastLeft=t.left,this.lastWidth=t.width,this.lastHeight=t.height}this.style.top=0,this.style.left=0,this.style.width=innerWidth/2-3+"px",this.style.height=innerHeight+"px",this.fixed=!0,this.topBar.style.backgroundColor="#0FA"}},{key:"toRightHalf",value:function(){if(!this.fixed){var t=this.getBoundingClientRect();this.lastTop=t.top,this.lastLeft=t.left,this.lastWidth=t.width,this.lastHeight=t.height}this.style.top="0px",this.style.left=innerWidth/2+3+"px",this.style.width=innerWidth/2-3+"px",this.style.height=innerHeight+"px",this.fixed=!0,this.topBar.style.backgroundColor="#0FA"}},{key:"minimize",value:function(){var t=this,e=document.createElement("input");e.setAttribute("type","button"),e.setAttribute("value",this.title||this.name||"noname"),e.style.backgroundColor="#0A3",e.style.color="#EEE",this.style.display="none",this.parentNode.querySelector("m-os-bar").appendChild(e),e.onclick=function(){e.remove(),t.style.display="block",t.bringFront()}}},{key:"process",get:function(){return this._process||null},set:function(t){this._process=t}},{key:"close",value:function(){this.parentNode.parentNode.querySelector("m-os-desktop").EventHub,this.resizeObserver=null;var t=this.process;L(t),this.remove()}},{key:"bringFront",value:function(){if(null!=this.parentNode){var t,e=0,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return GA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GA(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,g=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return g=t.done,t},e:function(t){s=!0,o=t},f:function(){try{g||null==n.return||n.return()}finally{if(s)throw o}}}}(this.parentNode.querySelectorAll("m-os-window"));try{for(n.s();!(t=n.n()).done;){var i=t.value;e<i.style.zIndex&&(e=i.style.zIndex),i.style.zIndex-=1,i.topBar.style.backgroundColor="#AAA"}}catch(t){n.e(t)}finally{n.f()}this.topBar.style.backgroundColor="#0FA",this.style.zIndex=e||999,this.parentNode.currentWindow=this}}},{key:"name",get:function(){return this.hasAttribute("name")?this.getAttribute("name"):null},set:function(t){t?this.setAttribute("name",t):this.removeAttribute("name")}},{key:"title",get:function(){return this.hasAttribute("title")?this.getAttribute("title"):null},set:function(t){t?this.setAttribute("title",t):this.removeAttribute("title")}},{key:"fixed",get:function(){return this.hasAttribute("fixed")?this.getAttribute("fixed"):null},set:function(t){t?this.setAttribute("fixed",t):this.removeAttribute("fixed")}},{key:"attributeChangedCallback",value:function(t,e,n){this.render()}},{key:"connectedCallback",value:function(){var t=this.parentNode.querySelectorAll("m-os-window").length||1;this.top=.2*innerHeight*t/5,this.left=.1*innerWidth*t/5,this.render()}},{key:"render",value:function(){var t=this;this.shadow.innerHTML="\n            <style>\n            :host {all:inherit;}\n\t\t\t:host{\n\t\t\t\tposition: fixed;\n\t\t\t\ttop: ".concat(this.top,"px;\n\t\t\t\tleft: ").concat(this.left,"px;\n\t\t\t\tz-index: ").concat(this.index,";\n\t\t\t\tmin-width: 400px;\n\t\t\t\tmin-height: 250px;\n\t\t\t\tbackground-color: white;\n\t\t\t\tdisplay: none;\n\t\t\t\tborder: solid 1px #666;\n\t\t\t    box-shadow: 3px 3px 3px;\n\t\t\t\tresize: both;\n\t\t\t\toverflow: auto;\n                border-radius: 6px;\n\n\t\t\t}\n            #leftButtons {\n                position: absolute;\n                left: 1px;\n                top : 1px;\n            }\n\t\t\t#window{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-flow: column;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t\t#top{\n\t\t\t\tflex: 0 1 auto;\n\t\t\t\twidth: 100%;\n\t\t\t\ttext-align: center;\n\t\t\t\tbackground-color: #777;  \n\t\t\t\tcursor: move;\n\t\t\t\tposition: relative;\n\t\t\t}\n\t\t\t#top > div > button {\n\t\t\t\theight: 25px;\n\t\t\t}\n\t\t\t#winTitle{\n\t\t\t\tline-height: 25px;\n\t\t\t\tcursor: inherit;\n\t\t\t}\n\t\t\t#content{\n\t\t\t\tflex: 1 1 auto;\n\t\t\t\toverflow: auto;\n\t\t\t\tposition: relative;\n\t\t\t\tmin-height: 205px;\n\t\t\t}\n\t\t\t#border{\n\t\t\t\theight: 10px;\n\t\t\t\tflex: 0 0 auto;\n            }")+NA.Z.toString()+" \n           g </style>\n  \t";var e=document.createElement("div");e.id="window",e.style.maxHeight="800px",e.style.overflowY="auto",this.addEventListener("click",(function(){t.bringFront()}));var n=this,i=document.createElement("div");i.setAttribute("style","height:28px"),i.part="top",i.id="top",i.addEventListener("mousedown",(function(){n.bringFront(),t.mouseDown()})),i.addEventListener("mouseup",(function(){t.mouseUp()})),i.addEventListener("touchstart",(function(){t.mouseDown()})),i.addEventListener("touchend",(function(){t.mouseUp()})),this.topBar=i;var r=document.createElement("div");r.id="winTitle",r.innerText=this.title;var o=document.createElement("ul");o.className="controls";var g=document.createElement("li");g.className="save",g.addEventListener("click",(function(){var t=prompt("Panel Name:");null!==t&&n.parentNode.parentNode.panelDb.setItem(t,JSON.stringify(n.getState()))}));var s=document.createElement("li");s.className="maximise",s.addEventListener("click",(function(){t.maximize()}));var a=document.createElement("li");a.className="minimise",a.addEventListener("click",(function(){t.minimize()}));var A=document.createElement("li");A.className="close",A.addEventListener("click",(function(){t.close()})),o.appendChild(g),o.appendChild(s),o.appendChild(a),o.appendChild(A),i.appendChild(r),i.appendChild(o);var C=document.createElement("div");C.id="content";var I=document.createElement("slot");C.appendChild(I);var c=document.createElement("div");c.id="border",e.appendChild(i),e.appendChild(C),e.appendChild(c),this.shadow.appendChild(e)}}])&&WA(i.prototype,r),o&&WA(i,o),s}(YA(HTMLElement));gt("m-os-window",QA);const $A=QA;function tC(t){return tC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tC(t)}function eC(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function nC(t,e){if(e&&("object"===tC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function iC(t){var e="function"==typeof Map?new Map:void 0;return iC=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return rC(t,arguments,sC(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),gC(n,t)},iC(t)}function rC(t,e,n){return rC=oC()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&gC(r,n.prototype),r},rC.apply(null,arguments)}function oC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function gC(t,e){return gC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},gC(t,e)}function sC(t){return sC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},sC(t)}var aC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gC(t,e)}(s,t);var e,n,i,r,o,g=(e=s,n=oC(),function(){var t,i=sC(e);if(n){var r=sC(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return nC(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=g.call(this)).shadow=t.attachShadow({mode:"open"}),t}return i=s,o=[{key:"observedAttributes",get:function(){return["position"]}}],(r=[{key:"attributeChangedCallback",value:function(t,e,n){this.render()}},{key:"connectedCallback",value:function(){this.render()}},{key:"position",get:function(){return this.hasAttribute("position")?this.getAttribute("position"):"bottom"},set:function(t){!t||"top"!==t&&"bottom"!==t?this.removeAttribute("position"):this.setAttribute("position",t)}},{key:"render",value:function(){this.shadow.innerHTML="\n\t\t\t<style>\n\t\t\t\t:host{\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\t".concat(this.position,": 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tz-index: 1000;\n\t\t\t\t\tbackground-color: #AAA;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 30px;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: flex-start;\n\t\t\t\t\tbox-shadow: 0px 0px 5px black;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\tpadding-left: 10px;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<slot></slot>\n\t\t")}}])&&eC(i.prototype,r),o&&eC(i,o),s}(iC(HTMLElement));gt("m-os-bar",aC);const AC=aC;function CC(t){return CC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CC(t)}function IC(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function cC(t,e){if(e&&("object"===CC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function lC(t){var e="function"==typeof Map?new Map:void 0;return lC=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return uC(t,arguments,pC(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),dC(n,t)},lC(t)}function uC(t,e,n){return uC=hC()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&dC(r,n.prototype),r},uC.apply(null,arguments)}function hC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function dC(t,e){return dC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},dC(t,e)}function pC(t){return pC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pC(t)}var fC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dC(t,e)}(s,t);var e,n,i,r,o,g=(e=s,n=hC(),function(){var t,i=pC(e);if(n){var r=pC(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return cC(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=g.call(this)).shadow=e.attachShadow({mode:"open"}),e.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation(),e.visible=!e.visible,"function"==typeof t&&e.visible&&t()})),e}return i=s,o=[{key:"observedAttributes",get:function(){return["name","visible"]}}],(r=[{key:"attributeChangedCallback",value:function(t,e,n){this.render()}},{key:"connectedCallback",value:function(){for(this.bar=this.parentNode;"M-OS-BAR"!==this.bar.tagName;)this.bar=this.bar.parentNode;this.render()}},{key:"visible",get:function(){return!!this.hasAttribute("visible")},set:function(t){t?this.setAttribute("visible",!0):this.removeAttribute("visible")}},{key:"name",get:function(){return this.hasAttribute("name")?this.getAttribute("name"):null},set:function(t){t?this.setAttribute("name",t):this.removeAttribute("name")}},{key:"render",value:function(){this.shadow.innerHTML="\n\t\t\t<style>\n\t\t\t\t:host{\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\tcursor: default;\n\t\t\t\t}\n\t\t\t\t#menu{\n\t\t\t\t\tdisplay: "+(this.visible?"block":"none")+";\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\t"+(this.bar?this.bar.position:"bottom")+": 33px;\n\t\t\t\t\tbackground-color: #FFF;\n\t\t\t\t\tpadding: 1em;\n\t\t\t\t\tborder: solid 1px black;\n\t\t\t\t\tborder-"+(this.bar?this.bar.position:"bottom")+': 0;\n                    border-radius: 6pa;\n\t\t\t\t}\n\t\t\t\t#title:hover{\n\t\t\t\t\tcolor: gray;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<div>\n\t\t\t\t<div id="title" part="title">'.concat(this.name,'</div>\n\t\t\t\t<div id="menu" part="window"><slot></slot></div>\n\t\t\t</div>\n\t\t')}}])&&IC(i.prototype,r),o&&IC(i,o),s}(lC(HTMLElement));gt("m-os-menu",fC);const mC=fC;function vC(t){return vC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vC(t)}function yC(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function bC(t,e){if(e&&("object"===vC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _C(t){var e="function"==typeof Map?new Map:void 0;return _C=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return wC(t,arguments,EC(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),SC(n,t)},_C(t)}function wC(t,e,n){return wC=xC()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&SC(r,n.prototype),r},wC.apply(null,arguments)}function xC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function SC(t,e){return SC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},SC(t,e)}function EC(t){return EC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},EC(t)}var MC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&SC(t,e)}(s,t);var e,n,i,r,o,g=(e=s,n=xC(),function(){var t,i=EC(e);if(n){var r=EC(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return bC(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=g.call(this)).shadow=t.attachShadow({mode:"open"}),t}return i=s,o=[{key:"observedAttributes",get:function(){return[]}}],(r=[{key:"connectedCallback",value:function(){var t=this,e=this;this.render(),this.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation();var i=t.parentNode;do{i=i.parentNode}while("m-os-desktop"!==i.localName);var r=new $A;r.style="display:block";var o=new q(r,{}),g=JSON.parse(JSON.stringify(i.packages.Get(e.name).initState));i.appendChild(r),r.bringFront();var s=r.getBoundingClientRect();o.width=s.width-5,o.height=s.height-40;var a=i.packages.Get(e.name).render(i.core,{})(o,g);r.process=a,r.title=e.name,r.getState=o.getState,r.state=o.state,g.componentName=e.name,r.on("resize",(function(t){o.height=t.height-40,o.width=t.width-5,o.emit("resize")}))}))}},{key:"disconnectedCallback",value:function(){}},{key:"render",value:function(){this.shadow.innerHTML="\n\t\t\t<style>\n\t\t\t\t:host{\n\t\t\t\t\tdisplay:block;\n\t\t\t\t\tbackground-color: inherit;\n\t\t\t\t}\n\t\t\t\tdiv:hover{\n\t\t\t\t\tbackground-color: #777;\n\t\t\t\t\tcolor: #FFF;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<div><slot></slot></div>\n\t\t";var t=document.createTextNode(this.name);this.appendChild(t)}}])&&yC(i.prototype,r),o&&yC(i,o),s}(_C(HTMLElement));gt("m-os-startmenu-item",MC);const TC=MC;function RC(t){return RC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RC(t)}function OC(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function LC(t,e){if(e&&("object"===RC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function PC(t){var e="function"==typeof Map?new Map:void 0;return PC=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return NC(t,arguments,jC(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),kC(n,t)},PC(t)}function NC(t,e,n){return NC=DC()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&kC(r,n.prototype),r},NC.apply(null,arguments)}function DC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function kC(t,e){return kC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},kC(t,e)}function jC(t){return jC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jC(t)}var FC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kC(t,e)}(s,t);var e,n,i,r,o,g=(e=s,n=DC(),function(){var t,i=jC(e);if(n){var r=jC(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return LC(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=g.call(this)).shadow=t.attachShadow({mode:"open"}),t}return i=s,r=[{key:"attributeChangedCallback",value:function(t,e,n){this.render()}},{key:"connectedCallback",value:function(){this.render()}},{key:"packages",get:function(){return this._pkgs},set:function(t){this._pkgs=t}},{key:"render",value:function(){this.shadow.innerHTML="\n\t\t<style>\n\t\t\t:host{\n            all:inherit;\n            border-radius: 6px;\n\t\t\t}\n\t\t</style>\n\t\t<slot></slot>\n\t";var t=new mC;t.name="Start";var e=document.createElement("div");e.innerHTML="M-OS",e.style.backgroundColor="#388",e.style.color="#FFD";var n=document.createElement("hr");t.appendChild(e),t.appendChild(n),t.style.minWidth="130px",this.packages.ListKeys().forEach((function(e){var n=new TC;n.name=e,t.appendChild(n)})),this.appendChild(t);var i=document.createElement("span");i.innerHTML="|",this.appendChild(i)}}],o=[{key:"observedAttributes",get:function(){return[]}}],r&&OC(i.prototype,r),o&&OC(i,o),s}(PC(HTMLElement));gt("m-os-startmenu",FC);const BC=FC;function zC(t){return zC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zC(t)}function UC(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function HC(t,e){if(e&&("object"===zC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function GC(t){var e="function"==typeof Map?new Map:void 0;return GC=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return WC(t,arguments,YC(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ZC(n,t)},GC(t)}function WC(t,e,n){return WC=VC()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&ZC(r,n.prototype),r},WC.apply(null,arguments)}function VC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ZC(t,e){return ZC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ZC(t,e)}function YC(t){return YC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},YC(t)}var XC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZC(t,e)}(s,t);var e,n,i,r,o,g=(e=s,n=VC(),function(){var t,i=YC(e);if(n){var r=YC(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return HC(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=g.call(this)).shadow=e.attachShadow({mode:"open"}),e.panelDb=t,e}return i=s,o=[{key:"observedAttributes",get:function(){return[]}}],(r=[{key:"attributeChangedCallback",value:function(t,e,n){this.render()}},{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){var t=this,e=this;this.shadow.innerHTML="\n\t\t<style>\n\t\t\t:host{\n            all:inherit;\n            border-radius: 6px;\n\t\t\t}\n\t\t</style>\n\t\t<slot></slot>\n\t";var n=new mC((function(n){r.innerHTML="";var i=t.panelDb;i.keys().then((function(t){t.forEach((function(t){var n=document.createElement("div");n.innerHTML=t,n.onmouseover=function(){n.style.backgroundColor="#777",n.style.color="#FFF"},n.onmouseout=function(){n.style.backgroundColor=null,n.style.color=null},r.appendChild(n),n.onclick=function(n){n.preventDefault(),n.stopPropagation(),i.getItem(t).then((function(t){var n=JSON.parse(t),i=e.parentNode;do{i=i.parentNode}while("m-os-desktop"!==i.localName);var r=new $A;r.style="display:block";var o=new q(r,{});i.appendChild(r),r.bringFront();var g=r.getBoundingClientRect();o.width=g.width-5,o.height=g.height-40;var s=i.packages.Get(n.componentName).render(i.core,{})(o,n);r.process=s,r.title=n.componentName,r.state=n,r.getState=o.getState,r.on("resize",(function(t){o.height=t.height-40,o.width=t.width-5,o.emit("resize")}))})).catch((function(t){console.warn(t)}))}}))}))}));n.name="Panels";var i=document.createElement("div");i.innerHTML="Saved Panels",i.style.backgroundColor="#388",i.style.color="#FFD";var r=document.createElement("div");r.style.color="black";var o=document.createElement("hr");n.appendChild(i),n.appendChild(o),n.appendChild(r),n.style.minWidth="130px",this.appendChild(n)}}])&&UC(i.prototype,r),o&&UC(i,o),s}(GC(HTMLElement));gt("m-os-panel-db-menu",XC);const JC=XC;var qC=n(6290),KC=n.n(qC);function QC(t){return QC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QC(t)}function $C(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function tI(t,e){return tI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tI(t,e)}function eI(t,e){if(e&&("object"===QC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function nI(t){return nI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nI(t)}var iI=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tI(t,e)}(g,t);var e,n,i,r,o=(i=g,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nI(i);if(r){var n=nI(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return eI(this,t)});function g(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(t=o.call(this)).shadow=t.attachShadow({mode:"open"}),t}return e=g,(n=[{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){this.shadow.innerHTML="\n\t\t<style>\n            :host {\n                all:initial\n            }\n\t\t</style>\n\t\t<slot></slot>\n\t";var t=this,e=new LA,n=new AC;console.log(t.namespace,"self.namespace");var i=KC().createInstance({name:t.namespace+"_paneldb"});t.panelDb=i;var r=new AC;r.position="top",r.style.backgroundColor="#1E1114",r.style.color="#DEDAD3",r.style.zIndex=0,e.appendChild(r);var o=new JC(i);r.appendChild(o),e.packages=this.packages,e.core=this.core;var g=new BC;g.packages=this.packages,n.appendChild(g),e.appendChild(n),this.appendChild(e)}}])&&$C(e.prototype,n),g}(R);gt("reflexiv-os-layout",iI);const rI=iI;function oI(t){return oI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oI(t)}function gI(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function sI(t,e){return sI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},sI(t,e)}function aI(t,e){if(e&&("object"===oI(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function AI(t){return AI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},AI(t)}var CI=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sI(t,e)}(g,t);var e,n,i,r,o=(i=g,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=AI(i);if(r){var n=AI(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return aI(this,t)});function g(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),o.call(this)}return e=g,(n=[{key:"init",value:function(){}}])&&gI(e.prototype,n),g}(s),II=new CI;II.Register("docker",dA),II.Register("single",_A),II.Register("os",rI);const cI=II;function lI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uI(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var hI=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};lI(this,t),this.core=e,this.options=n,this.core.bridge=new qe(n.namespace||e.namespace||"reflexiv",n)}var e,n;return e=t,(n=[{key:"provides",value:function(){return["@reflexiv/bridge"]}},{key:"init",value:function(){return console.log("bridge service init"),Promise.resolve()}},{key:"start",value:function(){console.log("bridge service start")}},{key:"destroy",value:function(){console.log("bridge service end"),this.core.bridge.close()}},{key:"close",value:function(){this.destroy()}}])&&uI(e.prototype,n),t}(),dI=n(7198);function pI(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}const fI=function(t){var e=t.map((function(t){return new RegExp("."+t+"$")}));return function(t){var n=!1;return e.forEach((function(e){null!==t.match(e)&&(n=!0)})),n}};var mI=function(t){return function(e,n){return function(i){if(null!==i){var r=i.split(","),o=atob(r[1]);e(t(o))}else n("value not found")}}},vI=["json","JSON"];const yI={key:"json",is:fI(vI),suffixes:vI,parse:mI(JSON.parse),fetch:function(t,e){return fetch(t,e).then(pI)}};function bI(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function _I(t,e){return fetch(t,e).then(bI)}var wI=["txt","svg","text","uri"];const xI={key:"text",is:fI(wI),parse:mI((function(t){return t})),suffixes:wI,fetch:_I};var SI=function(t){var e=new FileReader;return e.readAsDataURL(t),new Promise((function(t){e.onloadend=function(){t(e.result)}}))};var EI=["png","jpg","JPG","jpeg","PNG","bmp"];const MI={key:"img",is:fI(EI),suffixes:EI,parse:function(t,e){return function(n){null!==n?t(n):e("value not found")}},fetch:function(t,e){return new Promise((function(n,i){fetch(t,e).then((function(t){return"404"==t.status&&i({error:"not found"}),t.blob()})).then(SI).then((function(t){n(t)})).catch((function(t){i(t)}))}))}};var TI={},RI={};function OI(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function LI(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function PI(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function NI(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],o=t.length,g=0,s=0,a=o<=0,A=!1;function C(){if(a)return RI;if(A)return A=!1,TI;var e,i,r=g;if(34===t.charCodeAt(r)){for(;g++<o&&34!==t.charCodeAt(g)||34===t.charCodeAt(++g););return(e=g)>=o?a=!0:10===(i=t.charCodeAt(g++))?A=!0:13===i&&(A=!0,10===t.charCodeAt(g)&&++g),t.slice(r+1,e-1).replace(/""/g,'"')}for(;g<o;){if(10===(i=t.charCodeAt(e=g++)))A=!0;else if(13===i)A=!0,10===t.charCodeAt(g)&&++g;else if(i!==n)continue;return t.slice(r,e)}return a=!0,t.slice(r,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(i=C())!==RI;){for(var I=[];i!==TI&&i!==RI;)I.push(i),i=C();e&&null==(I=e(I,s++))||r.push(I)}return r}function r(e,n){return e.map((function(e){return n.map((function(t){return g(e[t])})).join(t)}))}function o(e){return e.map(g).join(t)}function g(t){return null==t?"":t instanceof Date?(r=(n=t).getUTCHours(),o=n.getUTCMinutes(),g=n.getUTCSeconds(),s=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((i=n.getUTCFullYear())<0?"-"+PI(-i,6):i>9999?"+"+PI(i,6):PI(i,4))+"-"+PI(n.getUTCMonth()+1,2)+"-"+PI(n.getUTCDate(),2)+(s?"T"+PI(r,2)+":"+PI(o,2)+":"+PI(g,2)+"."+PI(s,3)+"Z":g?"T"+PI(r,2)+":"+PI(o,2)+":"+PI(g,2)+"Z":o||r?"T"+PI(r,2)+":"+PI(o,2)+"Z":"")):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t;var n,i,r,o,g,s}return{parse:function(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=OI(t);return function(i,r){return e(n(i),r,t)}}(t,e):OI(t)}));return o.columns=r||[],o},parseRows:i,format:function(e,n){return null==n&&(n=LI(e)),[n.map(g).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=LI(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:g}}var DI=NI("\t"),kI=DI.parse,jI=(DI.parseRows,DI.format,DI.formatBody,DI.formatRows,DI.formatRow,DI.formatValue,NI(",")),FI=jI.parse;function BI(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),_I(e,n).then((function(e){return t(e,i)}))}}jI.parseRows,jI.format,jI.formatBody,jI.formatRows,jI.formatRow,jI.formatValue,BI(FI);var zI,UI=BI(kI);function HI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var GI=["tsv","TSV"],WI=fI(GI),VI=mI(kI);const ZI=(HI(zI={key:"tsv",is:WI,suffixes:GI},"suffixes",GI),HI(zI,"parse",VI),HI(zI,"fetch",UI),zI);function YI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XI(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var JI=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};YI(this,t),this.suffixMap={},this.parsers={},e.empty||this._init_()}var e,n;return e=t,n=[{key:"_init_",value:function(){this.add(yI),this.add(ZI),this.add(MI),this.add(xI)}},{key:"add",value:function(t){var e=this;t.key in e.parsers?console.warn("duplicated parser key",t.key):(e.parsers[t.key]=t,t.suffixes.forEach((function(n){n in e.suffixMap?console.warn("duplicated parser for same suffix",n):e.suffixMap[n]=t.key})))}},{key:"getParser",value:function(t){var e=t.split(".").pop();return e in this.suffixMap?this.parsers[this.suffixMap[e]]:null}},{key:"remove",value:function(t){t in self.parsers&&(self.parsers[t].suffixes.forEach((function(e){self.suffixMap[e]==t&&delete self.suffixMap[e][t]})),delete self.parsers[t])}}],n&&XI(e.prototype,n),t}();const qI=JI;var KI=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),QI=new RegExp(/gsheet:\/\/[\S]{44}\/\S+/),$I=new RegExp(/storage:\/\/\S+\/\S+/);const tc=function(t,e,n){return function(){var t="AIzaSyBhECk4C1LpxI1mDJjSTwot-hRP2v3bwEA",e="",n="Sheet1",i="A:ZZZ",r={},o=function(){return new Promise((function(o,g){var s=function(t,e,n,i){return"https://sheets.googleapis.com/v4/spreadsheets/"+t+"/values/"+e+"!"+n+"?key="+i}(e,n,i,t);fetch(s,r).then((function(t){return t.json()})).then((function(t){var e=function(t){var e=t[0],n=e.length,i=new Array(n-1);return i.columns=t[0],t.forEach((function(t,n){if(0!=n){var r={};t.forEach((function(t,n){r[e[n]]=t})),i[n-1]=r}})),i}(t.values);o(e)})).then((function(t){g(t)}))}))};return o.apiKey=function(e){return arguments.length?(t=e,o):t},o.sheetId=function(t){return arguments.length?(e=t,o):e},o.sheetTitle=function(t){return arguments.length?(n=t,o):n},o.range=function(t){return arguments.length?(i=t,o):i},o.options=function(t){return arguments.length?(r=t,o):r},o}().sheetId(t).sheetTitle(e).apiKey(n)()};var ec=n(4272),nc=n.n(ec),ic={svg:"image/svg+xml",tsv:"text/tab-separated-values",csv:"text/comma-separated-values",txt:"text/plain",text:"text/plain",png:"image/png",bmp:"image/bmp",jpg:"image/jpg",json:"application/json"};const rc=function(t){return ic[t]||"text/plain"};function oc(t){return oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(t)}function gc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ac(t,e){return ac=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ac(t,e)}function Ac(t,e){if(e&&("object"===oc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Cc(t)}function Cc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ic(t){return Ic=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ic(t)}function cc(t,e,n,i,r,o,g){try{var s=t[o](g),a=s.value}catch(t){return void n(t)}s.done?e(a):Promise.resolve(a).then(i,r)}var lc=function(t){var e=t.split("/");return{fileName:e.pop(),storeName:e.pop()}},uc=function(t,e){var n=t.split(".");if(n.length>1){var i=n.pop(),r=n.join(".");return(r+=" ("+e+")")+"."+i}return t+"("+e+")"},hc=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function g(t){cc(o,i,r,g,s,"next",t)}function s(t){cc(o,i,r,g,s,"throw",t)}g(void 0)}))}}(regeneratorRuntime.mark((function t(e,n){var i,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=n;case 2:if(!(i<1e4)){t.next=11;break}return t.next=5,e.getItem(r).then((function(t){o=t}));case 5:if(null!==o){t.next=7;break}return t.abrupt("break",11);case 7:r=uc(n,i+=1),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),dc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ac(t,e)}(g,t);var e,n,i,r,o=(i=g,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ic(i);if(r){var n=Ic(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ac(this,t)});function g(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reflexiv",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return gc(this,g),Cc(t=o.call(this,e)),t._namespace=e,t._options=n,t._initStore(),t}return e=g,n=[{key:"_initStore",value:function(){var t=this;this.stores={};var e=nc().createInstance({name:t.namespace+"_os",storeName:"stores",size:4980736,version:3,description:t.ns+" os",driver:"asyncStorage"});this._stores_=e,this._stores_.keys().then((function(e){e.forEach((function(e){t.createStore(e,t.options.size)})),t.emit("inited",e)}))}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}},{key:"namespace",get:function(){return this._namespace},set:function(t){this._safeCloseStore(),this._namespace=t,this._initStore()}},{key:"createStore",value:function(t,e){var n=nc().createInstance({name:this.namespace+"_store",storeName:t,size:e||79691776,description:this.ns+" drive "+t,driver:"asyncStorage"});this.stores[t]=n;var i={created:(new Date).getTime()};this._stores_.setItem(t,i)}},{key:"_safeCloseStore",value:function(){var t=this;"namespace"in t&&(nc().dropInstance({name:t.namespace+"_store"}).then((function(){console.log("Dropped store "+t.namespace)})),nc().dropInstance({name:t.namespace+"_os"}).then((function(){console.log("Dropped store "+t.namespace)})))}},{key:"makeFilesHandler",value:function(t){var e=this;return function(n){for(var i,r=n.target.files,o=0;i=r[o];o++){var g=new FileReader;g.onload=function(n){return function(i){var r=i.target.result;hc(e.stores[t],n.name).then((function(n){e.create(t,n,r)}))}}(i),g.readAsDataURL(i)}}}},{key:"makeFetch",value:function(t){var e=this;return function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};fetch(n,i).then((function(t){return t.text()})).then((function(i){var r=n.split(".").pop(),o="data:"+rc(r)+";base64,"+btoa(i),g=n.split("/").pop();hc(e.stores[t],g).then((function(n){e.create(t,n,o)}))})).catch((function(t){console.warn(t)}))}}},{key:"create",value:function(t,e,n){var i=this;t in i.stores||i.createStore(t),i.stores[t].getItem(e),i.stores[t].setItem(e,n).then((function(){i.emit("create",{URI:"storage://"+t+"/"+e,fn:e,store:t})})).catch((function(t){console.warn(t)}))}},{key:"getItem",value:function(t,e){return t in this.stores?this.stores[t].getItem(e):new Promise((function(t,e){e({error:"store not found"})}))}},{key:"list",value:function(t){return t in this.stores?this.stores[t].keys():new Promise((function(t,e){e({error:"store not found"})}))}},{key:"delete",value:function(t,e){var n=this;return t in n.stores?(n.stores[t].removeItem(e),n.emit("delete",{store:t,fn:e}),0):-1}},{key:"removeStore",value:function(t){var e=this;t in e.stores&&(e.stores[t].clear(),e.stores[t].dropInstance({storeName:t,name:e.namespace+"_store"}).then((function(t){console.log("drop",t)})).catch((function(t){console.warn(t)})),delete e.stores[t],e._stores_.removeItem(t),e.emit("removeStore",{store:t}))}},{key:"move",value:function(t,e){var n=lc(t),i=lc(e),r=this,o=r.stores[n.storeName].getItem(n.fileName);return null===o?-1:(hc(r.stores[i.storeName],i.fileName).then((function(t){r.create(i.storeName,t,o),r.delete(n.storeName,n.fileName)})),0)}},{key:"copy",value:function(t,e){var n=lc(t),i=lc(e),r=this,o=r.stores[n.storeName].getItem(n.fileName);return null===o?-1:(hc(r.stores[i.storeName],i.fileName).then((function(t){r.create(i.storeName,t,o)})),0)}},{key:"close",value:function(){this.emit("close"),this._safeCloseStore()}}],n&&sc(e.prototype,n),g}(dI.EventEmitter);const pc=dc;function fc(t){return fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(t)}function mc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function yc(t,e){return yc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yc(t,e)}function bc(t,e){if(e&&("object"===fc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _c(t)}function _c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wc(t){return wc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wc(t)}var xc=function(t){return new Promise((function(e,n){n({error:t})}))},Sc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yc(t,e)}(g,t);var e,n,i,r,o=(i=g,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=wc(i);if(r){var n=wc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return bc(this,t)});function g(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};mc(this,g);var i=_c(e=o.call(this,t));return e.namespace=t,"fs"in n?(e.fs=n.fs,e._close=function(){}):(e.fs=new pc(t),e._close=function(){i.fs.close()}),e._options=n,e._apiKey=n.apiKey||"AIzaSyBhECk4C1LpxI1mDJjSTwot-hRP2v3bwEA",e.buffer={},e.parsers=n.parsers||new qI,e}return e=g,n=[{key:"parsers",get:function(){return this._parsers},set:function(t){this._fetchURL_=function(t){return function(e,n){var i=t.getParser(e);return null!==i?i.fetch(e,n):new Promise((function(t,e){e({error:"not support this format"})}))}}(t),this._parsers=t}},{key:"apiKey",get:function(){return this._apiKey},set:function(t){this._apiKey=t}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}},{key:"_fetchURL",value:function(t,e){return this._fetchURL_(t,this.options.fetchURLOptions||{})}},{key:"_fetchLocalStorage",value:function(t,e){var n=this,i=this,r=t.split("/"),o=r[2],g=r[3];return new Promise((function(t,e){n.fs.getItem(o,g).then((function(n){var r=i.parsers.getParser(g);null!==r&&r.parse(t,e)(n),e("not support this format")})).catch((function(t){e(t)}))}))}},{key:"_fetchGoogleSheet",value:function(t,e){var n=t.split("/"),i=n[2],r=n[3];return tc(i,r,this.apiKey)}},{key:"_fetch_",value:function(t,e){var n=this,i=function(t){return null!==t.match(QI)?{type:"sheet",data:t.split(":").pop().replace("//","")}:null!==t.match($I)?{type:"storage",data:t.split(":").pop().replace("//","")}:null!==t.match(KI)?{type:"web",data:t}:null}(t);return null==i?xc("parsing URI error"):"sheet"==i.type?n._fetchGoogleSheet(t,e):"storage"==i.type?n._fetchLocalStorage(t,e):"web"==i.type?n._fetchURL(t,e):xc("URI type not support")}},{key:"fetch",value:function(t,e){var n=this;return new Promise((function(i,r){n._fetch_(t,e).then((function(t){i(t)})).catch((function(t){r(t)}))}))}},{key:"close",value:function(){this._close(),this.emit("close")}}],n&&vc(e.prototype,n),g}(dI.EventEmitter);function Ec(t){return Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(t)}function Mc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Rc(t,e,n){return Rc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pc(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},Rc(t,e,n||t)}function Oc(t,e){return Oc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Oc(t,e)}function Lc(t,e){if(e&&("object"===Ec(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Pc(t){return Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pc(t)}var Nc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oc(t,e)}(g,t);var e,n,i,r,o=(i=g,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pc(i);if(r){var n=Pc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Lc(this,t)});function g(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Mc(this,g),(e=o.call(this,t,n)).buffer={},e}return e=g,(n=[{key:"fetch",value:function(t,e){var n=this;return t in this.buffer?new Promise((function(e,i){e(n.buffer[t])})):n.refetch(t,e)}},{key:"refetch",value:function(t,e){var n=this,i=this;return new Promise((function(r,o){Rc(Pc(g.prototype),"fetch",n).call(n,t,e).then((function(e){i.buffer[t]=e,i.emit("dataReady",{URI:t}),r(e)})).catch((function(t){o(t)}))}))}},{key:"clear",value:function(){var t=this;for(var e in t.buffer)delete t.buffer[e];this.emit("clear",t.buffer)}},{key:"list",value:function(){return Object.keys(this.buffer).sort()}},{key:"delete",value:function(t){t in this.buffer&&(delete this.buffer[t],this.emit("delete",{URI:t}))}}])&&Tc(e.prototype,n),g}(Sc);const Dc=Nc;function kc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}dI.EventEmitter;var Fc=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};kc(this,t),this.core=e,this.options=n;var i=new Dc(n.namespace||"reflexiv",n);this.core.data=i}var e,n;return e=t,(n=[{key:"provides",value:function(){return["@reflexiv/data"]}},{key:"init",value:function(){return console.log("data system service init"),Promise.resolve()}},{key:"start",value:function(){console.log("data system service start")}},{key:"destroy",value:function(){console.log("data system service close"),this.core.data.close()}},{key:"close",value:function(){this.destroy()}}])&&jc(e.prototype,n),t}(),Bc=new ot;Bc.Register("@reflexiv/service-bridge",{init:hI,options:{extId:"djcdicpaejhpgncicoglfckiappkoeof"}}),Bc.Register("@reflexiv/service-data",{init:Fc,options:{}});const zc=Bc,Uc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"string"!=typeof t&&"is"in t&&(t=(e=t).is);var n=customElements.get(t);return void 0===n?customElements.define(t,e):e=n,e};var Hc=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),Gc=new RegExp(/gsheet:\/\/[\S]{44}\/\S+/),Wc=new RegExp(/storage:\/\/\S+\/\S+/);function Vc(t){return Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(t)}function Zc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Yc(t,e){if(e&&("object"===Vc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xc(t){var e="function"==typeof Map?new Map:void 0;return Xc=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Jc(t,arguments,Qc(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Kc(n,t)},Xc(t)}function Jc(t,e,n){return Jc=qc()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Kc(r,n.prototype),r},Jc.apply(null,arguments)}function qc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Kc(t,e){return Kc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Kc(t,e)}function Qc(t){return Qc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qc(t)}var $c=n(883).Z.toString(),tl=function(t){return t.preventDefault&&t.preventDefault(),!1},el=function(t){t.target.classList.add("over")},nl=function(t){t.target.classList.remove("over"),t.target.style.backgroundColor=null};function il(t){t.stopPropagation(),this.style.opacity="0.4",t.dataTransfer.effectAllowed="move",console.log("drag start",this.value,this.getAttribute("URI")),t.dataTransfer.setData("URI",this.getAttribute("URI"))}function rl(t){t.stopPropagation(),this.style.opacity="1"}var ol=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kc(t,e)}(s,t);var e,n,i,r,o,g=(e=s,n=qc(),function(){var t,i=Qc(e);if(n){var r=Qc(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return Yc(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=g.call(this)).shadow=e.attachShadow({mode:"open"}),e.agent=t,e.render(),e}return i=s,r=[{key:"agent",get:function(){return this._agent},set:function(t){this._agent=t}},{key:"connectedCallback",value:function(){}},{key:"disconnectedCallback",value:function(){}},{key:"render",value:function(){var t=this,e=document.createElement("style");e.innerHTML=$c,this.shadow.appendChild(e);var n=document.createElement("div");n.className="container";var i=document.createElement("div");i.className="menubar",i.innerHTML="Data Objects";var r=document.createElement("div");r.className="content";var o=document.createElement("div");o.className="content-menu";var g=document.createElement("div");g.style.display="none",g.innerHTML="";var s=document.createElement("input");s.setAttribute("type","button"),s.setAttribute("value","delete"),s.onclick=function(e){e.stopPropagation(),t.agent.delete(c),l("")},g.appendChild(s);var a=document.createElement("input");a.setAttribute("type","button"),a.setAttribute("value","open"),a.onclick=function(e){e.stopPropagation(),console.log(t.agent.buffer[c])},g.appendChild(a),o.appendChild(g),r.appendChild(o);var A=document.createElement("ul");n.appendChild(i),n.appendChild(r),r.appendChild(A),this.div=n,this.ul=A,this.shadow.appendChild(n),r.addEventListener("drop",function(t){return function(e){e.stopPropagation(),e.preventDefault&&e.preventDefault();var n=e.dataTransfer.getData("URI");return nl(e),t.fetch(n).then((function(t){})),!1}}(t.agent),!1),r.addEventListener("dragenter",el,!1),r.addEventListener("dragleave",nl,!1),r.addEventListener("dragover",tl,!1),r.addEventListener("click",(function(t){t.stopPropagation(),l("")}),!1);var C=this.agent.list().sort(),I={},c="",l=function(t){for(var e in c=t,I)I[e].getElementsByClassName("thumbnail")[0].classList.remove("selected"),I[e].getElementsByClassName("thumbnail")[0].classList.add("unselected");t in I?(I[t].getElementsByClassName("thumbnail")[0].classList.add("selected"),I[t].getElementsByClassName("thumbnail")[0].classList.remove("unselected"),g.style.display=null):g.style.display="none"};C.forEach((function(e){I[e]=gl(t.ul,e),I[e].onclick=function(t){t.stopPropagation(),l(e)}})),t.agent.on("dataReady",(function(e){I[e.URI]=gl(t.ul,e.URI),I[e.URI].onclick=function(t){t.stopPropagation(),l(e.URI)}})),t.agent.on("delete",(function(t){I[t.URI].remove(),delete I[t.URI]})),t.agent.on("clear",(function(){I={},t.ul.innerHTML=""}))}}],o=[{key:"is",get:function(){return"reflex-ui-data-agent"}}],r&&Zc(i.prototype,r),o&&Zc(i,o),s}(Xc(HTMLElement)),gl=function(t,e){var n,i=document.createElement("li"),r=document.createElement("div"),o=null!==(n=e).match(Gc)?{type:"sheet",data:n.split(":").pop().replace("//","")}:null!==n.match(Wc)?{type:"storage",data:n.split(":").pop().replace("//","")}:null!==n.match(Hc)?{type:"web",data:n}:null;if(null!==e){r.className="thumbnail",r.classList.add("unselected"),r.innerHTML=o.type;var g=document.createElement("div");return g.className="filename",g.innerHTML=o.data,i.append(r),i.append(g),i.className="item",i.setAttribute("draggable",!0),i.addEventListener("dragstart",il,!1),i.addEventListener("dragend",rl,!1),i.setAttribute("URI",e),console.log(e),t.appendChild(i),i}return null};Uc(ol);var sl=n(6135);function al(t){return al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(t)}var Al=Array.isArray,Cl=function(t){t.append=function(e){return t.appendChild(e),t},t.on=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.addEventListener(e,n,i),t},t.off=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.removeEventListener(e,n,i),t},t.once=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.once=!0,t.addEventListener(e,n,i),t},t.emit=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){var i=new CustomEvent(e,{detail:n});t.dispatchEvent(i)}else if("object"===al(e))try{t.dispatchEvent(e)}catch(t){console.warn(t)}return t}},Il=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){return"o"==n[0]&&"n"==n[1]?(n=n.slice(2),t.addEventListener(n,i)):"o"==n[0]&&"f"==n[1]&&"f"==n[2]?(n=n.slice(3),t.removeEventListener(n,i)):e?t.setAttributeNS(null,n,i):t.setAttribute(n,i),t}},cl=function(t){return function(e){var n=function(t){return e.getAttribute(t)||null},i=Il(e,t);return e.attr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null==e?n(t):i(t,e)},Cl(e),e}},ll=function(t){return function(e,n,i){var r;r=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);var o=function(t){return r.getAttribute(t)||n[t]||null},g=Il(r,t);return r.attr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null==e?o(t):g(t,e)},Cl(r),"object"==al(n)&&Object.keys(n).forEach((function(t){r.attr(t,n[t])})),void 0!==i&&("string"==typeof i?r.innerText=i:Al(i)?i.forEach((function(t){r.appendChild(t)})):r.appendChild(i)),r}},ul=(HTMLElement,cl(!1),cl(!0),ll(!1)),hl=ll(!0);function dl(t){return dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(t)}function pl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ml(t,e){if(e&&("object"===dl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vl(t){var e="function"==typeof Map?new Map:void 0;return vl=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return yl(t,arguments,wl(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_l(n,t)},vl(t)}function yl(t,e,n){return yl=bl()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&_l(r,n.prototype),r},yl.apply(null,arguments)}function bl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _l(t,e){return _l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_l(t,e)}function wl(t){return wl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wl(t)}var xl=sl.Z.toString();function Sl(t){t.stopPropagation(),this.style.opacity="0.4",t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("URI",this.getAttribute("URI"))}function El(t){t.stopPropagation(),this.style.opacity="1"}var Ml=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_l(t,e)}(s,t);var e,n,i,r,o,g=(e=s,n=bl(),function(){var t,i=wl(e);if(n){var r=wl(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return ml(this,t)});function s(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return pl(this,s),(n=g.call(this)).shadow=n.attachShadow({mode:"open"}),n.fs=t,n.node=e,n.args=i,n.render(),n}return i=s,r=[{key:"height",get:function(){return this.div.clientHeight},set:function(t){this.div.style.height=t+"px"}},{key:"connectedCallback",value:function(){}},{key:"disconnectedCallback",value:function(){}},{key:"render",value:function(){var t=this,e=this,n=ul("style");n.innerHTML=xl,this.shadow.appendChild(n),this.div=ul("div"),this.div.className="container",this.menu=ul("div"),this.menu.className="menubar",this.menu.innerHTML="Data Finder | ",this.sidebar=ul("div"),this.sidebar.className="sidebar";var i=ul("div");i.className="sidebar-menu",this.sidebar.append(i);var r=ul("input",{type:"button",value:"New",title:"Create a new file store"});i.appendChild(r),r.onclick=function(t){var n=prompt("Please enter a drive name: ","");if(null==n||""==n);else{var i=v(n);e.storeList.appendChild(i),w(n)}};var o=ul("input",{type:"button",value:"Delete",title:"Delete this drive"});i.appendChild(o),o.onclick=function(t){t.stopPropagation(),f&&confirm('Please confirm delete drive"'+f+'" ?')&&e.fs.removeStore(f)},e.fs.on("removeStore",(function(t){for(var n=t.store,i=e.storeList.getElementsByTagName("a"),r=0;r<i.length;r++)i[r].innerHTML==n&&i[r].remove();e.ul.innerHTML=""})),this.content=ul("div"),this.content.className="content";var g=ul("div");g.className="content-menu",this.content.appendChild(g),this.div.appendChild(this.menu),this.div.appendChild(this.sidebar),this.div.appendChild(this.content);var s=ul("input",{type:"file"}),a=ul("input",{type:"button",value:"Upload",title:"Upload a file from local disk"});a.onclick=function(t){s.click()};var A=ul("input",{type:"button",value:"Fetch",title:"Fetch a file from web (input a URL)"});A.onclick=function(t){var e=prompt("Please enter a Web URL:","");null==e||""==e||m(e,{})};var C=ul("span");C.innerHTML=" | ";var I=ul("input").attr("type","button").attr("value","URI").attr("title","Add a URI Link");I.onclick=function(t){var n=prompt("Please enter a code [FileName]|[gsheet://SpreadSheetId/SheetTitle] ","");if(null==n||""==n);else{var i=function(t){var e=t.split("|");return{key:e.shift(),value:e.join("|")}}(n);e.fs.create(f,i.key+".uri",i.value)}};var c=ul("input").attr("type","button").attr("value","Download");c.onclick=function(t){t.stopPropagation(),e.fs.getItem(f,b).then((function(t){!function(t,e){console.log("download",e);var n=document.createElement("a");n.download=e,n.href=t,n.click()}(t,b)})).catch((function(t){console.warn(t,d)}))};var l=ul("input").attr("type","button").attr("value","Delete");l.onclick=function(t){t.stopPropagation(),confirm('Please confirm delete file "'+b+'" ?')&&e.fs.delete(f,b)};var u=ul("input").attr("type","button").attr("value","Rename");u.onclick=function(t){t.stopPropagation();var n=prompt("Please enter a new file name:",b);null==n||""==n||n==b||e.fs.move("storage://"+f+"/"+b,"storage://"+f+"/"+n)};var h=ul("input").attr("type","button").attr("value","Copy");h.onclick=function(t){t.stopPropagation();var n=f+"/"+b,i=prompt("Please enter a new file path:",n);null==i||""==i||i==n||e.fs.copy("storage://"+n,"storage://"+i)};var p=function(t){C.style.display=t,c.style.display=t,h.style.display=t,l.style.display=t,u.style.display=t};p("none"),g.appendChild(a),g.appendChild(A),g.appendChild(I),g.appendChild(C),g.appendChild(c),g.appendChild(u),g.appendChild(h),g.appendChild(l),this.ul=ul("ul"),this.ul.className="dir",this.content.appendChild(this.ul),this.content.on("click",(function(t){b="";for(var n=e.ul.getElementsByTagName("li"),i=0;i<n.length;i++)n[i].getElementsByClassName("filename")[0].style.backgroundColor=null;p("none")})),e.storeList=ul("div"),e.sidebar.appendChild(e.storeList);var f,m,v=function(t){var e=ul("a");return e.innerHTML=t,e.onclick=function(){t!==f&&w(t)},e},y={},b="",_=function(t){var n=ul("li");t.match(/\.uri$/)?e.fs.getItem(f,t).then((function(t){n.attr("URI",t)})):n.attr("URI","storage://"+f+"/"+t),y[t]=n,n.innerHTML="<div><div class='thumbnail'></div><div class='filename'>"+t+"</div></div>";var i=n.getElementsByClassName("thumbnail")[0],r=t.split(".").pop(),o=document.createTextNode(r.toUpperCase());i.appendChild(o),e.ul.appendChild(n),n.onclick=function(i){i.stopPropagation(),b=t;for(var r=e.ul.getElementsByTagName("li"),o=0;o<r.length;o++)r[o].getElementsByClassName("filename")[0].style.backgroundColor=null;n.getElementsByClassName("filename")[0].style.backgroundColor="lightgreen",p(null)},n.className="item",n.attr("draggable",!0).on("dragstart",Sl,!1).on("dragend",El,!1)},w=function(n){!function(t){if(t.value)try{t.value=""}catch(r){if(t.value){var e=ul("form"),n=t.parentNode,i=t.nextSibling;e.append(t),e.reset(),n.insertBefore(t,i)}}}(s);for(var i=e.storeList.getElementsByTagName("a"),r=0;r<i.length;r++)i[r].innerHTML==n?i[r].classList.add("active"):i[r].classList.remove("active");for(var o in f=n,b="",p("none"),n in e.fs.stores||(console.log("create store",n),e.fs.createStore(n)),e.menu.innerHTML="Data Finder | "+f,s.onchange=e.fs.makeFilesHandler(n),m=e.fs.makeFetch(n),y)delete y[o];var g=t.fs.list(n);t.ul.innerHTML="",g.then((function(t){t.sort((function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())})).forEach((function(t){_(t)}))}))};this.fs.on("delete",(function(t){t.store==f&&y[t.fn].remove()})),this.fs.on("create",(function(t){t.store===f&&(t.fn in y||(_(t.fn),function(t){var e,n,i,r;for(n=!0;n;){for(n=!1,i=t.getElementsByTagName("li"),e=0;e<i.length-1;e++)if(r=!1,i[e].innerHTML.toLowerCase()>i[e+1].innerHTML.toLowerCase()){r=!0;break}r&&(i[e].parentNode.insertBefore(i[e+1],i[e]),n=!0)}}(e.ul)))})),this.fs.on("move",(function(t){})),this.fs.on("close",(function(t){}));var x=function(t){t.forEach((function(t){var n=v(t);e.storeList.appendChild(n)})),t.length>0&&w(t[0])};this.fs.on("inited",x);var S=Object.keys(this.fs.stores);S.length>0&&x(S),this.shadow.appendChild(this.div)}},{key:"update",value:function(){}}],o=[{key:"is",get:function(){return"reflex-ui-data-finder"}}],r&&fl(i.prototype,r),o&&fl(i,o),s}(vl(HTMLElement));function Tl(t){return Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(t)}function Rl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ol(t,e){if(e&&("object"===Tl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ll(t){var e="function"==typeof Map?new Map:void 0;return Ll=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Pl(t,arguments,kl(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Dl(n,t)},Ll(t)}function Pl(t,e,n){return Pl=Nl()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Dl(r,n.prototype),r},Pl.apply(null,arguments)}function Nl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Dl(t,e){return Dl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Dl(t,e)}function kl(t){return kl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kl(t)}Uc(Ml);var jl=function(t){return console.log("dragover"),t.preventDefault&&t.preventDefault(),!1},Fl=function(t){console.log("dragenter"),t.target.classList.add("over")},Bl=function(t){console.log("dragleave"),t.target.classList.remove("over"),t.target.style.backgroundColor=null},zl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dl(t,e)}(g,t);var e,n,i,r,o=(e=g,n=Nl(),function(){var t,i=kl(e);if(n){var r=kl(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return Ol(this,t)});function g(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(n=o.call(this)).shadow=n.attachShadow({mode:"open"}),n.adaptor=t,n.node=e,e.define("data",(function(t){}));var i=document.createElement("div");return i.className="dropBox",i.addEventListener("drop",function(t,e){return function(n){n.stopPropagation(),n.preventDefault&&n.preventDefault();var i=n.dataTransfer.getData("URI");return Bl(n),n.target.innerHTML=i,t.fetch(i).then((function(t){e.set("data",{key:i,value:t})})),console.log("drop"),!1}}(t,e),!1),i.addEventListener("dragenter",Fl,!1),i.addEventListener("dragleave",Bl,!1),i.addEventListener("dragover",jl,!1),n.shadow.innerHTML='\n\t\t    <style>\n\t\t\t:host{\n                all:initial;\n\t\t\t}\n            .over {\n                background-color:"lightblue"\n            }\n             .dropBox {\n                 height: 100px;\n                 width: 200px;\n                 border: 1px solid;\n                 font-size: small;\n                 overflow: auto;\n             }\n\t\t    </style>\n        ',n.shadow.appendChild(i),n}return i=g,r=[{key:"is",get:function(){return"reflex-drop-box"}}],null&&Rl(i.prototype,null),r&&Rl(i,r),g}(Ll(HTMLElement));function Ul(t){return Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(t)}function Hl(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Gl(t,e){if(e&&("object"===Ul(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Wl(t){var e="function"==typeof Map?new Map:void 0;return Wl=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Vl(t,arguments,Xl(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Yl(n,t)},Wl(t)}function Vl(t,e,n){return Vl=Zl()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Yl(r,n.prototype),r},Vl.apply(null,arguments)}function Zl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Yl(t,e){return Yl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Yl(t,e)}function Xl(t){return Xl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xl(t)}Uc(zl);var Jl=function(t){return console.log("dragover"),t.preventDefault&&t.preventDefault(),!1},ql=function(t){console.log("dragenter"),t.target.classList.add("over")},Kl=function(t){console.log("dragleave"),t.target.classList.remove("over"),t.target.style.backgroundColor=null},Ql=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yl(t,e)}(g,t);var e,n,i,r,o=(e=g,n=Zl(),function(){var t,i=Xl(e);if(n){var r=Xl(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return Gl(this,t)});function g(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(e=o.call(this)).shadow=e.attachShadow({mode:"open"}),e.adaptor=adaptor,e.node=t,t.define("data",onchange);var n=document.createElement("div");return n.className="dropBox",n.addEventListener("drop",function(t,e){return function(t){t.stopPropagation(),t.preventDefault&&t.preventDefault();var n=t.dataTransfer.getData("URI");return Kl(t),t.target.innerHTML=n,e.set("data",{key:n,value:n}),!1}}(adaptor,t),!1),n.addEventListener("dragenter",ql,!1),n.addEventListener("dragleave",Kl,!1),n.addEventListener("dragover",Jl,!1),e.shadow.innerHTML='\n\t\t    <style>\n\t\t\t:host{\n                all:initial;\n\t\t\t}\n            .over {\n                background-color:"lightblue"\n            }\n             .dropBox {\n                 height: 100px;\n                 width: 200px;\n                 border: 1px solid;\n                 font-size: small;\n                 overflow: auto;\n             }\n\t\t    </style>\n        ',e.shadow.appendChild(n),e}return i=g,r=[{key:"is",get:function(){return"reflex-uri-drop-box"}}],null&&Hl(i.prototype,null),r&&Hl(i,r),g}(Wl(HTMLElement));function $l(t){return $l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(t)}function tu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function eu(t,e){if(e&&("object"===$l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function nu(t){var e="function"==typeof Map?new Map:void 0;return nu=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return iu(t,arguments,gu(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ou(n,t)},nu(t)}function iu(t,e,n){return iu=ru()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&ou(r,n.prototype),r},iu.apply(null,arguments)}function ru(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ou(t,e){return ou=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ou(t,e)}function gu(t){return gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(t)}Uc(Ql);var su=new RegExp(/\.svg$/),au=new RegExp(/\.txt$/),Au=new RegExp(/\.png$/),Cu=new RegExp(/\.PNG$/),Iu=new RegExp(/\.jpg$/),cu=new RegExp(/\.json$/),lu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ou(t,e)}(g,t);var e,n,i,r,o=(e=g,n=ru(),function(){var t,i=gu(e);if(n){var r=gu(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return eu(this,t)});function g(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(e=o.call(this)).shadow=e.attachShadow({mode:"open"}),e.node=t;var n=document.createElement("div");return e.shadow.appendChild(n),e.node.define("data",(function(t){void 0===t.key?n.innerHTML="No Data":"object"==$l(t.value)&&"columns"in t.value?n.innerHTML=t.key+"<br>"+t.value.length+"x"+t.value.columns.length+"<br>":t.key.match(cu)?n.innerHTML=JSON.stringify(t.value):t.key.match(su)?n.innerHTML=t.value:t.key.match(au)?n.innerHTML="<pre>"+t.value+"</pre>":t.key.match(Au)||t.key.match(Iu)||t.key.match(Cu)?n.innerHTML="<img src='"+t.value+"'></img>":n.innerHTML="Not support this format :"+t.key})),e}return i=g,r=[{key:"is",get:function(){return"reflex-simple-render"}}],null&&tu(i.prototype,null),r&&tu(i,r),g}(nu(HTMLElement));function uu(t){return uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(t)}function hu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function du(t,e){if(e&&("object"===uu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function pu(t){var e="function"==typeof Map?new Map:void 0;return pu=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return fu(t,arguments,yu(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),vu(n,t)},pu(t)}function fu(t,e,n){return fu=mu()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&vu(r,n.prototype),r},fu.apply(null,arguments)}function mu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function vu(t,e){return vu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vu(t,e)}function yu(t){return yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yu(t)}Uc(lu);var bu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vu(t,e)}(s,t);var e,n,i,r,o,g=(e=s,n=mu(),function(){var t,i=yu(e);if(n){var r=yu(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return du(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=g.call(this))._modalVisible=!1,t._modal,t.attachShadow({mode:"open"}),t.shadowRoot.innerHTML='\n        <style>\n            /* The Modal (background) */\n            .modal {\n                display: none; \n                position: fixed; \n                z-index: 1000; \n                padding-top: 100px; \n                left: 0;\n                top: 0;\n                width: 100%; \n                height: 100%; \n                overflow: auto; \n                background-color: rgba(0,0,0,0.4); \n            }\n            /* Modal Content */\n            .modal-content {\n                position: relative;\n                background-color: #fefefe;\n                margin: auto;\n                padding: 0;\n                border: 1px solid #888;\n                width: 80%;\n                box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);\n                -webkit-animation-name: animatetop;\n                -webkit-animation-duration: 0.4s;\n                animation-name: animatetop;\n                animation-duration: 0.4s\n            }\n            /* Add Animation */\n            @-webkit-keyframes animatetop {\n                from {top:-300px; opacity:0} \n                to {top:0; opacity:1}\n            }\n            @keyframes animatetop {\n                from {top:-300px; opacity:0}\n                to {top:0; opacity:1}\n            }\n            /* The Close Button */\n            .close {\n                color: white;\n                float: right;\n                font-size: 28px;\n                font-weight: bold;\n            }\n            .close:hover,\n            .close:focus {\n            color: #000;\n            text-decoration: none;\n            cursor: pointer;\n            }\n            .modal-header {\n            padding: 2px 16px;\n            background-color: #000066;\n            color: white;\n            }\n            .modal-body {padding: 2px 16px; margin: 20px 2px}\n        </style>\n        <button>Open Modal</button>\n        <div class="modal">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <span class="close">&times;</span>\n                    <slot name="header"><h1>Config</h1></slot>\n                </div>\n                <div class="modal-body">\n                    <slot><slot>\n                </div>\n            </div>\n        </div>\n        ',t}return i=s,o=[{key:"is",get:function(){return"reflex-modal"}}],(r=[{key:"connectedCallback",value:function(){this._modal=this.shadowRoot.querySelector(".modal"),this._modal.addEventListener("mouseover",(function(t){t.stopPropagation()})),this._modal.addEventListener("click",(function(t){t.stopPropagation()})),this.shadowRoot.querySelector("button").addEventListener("click",this._showModal.bind(this)),this.shadowRoot.querySelector(".close").addEventListener("click",this._hideModal.bind(this))}},{key:"disconnectedCallback",value:function(){this.shadowRoot.querySelector("button").removeEventListener("click",this._showModal),this.shadowRoot.querySelector(".close").removeEventListener("click",this._hideModal)}},{key:"_showModal",value:function(){this._modalVisible=!0,this._modal.style.display="block"}},{key:"_hideModal",value:function(){this._modalVisible=!1,this._modal.style.display="none"}}])&&hu(i.prototype,r),o&&hu(i,o),s}(pu(HTMLElement));function _u(t){return _u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(t)}function wu(t,e,n,i,r,o,g){try{var s=t[o](g),a=s.value}catch(t){return void n(t)}s.done?e(a):Promise.resolve(a).then(i,r)}function xu(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function g(t){wu(o,i,r,g,s,"next",t)}function s(t){wu(o,i,r,g,s,"throw",t)}g(void 0)}))}}function Su(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Mu(t,e){if(e&&("object"===_u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Tu(t){var e="function"==typeof Map?new Map:void 0;return Tu=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Ru(t,arguments,Pu(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Lu(n,t)},Tu(t)}function Ru(t,e,n){return Ru=Ou()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Lu(r,n.prototype),r},Ru.apply(null,arguments)}function Ou(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Lu(t,e){return Lu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Lu(t,e)}function Pu(t){return Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pu(t)}Uc(bu);var Nu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lu(t,e)}(s,t);var e,n,i,r,o,g=(e=s,n=Ou(),function(){var t,i=Pu(e);if(n){var r=Pu(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return Mu(this,t)});function s(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return Su(this,s),(n=g.call(this)).shadow=n.attachShadow({mode:"open"}),n.bridge=t,n.node=e,n.args=i,n.onchange=r,n}return i=s,r=[{key:"node",get:function(){return this._node},set:function(t){this._node=t}},{key:"bridge",get:function(){return this._bridge},set:function(t){this._bridge=t}},{key:"args",get:function(){return this._args},set:function(t){this._args=t}},{key:"connectedCallback",value:function(){this.render()}},{key:"disconnectedCallback",value:function(){}},{key:"render",value:function(){var t=this;this.shadow.innerHTML="\n\t\t<style>\n\t\t\t:host{\n                all:initial;\n\t\t\t}\n            input {\n                width:100px;\n            }\n            .io {\n                float:left;\n            }\n            div {\n                min-height: 30px;\n            }\n\n\t\t</style>\n        ";var e=ul("div");this.div=e;var n=this.bridge,i=this.node,r=this.args,o=r.io||"",g=(ul("div"),ul("input"));if(g.className="io",g.value=o,g.on("keyup",(function(t){13===t.keyCode?g.blur():g.style.backgroundColor="lightyellow"})),o.length>0){var s=function(){var e=xu(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.link(o,i);case 2:return e.next=4,n.link(i,o);case 4:g.style.backgroundColor="lightgreen",t.onchange&&t.onchange(o);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s()}i._onMessageEffect_=function(t,e){g.style.backgroundColor,g.style.backgroundColor="#e5fee5",setTimeout((function(){g.style.backgroundColor="lightgreen"}),200)},i._postMessageEffect_=function(t){g.style.backgroundColor,g.style.backgroundColor="#e5fee5",setTimeout((function(){g.style.backgroundColor="lightgreen"}),200)},g.on("blur",function(){var e=xu(regeneratorRuntime.mark((function e(s){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g.value,o===a){e.next=15;break}if(o.length>0&&(n.unlink(o,i),n.unlink(i,o)),!(a.length>0)){e.next=11;break}return e.next=6,n.link(a,i);case 6:return e.next=8,n.link(i,a);case 8:g.style.backgroundColor="lightgreen",e.next=12;break;case 11:g.style.backgroundColor="white";case 12:o=a,r.io=a,t.onchange&&t.onchange(o);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.div.appendChild(g),this.shadow.appendChild(this.div)}}],o=[{key:"is",get:function(){return"reflex-ui-state-bridge-io"}}],r&&Eu(i.prototype,r),o&&Eu(i,o),s}(Tu(HTMLElement));function Du(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}function ku(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ju(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Fu(){}Uc(Nu);var Bu=.7,zu=1/Bu,Uu="\\s*([+-]?\\d+)\\s*",Hu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wu=/^#([0-9a-f]{3,8})$/,Vu=new RegExp("^rgb\\("+[Uu,Uu,Uu]+"\\)$"),Zu=new RegExp("^rgb\\("+[Gu,Gu,Gu]+"\\)$"),Yu=new RegExp("^rgba\\("+[Uu,Uu,Uu,Hu]+"\\)$"),Xu=new RegExp("^rgba\\("+[Gu,Gu,Gu,Hu]+"\\)$"),Ju=new RegExp("^hsl\\("+[Hu,Gu,Gu]+"\\)$"),qu=new RegExp("^hsla\\("+[Hu,Gu,Gu,Hu]+"\\)$"),Ku={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Qu(){return this.rgb().formatHex()}function $u(){return this.rgb().formatRgb()}function th(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Wu.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?eh(e):3===n?new oh(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?nh(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?nh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Vu.exec(t))?new oh(e[1],e[2],e[3],1):(e=Zu.exec(t))?new oh(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Yu.exec(t))?nh(e[1],e[2],e[3],e[4]):(e=Xu.exec(t))?nh(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ju.exec(t))?Ah(e[1],e[2]/100,e[3]/100,1):(e=qu.exec(t))?Ah(e[1],e[2]/100,e[3]/100,e[4]):Ku.hasOwnProperty(t)?eh(Ku[t]):"transparent"===t?new oh(NaN,NaN,NaN,0):null}function eh(t){return new oh(t>>16&255,t>>8&255,255&t,1)}function nh(t,e,n,i){return i<=0&&(t=e=n=NaN),new oh(t,e,n,i)}function ih(t){return t instanceof Fu||(t=th(t)),t?new oh((t=t.rgb()).r,t.g,t.b,t.opacity):new oh}function rh(t,e,n,i){return 1===arguments.length?ih(t):new oh(t,e,n,null==i?1:i)}function oh(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function gh(){return"#"+ah(this.r)+ah(this.g)+ah(this.b)}function sh(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ah(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ah(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ih(t,e,n,i)}function Ch(t){if(t instanceof Ih)return new Ih(t.h,t.s,t.l,t.opacity);if(t instanceof Fu||(t=th(t)),!t)return new Ih;if(t instanceof Ih)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),g=NaN,s=o-r,a=(o+r)/2;return s?(g=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=a<.5?o+r:2-o-r,g*=60):s=a>0&&a<1?0:g,new Ih(g,s,a,t.opacity)}function Ih(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function ch(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function lh(t,e,n,i,r){var o=t*t,g=o*t;return((1-3*t+3*o-g)*e+(4-6*o+3*g)*n+(1+3*t+3*o-3*g)*i+g*r)/6}ku(Fu,th,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Qu,formatHex:Qu,formatHsl:function(){return Ch(this).formatHsl()},formatRgb:$u,toString:$u}),ku(oh,rh,ju(Fu,{brighter:function(t){return t=null==t?zu:Math.pow(zu,t),new oh(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Bu:Math.pow(Bu,t),new oh(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gh,formatHex:gh,formatRgb:sh,toString:sh})),ku(Ih,(function(t,e,n,i){return 1===arguments.length?Ch(t):new Ih(t,e,n,null==i?1:i)}),ju(Fu,{brighter:function(t){return t=null==t?zu:Math.pow(zu,t),new Ih(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Bu:Math.pow(Bu,t),new Ih(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new oh(ch(t>=240?t-240:t+120,r,i),ch(t,r,i),ch(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const uh=t=>()=>t;function hh(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):uh(isNaN(t)?e:t)}function dh(t){return function(e){var n,i,r=e.length,o=new Array(r),g=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=rh(e[n]),o[n]=i.r||0,g[n]=i.g||0,s[n]=i.b||0;return o=t(o),g=t(g),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=g(t),i.b=s(t),i+""}}}!function t(e){var n=function(t){return 1==(t=+t)?hh:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):uh(isNaN(e)?n:e)}}(e);function i(t,e){var i=n((t=rh(t)).r,(e=rh(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),g=hh(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=g(e),t+""}}return i.gamma=t,i}(1);var ph=dh((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],g=i>0?t[i-1]:2*r-o,s=i<e-1?t[i+2]:2*o-r;return lh((n-i/e)*e,g,r,o,s)}}));dh((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],g=t[(i+1)%e],s=t[(i+2)%e];return lh((n-i/e)*e,r,o,g,s)}}));const fh=t=>ph(t[t.length-1]);var mh=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Du);fh(mh);var vh=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Du);fh(vh);var yh=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Du);function bh(t,e,n,i,r,o,g){try{var s=t[o](g),a=s.value}catch(t){return void n(t)}s.done?e(a):Promise.resolve(a).then(i,r)}function _h(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function g(t){bh(o,i,r,g,s,"next",t)}function s(t){bh(o,i,r,g,s,"throw",t)}g(void 0)}))}}fh(yh);var wh={a:mh[9],b:vh[9],c:yh[9]},xh=["M323.625,348.825c-6.8,0-13.5-2.6-18.7-7.8c-15.4-15.4-36-23.9-57.8-23.9s-42.4,8.5-57.8,23.9\n\t\t\t\tc-10.3,10.3-27.1,10.3-37.4,0c-10.3-10.3-10.3-27.1,0-37.4c25.4-25.4,59.2-39.4,95.2-39.4s69.8,14,95.2,39.5\n\t\t\t\tc10.3,10.3,10.3,27.1,0,37.4C337.225,346.225,330.425,348.825,323.625,348.825z","M395.225,277.325c-6.8,0-13.5-2.6-18.7-7.8c-71.4-71.3-187.4-71.3-258.8,0c-10.3,10.3-27.1,10.3-37.4,0s-10.3-27.1,0-37.4c92-92,241.6-92,333.6,0c10.3,10.3,10.3,27.1,0,37.4C408.725,274.725,401.925,277.325,395.225,277.325z","M467.925,204.625c-6.8,0-13.5-2.6-18.7-7.8c-111.5-111.4-292.7-111.4-404.1,0c-10.3,10.3-27.1,10.3-37.4,0s-10.3-27.1,0-37.4c64-64,149-99.2,239.5-99.2s175.5,35.2,239.5,99.2c10.3,10.3,10.3,27.1,0,37.4C481.425,202.025,474.625,204.625,467.925,204.625z"];const Sh=function(t,e,n,i){var r=function(){var t=xh.map((function(t){return hl("path").attr("d",t).attr("fill","grey")}));return t.push(hl("circle",{cx:"247.125",cy:"398.925",r:"35.3",fill:"black"})),{p:t,icon:hl("svg",{height:24,width:24,class:"icon"},hl("g",{transform:"scale(0.0325)"},t))}}(),o=r.icon,g=r.p,s=ul("label"),a=0,A=n.value||"",C=function(){g.forEach((function(t){t.attr("fill","grey")}));for(var t=0;t<a;t++)g[t].attr("fill","black");g[3].attr("fill","black")};o.onclick=function(t){a+=1,a%=4,C(),0==a?I.setAttribute("disabled",!0):I.removeAttribute("disabled"),I.value=null,I.style.backgroundColor="white",c()};var I=ul("input",{type:"number",max:99,min:0}),c=function(){A.length>0&&null!==A.match(/[abc]-[\d+]/)&&(n.in&&t.unlink(A,e),n.out&&t.unlink(e,A),A="",i(""))},l=function(){var r=_h(regeneratorRuntime.mark((function r(o){var g;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(o.length>0)){r.next=13;break}if(!n.in){r.next=4;break}return r.next=4,t.link(o,e);case 4:if(!n.out){r.next=7;break}return r.next=7,t.link(e,o);case 7:A=o,i(o),g=o.split("-"),I.style.backgroundColor=wh[g[0]][(g[1]-1)%5+3],r.next=14;break;case 13:I.style.backgroundColor="white";case 14:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}(),u=["none","a","b","c"];I.onchange=function(t){if(0!=a){var e=u[a]+"-"+I.value;c(),""!==I.value?l(e):(I.value=null,I.style.backgroundColor="white")}};var h=function(){var t=_h(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=A.split("-"),I.value=parseInt(e[1]),a=e[0].charCodeAt()-96,C(),l(A);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return A.length>0&&null!==A.match(/[abc]-[\d+]/)?h():(a=0,I.setAttribute("disabled",!0)),s.append(o),s.append(I),s},Eh="\n            label {\n  position: relative;\n}\n\nlabel > .icon {\n  position: absolute;\n  top: 50%;\n  left: 10px;\n  transform: translateY(-50%);\n}\n\nlabel > input {\n  padding-left: calc(1em + 10px + 8px); /* icon width + icon padding-left + desired separation*/\n  height: 1.35em;\n  width: 2.45em;\n}\n\n.icon {\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n  cursor: point;\n}\nsvg {\n  opacity: 0.8\n}\nsvg:hover {\n  opacity: 1.0\n}\n";function Mh(t){return Mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(t)}function Th(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rh(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Oh(t,e){if(e&&("object"===Mh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Lh(t){var e="function"==typeof Map?new Map:void 0;return Lh=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Ph(t,arguments,kh(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Dh(n,t)},Lh(t)}function Ph(t,e,n){return Ph=Nh()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Dh(r,n.prototype),r},Ph.apply(null,arguments)}function Nh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Dh(t,e){return Dh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Dh(t,e)}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kh(t)}var jh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dh(t,e)}(s,t);var e,n,i,r,o,g=(e=s,n=Nh(),function(){var t,i=kh(e);if(n){var r=kh(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return Oh(this,t)});function s(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;Th(this,s),(n=g.call(this)).shadow=n.attachShadow({mode:"open"});var o=ul("style");return o.innerHTML=Eh,n.shadow.appendChild(o),n.bridge=t,n.node=e,n.args=i,n.onchange=r,n.render(),n}return i=s,o=[{key:"is",get:function(){return"ui-state-bridge"}}],(r=[{key:"node",get:function(){return this._node},set:function(t){this._node=t}},{key:"bridge",get:function(){return this._bridge},set:function(t){this._bridge=t}},{key:"args",get:function(){return this._args},set:function(t){this._args=t}},{key:"connectedCallback",value:function(){}},{key:"disconnectedCallback",value:function(){}},{key:"render",value:function(){var t=this,e=Sh(this.bridge,this.node,{in:!0,out:!0,value:this.args.io||""},(function(e){"onchange"in t&&"function"==typeof t.onchange&&t.onchange(e)}));this.div=ul("div"),this.div.appendChild(e),this.shadow.appendChild(this.div)}}])&&Rh(i.prototype,r),o&&Rh(i,o),s}(Lh(HTMLElement));customElements.define(jh.is,jh);const Fh=jh;function Bh(t){return Bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(t)}function zh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uh(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Hh(t,e){if(e&&("object"===Bh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gh(t){var e="function"==typeof Map?new Map:void 0;return Gh=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Wh(t,arguments,Yh(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Zh(n,t)},Gh(t)}function Wh(t,e,n){return Wh=Vh()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Zh(r,n.prototype),r},Wh.apply(null,arguments)}function Vh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Zh(t,e){return Zh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zh(t,e)}function Yh(t){return Yh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Yh(t)}var Xh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zh(t,e)}(s,t);var e,n,i,r,o,g=(e=s,n=Vh(),function(){var t,i=Yh(e);if(n){var r=Yh(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return Hh(this,t)});function s(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return zh(this,s),(n=g.call(this)).shadow=n.attachShadow({mode:"open"}),n.bridge=t,n.node=e,n.args=i,n.onchange=r,n}return i=s,o=[{key:"is",get:function(){return"reflex-ui-bridge"}}],(r=[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"node",get:function(){return this._node},set:function(t){this._node=t}},{key:"bridge",get:function(){return this._bridge},set:function(t){this._bridge=t}},{key:"args",get:function(){return this._args},set:function(t){this._args=t}},{key:"connectedCallback",value:function(){this.render()}},{key:"disconnectedCallback",value:function(){}},{key:"render",value:function(){this.shadow.innerHTML="\n\t\t<style>\n\t\t\t:host{\n                all:initial;\n\t\t\t}\n            .in {\n                float:left;\n            }\n            .out {\n                float:right;\n            }\n   \t\t\t:host{\n                all:initial;\n\t\t\t}\n        "+Eh+"   \n\t\t</style>\n        ";var t=ul("div");this.div=t;var e=this.bridge,n=this.node,i=this.args,r=Sh(e,n,{in:!0,out:!1,value:i.input||""},(function(t){i.input=t}));r.className="in";var o=Sh(e,n,{in:!1,out:!0,value:i.output||""},(function(t){i.output=t}));o.className="out",this.div.appendChild(r),this.div.appendChild(o),this.shadow.appendChild(this.div)}}])&&Uh(i.prototype,r),o&&Uh(i,o),s}(Gh(HTMLElement));Uc(Xh);const Jh=Xh,qh=JSON.parse('{"u2":"@reflexiv/pkg-demo-bridge","i8":"0.0.1"}');var Kh,Qh=new Uint8Array(16);function $h(){if(!Kh&&!(Kh="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Kh(Qh)}const td=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ed=function(t){return"string"==typeof t&&td.test(t)};for(var nd=[],id=0;id<256;++id)nd.push((id+256).toString(16).substr(1));const rd=function(t,e,n){var i=(t=t||{}).random||(t.rng||$h)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(nd[t[e+0]]+nd[t[e+1]]+nd[t[e+2]]+nd[t[e+3]]+"-"+nd[t[e+4]]+nd[t[e+5]]+"-"+nd[t[e+6]]+nd[t[e+7]]+"-"+nd[t[e+8]]+nd[t[e+9]]+"-"+nd[t[e+10]]+nd[t[e+11]]+nd[t[e+12]]+nd[t[e+13]]+nd[t[e+14]]+nd[t[e+15]]).toLowerCase();if(!ed(n))throw TypeError("Stringified UUID is invalid");return n}(i)};function od(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function gd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sd=qh.i8,ad=qh.u2.split("/"),Ad=ad[ad.length-1],Cd=new tt(Ad,sd,(function(t,e){return function(n,i){n.setState(i);var o=r(n);o.innerHTML="";var g=document.createElement("div");g.style.padding="10px",o.appendChild(g);var s=new Mt;s.process=function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?od(Object(n),!0).forEach((function(e){gd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):od(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);return e.text=t.text+" "+i.text,e};var a=e||{};a.args=i;var A=new Jh(t.bridge,s,a.args),C=document.createElement("div");C.style.height="50px",C.appendChild(A),g.appendChild(C);var I=document.createElement("div");g.appendChild(I),I.innerHTML="input message";var c=document.createElement("input");c.setAttribute("value",i.text),g.appendChild(c);var l=document.createElement("div");return g.appendChild(l),l.innerHTML="output message",c.addEventListener("keyup",(function(t){"Enter"===t.key&&c.blur()})),c.onblur=function(){var t=c.value;i.text=t,n.setState(i),I.innerHTML="input message",s.postMessage({_uuid_:rd(),text:t}),l.innerHTML="I say: "+t},s.onMessage=function(t,e){"text"in t&&void 0!==t.text&&(I.innerHTML=t.text,l.innerHTML=s.process(t).text)},s.postMessage=function(t){},n.on("resize",(function(t){})),function(e){""!==i.output&&t.bridge.unlink(s,i.output),""!==i.input&&t.bridge.unlink(i.input,s),s&&"close"in s&&s.close(),s=null}}}),{input:"",output:"",text:"init text",message:"",post:""},["service-bridge"]);const Id=Cd;var cd={value:()=>{}};function ld(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new ud(i)}function ud(t){this._=t}function hd(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function dd(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function pd(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=cd,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}ud.prototype=ld.prototype={constructor:ud,on:function(t,e){var n,i=this._,r=hd(t+"",i),o=-1,g=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<g;)if(n=(t=r[o]).type)i[n]=pd(i[n],t.name,e);else if(null==e)for(n in i)i[n]=pd(i[n],t.name,null);return this}for(;++o<g;)if((n=(t=r[o]).type)&&(n=dd(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ud(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};const fd=ld;function md(t){return md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(t)}function vd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function yd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vd(Object(n),!0).forEach((function(e){bd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function wd(t,e){return wd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wd(t,e)}function xd(t,e){if(e&&("object"===md(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sd(t)}function Sd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ed(t){return Ed=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ed(t)}var Md=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wd(t,e)}(g,t);var e,n,i,r,o=(i=g,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ed(i);if(r){var n=Ed(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return xd(this,t)});function g(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(n=o.call(this))._=e,n.dispatch=t;var i=Sd(n);return n._uuid="dispatch-"+n._uuid,n.onMessage=function(t,e){yd(yd({},t.data),{},{_from_:"external"}),"code"in t&&t.code in i._&&i.dispatch.call(t.code,this,t.data)},n}return e=g,n=[{key:"on",value:function(t,e){this.dispatch.on(t,e)}},{key:"call",value:function(t,e,n){this.dispatch.call(t,e,n),"_from_"in n&&"external"==n._from_||this.postMessage({code:t,data:n})}}],n&&_d(e.prototype,n),g}(Mt);const Td=JSON.parse('{"u2":"@reflexiv/pkg-demo-dispatch","i8":"0.0.1"}');var Rd=void 0,Od=Td.i8,Ld=Td.u2.split("/"),Pd=Ld[Ld.length-1];const Nd=new tt(Pd,Od,(function(t,e){return function(n,i){n.setState(i);var o=r(n);o.innerHTML="";var g=document.createElement("div");g.style.padding="10px",o.appendChild(g);var s=function(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}var r=fd.apply(void 0,arguments);return new Md(r,i)}("hover","click","clear");s.effect=!0,(e||{}).args=i;var a=new Fh(t.bridge,s,i,(function(t){i.io=t}));g.appendChild(a);var A=document.createElement("hr");g.appendChild(A);var C=document.createElement("div"),I=document.createElement("input");I.setAttribute("type","button"),I.setAttribute("value","Click Me"),I.onclick=function(t){s.call("click",Rd,[])},I.onmouseover=function(t){s.call("hover",Rd,[])},I.onmouseout=function(t){s.call("clear",Rd,[])};var c=document.createElement("div");return s.on("click",(function(t){c.innerHTML="Click @ "+i.io})),s.on("hover",(function(t){c.innerHTML="Mouse Over @ "+i.io})),s.on("clear",(function(t){c.innerHTML=""})),C.appendChild(I),C.appendChild(c),g.appendChild(C),n.on("resize",(function(t){})),function(e){""!==i.io&&(t.bridge.unlink(s,i.io),t.bridge.unlink(i.io,s)),s&&"close"in s&&s.close(),s=null}}}),{input:"",output:"",text:"init text",message:"",post:""},["service-bridge"]);function Dd(t){return Dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(t)}function kd(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function jd(t,e){if(e&&("object"===Dd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fd(t)}function Fd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bd(t){var e="function"==typeof Map?new Map:void 0;return Bd=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return zd(t,arguments,Gd(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Hd(n,t)},Bd(t)}function zd(t,e,n){return zd=Ud()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Hd(r,n.prototype),r},zd.apply(null,arguments)}function Ud(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Hd(t,e){return Hd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Hd(t,e)}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gd(t)}var Wd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hd(t,e)}(s,t);var e,n,i,r,o,g=(e=s,n=Ud(),function(){var t,i=Gd(e);if(n){var r=Gd(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return jd(this,t)});function s(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),Fd(t=g.call(this)),t.swInited=!1,t.version=null,t.div=document.createElement("div"),t.button=document.createElement("input"),t.button.setAttribute("type","button"),t.button.setAttribute("value","Update");var e=document.createElement("span");return e.innerHTML="New version available",t.div.appendChild(e),t.div.appendChild(t.button),t.div.style.display="none",t}return i=s,o=[{key:"is",get:function(){return"reflexiv-service-worker-bar"}}],(r=[{key:"scope",get:function(){return console.log("scope",this.getAttribute("scope")),this.getAttribute("scope")},set:function(t){this.setAttribute("scope",t)}},{key:"worker",get:function(){return console.log("worker",this.getAttribute("worker")),this.getAttribute("worker")},set:function(t){this.setAttribute("worker",t)}},{key:"connectedCallback",value:function(){this.appendChild(this.div),this.initVersion((function(t){self.swInited=t}))}},{key:"disconnectedCallback",value:function(){}},{key:"initVersion",value:function(t){var e,n,i=this;navigator.serviceWorker?(console.log("Service Worker Supported"),i.button.onclick=function(){e.postMessage({action:"skipWaiting"})},navigator.serviceWorker.register(i.worker,{scope:i.scope}).then((function(n){n.waiting&&n.active?(e=n.waiting,i.div.style.display=null):n.addEventListener("updatefound",(function(){(e=n.installing).addEventListener("statechange",(function(){"installed"===e.state&&navigator.serviceWorker.controller&&(i.div.style.display=null)}))})),t(!0)})).catch((function(t){console.log("Fail Register ServiceWorker",t)})),navigator.serviceWorker.addEventListener("controllerchange",(function(){n||(window.location.reload(),n=!0)}))):(console.log("Service Worker Not Supported"),t(!1))}}])&&kd(i.prototype,r),o&&kd(i,o),s}(Bd(HTMLElement));!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"string"!=typeof t&&"is"in t&&(t=(e=t).is);var n=customElements.get(t);void 0===n?customElements.define(t,e):e=n}(Wd);const Vd=JSON.parse('{"u2":"@reflexiv/pkg-demo-state","i8":"0.0.1"}');var Zd=Vd.i8,Yd=Vd.u2.split("/"),Xd=Yd[Yd.length-1],Jd=function(t,e){t.innerHTML="",Object.keys(e).forEach((function(n){var i=document.createElement("tr"),r=document.createElement("td"),o=document.createElement("td");r.innerText=n,"string"==typeof e[n]?o.innerText=e[n]:o.innerText=JSON.stringify(e[n]),i.appendChild(r),i.appendChild(o),t.appendChild(i)}))},qd=function(t,e){Jd(t,"data"in e?e.data:{})},Kd=function(t){["text","click","hover"].forEach((function(e){t.define(e,(function(t,e){}))})),t.state.text="",t.state.click=!1,t.state.hover=!1};const Qd=new tt(Xd,Zd,(function(t,e){return function(n,i){n.setState(i);var o=r(n);o.innerHTML="";var g=document.createElement("div"),s=document.createElement("table");g.style.padding="10px",o.appendChild(g),(e||{}).args=i;var a=new Ft,A=new Fh(t.bridge,a,i,(function(t){i.io=t,qd(s,a)}));g.appendChild(A);var C=document.createElement("hr");g.appendChild(C);var I=document.createElement("div"),c=document.createElement("input"),l=document.createElement("input"),u=document.createElement("input");u.setAttribute("type","button"),u.setAttribute("value","submit");var h=document.createElement("input");h.setAttribute("type","button"),h.setAttribute("value","delete"),I.appendChild(c),I.appendChild(l),I.appendChild(u),I.appendChild(h);var d=document.createElement("div");return I.appendChild(d),d.appendChild(s),g.appendChild(I),u.onclick=function(t){var e=c.value,n=l.value;e in a.state||a.define(e,(function(t,e){})),a.state[e]=n},h.onclick=function(t){var e=c.value;a.delete(e)},a.onMessage=function(t){"text"in t&&("text"in a.state||Kd(a),a.state.text=t.text),"code"in t&&("hover"==t.code&&("hover"in a||Kd(a),a.state.hover=!0),"click"==t.code&&("click"in a||Kd(a),a.state.click=!0),"clear"==t.code&&(a.hover=!1,a.state.click=!1))},a.on("change",(function(t){console.log("on change"),qd(s,a)})),n.on("resize",(function(t){})),function(e){i.io&&""!==i.io&&(t.bridge.unlink(a,i.io),t.bridge.unlink(i.io,a)),a&&"close"in a&&(a.close(),Jd(s,{})),a=null}}}),{io:"",states:{}},["bridge"]),$d=100,tp=1e3,ep=1001,np=1002,ip=1003,rp=1006,op=1008,gp=1012,sp=1014,ap=1015,Ap=1016,Cp=1020,Ip=1022,cp=1023,lp=1026,up=1027,hp=2300,dp=2301,pp=2302,fp=2400,mp=2401,vp=2402,yp=3e3,bp=7680,_p=35044,wp=35048,xp="300 es";function Sp(){}Object.assign(Sp.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}},dispatchEvent:function(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let e=0,i=n.length;e<i;e++)n[e].call(this,t)}}});const Ep=[];for(let t=0;t<256;t++)Ep[t]=(t<16?"0":"")+t.toString(16);let Mp=1234567;const Tp={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Ep[255&t]+Ep[t>>8&255]+Ep[t>>16&255]+Ep[t>>24&255]+"-"+Ep[255&e]+Ep[e>>8&255]+"-"+Ep[e>>16&15|64]+Ep[e>>24&255]+"-"+Ep[63&n|128]+Ep[n>>8&255]+"-"+Ep[n>>16&255]+Ep[n>>24&255]+Ep[255&i]+Ep[i>>8&255]+Ep[i>>16&255]+Ep[i>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(Mp=t%2147483647),Mp=16807*Mp%2147483647,(Mp-1)/2147483646},degToRad:function(t){return t*Tp.DEG2RAD},radToDeg:function(t){return t*Tp.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,r){const o=Math.cos,g=Math.sin,s=o(n/2),a=g(n/2),A=o((e+i)/2),C=g((e+i)/2),I=o((e-i)/2),c=g((e-i)/2),l=o((i-e)/2),u=g((i-e)/2);switch(r){case"XYX":t.set(s*C,a*I,a*c,s*A);break;case"YZY":t.set(a*c,s*C,a*I,s*A);break;case"ZXZ":t.set(a*I,a*c,s*C,s*A);break;case"XZX":t.set(s*C,a*u,a*l,s*A);break;case"YXY":t.set(a*l,s*C,a*u,s*A);break;case"ZYZ":t.set(a*u,a*l,s*C,s*A);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};class Rp{constructor(t=0,e=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*i+t.x,this.y=r*i+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class Op{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,i,r,o,g,s,a){const A=this.elements;return A[0]=t,A[1]=i,A[2]=g,A[3]=e,A[4]=r,A[5]=s,A[6]=n,A[7]=o,A[8]=a,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return(new this.constructor).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,o=n[0],g=n[3],s=n[6],a=n[1],A=n[4],C=n[7],I=n[2],c=n[5],l=n[8],u=i[0],h=i[3],d=i[6],p=i[1],f=i[4],m=i[7],v=i[2],y=i[5],b=i[8];return r[0]=o*u+g*p+s*v,r[3]=o*h+g*f+s*y,r[6]=o*d+g*m+s*b,r[1]=a*u+A*p+C*v,r[4]=a*h+A*f+C*y,r[7]=a*d+A*m+C*b,r[2]=I*u+c*p+l*v,r[5]=I*h+c*f+l*y,r[8]=I*d+c*m+l*b,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],g=t[5],s=t[6],a=t[7],A=t[8];return e*o*A-e*g*a-n*r*A+n*g*s+i*r*a-i*o*s}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],g=t[5],s=t[6],a=t[7],A=t[8],C=A*o-g*a,I=g*s-A*r,c=a*r-o*s,l=e*C+n*I+i*c;if(0===l)return this.set(0,0,0,0,0,0,0,0,0);const u=1/l;return t[0]=C*u,t[1]=(i*a-A*n)*u,t[2]=(g*n-i*o)*u,t[3]=I*u,t[4]=(A*e-i*s)*u,t[5]=(i*r-g*e)*u,t[6]=c*u,t[7]=(n*s-a*e)*u,t[8]=(o*e-n*r)*u,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).copy(this).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,i,r,o,g){const s=Math.cos(r),a=Math.sin(r);this.set(n*s,n*a,-n*(s*o+a*g)+o+t,-i*a,i*s,-i*(-a*o+s*g)+g+e,0,0,1)}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],o=i[3],g=i[6],s=i[1],a=i[4],A=i[7];return i[0]=e*r+n*s,i[3]=e*o+n*a,i[6]=e*g+n*A,i[1]=-n*r+e*s,i[4]=-n*o+e*a,i[7]=-n*g+e*A,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<9;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}let Lp;const Pp={getDataURL:function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Lp&&(Lp=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Lp.width=t.width,Lp.height=t.height;const n=Lp.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=Lp}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}};let Np=0;function Dp(t=Dp.DEFAULT_IMAGE,e=Dp.DEFAULT_MAPPING,n=1001,i=1001,r=1006,o=1008,g=1023,s=1009,a=1,A=3e3){Object.defineProperty(this,"id",{value:Np++}),this.uuid=Tp.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=a,this.format=g,this.internalFormat=null,this.type=s,this.offset=new Rp(0,0),this.repeat=new Rp(1,1),this.center=new Rp(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Op,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=A,this.version=0,this.onUpdate=null}function kp(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?Pp.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Dp.DEFAULT_IMAGE=void 0,Dp.DEFAULT_MAPPING=300,Dp.prototype=Object.assign(Object.create(Sp.prototype),{constructor:Dp,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const i=this.image;if(void 0===i.uuid&&(i.uuid=Tp.generateUUID()),!e&&void 0===t.images[i.uuid]){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)i[t].isDataTexture?e.push(kp(i[t].image)):e.push(kp(i[t]))}else e=kp(i);t.images[i.uuid]={uuid:i.uuid,url:e}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case tp:t.x=t.x-Math.floor(t.x);break;case ep:t.x=t.x<0?0:1;break;case np:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case tp:t.y=t.y-Math.floor(t.y);break;case ep:t.y=t.y<0?0:1;break;case np:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(Dp.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}});class jp{constructor(t=0,e=0,n=0,i=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=e,this.z=n,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*e+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*e+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*e+o[7]*n+o[11]*i+o[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,i,r;const o=.01,g=.1,s=t.elements,a=s[0],A=s[4],C=s[8],I=s[1],c=s[5],l=s[9],u=s[2],h=s[6],d=s[10];if(Math.abs(A-I)<o&&Math.abs(C-u)<o&&Math.abs(l-h)<o){if(Math.abs(A+I)<g&&Math.abs(C+u)<g&&Math.abs(l+h)<g&&Math.abs(a+c+d-3)<g)return this.set(1,0,0,0),this;e=Math.PI;const t=(a+1)/2,s=(c+1)/2,p=(d+1)/2,f=(A+I)/4,m=(C+u)/4,v=(l+h)/4;return t>s&&t>p?t<o?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(t),i=f/n,r=m/n):s>p?s<o?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(s),n=f/i,r=v/i):p<o?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(p),n=m/r,i=v/r),this.set(n,i,r,e),this}let p=Math.sqrt((h-l)*(h-l)+(C-u)*(C-u)+(I-A)*(I-A));return Math.abs(p)<.001&&(p=1),this.x=(h-l)/p,this.y=(C-u)/p,this.z=(I-A)/p,this.w=Math.acos((a+c+d-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function Fp(t,e,n){this.width=t,this.height=e,this.scissor=new jp(0,0,t,e),this.scissorTest=!1,this.viewport=new jp(0,0,t,e),n=n||{},this.texture=new Dp(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:rp,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Bp(t,e,n){Fp.call(this,t,e,n),this.samples=4}Fp.prototype=Object.assign(Object.create(Sp.prototype),{constructor:Fp,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Bp.prototype=Object.assign(Object.create(Fp.prototype),{constructor:Bp,isWebGLMultisampleRenderTarget:!0,copy:function(t){return Fp.prototype.copy.call(this,t),this.samples=t.samples,this}});class zp{constructor(t=0,e=0,n=0,i=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=e,this._z=n,this._w=i}static slerp(t,e,n,i){return n.copy(t).slerp(e,i)}static slerpFlat(t,e,n,i,r,o,g){let s=n[i+0],a=n[i+1],A=n[i+2],C=n[i+3];const I=r[o+0],c=r[o+1],l=r[o+2],u=r[o+3];if(C!==u||s!==I||a!==c||A!==l){let t=1-g;const e=s*I+a*c+A*l+C*u,n=e>=0?1:-1,i=1-e*e;if(i>Number.EPSILON){const r=Math.sqrt(i),o=Math.atan2(r,e*n);t=Math.sin(t*o)/r,g=Math.sin(g*o)/r}const r=g*n;if(s=s*t+I*r,a=a*t+c*r,A=A*t+l*r,C=C*t+u*r,t===1-g){const t=1/Math.sqrt(s*s+a*a+A*A+C*C);s*=t,a*=t,A*=t,C*=t}}t[e]=s,t[e+1]=a,t[e+2]=A,t[e+3]=C}static multiplyQuaternionsFlat(t,e,n,i,r,o){const g=n[i],s=n[i+1],a=n[i+2],A=n[i+3],C=r[o],I=r[o+1],c=r[o+2],l=r[o+3];return t[e]=g*l+A*C+s*c-a*I,t[e+1]=s*l+A*I+a*C-g*c,t[e+2]=a*l+A*c+g*I-s*C,t[e+3]=A*l-g*C-s*I-a*c,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,i=t._y,r=t._z,o=t._order,g=Math.cos,s=Math.sin,a=g(n/2),A=g(i/2),C=g(r/2),I=s(n/2),c=s(i/2),l=s(r/2);switch(o){case"XYZ":this._x=I*A*C+a*c*l,this._y=a*c*C-I*A*l,this._z=a*A*l+I*c*C,this._w=a*A*C-I*c*l;break;case"YXZ":this._x=I*A*C+a*c*l,this._y=a*c*C-I*A*l,this._z=a*A*l-I*c*C,this._w=a*A*C+I*c*l;break;case"ZXY":this._x=I*A*C-a*c*l,this._y=a*c*C+I*A*l,this._z=a*A*l+I*c*C,this._w=a*A*C-I*c*l;break;case"ZYX":this._x=I*A*C-a*c*l,this._y=a*c*C+I*A*l,this._z=a*A*l-I*c*C,this._w=a*A*C+I*c*l;break;case"YZX":this._x=I*A*C+a*c*l,this._y=a*c*C+I*A*l,this._z=a*A*l-I*c*C,this._w=a*A*C-I*c*l;break;case"XZY":this._x=I*A*C-a*c*l,this._y=a*c*C-I*A*l,this._z=a*A*l+I*c*C,this._w=a*A*C+I*c*l;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],i=e[4],r=e[8],o=e[1],g=e[5],s=e[9],a=e[2],A=e[6],C=e[10],I=n+g+C;if(I>0){const t=.5/Math.sqrt(I+1);this._w=.25/t,this._x=(A-s)*t,this._y=(r-a)*t,this._z=(o-i)*t}else if(n>g&&n>C){const t=2*Math.sqrt(1+n-g-C);this._w=(A-s)/t,this._x=.25*t,this._y=(i+o)/t,this._z=(r+a)/t}else if(g>C){const t=2*Math.sqrt(1+g-n-C);this._w=(r-a)/t,this._x=(i+o)/t,this._y=.25*t,this._z=(s+A)/t}else{const t=2*Math.sqrt(1+C-n-g);this._w=(o-i)/t,this._x=(r+a)/t,this._y=(s+A)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Tp.clamp(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const i=Math.min(1,e/n);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,i=t._y,r=t._z,o=t._w,g=e._x,s=e._y,a=e._z,A=e._w;return this._x=n*A+o*g+i*a-r*s,this._y=i*A+o*s+r*g-n*a,this._z=r*A+o*a+n*s-i*g,this._w=o*A-n*g-i*s-r*a,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,i=this._y,r=this._z,o=this._w;let g=o*t._w+n*t._x+i*t._y+r*t._z;if(g<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,g=-g):this.copy(t),g>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;const s=1-g*g;if(s<=Number.EPSILON){const t=1-e;return this._w=t*o+e*this._w,this._x=t*n+e*this._x,this._y=t*i+e*this._y,this._z=t*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const a=Math.sqrt(s),A=Math.atan2(a,g),C=Math.sin((1-e)*A)/a,I=Math.sin(e*A)/a;return this._w=o*C+this._w*I,this._x=n*C+this._x*I,this._y=i*C+this._y*I,this._z=r*C+this._z*I,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class Up{constructor(t=0,e=0,n=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Gp.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Gp.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=t.elements,o=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,i=this.z,r=t.x,o=t.y,g=t.z,s=t.w,a=s*e+o*i-g*n,A=s*n+g*e-r*i,C=s*i+r*n-o*e,I=-r*e-o*n-g*i;return this.x=a*s+I*-r+A*-g-C*-o,this.y=A*s+I*-o+C*-r-a*-g,this.z=C*s+I*-g+a*-o-A*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,i=t.y,r=t.z,o=e.x,g=e.y,s=e.z;return this.x=i*s-r*g,this.y=r*o-n*s,this.z=n*g-i*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return Hp.copy(this).projectOnVector(t),this.sub(Hp)}reflect(t){return this.sub(Hp.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Tp.clamp(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const Hp=new Up,Gp=new zp;class Wp{constructor(t,e){Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new Up(1/0,1/0,1/0),this.max=void 0!==e?e:new Up(-1/0,-1/0,-1/0)}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,g=-1/0;for(let s=0,a=t.length;s<a;s+=3){const a=t[s],A=t[s+1],C=t[s+2];a<e&&(e=a),A<n&&(n=A),C<i&&(i=C),a>r&&(r=a),A>o&&(o=A),C>g&&(g=C)}return this.min.set(e,n,i),this.max.set(r,o,g),this}setFromBufferAttribute(t){let e=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,g=-1/0;for(let s=0,a=t.count;s<a;s++){const a=t.getX(s),A=t.getY(s),C=t.getZ(s);a<e&&(e=a),A<n&&(n=A),C<i&&(i=C),a>r&&(r=a),A>o&&(o=A),C>g&&(g=C)}return this.min.set(e,n,i),this.max.set(r,o,g),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=Yp.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new Up),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new Up),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),Xp.copy(e.boundingBox),Xp.applyMatrix4(t.matrixWorld),this.union(Xp));const n=t.children;for(let t=0,e=n.length;t<e;t++)this.expandByObject(n[t]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new Up),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Yp),Yp.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(ef),nf.subVectors(this.max,ef),Jp.subVectors(t.a,ef),qp.subVectors(t.b,ef),Kp.subVectors(t.c,ef),Qp.subVectors(qp,Jp),$p.subVectors(Kp,qp),tf.subVectors(Jp,Kp);let e=[0,-Qp.z,Qp.y,0,-$p.z,$p.y,0,-tf.z,tf.y,Qp.z,0,-Qp.x,$p.z,0,-$p.x,tf.z,0,-tf.x,-Qp.y,Qp.x,0,-$p.y,$p.x,0,-tf.y,tf.x,0];return!!Vp(e,Jp,qp,Kp,nf)&&(e=[1,0,0,0,1,0,0,0,1],!!Vp(e,Jp,qp,Kp,nf)&&(rf.crossVectors(Qp,$p),e=[rf.x,rf.y,rf.z],Vp(e,Jp,qp,Kp,nf)))}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new Up),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Yp.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(Yp).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(Zp[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Zp[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Zp[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Zp[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Zp[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Zp[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Zp[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Zp[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Zp)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function Vp(t,e,n,i,r){for(let o=0,g=t.length-3;o<=g;o+=3){of.fromArray(t,o);const g=r.x*Math.abs(of.x)+r.y*Math.abs(of.y)+r.z*Math.abs(of.z),s=e.dot(of),a=n.dot(of),A=i.dot(of);if(Math.max(-Math.max(s,a,A),Math.min(s,a,A))>g)return!1}return!0}const Zp=[new Up,new Up,new Up,new Up,new Up,new Up,new Up,new Up],Yp=new Up,Xp=new Wp,Jp=new Up,qp=new Up,Kp=new Up,Qp=new Up,$p=new Up,tf=new Up,ef=new Up,nf=new Up,rf=new Up,of=new Up,gf=new Wp;class sf{constructor(t,e){this.center=void 0!==t?t:new Up,this.radius=void 0!==e?e:-1}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):gf.setFromPoints(t).getCenter(n);let i=0;for(let e=0,r=t.length;e<r;e++)i=Math.max(i,n.distanceToSquared(t[e]));return this.radius=Math.sqrt(i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new Up),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new Wp),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}}const af=new Up,Af=new Up,Cf=new Up,If=new Up,cf=new Up,lf=new Up,uf=new Up;class hf{constructor(t,e){this.origin=void 0!==t?t:new Up,this.direction=void 0!==e?e:new Up(0,0,-1)}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new Up),e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,af)),this}closestPointToPoint(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new Up),e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=af.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(af.copy(this.direction).multiplyScalar(e).add(this.origin),af.distanceToSquared(t))}distanceSqToSegment(t,e,n,i){Af.copy(t).add(e).multiplyScalar(.5),Cf.copy(e).sub(t).normalize(),If.copy(this.origin).sub(Af);const r=.5*t.distanceTo(e),o=-this.direction.dot(Cf),g=If.dot(this.direction),s=-If.dot(Cf),a=If.lengthSq(),A=Math.abs(1-o*o);let C,I,c,l;if(A>0)if(C=o*s-g,I=o*g-s,l=r*A,C>=0)if(I>=-l)if(I<=l){const t=1/A;C*=t,I*=t,c=C*(C+o*I+2*g)+I*(o*C+I+2*s)+a}else I=r,C=Math.max(0,-(o*I+g)),c=-C*C+I*(I+2*s)+a;else I=-r,C=Math.max(0,-(o*I+g)),c=-C*C+I*(I+2*s)+a;else I<=-l?(C=Math.max(0,-(-o*r+g)),I=C>0?-r:Math.min(Math.max(-r,-s),r),c=-C*C+I*(I+2*s)+a):I<=l?(C=0,I=Math.min(Math.max(-r,-s),r),c=I*(I+2*s)+a):(C=Math.max(0,-(o*r+g)),I=C>0?r:Math.min(Math.max(-r,-s),r),c=-C*C+I*(I+2*s)+a);else I=o>0?-r:r,C=Math.max(0,-(o*I+g)),c=-C*C+I*(I+2*s)+a;return n&&n.copy(this.direction).multiplyScalar(C).add(this.origin),i&&i.copy(Cf).multiplyScalar(I).add(Af),c}intersectSphere(t,e){af.subVectors(t.center,this.origin);const n=af.dot(this.direction),i=af.dot(af)-n*n,r=t.radius*t.radius;if(i>r)return null;const o=Math.sqrt(r-i),g=n-o,s=n+o;return g<0&&s<0?null:g<0?this.at(s,e):this.at(g,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,i,r,o,g,s;const a=1/this.direction.x,A=1/this.direction.y,C=1/this.direction.z,I=this.origin;return a>=0?(n=(t.min.x-I.x)*a,i=(t.max.x-I.x)*a):(n=(t.max.x-I.x)*a,i=(t.min.x-I.x)*a),A>=0?(r=(t.min.y-I.y)*A,o=(t.max.y-I.y)*A):(r=(t.max.y-I.y)*A,o=(t.min.y-I.y)*A),n>o||r>i?null:((r>n||n!=n)&&(n=r),(o<i||i!=i)&&(i=o),C>=0?(g=(t.min.z-I.z)*C,s=(t.max.z-I.z)*C):(g=(t.max.z-I.z)*C,s=(t.min.z-I.z)*C),n>s||g>i?null:((g>n||n!=n)&&(n=g),(s<i||i!=i)&&(i=s),i<0?null:this.at(n>=0?n:i,e)))}intersectsBox(t){return null!==this.intersectBox(t,af)}intersectTriangle(t,e,n,i,r){cf.subVectors(e,t),lf.subVectors(n,t),uf.crossVectors(cf,lf);let o,g=this.direction.dot(uf);if(g>0){if(i)return null;o=1}else{if(!(g<0))return null;o=-1,g=-g}If.subVectors(this.origin,t);const s=o*this.direction.dot(lf.crossVectors(If,lf));if(s<0)return null;const a=o*this.direction.dot(cf.cross(If));if(a<0)return null;if(s+a>g)return null;const A=-o*If.dot(uf);return A<0?null:this.at(A/g,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}class df{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,i,r,o,g,s,a,A,C,I,c,l,u,h){const d=this.elements;return d[0]=t,d[4]=e,d[8]=n,d[12]=i,d[1]=r,d[5]=o,d[9]=g,d[13]=s,d[2]=a,d[6]=A,d[10]=C,d[14]=I,d[3]=c,d[7]=l,d[11]=u,d[15]=h,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new df).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,i=1/pf.setFromMatrixColumn(t,0).length(),r=1/pf.setFromMatrixColumn(t,1).length(),o=1/pf.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,n=t.x,i=t.y,r=t.z,o=Math.cos(n),g=Math.sin(n),s=Math.cos(i),a=Math.sin(i),A=Math.cos(r),C=Math.sin(r);if("XYZ"===t.order){const t=o*A,n=o*C,i=g*A,r=g*C;e[0]=s*A,e[4]=-s*C,e[8]=a,e[1]=n+i*a,e[5]=t-r*a,e[9]=-g*s,e[2]=r-t*a,e[6]=i+n*a,e[10]=o*s}else if("YXZ"===t.order){const t=s*A,n=s*C,i=a*A,r=a*C;e[0]=t+r*g,e[4]=i*g-n,e[8]=o*a,e[1]=o*C,e[5]=o*A,e[9]=-g,e[2]=n*g-i,e[6]=r+t*g,e[10]=o*s}else if("ZXY"===t.order){const t=s*A,n=s*C,i=a*A,r=a*C;e[0]=t-r*g,e[4]=-o*C,e[8]=i+n*g,e[1]=n+i*g,e[5]=o*A,e[9]=r-t*g,e[2]=-o*a,e[6]=g,e[10]=o*s}else if("ZYX"===t.order){const t=o*A,n=o*C,i=g*A,r=g*C;e[0]=s*A,e[4]=i*a-n,e[8]=t*a+r,e[1]=s*C,e[5]=r*a+t,e[9]=n*a-i,e[2]=-a,e[6]=g*s,e[10]=o*s}else if("YZX"===t.order){const t=o*s,n=o*a,i=g*s,r=g*a;e[0]=s*A,e[4]=r-t*C,e[8]=i*C+n,e[1]=C,e[5]=o*A,e[9]=-g*A,e[2]=-a*A,e[6]=n*C+i,e[10]=t-r*C}else if("XZY"===t.order){const t=o*s,n=o*a,i=g*s,r=g*a;e[0]=s*A,e[4]=-C,e[8]=a*A,e[1]=t*C+r,e[5]=o*A,e[9]=n*C-i,e[2]=i*C-n,e[6]=g*A,e[10]=r*C+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(mf,t,vf)}lookAt(t,e,n){const i=this.elements;return _f.subVectors(t,e),0===_f.lengthSq()&&(_f.z=1),_f.normalize(),yf.crossVectors(n,_f),0===yf.lengthSq()&&(1===Math.abs(n.z)?_f.x+=1e-4:_f.z+=1e-4,_f.normalize(),yf.crossVectors(n,_f)),yf.normalize(),bf.crossVectors(_f,yf),i[0]=yf.x,i[4]=bf.x,i[8]=_f.x,i[1]=yf.y,i[5]=bf.y,i[9]=_f.y,i[2]=yf.z,i[6]=bf.z,i[10]=_f.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,o=n[0],g=n[4],s=n[8],a=n[12],A=n[1],C=n[5],I=n[9],c=n[13],l=n[2],u=n[6],h=n[10],d=n[14],p=n[3],f=n[7],m=n[11],v=n[15],y=i[0],b=i[4],_=i[8],w=i[12],x=i[1],S=i[5],E=i[9],M=i[13],T=i[2],R=i[6],O=i[10],L=i[14],P=i[3],N=i[7],D=i[11],k=i[15];return r[0]=o*y+g*x+s*T+a*P,r[4]=o*b+g*S+s*R+a*N,r[8]=o*_+g*E+s*O+a*D,r[12]=o*w+g*M+s*L+a*k,r[1]=A*y+C*x+I*T+c*P,r[5]=A*b+C*S+I*R+c*N,r[9]=A*_+C*E+I*O+c*D,r[13]=A*w+C*M+I*L+c*k,r[2]=l*y+u*x+h*T+d*P,r[6]=l*b+u*S+h*R+d*N,r[10]=l*_+u*E+h*O+d*D,r[14]=l*w+u*M+h*L+d*k,r[3]=p*y+f*x+m*T+v*P,r[7]=p*b+f*S+m*R+v*N,r[11]=p*_+f*E+m*O+v*D,r[15]=p*w+f*M+m*L+v*k,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],o=t[1],g=t[5],s=t[9],a=t[13],A=t[2],C=t[6],I=t[10],c=t[14];return t[3]*(+r*s*C-i*a*C-r*g*I+n*a*I+i*g*c-n*s*c)+t[7]*(+e*s*c-e*a*I+r*o*I-i*o*c+i*a*A-r*s*A)+t[11]*(+e*a*C-e*g*c-r*o*C+n*o*c+r*g*A-n*a*A)+t[15]*(-i*g*A-e*s*C+e*g*I+i*o*C-n*o*I+n*s*A)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],g=t[5],s=t[6],a=t[7],A=t[8],C=t[9],I=t[10],c=t[11],l=t[12],u=t[13],h=t[14],d=t[15],p=C*h*a-u*I*a+u*s*c-g*h*c-C*s*d+g*I*d,f=l*I*a-A*h*a-l*s*c+o*h*c+A*s*d-o*I*d,m=A*u*a-l*C*a+l*g*c-o*u*c-A*g*d+o*C*d,v=l*C*s-A*u*s-l*g*I+o*u*I+A*g*h-o*C*h,y=e*p+n*f+i*m+r*v;if(0===y)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/y;return t[0]=p*b,t[1]=(u*I*r-C*h*r-u*i*c+n*h*c+C*i*d-n*I*d)*b,t[2]=(g*h*r-u*s*r+u*i*a-n*h*a-g*i*d+n*s*d)*b,t[3]=(C*s*r-g*I*r-C*i*a+n*I*a+g*i*c-n*s*c)*b,t[4]=f*b,t[5]=(A*h*r-l*I*r+l*i*c-e*h*c-A*i*d+e*I*d)*b,t[6]=(l*s*r-o*h*r-l*i*a+e*h*a+o*i*d-e*s*d)*b,t[7]=(o*I*r-A*s*r+A*i*a-e*I*a-o*i*c+e*s*c)*b,t[8]=m*b,t[9]=(l*C*r-A*u*r-l*n*c+e*u*c+A*n*d-e*C*d)*b,t[10]=(o*u*r-l*g*r+l*n*a-e*u*a-o*n*d+e*g*d)*b,t[11]=(A*g*r-o*C*r-A*n*a+e*C*a+o*n*c-e*g*c)*b,t[12]=v*b,t[13]=(A*u*i-l*C*i+l*n*I-e*u*I-A*n*h+e*C*h)*b,t[14]=(l*g*i-o*u*i-l*n*s+e*u*s+o*n*h-e*g*h)*b,t[15]=(o*C*i-A*g*i+A*n*s-e*C*s-o*n*I+e*g*I)*b,this}scale(t){const e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),i=Math.sin(e),r=1-n,o=t.x,g=t.y,s=t.z,a=r*o,A=r*g;return this.set(a*o+n,a*g-i*s,a*s+i*g,0,a*g+i*s,A*g+n,A*s-i*o,0,a*s-i*g,A*s+i*o,r*s*s+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this}compose(t,e,n){const i=this.elements,r=e._x,o=e._y,g=e._z,s=e._w,a=r+r,A=o+o,C=g+g,I=r*a,c=r*A,l=r*C,u=o*A,h=o*C,d=g*C,p=s*a,f=s*A,m=s*C,v=n.x,y=n.y,b=n.z;return i[0]=(1-(u+d))*v,i[1]=(c+m)*v,i[2]=(l-f)*v,i[3]=0,i[4]=(c-m)*y,i[5]=(1-(I+d))*y,i[6]=(h+p)*y,i[7]=0,i[8]=(l+f)*b,i[9]=(h-p)*b,i[10]=(1-(I+u))*b,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,e,n){const i=this.elements;let r=pf.set(i[0],i[1],i[2]).length();const o=pf.set(i[4],i[5],i[6]).length(),g=pf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],ff.copy(this);const s=1/r,a=1/o,A=1/g;return ff.elements[0]*=s,ff.elements[1]*=s,ff.elements[2]*=s,ff.elements[4]*=a,ff.elements[5]*=a,ff.elements[6]*=a,ff.elements[8]*=A,ff.elements[9]*=A,ff.elements[10]*=A,e.setFromRotationMatrix(ff),n.x=r,n.y=o,n.z=g,this}makePerspective(t,e,n,i,r,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const g=this.elements,s=2*r/(e-t),a=2*r/(n-i),A=(e+t)/(e-t),C=(n+i)/(n-i),I=-(o+r)/(o-r),c=-2*o*r/(o-r);return g[0]=s,g[4]=0,g[8]=A,g[12]=0,g[1]=0,g[5]=a,g[9]=C,g[13]=0,g[2]=0,g[6]=0,g[10]=I,g[14]=c,g[3]=0,g[7]=0,g[11]=-1,g[15]=0,this}makeOrthographic(t,e,n,i,r,o){const g=this.elements,s=1/(e-t),a=1/(n-i),A=1/(o-r),C=(e+t)*s,I=(n+i)*a,c=(o+r)*A;return g[0]=2*s,g[4]=0,g[8]=0,g[12]=-C,g[1]=0,g[5]=2*a,g[9]=0,g[13]=-I,g[2]=0,g[6]=0,g[10]=-2*A,g[14]=-c,g[3]=0,g[7]=0,g[11]=0,g[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<16;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const pf=new Up,ff=new df,mf=new Up(0,0,0),vf=new Up(1,1,1),yf=new Up,bf=new Up,_f=new Up;class wf{constructor(t=0,e=0,n=0,i=wf.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=e,this._z=n,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e,n){const i=Tp.clamp,r=t.elements,o=r[0],g=r[4],s=r[8],a=r[1],A=r[5],C=r[9],I=r[2],c=r[6],l=r[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-C,l),this._z=Math.atan2(-g,o)):(this._x=Math.atan2(c,A),this._z=0);break;case"YXZ":this._x=Math.asin(-i(C,-1,1)),Math.abs(C)<.9999999?(this._y=Math.atan2(s,l),this._z=Math.atan2(a,A)):(this._y=Math.atan2(-I,o),this._z=0);break;case"ZXY":this._x=Math.asin(i(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(-I,l),this._z=Math.atan2(-g,A)):(this._y=0,this._z=Math.atan2(a,o));break;case"ZYX":this._y=Math.asin(-i(I,-1,1)),Math.abs(I)<.9999999?(this._x=Math.atan2(c,l),this._z=Math.atan2(a,o)):(this._x=0,this._z=Math.atan2(-g,A));break;case"YZX":this._z=Math.asin(i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-C,A),this._y=Math.atan2(-I,o)):(this._x=0,this._y=Math.atan2(s,l));break;case"XZY":this._z=Math.asin(-i(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(c,A),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-C,l),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return xf.makeRotationFromQuaternion(t),this.setFromRotationMatrix(xf,e,n)}setFromVector3(t,e){return this.set(t.x,t.y,t.z,e||this._order)}reorder(t){return Sf.setFromEuler(this),this.setFromQuaternion(Sf,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new Up(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}wf.DefaultOrder="XYZ",wf.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const xf=new df,Sf=new zp;class Ef{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}}let Mf=0;const Tf=new Up,Rf=new zp,Of=new df,Lf=new Up,Pf=new Up,Nf=new Up,Df=new zp,kf=new Up(1,0,0),jf=new Up(0,1,0),Ff=new Up(0,0,1),Bf={type:"added"},zf={type:"removed"};function Uf(){Object.defineProperty(this,"id",{value:Mf++}),this.uuid=Tp.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Uf.DefaultUp.clone();const t=new Up,e=new wf,n=new zp,i=new Up(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new df},normalMatrix:{value:new Op}}),this.matrix=new df,this.matrixWorld=new df,this.matrixAutoUpdate=Uf.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ef,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Uf.DefaultUp=new Up(0,1,0),Uf.DefaultMatrixAutoUpdate=!0,Uf.prototype=Object.assign(Object.create(Sp.prototype),{constructor:Uf,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return Rf.setFromAxisAngle(t,e),this.quaternion.multiply(Rf),this},rotateOnWorldAxis:function(t,e){return Rf.setFromAxisAngle(t,e),this.quaternion.premultiply(Rf),this},rotateX:function(t){return this.rotateOnAxis(kf,t)},rotateY:function(t){return this.rotateOnAxis(jf,t)},rotateZ:function(t){return this.rotateOnAxis(Ff,t)},translateOnAxis:function(t,e){return Tf.copy(t).applyQuaternion(this.quaternion),this.position.add(Tf.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(kf,t)},translateY:function(t){return this.translateOnAxis(jf,t)},translateZ:function(t){return this.translateOnAxis(Ff,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(Of.copy(this.matrixWorld).invert())},lookAt:function(t,e,n){t.isVector3?Lf.copy(t):Lf.set(t,e,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Pf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Of.lookAt(Pf,Lf,this.up):Of.lookAt(Lf,Pf,this.up),this.quaternion.setFromRotationMatrix(Of),i&&(Of.extractRotation(i.matrixWorld),Rf.setFromRotationMatrix(Of),this.quaternion.premultiply(Rf.invert()))},add:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Bf)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(zf)),this},clear:function(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(zf)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),Of.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Of.multiply(t.parent.matrixWorld)),t.applyMatrix4(Of),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new Up),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new zp),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pf,t,Nf),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new Up),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pf,Df,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new Up),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)},traverseAncestors:function(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++)t[e].updateWorldMatrix(!1,!0)}},toJSON:function(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const i=n[e];r(t.shapes,i)}else r(t.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,i=this.material.length;n<i;n++)e.push(r(t.materials,this.material[n]));i.material=e}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(let e=0;e<this.children.length;e++)i.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let e=0;e<this.animations.length;e++){const n=this.animations[e];i.animations.push(r(t.animations,n))}}if(e){const e=o(t.geometries),i=o(t.materials),r=o(t.textures),g=o(t.images),s=o(t.shapes),a=o(t.skeletons),A=o(t.animations);e.length>0&&(n.geometries=e),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),g.length>0&&(n.images=g),s.length>0&&(n.shapes=s),a.length>0&&(n.skeletons=a),A.length>0&&(n.animations=A)}return n.object=i,n;function o(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const n=t.children[e];this.add(n.clone())}return this}});const Hf=new Up,Gf=new Up,Wf=new Op;class Vf{constructor(t,e){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==t?t:new Up(1,0,0),this.constant=void 0!==e?e:0}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const i=Hf.subVectors(n,e).cross(Gf.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new Up),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new Up);const n=t.delta(Hf),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;const r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:e.copy(n).multiplyScalar(r).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new Up),t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||Wf.getNormalMatrix(t),i=this.coplanarPoint(Hf).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}const Zf=new Up,Yf=new Up,Xf=new Up,Jf=new Up,qf=new Up,Kf=new Up,Qf=new Up,$f=new Up,tm=new Up,em=new Up;class nm{constructor(t,e,n){this.a=void 0!==t?t:new Up,this.b=void 0!==e?e:new Up,this.c=void 0!==n?n:new Up}static getNormal(t,e,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Up),i.subVectors(n,e),Zf.subVectors(t,e),i.cross(Zf);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(t,e,n,i,r){Zf.subVectors(i,e),Yf.subVectors(n,e),Xf.subVectors(t,e);const o=Zf.dot(Zf),g=Zf.dot(Yf),s=Zf.dot(Xf),a=Yf.dot(Yf),A=Yf.dot(Xf),C=o*a-g*g;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new Up),0===C)return r.set(-2,-1,-1);const I=1/C,c=(a*s-g*A)*I,l=(o*A-g*s)*I;return r.set(1-c-l,l,c)}static containsPoint(t,e,n,i){return this.getBarycoord(t,e,n,i,Jf),Jf.x>=0&&Jf.y>=0&&Jf.x+Jf.y<=1}static getUV(t,e,n,i,r,o,g,s){return this.getBarycoord(t,e,n,i,Jf),s.set(0,0),s.addScaledVector(r,Jf.x),s.addScaledVector(o,Jf.y),s.addScaledVector(g,Jf.z),s}static isFrontFacing(t,e,n,i){return Zf.subVectors(n,e),Yf.subVectors(t,e),Zf.cross(Yf).dot(i)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Zf.subVectors(this.c,this.b),Yf.subVectors(this.a,this.b),.5*Zf.cross(Yf).length()}getMidpoint(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new Up),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return nm.getNormal(this.a,this.b,this.c,t)}getPlane(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Vf),t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return nm.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,i,r){return nm.getUV(t,this.a,this.b,this.c,e,n,i,r)}containsPoint(t){return nm.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return nm.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new Up);const n=this.a,i=this.b,r=this.c;let o,g;qf.subVectors(i,n),Kf.subVectors(r,n),$f.subVectors(t,n);const s=qf.dot($f),a=Kf.dot($f);if(s<=0&&a<=0)return e.copy(n);tm.subVectors(t,i);const A=qf.dot(tm),C=Kf.dot(tm);if(A>=0&&C<=A)return e.copy(i);const I=s*C-A*a;if(I<=0&&s>=0&&A<=0)return o=s/(s-A),e.copy(n).addScaledVector(qf,o);em.subVectors(t,r);const c=qf.dot(em),l=Kf.dot(em);if(l>=0&&c<=l)return e.copy(r);const u=c*a-s*l;if(u<=0&&a>=0&&l<=0)return g=a/(a-l),e.copy(n).addScaledVector(Kf,g);const h=A*l-c*C;if(h<=0&&C-A>=0&&c-l>=0)return Qf.subVectors(r,i),g=(C-A)/(C-A+(c-l)),e.copy(i).addScaledVector(Qf,g);const d=1/(h+u+I);return o=u*d,g=I*d,e.copy(n).addScaledVector(qf,o).addScaledVector(Kf,g)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const im={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},rm={h:0,s:0,l:0},om={h:0,s:0,l:0};function gm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function sm(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function am(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}class Am{constructor(t,e,n){return Object.defineProperty(this,"isColor",{value:!0}),void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,e,n){return this.r=t,this.g=e,this.b=n,this}setHSL(t,e,n){if(t=Tp.euclideanModulo(t,1),e=Tp.clamp(e,0,1),n=Tp.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=gm(r,i,t+1/3),this.g=gm(r,i,t),this.b=gm(r,i,t-1/3)}return this}setStyle(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){let t;const i=n[1],r=n[2];switch(i){case"rgb":case"rgba":if(t=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,e(t[5]),this;if(t=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,e(t[5]),this;break;case"hsl":case"hsla":if(t=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r)){const n=parseFloat(t[1])/360,i=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100;return e(t[5]),this.setHSL(n,i,r)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){const t=n[1],e=t.length;if(3===e)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,this;if(6===e)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const e=im[t];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,e=2){return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}copyLinearToGamma(t,e=2){const n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=sm(t.r),this.g=sm(t.g),this.b=sm(t.b),this}copyLinearToSRGB(t){return this.r=am(t.r),this.g=am(t.g),this.b=am(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});const e=this.r,n=this.g,i=this.b,r=Math.max(e,n,i),o=Math.min(e,n,i);let g,s;const a=(o+r)/2;if(o===r)g=0,s=0;else{const t=r-o;switch(s=a<=.5?t/(r+o):t/(2-r-o),r){case e:g=(n-i)/t+(n<i?6:0);break;case n:g=(i-e)/t+2;break;case i:g=(e-n)/t+4}g/=6}return t.h=g,t.s=s,t.l=a,t}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(t,e,n){return this.getHSL(rm),rm.h+=t,rm.s+=e,rm.l+=n,this.setHSL(rm.h,rm.s,rm.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpHSL(t,e){this.getHSL(rm),t.getHSL(om);const n=Tp.lerp(rm.h,om.h,e),i=Tp.lerp(rm.s,om.s,e),r=Tp.lerp(rm.l,om.l,e);return this.setHSL(n,i,r),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Am.NAMES=im,Am.prototype.r=1,Am.prototype.g=1,Am.prototype.b=1;class Cm{constructor(t,e,n,i,r,o=0){this.a=t,this.b=e,this.c=n,this.normal=i&&i.isVector3?i:new Up,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new Am,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=o}clone(){return(new this.constructor).copy(this)}copy(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(let e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(let e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}let Im=0;function cm(){Object.defineProperty(this,"id",{value:Im++}),this.uuid=Tp.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=$d,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=bp,this.stencilZFail=bp,this.stencilZPass=bp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function lm(t){cm.call(this),this.type="MeshBasicMaterial",this.color=new Am(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}cm.prototype=Object.assign(Object.create(Sp.prototype),{constructor:cm,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}},toJSON:function(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){const e=i(t.textures),r=i(t.images);e.length>0&&(n.textures=e),r.length>0&&(n.images=r)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let i=0;i!==t;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(cm.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),lm.prototype=Object.create(cm.prototype),lm.prototype.constructor=lm,lm.prototype.isMeshBasicMaterial=!0,lm.prototype.copy=function(t){return cm.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};const um=new Up,hm=new Rp;function dm(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=_p,this.updateRange={offset:0,count:-1},this.version=0}function pm(t,e,n){dm.call(this,new Int8Array(t),e,n)}function fm(t,e,n){dm.call(this,new Uint8Array(t),e,n)}function mm(t,e,n){dm.call(this,new Uint8ClampedArray(t),e,n)}function vm(t,e,n){dm.call(this,new Int16Array(t),e,n)}function ym(t,e,n){dm.call(this,new Uint16Array(t),e,n)}function bm(t,e,n){dm.call(this,new Int32Array(t),e,n)}function _m(t,e,n){dm.call(this,new Uint32Array(t),e,n)}function wm(t,e,n){dm.call(this,new Uint16Array(t),e,n)}function xm(t,e,n){dm.call(this,new Float32Array(t),e,n)}function Sm(t,e,n){dm.call(this,new Float64Array(t),e,n)}Object.defineProperty(dm.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(dm.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),r=new Am),e[n++]=r.r,e[n++]=r.g,e[n++]=r.b}return this},copyVector2sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),r=new Rp),e[n++]=r.x,e[n++]=r.y}return this},copyVector3sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),r=new Up),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z}return this},copyVector4sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),r=new jp),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z,e[n++]=r.w}return this},applyMatrix3:function(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)hm.fromBufferAttribute(this,e),hm.applyMatrix3(t),this.setXY(e,hm.x,hm.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)um.fromBufferAttribute(this,e),um.applyMatrix3(t),this.setXYZ(e,um.x,um.y,um.z);return this},applyMatrix4:function(t){for(let e=0,n=this.count;e<n;e++)um.x=this.getX(e),um.y=this.getY(e),um.z=this.getZ(e),um.applyMatrix4(t),this.setXYZ(e,um.x,um.y,um.z);return this},applyNormalMatrix:function(t){for(let e=0,n=this.count;e<n;e++)um.x=this.getX(e),um.y=this.getY(e),um.z=this.getZ(e),um.applyNormalMatrix(t),this.setXYZ(e,um.x,um.y,um.z);return this},transformDirection:function(t){for(let e=0,n=this.count;e<n;e++)um.x=this.getX(e),um.y=this.getY(e),um.z=this.getZ(e),um.transformDirection(t),this.setXYZ(e,um.x,um.y,um.z);return this},set:function(t,e=0){return this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),pm.prototype=Object.create(dm.prototype),pm.prototype.constructor=pm,fm.prototype=Object.create(dm.prototype),fm.prototype.constructor=fm,mm.prototype=Object.create(dm.prototype),mm.prototype.constructor=mm,vm.prototype=Object.create(dm.prototype),vm.prototype.constructor=vm,ym.prototype=Object.create(dm.prototype),ym.prototype.constructor=ym,bm.prototype=Object.create(dm.prototype),bm.prototype.constructor=bm,_m.prototype=Object.create(dm.prototype),_m.prototype.constructor=_m,wm.prototype=Object.create(dm.prototype),wm.prototype.constructor=wm,wm.prototype.isFloat16BufferAttribute=!0,xm.prototype=Object.create(dm.prototype),xm.prototype.constructor=xm,Sm.prototype=Object.create(dm.prototype),Sm.prototype.constructor=Sm;class Em{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(t){const e=[];let n,i,r;const o=t.faces;for(i=0;i<o.length;i++){const t=o[i];t.materialIndex!==r&&(r=t.materialIndex,void 0!==n&&(n.count=3*i-n.start,e.push(n)),n={start:3*i,materialIndex:r})}void 0!==n&&(n.count=3*i-n.start,e.push(n)),this.groups=e}fromGeometry(t){const e=t.faces,n=t.vertices,i=t.faceVertexUvs,r=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,g=t.morphTargets,s=g.length;let a;if(s>0){a=[];for(let t=0;t<s;t++)a[t]={name:g[t].name,data:[]};this.morphTargets.position=a}const A=t.morphNormals,C=A.length;let I;if(C>0){I=[];for(let t=0;t<C;t++)I[t]={name:A[t].name,data:[]};this.morphTargets.normal=I}const c=t.skinIndices,l=t.skinWeights,u=c.length===n.length,h=l.length===n.length;n.length>0&&0===e.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let t=0;t<e.length;t++){const d=e[t];this.vertices.push(n[d.a],n[d.b],n[d.c]);const p=d.vertexNormals;if(3===p.length)this.normals.push(p[0],p[1],p[2]);else{const t=d.normal;this.normals.push(t,t,t)}const f=d.vertexColors;if(3===f.length)this.colors.push(f[0],f[1],f[2]);else{const t=d.color;this.colors.push(t,t,t)}if(!0===r){const e=i[0][t];void 0!==e?this.uvs.push(e[0],e[1],e[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",t),this.uvs.push(new Rp,new Rp,new Rp))}if(!0===o){const e=i[1][t];void 0!==e?this.uvs2.push(e[0],e[1],e[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",t),this.uvs2.push(new Rp,new Rp,new Rp))}for(let t=0;t<s;t++){const e=g[t].vertices;a[t].data.push(e[d.a],e[d.b],e[d.c])}for(let e=0;e<C;e++){const n=A[e].vertexNormals[t];I[e].data.push(n.a,n.b,n.c)}u&&this.skinIndices.push(c[d.a],c[d.b],c[d.c]),h&&this.skinWeights.push(l[d.a],l[d.b],l[d.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}}function Mm(t){if(0===t.length)return-1/0;let e=t[0];for(let n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}const Tm={Int8Array,Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Rm(t,e){return new Tm[t](e)}let Om=1;const Lm=new df,Pm=new Uf,Nm=new Up,Dm=new Wp,km=new Wp,jm=new Up;function Fm(){Object.defineProperty(this,"id",{value:Om+=2}),this.uuid=Tp.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Fm.prototype=Object.assign(Object.create(Sp.prototype),{constructor:Fm,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return Array.isArray(t)?this.index=new(Mm(t)>65535?_m:ym)(t,1):this.index=t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return void 0!==this.attributes[t]},addGroup:function(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new Op).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(t),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return Lm.makeRotationX(t),this.applyMatrix4(Lm),this},rotateY:function(t){return Lm.makeRotationY(t),this.applyMatrix4(Lm),this},rotateZ:function(t){return Lm.makeRotationZ(t),this.applyMatrix4(Lm),this},translate:function(t,e,n){return Lm.makeTranslation(t,e,n),this.applyMatrix4(Lm),this},scale:function(t,e,n){return Lm.makeScale(t,e,n),this.applyMatrix4(Lm),this},lookAt:function(t){return Pm.lookAt(t),Pm.updateMatrix(),this.applyMatrix4(Pm.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Nm).negate(),this.translate(Nm.x,Nm.y,Nm.z),this},setFromObject:function(t){const e=t.geometry;if(t.isPoints||t.isLine){const t=new xm(3*e.vertices.length,3),n=new xm(3*e.colors.length,3);if(this.setAttribute("position",t.copyVector3sArray(e.vertices)),this.setAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){const t=new xm(e.lineDistances.length,1);this.setAttribute("lineDistance",t.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new xm(e,3)),this},updateFromObject:function(t){let e=t.geometry;if(t.isMesh){let t=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(t=void 0,e.elementsNeedUpdate=!1),void 0===t)return this.fromGeometry(e);t.verticesNeedUpdate=e.verticesNeedUpdate,t.normalsNeedUpdate=e.normalsNeedUpdate,t.colorsNeedUpdate=e.colorsNeedUpdate,t.uvsNeedUpdate=e.uvsNeedUpdate,t.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=t}if(!0===e.verticesNeedUpdate){const t=this.attributes.position;void 0!==t&&(t.copyVector3sArray(e.vertices),t.needsUpdate=!0),e.verticesNeedUpdate=!1}if(!0===e.normalsNeedUpdate){const t=this.attributes.normal;void 0!==t&&(t.copyVector3sArray(e.normals),t.needsUpdate=!0),e.normalsNeedUpdate=!1}if(!0===e.colorsNeedUpdate){const t=this.attributes.color;void 0!==t&&(t.copyColorsArray(e.colors),t.needsUpdate=!0),e.colorsNeedUpdate=!1}if(e.uvsNeedUpdate){const t=this.attributes.uv;void 0!==t&&(t.copyVector2sArray(e.uvs),t.needsUpdate=!0),e.uvsNeedUpdate=!1}if(e.lineDistancesNeedUpdate){const t=this.attributes.lineDistance;void 0!==t&&(t.copyArray(e.lineDistances),t.needsUpdate=!0),e.lineDistancesNeedUpdate=!1}return e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Em).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){const e=new Float32Array(3*t.vertices.length);if(this.setAttribute("position",new dm(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){const e=new Float32Array(3*t.normals.length);this.setAttribute("normal",new dm(e,3).copyVector3sArray(t.normals))}if(t.colors.length>0){const e=new Float32Array(3*t.colors.length);this.setAttribute("color",new dm(e,3).copyColorsArray(t.colors))}if(t.uvs.length>0){const e=new Float32Array(2*t.uvs.length);this.setAttribute("uv",new dm(e,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){const e=new Float32Array(2*t.uvs2.length);this.setAttribute("uv2",new dm(e,2).copyVector2sArray(t.uvs2))}this.groups=t.groups;for(const e in t.morphTargets){const n=[],i=t.morphTargets[e];for(let t=0,e=i.length;t<e;t++){const e=i[t],r=new xm(3*e.data.length,3);r.name=e.name,n.push(r.copyVector3sArray(e.data))}this.morphAttributes[e]=n}if(t.skinIndices.length>0){const e=new xm(4*t.skinIndices.length,4);this.setAttribute("skinIndex",e.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){const e=new xm(4*t.skinWeights.length,4);this.setAttribute("skinWeight",e.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Wp);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Up(-1/0,-1/0,-1/0),new Up(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];Dm.setFromBufferAttribute(n),this.morphTargetsRelative?(jm.addVectors(this.boundingBox.min,Dm.min),this.boundingBox.expandByPoint(jm),jm.addVectors(this.boundingBox.max,Dm.max),this.boundingBox.expandByPoint(jm)):(this.boundingBox.expandByPoint(Dm.min),this.boundingBox.expandByPoint(Dm.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new sf);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Up,1/0);if(t){const n=this.boundingSphere.center;if(Dm.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];km.setFromBufferAttribute(n),this.morphTargetsRelative?(jm.addVectors(Dm.min,km.min),Dm.expandByPoint(jm),jm.addVectors(Dm.max,km.max),Dm.expandByPoint(jm)):(Dm.expandByPoint(km.min),Dm.expandByPoint(km.max))}Dm.getCenter(n);let i=0;for(let e=0,r=t.count;e<r;e++)jm.fromBufferAttribute(t,e),i=Math.max(i,n.distanceToSquared(jm));if(e)for(let r=0,o=e.length;r<o;r++){const o=e[r],g=this.morphTargetsRelative;for(let e=0,r=o.count;e<r;e++)jm.fromBufferAttribute(o,e),g&&(Nm.fromBufferAttribute(t,e),jm.add(Nm)),i=Math.max(i,n.distanceToSquared(jm))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new dm(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const i=new Up,r=new Up,o=new Up,g=new Up,s=new Up,a=new Up,A=new Up,C=new Up;if(t)for(let I=0,c=t.count;I<c;I+=3){const c=t.getX(I+0),l=t.getX(I+1),u=t.getX(I+2);i.fromBufferAttribute(e,c),r.fromBufferAttribute(e,l),o.fromBufferAttribute(e,u),A.subVectors(o,r),C.subVectors(i,r),A.cross(C),g.fromBufferAttribute(n,c),s.fromBufferAttribute(n,l),a.fromBufferAttribute(n,u),g.add(A),s.add(A),a.add(A),n.setXYZ(c,g.x,g.y,g.z),n.setXYZ(l,s.x,s.y,s.z),n.setXYZ(u,a.x,a.y,a.z)}else for(let t=0,g=e.count;t<g;t+=3)i.fromBufferAttribute(e,t+0),r.fromBufferAttribute(e,t+1),o.fromBufferAttribute(e,t+2),A.subVectors(o,r),C.subVectors(i,r),A.cross(C),n.setXYZ(t+0,A.x,A.y,A.z),n.setXYZ(t+1,A.x,A.y,A.z),n.setXYZ(t+2,A.x,A.y,A.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(void 0===t.attributes[i])continue;const r=n[i].array,o=t.attributes[i],g=o.array,s=o.itemSize*e,a=Math.min(g.length,r.length-s);for(let t=0,e=s;t<a;t++,e++)r[e]=g[t]}return this},normalizeNormals:function(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)jm.fromBufferAttribute(t,e),jm.normalize(),t.setXYZ(e,jm.x,jm.y,jm.z)},toNonIndexed:function(){function t(t,e){const n=t.array,i=t.itemSize,r=t.normalized,o=new n.constructor(e.length*i);let g=0,s=0;for(let t=0,r=e.length;t<r;t++){g=e[t]*i;for(let t=0;t<i;t++)o[s++]=n[g++]}return new dm(o,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const e=new Fm,n=this.index.array,i=this.attributes;for(const r in i){const o=t(i[r],n);e.setAttribute(r,o)}const r=this.morphAttributes;for(const i in r){const o=[],g=r[i];for(let e=0,i=g.length;e<i;e++){const i=t(g[e],n);o.push(i)}e.morphAttributes[i]=o}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let t=0,n=o.length;t<n;t++){const n=o[t];e.addGroup(n.start,n.count,n.materialIndex)}return e},toJSON:function(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const e in n){const i=n[e],r=i.toJSON(t.data);""!==i.name&&(r.name=i.name),t.data.attributes[e]=r}const i={};let r=!1;for(const e in this.morphAttributes){const n=this.morphAttributes[e],o=[];for(let e=0,i=n.length;e<i;e++){const i=n[e],r=i.toJSON(t.data);""!==i.name&&(r.name=i.name),o.push(r)}o.length>0&&(i[e]=o,r=!0)}r&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const g=this.boundingSphere;return null!==g&&(t.data.boundingSphere={center:g.center.toArray(),radius:g.radius}),t},clone:function(){return(new Fm).copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const i=t.attributes;for(const t in i){const n=i[t];this.setAttribute(t,n.clone(e))}const r=t.morphAttributes;for(const t in r){const n=[],i=r[t];for(let t=0,r=i.length;t<r;t++)n.push(i[t].clone(e));this.morphAttributes[t]=n}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let t=0,e=o.length;t<e;t++){const e=o[t];this.addGroup(e.start,e.count,e.materialIndex)}const g=t.boundingBox;null!==g&&(this.boundingBox=g.clone());const s=t.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Bm=new df,zm=new hf,Um=new sf,Hm=new Up,Gm=new Up,Wm=new Up,Vm=new Up,Zm=new Up,Ym=new Up,Xm=new Up,Jm=new Up,qm=new Up,Km=new Rp,Qm=new Rp,$m=new Rp,tv=new Up,ev=new Up;function nv(t,e){Uf.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Fm,this.material=void 0!==e?e:new lm,this.updateMorphTargets()}function iv(t,e,n,i,r,o,g,s){let a;if(a=1===e.side?i.intersectTriangle(g,o,r,!0,s):i.intersectTriangle(r,o,g,2!==e.side,s),null===a)return null;ev.copy(s),ev.applyMatrix4(t.matrixWorld);const A=n.ray.origin.distanceTo(ev);return A<n.near||A>n.far?null:{distance:A,point:ev.clone(),object:t}}function rv(t,e,n,i,r,o,g,s,a,A,C,I){Hm.fromBufferAttribute(r,A),Gm.fromBufferAttribute(r,C),Wm.fromBufferAttribute(r,I);const c=t.morphTargetInfluences;if(e.morphTargets&&o&&c){Xm.set(0,0,0),Jm.set(0,0,0),qm.set(0,0,0);for(let t=0,e=o.length;t<e;t++){const e=c[t],n=o[t];0!==e&&(Vm.fromBufferAttribute(n,A),Zm.fromBufferAttribute(n,C),Ym.fromBufferAttribute(n,I),g?(Xm.addScaledVector(Vm,e),Jm.addScaledVector(Zm,e),qm.addScaledVector(Ym,e)):(Xm.addScaledVector(Vm.sub(Hm),e),Jm.addScaledVector(Zm.sub(Gm),e),qm.addScaledVector(Ym.sub(Wm),e)))}Hm.add(Xm),Gm.add(Jm),Wm.add(qm)}t.isSkinnedMesh&&(t.boneTransform(A,Hm),t.boneTransform(C,Gm),t.boneTransform(I,Wm));const l=iv(t,e,n,i,Hm,Gm,Wm,tv);if(l){s&&(Km.fromBufferAttribute(s,A),Qm.fromBufferAttribute(s,C),$m.fromBufferAttribute(s,I),l.uv=nm.getUV(tv,Hm,Gm,Wm,Km,Qm,$m,new Rp)),a&&(Km.fromBufferAttribute(a,A),Qm.fromBufferAttribute(a,C),$m.fromBufferAttribute(a,I),l.uv2=nm.getUV(tv,Hm,Gm,Wm,Km,Qm,$m,new Rp));const t=new Cm(A,C,I);nm.getNormal(Hm,Gm,Wm,t.normal),l.face=t}return l}nv.prototype=Object.assign(Object.create(Uf.prototype),{constructor:nv,isMesh:!0,copy:function(t){return Uf.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0===i)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),Um.copy(n.boundingSphere),Um.applyMatrix4(r),!1===t.ray.intersectsSphere(Um))return;if(Bm.copy(r).invert(),zm.copy(t.ray).applyMatrix4(Bm),null!==n.boundingBox&&!1===zm.intersectsBox(n.boundingBox))return;let o;if(n.isBufferGeometry){const r=n.index,g=n.attributes.position,s=n.morphAttributes.position,a=n.morphTargetsRelative,A=n.attributes.uv,C=n.attributes.uv2,I=n.groups,c=n.drawRange;if(null!==r)if(Array.isArray(i))for(let n=0,l=I.length;n<l;n++){const l=I[n],u=i[l.materialIndex];for(let n=Math.max(l.start,c.start),i=Math.min(l.start+l.count,c.start+c.count);n<i;n+=3){const i=r.getX(n),I=r.getX(n+1),c=r.getX(n+2);o=rv(this,u,t,zm,g,s,a,A,C,i,I,c),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=l.materialIndex,e.push(o))}}else for(let n=Math.max(0,c.start),I=Math.min(r.count,c.start+c.count);n<I;n+=3){const I=r.getX(n),c=r.getX(n+1),l=r.getX(n+2);o=rv(this,i,t,zm,g,s,a,A,C,I,c,l),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}else if(void 0!==g)if(Array.isArray(i))for(let n=0,r=I.length;n<r;n++){const r=I[n],l=i[r.materialIndex];for(let n=Math.max(r.start,c.start),i=Math.min(r.start+r.count,c.start+c.count);n<i;n+=3)o=rv(this,l,t,zm,g,s,a,A,C,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=r.materialIndex,e.push(o))}else for(let n=Math.max(0,c.start),r=Math.min(g.count,c.start+c.count);n<r;n+=3)o=rv(this,i,t,zm,g,s,a,A,C,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}else if(n.isGeometry){const r=Array.isArray(i),g=n.vertices,s=n.faces;let a;const A=n.faceVertexUvs[0];A.length>0&&(a=A);for(let n=0,A=s.length;n<A;n++){const A=s[n],C=r?i[A.materialIndex]:i;if(void 0===C)continue;const I=g[A.a],c=g[A.b],l=g[A.c];if(o=iv(this,C,t,zm,I,c,l,tv),o){if(a&&a[n]){const t=a[n];Km.copy(t[0]),Qm.copy(t[1]),$m.copy(t[2]),o.uv=nm.getUV(tv,I,c,l,Km,Qm,$m,new Rp)}o.face=A,o.faceIndex=n,e.push(o)}}}}});class ov extends Fm{constructor(t=1,e=1,n=1,i=1,r=1,o=1){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};const g=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const s=[],a=[],A=[],C=[];let I=0,c=0;function l(t,e,n,i,r,o,l,u,h,d,p){const f=o/h,m=l/d,v=o/2,y=l/2,b=u/2,_=h+1,w=d+1;let x=0,S=0;const E=new Up;for(let o=0;o<w;o++){const g=o*m-y;for(let s=0;s<_;s++){const I=s*f-v;E[t]=I*i,E[e]=g*r,E[n]=b,a.push(E.x,E.y,E.z),E[t]=0,E[e]=0,E[n]=u>0?1:-1,A.push(E.x,E.y,E.z),C.push(s/h),C.push(1-o/d),x+=1}}for(let t=0;t<d;t++)for(let e=0;e<h;e++){const n=I+e+_*t,i=I+e+_*(t+1),r=I+(e+1)+_*(t+1),o=I+(e+1)+_*t;s.push(n,i,o),s.push(i,r,o),S+=6}g.addGroup(c,S,p),c+=S,I+=x}l("z","y","x",-1,-1,n,e,t,o,r,0),l("z","y","x",1,-1,n,e,-t,o,r,1),l("x","z","y",1,1,t,n,e,i,o,2),l("x","z","y",1,-1,t,n,-e,i,o,3),l("x","y","z",1,-1,t,e,n,i,r,4),l("x","y","z",-1,-1,t,e,-n,i,r,5),this.setIndex(s),this.setAttribute("position",new xm(a,3)),this.setAttribute("normal",new xm(A,3)),this.setAttribute("uv",new xm(C,2))}}function gv(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function sv(t){const e={};for(let n=0;n<t.length;n++){const i=gv(t[n]);for(const t in i)e[t]=i[t]}return e}const av={clone:gv,merge:sv};function Av(t){cm.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function Cv(){Uf.call(this),this.type="Camera",this.matrixWorldInverse=new df,this.projectionMatrix=new df,this.projectionMatrixInverse=new df}function Iv(t=50,e=1,n=.1,i=2e3){Cv.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Av.prototype=Object.create(cm.prototype),Av.prototype.constructor=Av,Av.prototype.isShaderMaterial=!0,Av.prototype.copy=function(t){return cm.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=gv(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this},Av.prototype.toJSON=function(t){const e=cm.prototype.toJSON.call(this,t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const i=this.uniforms[n].value;i&&i.isTexture?e.uniforms[n]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?e.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?e.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?e.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?e.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?e.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?e.uniforms[n]={type:"m4",value:i.toArray()}:e.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const t in this.extensions)!0===this.extensions[t]&&(n[t]=!0);return Object.keys(n).length>0&&(e.extensions=n),e},Cv.prototype=Object.assign(Object.create(Uf.prototype),{constructor:Cv,isCamera:!0,copy:function(t,e){return Uf.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new Up),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Uf.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){Uf.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),Iv.prototype=Object.assign(Object.create(Cv.prototype),{constructor:Iv,isPerspectiveCamera:!0,copy:function(t,e){return Cv.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){const e=.5*this.getFilmHeight()/t;this.fov=2*Tp.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){const t=Math.tan(.5*Tp.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Tp.RAD2DEG*Math.atan(Math.tan(.5*Tp.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=this.near;let e=t*Math.tan(.5*Tp.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const t=o.fullWidth,g=o.fullHeight;r+=o.offsetX*i/t,e-=o.offsetY*n/g,i*=o.width/t,n*=o.height/g}const g=this.filmOffset;0!==g&&(r+=t*g/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=Uf.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});const cv=90;function lv(t,e,n){if(Uf.call(this),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const i=new Iv(cv,1,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Up(1,0,0)),this.add(i);const r=new Iv(cv,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Up(-1,0,0)),this.add(r);const o=new Iv(cv,1,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new Up(0,1,0)),this.add(o);const g=new Iv(cv,1,t,e);g.layers=this.layers,g.up.set(0,0,-1),g.lookAt(new Up(0,-1,0)),this.add(g);const s=new Iv(cv,1,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Up(0,0,1)),this.add(s);const a=new Iv(cv,1,t,e);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new Up(0,0,-1)),this.add(a),this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();const A=t.xr.enabled,C=t.getRenderTarget();t.xr.enabled=!1;const I=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,i),t.setRenderTarget(n,1),t.render(e,r),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,g),t.setRenderTarget(n,4),t.render(e,s),n.texture.generateMipmaps=I,t.setRenderTarget(n,5),t.render(e,a),t.setRenderTarget(C),t.xr.enabled=A}}function uv(t,e,n,i,r,o,g,s,a,A){t=void 0!==t?t:[],e=void 0!==e?e:301,g=void 0!==g?g:Ip,Dp.call(this,t,e,n,i,r,o,g,s,a,A),this.flipY=!1,this._needsFlipEnvMap=!0}function hv(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),Fp.call(this,t,t,e),e=e||{},this.texture=new uv(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}function dv(t,e,n,i,r,o,g,s,a,A,C,I){Dp.call(this,null,o,g,s,a,A,i,r,C,I),this.image={data:t||null,width:e||1,height:n||1},this.magFilter=void 0!==a?a:ip,this.minFilter=void 0!==A?A:ip,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}lv.prototype=Object.create(Uf.prototype),lv.prototype.constructor=lv,uv.prototype=Object.create(Dp.prototype),uv.prototype.constructor=uv,uv.prototype.isCubeTexture=!0,Object.defineProperty(uv.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),hv.prototype=Object.create(Fp.prototype),hv.prototype.constructor=hv,hv.prototype.isWebGLCubeRenderTarget=!0,hv.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=cp,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={tEquirect:{value:null}},i="\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",r="\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",o=new ov(5,5,5),g=new Av({name:"CubemapFromEquirect",uniforms:gv(n),vertexShader:i,fragmentShader:r,side:1,blending:0});g.uniforms.tEquirect.value=e;const s=new nv(o,g),a=e.minFilter;return e.minFilter===op&&(e.minFilter=rp),new lv(1,10,this).update(t,s),e.minFilter=a,s.geometry.dispose(),s.material.dispose(),this},hv.prototype.clear=function(t,e,n,i){const r=t.getRenderTarget();for(let r=0;r<6;r++)t.setRenderTarget(this,r),t.clear(e,n,i);t.setRenderTarget(r)},dv.prototype=Object.create(Dp.prototype),dv.prototype.constructor=dv,dv.prototype.isDataTexture=!0;const pv=new sf,fv=new Up;class mv{constructor(t,e,n,i,r,o){this.planes=[void 0!==t?t:new Vf,void 0!==e?e:new Vf,void 0!==n?n:new Vf,void 0!==i?i:new Vf,void 0!==r?r:new Vf,void 0!==o?o:new Vf]}set(t,e,n,i,r,o){const g=this.planes;return g[0].copy(t),g[1].copy(e),g[2].copy(n),g[3].copy(i),g[4].copy(r),g[5].copy(o),this}clone(){return(new this.constructor).copy(this)}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,i=n[0],r=n[1],o=n[2],g=n[3],s=n[4],a=n[5],A=n[6],C=n[7],I=n[8],c=n[9],l=n[10],u=n[11],h=n[12],d=n[13],p=n[14],f=n[15];return e[0].setComponents(g-i,C-s,u-I,f-h).normalize(),e[1].setComponents(g+i,C+s,u+I,f+h).normalize(),e[2].setComponents(g+r,C+a,u+c,f+d).normalize(),e[3].setComponents(g-r,C-a,u-c,f-d).normalize(),e[4].setComponents(g-o,C-A,u-l,f-p).normalize(),e[5].setComponents(g+o,C+A,u+l,f+p).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),pv.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(pv)}intersectsSprite(t){return pv.center.set(0,0,0),pv.radius=.7071067811865476,pv.applyMatrix4(t.matrixWorld),this.intersectsSphere(pv)}intersectsSphere(t){const e=this.planes,n=t.center,i=-t.radius;for(let t=0;t<6;t++)if(e[t].distanceToPoint(n)<i)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const i=e[n];if(fv.x=i.normal.x>0?t.max.x:t.min.x,fv.y=i.normal.y>0?t.max.y:t.min.y,fv.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(fv)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}function vv(){let t=null,e=!1,n=null,i=null;function r(e,o){n(e,o),i=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==n&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function yv(t,e){const n=e.isWebGL2,i=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),i.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const n=i.get(e);n&&(t.deleteBuffer(n.buffer),i.delete(e))},update:function(e,r){if(e.isGLBufferAttribute){const t=i.get(e);return void((!t||t.version<e.version)&&i.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const o=i.get(e);void 0===o?i.set(e,function(e,i){const r=e.array,o=e.usage,g=t.createBuffer();t.bindBuffer(i,g),t.bufferData(i,r,o),e.onUploadCallback();let s=5126;return r instanceof Float32Array?s=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?e.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:r instanceof Int16Array?s=5122:r instanceof Uint32Array?s=5125:r instanceof Int32Array?s=5124:r instanceof Int8Array?s=5120:r instanceof Uint8Array&&(s=5121),{buffer:g,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,r)):o.version<e.version&&(function(e,i,r){const o=i.array,g=i.updateRange;t.bindBuffer(r,e),-1===g.count?t.bufferSubData(r,0,o):(n?t.bufferSubData(r,g.offset*o.BYTES_PER_ELEMENT,o,g.offset,g.count):t.bufferSubData(r,g.offset*o.BYTES_PER_ELEMENT,o.subarray(g.offset,g.offset+g.count)),g.count=-1)}(o.buffer,e,r),o.version=e.version)}}}class bv extends Fm{constructor(t=1,e=1,n=1,i=1){super(),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i};const r=t/2,o=e/2,g=Math.floor(n),s=Math.floor(i),a=g+1,A=s+1,C=t/g,I=e/s,c=[],l=[],u=[],h=[];for(let t=0;t<A;t++){const e=t*I-o;for(let n=0;n<a;n++){const i=n*C-r;l.push(i,-e,0),u.push(0,0,1),h.push(n/g),h.push(1-t/s)}}for(let t=0;t<s;t++)for(let e=0;e<g;e++){const n=e+a*t,i=e+a*(t+1),r=e+1+a*(t+1),o=e+1+a*t;c.push(n,i,o),c.push(i,r,o)}this.setIndex(c),this.setAttribute("position",new xm(l,3)),this.setAttribute("normal",new xm(u,3)),this.setAttribute("uv",new xm(h,2))}}const _v={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},wv={common:{diffuse:{value:new Am(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Op},uv2Transform:{value:new Op},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Rp(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Am(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Am(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Op}},sprite:{diffuse:{value:new Am(15658734)},opacity:{value:1},center:{value:new Rp(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Op}}},xv={basic:{uniforms:sv([wv.common,wv.specularmap,wv.envmap,wv.aomap,wv.lightmap,wv.fog]),vertexShader:_v.meshbasic_vert,fragmentShader:_v.meshbasic_frag},lambert:{uniforms:sv([wv.common,wv.specularmap,wv.envmap,wv.aomap,wv.lightmap,wv.emissivemap,wv.fog,wv.lights,{emissive:{value:new Am(0)}}]),vertexShader:_v.meshlambert_vert,fragmentShader:_v.meshlambert_frag},phong:{uniforms:sv([wv.common,wv.specularmap,wv.envmap,wv.aomap,wv.lightmap,wv.emissivemap,wv.bumpmap,wv.normalmap,wv.displacementmap,wv.fog,wv.lights,{emissive:{value:new Am(0)},specular:{value:new Am(1118481)},shininess:{value:30}}]),vertexShader:_v.meshphong_vert,fragmentShader:_v.meshphong_frag},standard:{uniforms:sv([wv.common,wv.envmap,wv.aomap,wv.lightmap,wv.emissivemap,wv.bumpmap,wv.normalmap,wv.displacementmap,wv.roughnessmap,wv.metalnessmap,wv.fog,wv.lights,{emissive:{value:new Am(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:_v.meshphysical_vert,fragmentShader:_v.meshphysical_frag},toon:{uniforms:sv([wv.common,wv.aomap,wv.lightmap,wv.emissivemap,wv.bumpmap,wv.normalmap,wv.displacementmap,wv.gradientmap,wv.fog,wv.lights,{emissive:{value:new Am(0)}}]),vertexShader:_v.meshtoon_vert,fragmentShader:_v.meshtoon_frag},matcap:{uniforms:sv([wv.common,wv.bumpmap,wv.normalmap,wv.displacementmap,wv.fog,{matcap:{value:null}}]),vertexShader:_v.meshmatcap_vert,fragmentShader:_v.meshmatcap_frag},points:{uniforms:sv([wv.points,wv.fog]),vertexShader:_v.points_vert,fragmentShader:_v.points_frag},dashed:{uniforms:sv([wv.common,wv.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:_v.linedashed_vert,fragmentShader:_v.linedashed_frag},depth:{uniforms:sv([wv.common,wv.displacementmap]),vertexShader:_v.depth_vert,fragmentShader:_v.depth_frag},normal:{uniforms:sv([wv.common,wv.bumpmap,wv.normalmap,wv.displacementmap,{opacity:{value:1}}]),vertexShader:_v.normal_vert,fragmentShader:_v.normal_frag},sprite:{uniforms:sv([wv.sprite,wv.fog]),vertexShader:_v.sprite_vert,fragmentShader:_v.sprite_frag},background:{uniforms:{uvTransform:{value:new Op},t2D:{value:null}},vertexShader:_v.background_vert,fragmentShader:_v.background_frag},cube:{uniforms:sv([wv.envmap,{opacity:{value:1}}]),vertexShader:_v.cube_vert,fragmentShader:_v.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:_v.equirect_vert,fragmentShader:_v.equirect_frag},distanceRGBA:{uniforms:sv([wv.common,wv.displacementmap,{referencePosition:{value:new Up},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:_v.distanceRGBA_vert,fragmentShader:_v.distanceRGBA_frag},shadow:{uniforms:sv([wv.lights,wv.fog,{color:{value:new Am(0)},opacity:{value:1}}]),vertexShader:_v.shadow_vert,fragmentShader:_v.shadow_frag}};function Sv(t,e,n,i,r){const o=new Am(0);let g,s,a=0,A=null,C=0,I=null;function c(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,r)}return{getClearColor:function(){return o},setClearColor:function(t,e=1){o.set(t),a=e,c(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(t){a=t,c(o,a)},render:function(n,r,l,u){let h=!0===r.isScene?r.background:null;h&&h.isTexture&&(h=e.get(h));const d=t.xr,p=d.getSession&&d.getSession();p&&"additive"===p.environmentBlendMode&&(h=null),null===h?c(o,a):h&&h.isColor&&(c(h,1),u=!0),(t.autoClear||u)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),h&&(h.isCubeTexture||h.isWebGLCubeRenderTarget||306===h.mapping)?(void 0===s&&(s=new nv(new ov(1,1,1),new Av({name:"BackgroundCubeMaterial",uniforms:gv(xv.cube.uniforms),vertexShader:xv.cube.vertexShader,fragmentShader:xv.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(s)),h.isWebGLCubeRenderTarget&&(h=h.texture),s.material.uniforms.envMap.value=h,s.material.uniforms.flipEnvMap.value=h.isCubeTexture&&h._needsFlipEnvMap?-1:1,A===h&&C===h.version&&I===t.toneMapping||(s.material.needsUpdate=!0,A=h,C=h.version,I=t.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null)):h&&h.isTexture&&(void 0===g&&(g=new nv(new bv(2,2),new Av({name:"BackgroundMaterial",uniforms:gv(xv.background.uniforms),vertexShader:xv.background.vertexShader,fragmentShader:xv.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),g.geometry.deleteAttribute("normal"),Object.defineProperty(g.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(g)),g.material.uniforms.t2D.value=h,!0===h.matrixAutoUpdate&&h.updateMatrix(),g.material.uniforms.uvTransform.value.copy(h.matrix),A===h&&C===h.version&&I===t.toneMapping||(g.material.needsUpdate=!0,A=h,C=h.version,I=t.toneMapping),n.unshift(g,g.geometry,g.material,0,0,null))}}}function Ev(t,e,n,i){const r=t.getParameter(34921),o=i.isWebGL2?null:e.get("OES_vertex_array_object"),g=i.isWebGL2||null!==o,s={},a=c(null);let A=a;function C(e){return i.isWebGL2?t.bindVertexArray(e):o.bindVertexArrayOES(e)}function I(e){return i.isWebGL2?t.deleteVertexArray(e):o.deleteVertexArrayOES(e)}function c(t){const e=[],n=[],i=[];for(let t=0;t<r;t++)e[t]=0,n[t]=0,i[t]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:i,object:t,attributes:{},index:null}}function l(){const t=A.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function u(t){h(t,0)}function h(n,r){const o=A.newAttributes,g=A.enabledAttributes,s=A.attributeDivisors;o[n]=1,0===g[n]&&(t.enableVertexAttribArray(n),g[n]=1),s[n]!==r&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),s[n]=r)}function d(){const e=A.newAttributes,n=A.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function p(e,n,r,o,g,s){!0!==i.isWebGL2||5124!==r&&5125!==r?t.vertexAttribPointer(e,n,r,o,g,s):t.vertexAttribIPointer(e,n,r,g,s)}function f(){m(),A!==a&&(A=a,C(A.object))}function m(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:function(r,a,I,f,m){let v=!1;if(g){const e=function(e,n,r){const g=!0===r.wireframe;let a=s[e.id];void 0===a&&(a={},s[e.id]=a);let A=a[n.id];void 0===A&&(A={},a[n.id]=A);let C=A[g];return void 0===C&&(C=c(i.isWebGL2?t.createVertexArray():o.createVertexArrayOES()),A[g]=C),C}(f,I,a);A!==e&&(A=e,C(A.object)),v=function(t,e){const n=A.attributes,i=t.attributes;let r=0;for(const t in i){const e=n[t],o=i[t];if(void 0===e)return!0;if(e.attribute!==o)return!0;if(e.data!==o.data)return!0;r++}return A.attributesNum!==r||A.index!==e}(f,m),v&&function(t,e){const n={},i=t.attributes;let r=0;for(const t in i){const e=i[t],o={};o.attribute=e,e.data&&(o.data=e.data),n[t]=o,r++}A.attributes=n,A.attributesNum=r,A.index=e}(f,m)}else{const t=!0===a.wireframe;A.geometry===f.id&&A.program===I.id&&A.wireframe===t||(A.geometry=f.id,A.program=I.id,A.wireframe=t,v=!0)}!0===r.isInstancedMesh&&(v=!0),null!==m&&n.update(m,34963),v&&(function(r,o,g,s){if(!1===i.isWebGL2&&(r.isInstancedMesh||s.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;l();const a=s.attributes,A=g.getAttributes(),C=o.defaultAttributeValues;for(const e in A){const i=A[e];if(i>=0){const o=a[e];if(void 0!==o){const e=o.normalized,r=o.itemSize,g=n.get(o);if(void 0===g)continue;const a=g.buffer,A=g.type,C=g.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,g=n.stride,I=o.offset;n&&n.isInstancedInterleavedBuffer?(h(i,n.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)):u(i),t.bindBuffer(34962,a),p(i,r,A,e,g*C,I*C)}else o.isInstancedBufferAttribute?(h(i,o.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=o.meshPerAttribute*o.count)):u(i),t.bindBuffer(34962,a),p(i,r,A,e,0,0)}else if("instanceMatrix"===e){const e=n.get(r.instanceMatrix);if(void 0===e)continue;const o=e.buffer,g=e.type;h(i+0,1),h(i+1,1),h(i+2,1),h(i+3,1),t.bindBuffer(34962,o),t.vertexAttribPointer(i+0,4,g,!1,64,0),t.vertexAttribPointer(i+1,4,g,!1,64,16),t.vertexAttribPointer(i+2,4,g,!1,64,32),t.vertexAttribPointer(i+3,4,g,!1,64,48)}else if("instanceColor"===e){const e=n.get(r.instanceColor);if(void 0===e)continue;const o=e.buffer,g=e.type;h(i,1),t.bindBuffer(34962,o),t.vertexAttribPointer(i,3,g,!1,12,0)}else if(void 0!==C){const n=C[e];if(void 0!==n)switch(n.length){case 2:t.vertexAttrib2fv(i,n);break;case 3:t.vertexAttrib3fv(i,n);break;case 4:t.vertexAttrib4fv(i,n);break;default:t.vertexAttrib1fv(i,n)}}}}d()}(r,a,I,f),null!==m&&t.bindBuffer(34963,n.get(m).buffer))},reset:f,resetDefaultState:m,dispose:function(){f();for(const t in s){const e=s[t];for(const t in e){const n=e[t];for(const t in n)I(n[t].object),delete n[t];delete e[t]}delete s[t]}},releaseStatesOfGeometry:function(t){if(void 0===s[t.id])return;const e=s[t.id];for(const t in e){const n=e[t];for(const t in n)I(n[t].object),delete n[t];delete e[t]}delete s[t.id]},releaseStatesOfProgram:function(t){for(const e in s){const n=s[e];if(void 0===n[t.id])continue;const i=n[t.id];for(const t in i)I(i[t].object),delete i[t];delete n[t.id]}},initAttributes:l,enableAttribute:u,disableUnusedAttributes:d}}function Mv(t,e,n,i){const r=i.isWebGL2;let o;this.setMode=function(t){o=t},this.render=function(e,i){t.drawArrays(o,e,i),n.update(i,o,1)},this.renderInstances=function(i,g,s){if(0===s)return;let a,A;if(r)a=t,A="drawArraysInstanced";else if(a=e.get("ANGLE_instanced_arrays"),A="drawArraysInstancedANGLE",null===a)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");a[A](o,i,g,s),n.update(g,o,s)}}function Tv(t,e,n){let i;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let g=void 0!==n.precision?n.precision:"highp";const s=r(g);s!==g&&(console.warn("THREE.WebGLRenderer:",g,"not supported, using",s,"instead."),g=s);const a=!0===n.logarithmicDepthBuffer,A=t.getParameter(34930),C=t.getParameter(35660),I=t.getParameter(3379),c=t.getParameter(34076),l=t.getParameter(34921),u=t.getParameter(36347),h=t.getParameter(36348),d=t.getParameter(36349),p=C>0,f=o||!!e.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==i)return i;const n=e.get("EXT_texture_filter_anisotropic");return i=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,i},getMaxPrecision:r,precision:g,logarithmicDepthBuffer:a,maxTextures:A,maxVertexTextures:C,maxTextureSize:I,maxCubemapSize:c,maxAttributes:l,maxVertexUniforms:u,maxVaryings:h,maxFragmentUniforms:d,vertexTextures:p,floatFragmentTextures:f,floatVertexTextures:p&&f,maxSamples:o?t.getParameter(36183):0}}function Rv(t){const e=this;let n=null,i=0,r=!1,o=!1;const g=new Vf,s=new Op,a={value:null,needsUpdate:!1};function A(){a.value!==n&&(a.value=n,a.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function C(t,n,i,r){const o=null!==t?t.length:0;let A=null;if(0!==o){if(A=a.value,!0!==r||null===A){const e=i+4*o,r=n.matrixWorldInverse;s.getNormalMatrix(r),(null===A||A.length<e)&&(A=new Float32Array(e));for(let e=0,n=i;e!==o;++e,n+=4)g.copy(t[e]).applyMatrix4(r,s),g.normal.toArray(A,n),A[n+3]=g.constant}a.value=A,a.needsUpdate=!0}return e.numPlanes=o,e.numIntersection=0,A}this.uniform=a,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,o){const g=0!==t.length||e||0!==i||r;return r=e,n=C(t,o,0),i=t.length,g},this.beginShadows=function(){o=!0,C(null)},this.endShadows=function(){o=!1,A()},this.setState=function(e,g,s){const I=e.clippingPlanes,c=e.clipIntersection,l=e.clipShadows,u=t.get(e);if(!r||null===I||0===I.length||o&&!l)o?C(null):A();else{const t=o?0:i,e=4*t;let r=u.clippingState||null;a.value=r,r=C(I,g,e,s);for(let t=0;t!==e;++t)r[t]=n[t];u.clippingState=r,this.numIntersection=c?this.numPlanes:0,this.numPlanes+=t}}}function Ov(t){let e=new WeakMap;function n(t,e){return 303===e?t.mapping=301:304===e&&(t.mapping=302),t}function i(t){const n=t.target;n.removeEventListener("dispose",i);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const o=r.mapping;if(303===o||304===o){if(e.has(r))return n(e.get(r).texture,r.mapping);{const o=r.image;if(o&&o.height>0){const g=t.getRenderList(),s=t.getRenderTarget(),a=t.getRenderState(),A=new hv(o.height/2);return A.fromEquirectangularTexture(t,r),e.set(r,A),t.setRenderTarget(s),t.setRenderList(g),t.setRenderState(a),r.addEventListener("dispose",i),n(A.texture,r.mapping)}return null}}}return r},dispose:function(){e=new WeakMap}}}function Lv(t){const e={};return{has:function(n){if(void 0!==e[n])return null!==e[n];let i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,null!==i},get:function(t){return this.has(t)||console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e[t]}}}function Pv(t,e,n,i){const r=new WeakMap,o=new WeakMap;function g(t){const s=t.target,a=r.get(s);null!==a.index&&e.remove(a.index);for(const t in a.attributes)e.remove(a.attributes[t]);s.removeEventListener("dispose",g),r.delete(s);const A=o.get(a);A&&(e.remove(A),o.delete(a)),i.releaseStatesOfGeometry(a),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(t){const n=[],i=t.index,r=t.attributes.position;let g=0;if(null!==i){const t=i.array;g=i.version;for(let e=0,i=t.length;e<i;e+=3){const i=t[e+0],r=t[e+1],o=t[e+2];n.push(i,r,r,o,o,i)}}else{const t=r.array;g=r.version;for(let e=0,i=t.length/3-1;e<i;e+=3){const t=e+0,i=e+1,r=e+2;n.push(t,i,i,r,r,t)}}const s=new(Mm(n)>65535?_m:ym)(n,1);s.version=g;const a=o.get(t);a&&e.remove(a),o.set(t,s)}return{get:function(t,e){let i=r.get(e);return i||(e.addEventListener("dispose",g),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Fm).setFromObject(t)),i=e._bufferGeometry),r.set(e,i),n.memory.geometries++,i)},update:function(t){const n=t.attributes;for(const t in n)e.update(n[t],34962);const i=t.morphAttributes;for(const t in i){const n=i[t];for(let t=0,i=n.length;t<i;t++)e.update(n[t],34962)}},getWireframeAttribute:function(t){const e=o.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&s(t)}else s(t);return o.get(t)}}}function Nv(t,e,n,i){const r=i.isWebGL2;let o,g,s;this.setMode=function(t){o=t},this.setIndex=function(t){g=t.type,s=t.bytesPerElement},this.render=function(e,i){t.drawElements(o,i,g,e*s),n.update(i,o,1)},this.renderInstances=function(i,a,A){if(0===A)return;let C,I;if(r)C=t,I="drawElementsInstanced";else if(C=e.get("ANGLE_instanced_arrays"),I="drawElementsInstancedANGLE",null===C)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");C[I](o,a,g,i*s,A),n.update(a,o,A)}}function Dv(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,i){switch(e.calls++,n){case 4:e.triangles+=i*(t/3);break;case 1:e.lines+=i*(t/2);break;case 3:e.lines+=i*(t-1);break;case 2:e.lines+=i*t;break;case 0:e.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function kv(t,e){return t[0]-e[0]}function jv(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Fv(t){const e={},n=new Float32Array(8),i=[];for(let t=0;t<8;t++)i[t]=[t,0];return{update:function(r,o,g,s){const a=r.morphTargetInfluences,A=void 0===a?0:a.length;let C=e[o.id];if(void 0===C){C=[];for(let t=0;t<A;t++)C[t]=[t,0];e[o.id]=C}for(let t=0;t<A;t++){const e=C[t];e[0]=t,e[1]=a[t]}C.sort(jv);for(let t=0;t<8;t++)t<A&&C[t][1]?(i[t][0]=C[t][0],i[t][1]=C[t][1]):(i[t][0]=Number.MAX_SAFE_INTEGER,i[t][1]=0);i.sort(kv);const I=g.morphTargets&&o.morphAttributes.position,c=g.morphNormals&&o.morphAttributes.normal;let l=0;for(let t=0;t<8;t++){const e=i[t],r=e[0],g=e[1];r!==Number.MAX_SAFE_INTEGER&&g?(I&&o.getAttribute("morphTarget"+t)!==I[r]&&o.setAttribute("morphTarget"+t,I[r]),c&&o.getAttribute("morphNormal"+t)!==c[r]&&o.setAttribute("morphNormal"+t,c[r]),n[t]=g,l+=g):(I&&!0===o.hasAttribute("morphTarget"+t)&&o.deleteAttribute("morphTarget"+t),c&&!0===o.hasAttribute("morphNormal"+t)&&o.deleteAttribute("morphNormal"+t),n[t]=0)}const u=o.morphTargetsRelative?1:1-l;s.getUniforms().setValue(t,"morphTargetBaseInfluence",u),s.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function Bv(t,e,n,i){let r=new WeakMap;return{update:function(t){const o=i.render.frame,g=t.geometry,s=e.get(t,g);return r.get(s)!==o&&(g.isGeometry&&s.updateFromObject(t),e.update(s),r.set(s,o)),t.isInstancedMesh&&(n.update(t.instanceMatrix,34962),null!==t.instanceColor&&n.update(t.instanceColor,34962)),s},dispose:function(){r=new WeakMap}}}function zv(t=null,e=1,n=1,i=1){Dp.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=ip,this.minFilter=ip,this.wrapR=ep,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Uv(t=null,e=1,n=1,i=1){Dp.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=ip,this.minFilter=ip,this.wrapR=ep,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}xv.physical={uniforms:sv([xv.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Rp(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Am(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:_v.meshphysical_vert,fragmentShader:_v.meshphysical_frag},zv.prototype=Object.create(Dp.prototype),zv.prototype.constructor=zv,zv.prototype.isDataTexture2DArray=!0,Uv.prototype=Object.create(Dp.prototype),Uv.prototype.constructor=Uv,Uv.prototype.isDataTexture3D=!0;const Hv=new Dp,Gv=new zv,Wv=new Uv,Vv=new uv,Zv=[],Yv=[],Xv=new Float32Array(16),Jv=new Float32Array(9),qv=new Float32Array(4);function Kv(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let o=Zv[r];if(void 0===o&&(o=new Float32Array(r),Zv[r]=o),0!==e){i.toArray(o,0);for(let i=1,r=0;i!==e;++i)r+=n,t[i].toArray(o,r)}return o}function Qv(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function $v(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function ty(t,e){let n=Yv[e];void 0===n&&(n=new Int32Array(e),Yv[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function ey(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function ny(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Qv(n,e))return;t.uniform2fv(this.addr,e),$v(n,e)}}function iy(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Qv(n,e))return;t.uniform3fv(this.addr,e),$v(n,e)}}function ry(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Qv(n,e))return;t.uniform4fv(this.addr,e),$v(n,e)}}function oy(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(Qv(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),$v(n,e)}else{if(Qv(n,i))return;qv.set(i),t.uniformMatrix2fv(this.addr,!1,qv),$v(n,i)}}function gy(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(Qv(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),$v(n,e)}else{if(Qv(n,i))return;Jv.set(i),t.uniformMatrix3fv(this.addr,!1,Jv),$v(n,i)}}function sy(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(Qv(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),$v(n,e)}else{if(Qv(n,i))return;Xv.set(i),t.uniformMatrix4fv(this.addr,!1,Xv),$v(n,i)}}function ay(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||Hv,r)}function Ay(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||Gv,r)}function Cy(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||Wv,r)}function Iy(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||Vv,r)}function cy(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function ly(t,e){const n=this.cache;Qv(n,e)||(t.uniform2iv(this.addr,e),$v(n,e))}function uy(t,e){const n=this.cache;Qv(n,e)||(t.uniform3iv(this.addr,e),$v(n,e))}function hy(t,e){const n=this.cache;Qv(n,e)||(t.uniform4iv(this.addr,e),$v(n,e))}function dy(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function py(t,e){t.uniform1fv(this.addr,e)}function fy(t,e){t.uniform1iv(this.addr,e)}function my(t,e){t.uniform2iv(this.addr,e)}function vy(t,e){t.uniform3iv(this.addr,e)}function yy(t,e){t.uniform4iv(this.addr,e)}function by(t,e){const n=Kv(e,this.size,2);t.uniform2fv(this.addr,n)}function _y(t,e){const n=Kv(e,this.size,3);t.uniform3fv(this.addr,n)}function wy(t,e){const n=Kv(e,this.size,4);t.uniform4fv(this.addr,n)}function xy(t,e){const n=Kv(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Sy(t,e){const n=Kv(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Ey(t,e){const n=Kv(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function My(t,e,n){const i=e.length,r=ty(n,i);t.uniform1iv(this.addr,r);for(let t=0;t!==i;++t)n.safeSetTexture2D(e[t]||Hv,r[t])}function Ty(t,e,n){const i=e.length,r=ty(n,i);t.uniform1iv(this.addr,r);for(let t=0;t!==i;++t)n.safeSetTextureCube(e[t]||Vv,r[t])}function Ry(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return ey;case 35664:return ny;case 35665:return iy;case 35666:return ry;case 35674:return oy;case 35675:return gy;case 35676:return sy;case 5124:case 35670:return cy;case 35667:case 35671:return ly;case 35668:case 35672:return uy;case 35669:case 35673:return hy;case 5125:return dy;case 35678:case 36198:case 36298:case 36306:case 35682:return ay;case 35679:case 36299:case 36307:return Cy;case 35680:case 36300:case 36308:case 36293:return Iy;case 36289:case 36303:case 36311:case 36292:return Ay}}(e.type)}function Oy(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return py;case 35664:return by;case 35665:return _y;case 35666:return wy;case 35674:return xy;case 35675:return Sy;case 35676:return Ey;case 5124:case 35670:return fy;case 35667:case 35671:return my;case 35668:case 35672:return vy;case 35669:case 35673:return yy;case 35678:case 36198:case 36298:case 36306:case 35682:return My;case 35680:case 36300:case 36308:case 36293:return Ty}}(e.type)}function Ly(t){this.id=t,this.seq=[],this.map={}}Oy.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),$v(e,t)},Ly.prototype.setValue=function(t,e,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const o=i[r];o.setValue(t,e[o.id],n)}};const Py=/([\w\d_]+)(\])?(\[|\.)?/g;function Ny(t,e){t.seq.push(e),t.map[e.id]=e}function Dy(t,e,n){const i=t.name,r=i.length;for(Py.lastIndex=0;;){const o=Py.exec(i),g=Py.lastIndex;let s=o[1];const a="]"===o[2],A=o[3];if(a&&(s|=0),void 0===A||"["===A&&g+2===r){Ny(n,void 0===A?new Ry(s,t,e):new Oy(s,t,e));break}{let t=n.map[s];void 0===t&&(t=new Ly(s),Ny(n,t)),n=t}}}function ky(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let i=0;i<n;++i){const n=t.getActiveUniform(e,i);Dy(n,t.getUniformLocation(e,n.name),this)}}function jy(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}ky.prototype.setValue=function(t,e,n,i){const r=this.map[e];void 0!==r&&r.setValue(t,n,i)},ky.prototype.setOptional=function(t,e,n){const i=e[n];void 0!==i&&this.setValue(t,n,i)},ky.upload=function(t,e,n,i){for(let r=0,o=e.length;r!==o;++r){const o=e[r],g=n[o.id];!1!==g.needsUpdate&&o.setValue(t,g.value,i)}},ky.seqWithValue=function(t,e){const n=[];for(let i=0,r=t.length;i!==r;++i){const r=t[i];r.id in e&&n.push(r)}return n};let Fy=0;function By(t){switch(t){case yp:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function zy(t,e,n){const i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(t){const e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}(t.getShaderSource(e))}function Uy(t,e){const n=By(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Hy(t,e){const n=By(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Gy(t,e){let n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Wy(t){return""!==t}function Vy(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Zy(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Yy=/^[ \t]*#include +<([\w\d./]+)>/gm;function Xy(t){return t.replace(Yy,Jy)}function Jy(t,e){const n=_v[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return Xy(n)}const qy=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Ky=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Qy(t){return t.replace(Ky,tb).replace(qy,$y)}function $y(t,e,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),tb(0,e,n,i)}function tb(t,e,n,i){let r="";for(let t=parseInt(e);t<parseInt(n);t++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return r}function eb(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function nb(t,e,n,i){const r=t.getContext(),o=n.defines;let g=n.vertexShader,s=n.fragmentShader;const a=function(t){let e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(n),A=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),C=function(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:case 307:e="ENVMAP_MODE_REFRACTION"}return e}(n),I=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),c=t.gammaFactor>0?t.gammaFactor:1,l=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Wy).join("\n")}(n),u=function(t){const e=[];for(const n in t){const i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(o),h=r.createProgram();let d,p,f=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(d=[u].filter(Wy).join("\n"),d.length>0&&(d+="\n"),p=[l,u].filter(Wy).join("\n"),p.length>0&&(p+="\n")):(d=[eb(n),"#define SHADER_NAME "+n.shaderName,u,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+c,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+C:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+a:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Wy).join("\n"),p=[l,eb(n),"#define SHADER_NAME "+n.shaderName,u,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+c,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+A:"",n.envMap?"#define "+C:"",n.envMap?"#define "+I:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+a:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?_v.tonemapping_pars_fragment:"",0!==n.toneMapping?Gy("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",_v.encodings_pars_fragment,n.map?Uy("mapTexelToLinear",n.mapEncoding):"",n.matcap?Uy("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Uy("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Uy("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Uy("lightMapTexelToLinear",n.lightMapEncoding):"",Hy("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Wy).join("\n")),g=Xy(g),g=Vy(g,n),g=Zy(g,n),s=Xy(s),s=Vy(s,n),s=Zy(s,n),g=Qy(g),s=Qy(s),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(f="#version 300 es\n",d=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+d,p=["#define varying in",n.glslVersion===xp?"":"out highp vec4 pc_fragColor;",n.glslVersion===xp?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+p);const m=f+p+s,v=jy(r,35633,f+d+g),y=jy(r,35632,m);if(r.attachShader(h,v),r.attachShader(h,y),void 0!==n.index0AttributeName?r.bindAttribLocation(h,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(h,0,"position"),r.linkProgram(h),t.debug.checkShaderErrors){const t=r.getProgramInfoLog(h).trim(),e=r.getShaderInfoLog(v).trim(),n=r.getShaderInfoLog(y).trim();let i=!0,o=!0;if(!1===r.getProgramParameter(h,35714)){i=!1;const e=zy(r,v,"vertex"),n=zy(r,y,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(h,35715),"gl.getProgramInfoLog",t,e,n)}else""!==t?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",t):""!==e&&""!==n||(o=!1);o&&(this.diagnostics={runnable:i,programLog:t,vertexShader:{log:e,prefix:d},fragmentShader:{log:n,prefix:p}})}let b,_;return r.deleteShader(v),r.deleteShader(y),this.getUniforms=function(){return void 0===b&&(b=new ky(r,h)),b},this.getAttributes=function(){return void 0===_&&(_=function(t,e){const n={},i=t.getProgramParameter(e,35721);for(let r=0;r<i;r++){const i=t.getActiveAttrib(e,r).name;n[i]=t.getAttribLocation(e,i)}return n}(r,h)),_},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(h),this.program=void 0},this.name=n.shaderName,this.id=Fy++,this.cacheKey=e,this.usedTimes=1,this.program=h,this.vertexShader=v,this.fragmentShader=y,this}function ib(t,e,n,i,r,o){const g=[],s=i.isWebGL2,a=i.logarithmicDepthBuffer,A=i.floatVertexTextures,C=i.maxVertexUniforms,I=i.vertexTextures;let c=i.precision;const l={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},u=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function h(t){let e;return t?t.isTexture?e=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding):e=yp,e}return{getParameters:function(r,g,u,d,p){const f=d.fog,m=r.isMeshStandardMaterial?d.environment:null,v=e.get(r.envMap||m),y=l[r.type],b=p.isSkinnedMesh?function(t){const e=t.skeleton.bones;if(A)return 1024;{const t=C,n=Math.floor((t-20)/4),i=Math.min(n,e.length);return i<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+i+"."),0):i}}(p):0;let _,w;if(null!==r.precision&&(c=i.getMaxPrecision(r.precision),c!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",c,"instead.")),y){const t=xv[y];_=t.vertexShader,w=t.fragmentShader}else _=r.vertexShader,w=r.fragmentShader;const x=t.getRenderTarget();return{isWebGL2:s,shaderID:y,shaderName:r.type,vertexShader:_,fragmentShader:w,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:c,instancing:!0===p.isInstancedMesh,instancingColor:!0===p.isInstancedMesh&&null!==p.instanceColor,supportsVertexTextures:I,outputEncoding:null!==x?h(x.texture):t.outputEncoding,map:!!r.map,mapEncoding:h(r.map),matcap:!!r.matcap,matcapEncoding:h(r.matcap),envMap:!!v,envMapMode:v&&v.mapping,envMapEncoding:h(v),envMapCubeUV:!!v&&(306===v.mapping||307===v.mapping),lightMap:!!r.lightMap,lightMapEncoding:h(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:h(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:1===r.normalMapType,tangentSpaceNormalMap:0===r.normalMapType,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatMap||r.clearcoatRoughnessMap||r.clearcoatNormalMap||r.displacementMap||r.transmissionMap),uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap||!r.displacementMap),fog:!!f,useFog:r.fog,fogExp2:f&&f.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:a,skinning:r.skinning&&b>0,maxBones:b,useVertexTexture:A,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:g.directional.length,numPointLights:g.point.length,numSpotLights:g.spot.length,numRectAreaLights:g.rectArea.length,numHemiLights:g.hemi.length,numDirLightShadows:g.directionalShadowMap.length,numPointLightShadows:g.pointShadowMap.length,numSpotLightShadows:g.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:r.dithering,shadowMapEnabled:t.shadowMap.enabled&&u.length>0,shadowMapType:t.shadowMap.type,toneMapping:r.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:2===r.side,flipSided:1===r.side,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);if(!1===e.isRawShaderMaterial){for(let t=0;t<u.length;t++)n.push(e[u[t]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){const e=l[t.type];let n;if(e){const t=xv[e];n=av.clone(t.uniforms)}else n=t.uniforms;return n},acquireProgram:function(e,n){let i;for(let t=0,e=g.length;t<e;t++){const e=g[t];if(e.cacheKey===n){i=e,++i.usedTimes;break}}return void 0===i&&(i=new nb(t,n,e,r),g.push(i)),i},releaseProgram:function(t){if(0==--t.usedTimes){const e=g.indexOf(t);g[e]=g[g.length-1],g.pop(),t.destroy()}},programs:g}}function rb(){let t=new WeakMap;return{get:function(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function ob(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function gb(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function sb(t){const e=[];let n=0;const i=[],r=[],o={id:-1};function g(i,r,g,s,a,A){let C=e[n];const I=t.get(g);return void 0===C?(C={id:i.id,object:i,geometry:r,material:g,program:I.program||o,groupOrder:s,renderOrder:i.renderOrder,z:a,group:A},e[n]=C):(C.id=i.id,C.object=i,C.geometry=r,C.material=g,C.program=I.program||o,C.groupOrder=s,C.renderOrder=i.renderOrder,C.z=a,C.group=A),n++,C}return{opaque:i,transparent:r,init:function(){n=0,i.length=0,r.length=0},push:function(t,e,n,o,s,a){const A=g(t,e,n,o,s,a);(!0===n.transparent?r:i).push(A)},unshift:function(t,e,n,o,s,a){const A=g(t,e,n,o,s,a);(!0===n.transparent?r:i).unshift(A)},finish:function(){for(let t=n,i=e.length;t<i;t++){const n=e[t];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.program=null,n.group=null}},sort:function(t,e){i.length>1&&i.sort(t||ob),r.length>1&&r.sort(e||gb)}}}function ab(t){let e=new WeakMap;return{get:function(n,i){const r=e.get(n);let o;return void 0===r?(o=new sb(t),e.set(n,new WeakMap),e.get(n).set(i,o)):(o=r.get(i),void 0===o&&(o=new sb(t),r.set(i,o))),o},dispose:function(){e=new WeakMap}}}function Ab(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Up,color:new Am};break;case"SpotLight":n={position:new Up,direction:new Up,color:new Am,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Up,color:new Am,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Up,skyColor:new Am,groundColor:new Am};break;case"RectAreaLight":n={color:new Am,position:new Up,halfWidth:new Up,halfHeight:new Up}}return t[e.id]=n,n}}}let Cb=0;function Ib(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function cb(t,e){const n=new Ab,i=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Rp};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Rp,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let t=0;t<9;t++)r.probe.push(new Up);const o=new Up,g=new df,s=new df;return{setup:function(a,A,C){let I=0,c=0,l=0;for(let t=0;t<9;t++)r.probe[t].set(0,0,0);let u=0,h=0,d=0,p=0,f=0,m=0,v=0,y=0;const b=C.matrixWorldInverse;a.sort(Ib);for(let t=0,e=a.length;t<e;t++){const e=a[t],A=e.color,C=e.intensity,_=e.distance,w=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)I+=A.r*C,c+=A.g*C,l+=A.b*C;else if(e.isLightProbe)for(let t=0;t<9;t++)r.probe[t].addScaledVector(e.sh.coefficients[t],C);else if(e.isDirectionalLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),t.direction.setFromMatrixPosition(e.matrixWorld),o.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(b),e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.directionalShadow[u]=n,r.directionalShadowMap[u]=w,r.directionalShadowMatrix[u]=e.shadow.matrix,m++}r.directional[u]=t,u++}else if(e.isSpotLight){const t=n.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(b),t.color.copy(A).multiplyScalar(C),t.distance=_,t.direction.setFromMatrixPosition(e.matrixWorld),o.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(b),t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.spotShadow[d]=n,r.spotShadowMap[d]=w,r.spotShadowMatrix[d]=e.shadow.matrix,y++}r.spot[d]=t,d++}else if(e.isRectAreaLight){const t=n.get(e);t.color.copy(A).multiplyScalar(C),t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(b),s.identity(),g.copy(e.matrixWorld),g.premultiply(b),s.extractRotation(g),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),t.halfWidth.applyMatrix4(s),t.halfHeight.applyMatrix4(s),r.rectArea[p]=t,p++}else if(e.isPointLight){const t=n.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(b),t.color.copy(e.color).multiplyScalar(e.intensity),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,n.shadowCameraNear=t.camera.near,n.shadowCameraFar=t.camera.far,r.pointShadow[h]=n,r.pointShadowMap[h]=w,r.pointShadowMatrix[h]=e.shadow.matrix,v++}r.point[h]=t,h++}else if(e.isHemisphereLight){const t=n.get(e);t.direction.setFromMatrixPosition(e.matrixWorld),t.direction.transformDirection(b),t.direction.normalize(),t.skyColor.copy(e.color).multiplyScalar(C),t.groundColor.copy(e.groundColor).multiplyScalar(C),r.hemi[f]=t,f++}}p>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(r.rectAreaLTC1=wv.LTC_FLOAT_1,r.rectAreaLTC2=wv.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=wv.LTC_HALF_1,r.rectAreaLTC2=wv.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=I,r.ambient[1]=c,r.ambient[2]=l;const _=r.hash;_.directionalLength===u&&_.pointLength===h&&_.spotLength===d&&_.rectAreaLength===p&&_.hemiLength===f&&_.numDirectionalShadows===m&&_.numPointShadows===v&&_.numSpotShadows===y||(r.directional.length=u,r.spot.length=d,r.rectArea.length=p,r.point.length=h,r.hemi.length=f,r.directionalShadow.length=m,r.directionalShadowMap.length=m,r.pointShadow.length=v,r.pointShadowMap.length=v,r.spotShadow.length=y,r.spotShadowMap.length=y,r.directionalShadowMatrix.length=m,r.pointShadowMatrix.length=v,r.spotShadowMatrix.length=y,_.directionalLength=u,_.pointLength=h,_.spotLength=d,_.rectAreaLength=p,_.hemiLength=f,_.numDirectionalShadows=m,_.numPointShadows=v,_.numSpotShadows=y,r.version=Cb++)},state:r}}function lb(t,e){const n=new cb(t,e),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(t){n.setup(i,r,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){r.push(t)}}}function ub(t,e){let n=new WeakMap;return{get:function(i,r){let o;return!1===n.has(i)?(o=new lb(t,e),n.set(i,new WeakMap),n.get(i).set(r,o)):!1===n.get(i).has(r)?(o=new lb(t,e),n.get(i).set(r,o)):o=n.get(i).get(r),o},dispose:function(){n=new WeakMap}}}function hb(t){cm.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function db(t){cm.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Up,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}function pb(t,e,n){let i=new mv;const r=new Rp,o=new Rp,g=new jp,s=[],a=[],A={},C={0:1,1:0,2:2},I=new Av({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Rp},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),c=I.clone();c.defines.HORIZONAL_PASS=1;const l=new Fm;l.setAttribute("position",new dm(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const u=new nv(l,I),h=this;function d(n,i){const r=e.update(u);I.uniforms.shadow_pass.value=n.map.texture,I.uniforms.resolution.value=n.mapSize,I.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,r,I,u,null),c.uniforms.shadow_pass.value=n.mapPass.texture,c.uniforms.resolution.value=n.mapSize,c.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,r,c,u,null)}function p(t,e,n){const i=t<<0|e<<1|n<<2;let r=s[i];return void 0===r&&(r=new hb({depthPacking:3201,morphTargets:t,skinning:e}),s[i]=r),r}function f(t,e,n){const i=t<<0|e<<1|n<<2;let r=a[i];return void 0===r&&(r=new db({morphTargets:t,skinning:e}),a[i]=r),r}function m(e,n,i,r,o,g,s){let a=null,I=p,c=e.customDepthMaterial;if(!0===r.isPointLight&&(I=f,c=e.customDistanceMaterial),void 0===c){let t=!1;!0===i.morphTargets&&(t=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);let r=!1;!0===e.isSkinnedMesh&&(!0===i.skinning?r=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e)),a=I(t,r,!0===e.isInstancedMesh)}else a=c;if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){const t=a.uuid,e=i.uuid;let n=A[t];void 0===n&&(n={},A[t]=n);let r=n[e];void 0===r&&(r=a.clone(),n[e]=r),a=r}return a.visible=i.visible,a.wireframe=i.wireframe,a.side=3===s?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:C[i.side],a.clipShadows=i.clipShadows,a.clippingPlanes=i.clippingPlanes,a.clipIntersection=i.clipIntersection,a.wireframeLinewidth=i.wireframeLinewidth,a.linewidth=i.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial&&(a.referencePosition.setFromMatrixPosition(r.matrixWorld),a.nearDistance=o,a.farDistance=g),a}function v(n,r,o,g,s){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const i=e.update(n),r=n.material;if(Array.isArray(r)){const e=i.groups;for(let a=0,A=e.length;a<A;a++){const A=e[a],C=r[A.materialIndex];if(C&&C.visible){const e=m(n,i,C,g,o.near,o.far,s);t.renderBufferDirect(o,null,i,e,n,A)}}}else if(r.visible){const e=m(n,i,r,g,o.near,o.far,s);t.renderBufferDirect(o,null,i,e,n,null)}}const a=n.children;for(let t=0,e=a.length;t<e;t++)v(a[t],r,o,g,s)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,s,a){if(!1===h.enabled)return;if(!1===h.autoUpdate&&!1===h.needsUpdate)return;if(0===e.length)return;const A=t.getRenderTarget(),C=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),c=t.state;c.setBlending(0),c.buffers.color.setClear(1,1,1,1),c.buffers.depth.setTest(!0),c.setScissorTest(!1);for(let A=0,C=e.length;A<C;A++){const C=e[A],I=C.shadow;if(void 0===I){console.warn("THREE.WebGLShadowMap:",C,"has no shadow.");continue}if(!1===I.autoUpdate&&!1===I.needsUpdate)continue;r.copy(I.mapSize);const l=I.getFrameExtents();if(r.multiply(l),o.copy(I.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(o.x=Math.floor(n/l.x),r.x=o.x*l.x,I.mapSize.x=o.x),r.y>n&&(o.y=Math.floor(n/l.y),r.y=o.y*l.y,I.mapSize.y=o.y)),null===I.map&&!I.isPointLightShadow&&3===this.type){const t={minFilter:rp,magFilter:rp,format:cp};I.map=new Fp(r.x,r.y,t),I.map.texture.name=C.name+".shadowMap",I.mapPass=new Fp(r.x,r.y,t),I.camera.updateProjectionMatrix()}if(null===I.map){const t={minFilter:ip,magFilter:ip,format:cp};I.map=new Fp(r.x,r.y,t),I.map.texture.name=C.name+".shadowMap",I.camera.updateProjectionMatrix()}t.setRenderTarget(I.map),t.clear();const u=I.getViewportCount();for(let t=0;t<u;t++){const e=I.getViewport(t);g.set(o.x*e.x,o.y*e.y,o.x*e.z,o.y*e.w),c.viewport(g),I.updateMatrices(C,t),i=I.getFrustum(),v(s,a,I.camera,C,this.type)}I.isPointLightShadow||3!==this.type||d(I,a),I.needsUpdate=!1}h.needsUpdate=!1,t.setRenderTarget(A,C,I)}}function fb(t,e,n){const i=n.isWebGL2,r=new function(){let e=!1;const n=new jp;let i=null;const r=new jp(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,o,g,s){!0===s&&(e*=g,i*=g,o*=g),n.set(e,i,o,g),!1===r.equals(n)&&(t.clearColor(e,i,o,g),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},o=new function(){let e=!1,n=null,i=null,r=null;return{setTest:function(t){t?P(2929):N(2929)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;default:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517)}else t.depthFunc(515);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},g=new function(){let e=!1,n=null,i=null,r=null,o=null,g=null,s=null,a=null,A=null;return{setTest:function(t){e||(t?P(2960):N(2960))},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,g){i===e&&r===n&&o===g||(t.stencilFunc(e,n,g),i=e,r=n,o=g)},setOp:function(e,n,i){g===e&&s===n&&a===i||(t.stencilOp(e,n,i),g=e,s=n,a=i)},setLocked:function(t){e=t},setClear:function(e){A!==e&&(t.clearStencil(e),A=e)},reset:function(){e=!1,n=null,i=null,r=null,o=null,g=null,s=null,a=null,A=null}}};let s={},a=null,A=null,C=null,I=null,c=null,l=null,u=null,h=null,d=null,p=!1,f=null,m=null,v=null,y=null,b=null;const _=t.getParameter(35661);let w=!1,x=0;const S=t.getParameter(7938);-1!==S.indexOf("WebGL")?(x=parseFloat(/^WebGL\ ([0-9])/.exec(S)[1]),w=x>=1):-1!==S.indexOf("OpenGL ES")&&(x=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(S)[1]),w=x>=2);let E=null,M={};const T=new jp,R=new jp;function O(e,n,i){const r=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(let e=0;e<i;e++)t.texImage2D(n+e,0,6408,1,1,0,6408,5121,r);return o}const L={};function P(e){!0!==s[e]&&(t.enable(e),s[e]=!0)}function N(e){!1!==s[e]&&(t.disable(e),s[e]=!1)}L[3553]=O(3553,3553,1),L[34067]=O(34067,34069,6),r.setClear(0,0,0,1),o.setClear(1),g.setClear(0),P(2929),o.setFunc(3),F(!1),B(1),P(2884),j(0);const D={[$d]:32774,101:32778,102:32779};if(i)D[103]=32775,D[104]=32776;else{const t=e.get("EXT_blend_minmax");null!==t&&(D[103]=t.MIN_EXT,D[104]=t.MAX_EXT)}const k={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function j(e,n,i,r,o,g,s,a){if(0!==e){if(A||(P(3042),A=!0),5===e)o=o||n,g=g||i,s=s||r,n===I&&o===u||(t.blendEquationSeparate(D[n],D[o]),I=n,u=o),i===c&&r===l&&g===h&&s===d||(t.blendFuncSeparate(k[i],k[r],k[g],k[s]),c=i,l=r,h=g,d=s),C=e,p=null;else if(e!==C||a!==p){if(I===$d&&u===$d||(t.blendEquation(32774),I=$d,u=$d),a)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}c=null,l=null,h=null,d=null,C=e,p=a}}else A&&(N(3042),A=!1)}function F(e){f!==e&&(e?t.frontFace(2304):t.frontFace(2305),f=e)}function B(e){0!==e?(P(2884),e!==m&&(1===e?t.cullFace(1029):2===e?t.cullFace(1028):t.cullFace(1032))):N(2884),m=e}function z(e,n,i){e?(P(32823),y===n&&b===i||(t.polygonOffset(n,i),y=n,b=i)):N(32823)}function U(e){void 0===e&&(e=33984+_-1),E!==e&&(t.activeTexture(e),E=e)}return{buffers:{color:r,depth:o,stencil:g},enable:P,disable:N,useProgram:function(e){return a!==e&&(t.useProgram(e),a=e,!0)},setBlending:j,setMaterial:function(t,e){2===t.side?N(2884):P(2884);let n=1===t.side;e&&(n=!n),F(n),1===t.blending&&!1===t.transparent?j(0):j(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),r.setMask(t.colorWrite);const i=t.stencilWrite;g.setTest(i),i&&(g.setMask(t.stencilWriteMask),g.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),g.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),z(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:F,setCullFace:B,setLineWidth:function(e){e!==v&&(w&&t.lineWidth(e),v=e)},setPolygonOffset:z,setScissorTest:function(t){t?P(3089):N(3089)},activeTexture:U,bindTexture:function(e,n){null===E&&U();let i=M[E];void 0===i&&(i={type:void 0,texture:void 0},M[E]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||L[e]),i.type=e,i.texture=n)},unbindTexture:function(){const e=M[E];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===T.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),T.copy(e))},viewport:function(e){!1===R.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),R.copy(e))},reset:function(){s={},E=null,M={},a=null,A=null,C=null,I=null,c=null,l=null,u=null,h=null,d=null,p=!1,f=null,m=null,v=null,y=null,b=null,r.reset(),o.reset(),g.reset()}}}function mb(t,e,n,i,r,o,g){const s=r.isWebGL2,a=r.maxTextures,A=r.maxCubemapSize,C=r.maxTextureSize,I=r.maxSamples,c=new WeakMap;let l,u=!1;try{u="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function h(t,e){return u?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function d(t,e,n,i){let r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const i=e?Tp.floorPowerOfTwo:Math.floor,o=i(r*t.width),g=i(r*t.height);void 0===l&&(l=h(o,g));const s=n?h(o,g):l;return s.width=o,s.height=g,s.getContext("2d").drawImage(t,0,0,o,g),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+g+")."),s}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function p(t){return Tp.isPowerOfTwo(t.width)&&Tp.isPowerOfTwo(t.height)}function f(t,e){return t.generateMipmaps&&e&&t.minFilter!==ip&&t.minFilter!==rp}function m(e,n,r,o){t.generateMipmap(e),i.get(n).__maxMipLevel=Math.log(Math.max(r,o))*Math.LOG2E}function v(n,i,r){if(!1===s)return i;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let o=i;return 6403===i&&(5126===r&&(o=33326),5131===r&&(o=33325),5121===r&&(o=33321)),6407===i&&(5126===r&&(o=34837),5131===r&&(o=34843),5121===r&&(o=32849)),6408===i&&(5126===r&&(o=34836),5131===r&&(o=34842),5121===r&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||e.get("EXT_color_buffer_float"),o}function y(t){return t===ip||1004===t||1005===t?9728:9729}function b(e){const n=e.target;n.removeEventListener("dispose",b),function(e){const n=i.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),i.remove(e))}(n),n.isVideoTexture&&c.delete(n),g.memory.textures--}function _(e){const n=e.target;n.removeEventListener("dispose",_),function(e){const n=i.get(e),r=i.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++)t.deleteFramebuffer(n.__webglFramebuffer[e]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[e]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&t.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer);i.remove(e.texture),i.remove(e)}}(n),g.memory.textures--}let w=0;function x(t,e){const r=i.get(t);if(t.isVideoTexture&&function(t){const e=g.render.frame;c.get(t)!==e&&(c.set(t,e),t.update())}(t),t.version>0&&r.__version!==t.version){const n=t.image;if(void 0===n)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==n.complete)return void O(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,r.__webglTexture)}function S(e,r){const g=i.get(e);e.version>0&&g.__version!==e.version?function(e,i,r){if(6!==i.image.length)return;R(e,i),n.activeTexture(33984+r),n.bindTexture(34067,e.__webglTexture),t.pixelStorei(37440,i.flipY);const g=i&&(i.isCompressedTexture||i.image[0].isCompressedTexture),a=i.image[0]&&i.image[0].isDataTexture,C=[];for(let t=0;t<6;t++)C[t]=g||a?a?i.image[t].image:i.image[t]:d(i.image[t],!1,!0,A);const I=C[0],c=p(I)||s,l=o.convert(i.format),u=o.convert(i.type),h=v(i.internalFormat,l,u);let y;if(T(34067,i,c),g){for(let t=0;t<6;t++){y=C[t].mipmaps;for(let e=0;e<y.length;e++){const r=y[e];i.format!==cp&&i.format!==Ip?null!==l?n.compressedTexImage2D(34069+t,e,h,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+t,e,h,r.width,r.height,0,l,u,r.data)}}e.__maxMipLevel=y.length-1}else{y=i.mipmaps;for(let t=0;t<6;t++)if(a){n.texImage2D(34069+t,0,h,C[t].width,C[t].height,0,l,u,C[t].data);for(let e=0;e<y.length;e++){const i=y[e].image[t].image;n.texImage2D(34069+t,e+1,h,i.width,i.height,0,l,u,i.data)}}else{n.texImage2D(34069+t,0,h,l,u,C[t]);for(let e=0;e<y.length;e++){const i=y[e];n.texImage2D(34069+t,e+1,h,l,u,i.image[t])}}e.__maxMipLevel=y.length}f(i,c)&&m(34067,i,I.width,I.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}(g,e,r):(n.activeTexture(33984+r),n.bindTexture(34067,g.__webglTexture))}const E={[tp]:10497,[ep]:33071,[np]:33648},M={[ip]:9728,1004:9984,1005:9986,[rp]:9729,1007:9985,[op]:9987};function T(n,o,g){g?(t.texParameteri(n,10242,E[o.wrapS]),t.texParameteri(n,10243,E[o.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,E[o.wrapR]),t.texParameteri(n,10240,M[o.magFilter]),t.texParameteri(n,10241,M[o.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),o.wrapS===ep&&o.wrapT===ep||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,y(o.magFilter)),t.texParameteri(n,10241,y(o.minFilter)),o.minFilter!==ip&&o.minFilter!==rp&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const a=e.get("EXT_texture_filter_anisotropic");if(a){if(o.type===ap&&null===e.get("OES_texture_float_linear"))return;if(o.type===Ap&&null===(s||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(t.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function R(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",b),e.__webglTexture=t.createTexture(),g.memory.textures++)}function O(e,i,r){let g=3553;i.isDataTexture2DArray&&(g=35866),i.isDataTexture3D&&(g=32879),R(e,i),n.activeTexture(33984+r),n.bindTexture(g,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment);const a=function(t){return!s&&(t.wrapS!==ep||t.wrapT!==ep||t.minFilter!==ip&&t.minFilter!==rp)}(i)&&!1===p(i.image),A=d(i.image,a,!1,C),I=p(A)||s,c=o.convert(i.format);let l,u=o.convert(i.type),h=v(i.internalFormat,c,u);T(g,i,I);const y=i.mipmaps;if(i.isDepthTexture)h=6402,s?h=i.type===ap?36012:i.type===sp?33190:i.type===Cp?35056:33189:i.type===ap&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===lp&&6402===h&&i.type!==gp&&i.type!==sp&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=gp,u=o.convert(i.type)),i.format===up&&6402===h&&(h=34041,i.type!==Cp&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Cp,u=o.convert(i.type))),n.texImage2D(3553,0,h,A.width,A.height,0,c,u,null);else if(i.isDataTexture)if(y.length>0&&I){for(let t=0,e=y.length;t<e;t++)l=y[t],n.texImage2D(3553,t,h,l.width,l.height,0,c,u,l.data);i.generateMipmaps=!1,e.__maxMipLevel=y.length-1}else n.texImage2D(3553,0,h,A.width,A.height,0,c,u,A.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(let t=0,e=y.length;t<e;t++)l=y[t],i.format!==cp&&i.format!==Ip?null!==c?n.compressedTexImage2D(3553,t,h,l.width,l.height,0,l.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,t,h,l.width,l.height,0,c,u,l.data);e.__maxMipLevel=y.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,h,A.width,A.height,A.depth,0,c,u,A.data),e.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,h,A.width,A.height,A.depth,0,c,u,A.data),e.__maxMipLevel=0;else if(y.length>0&&I){for(let t=0,e=y.length;t<e;t++)l=y[t],n.texImage2D(3553,t,h,c,u,l);i.generateMipmaps=!1,e.__maxMipLevel=y.length-1}else n.texImage2D(3553,0,h,c,u,A),e.__maxMipLevel=0;f(i,I)&&m(g,i,A.width,A.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function L(e,r,g,s){const a=o.convert(r.texture.format),A=o.convert(r.texture.type),C=v(r.texture.internalFormat,a,A);n.texImage2D(s,0,C,r.width,r.height,0,a,A,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,g,s,i.get(r.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function P(e,n,i){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){let r=33189;if(i){const e=n.depthTexture;e&&e.isDepthTexture&&(e.type===ap?r=36012:e.type===sp&&(r=33190));const i=N(n);t.renderbufferStorageMultisample(36161,i,r,n.width,n.height)}else t.renderbufferStorage(36161,r,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(i){const e=N(n);t.renderbufferStorageMultisample(36161,e,35056,n.width,n.height)}else t.renderbufferStorage(36161,34041,n.width,n.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{const e=o.convert(n.texture.format),r=o.convert(n.texture.type),g=v(n.texture.internalFormat,e,r);if(i){const e=N(n);t.renderbufferStorageMultisample(36161,e,g,n.width,n.height)}else t.renderbufferStorage(36161,g,n.width,n.height)}t.bindRenderbuffer(36161,null)}function N(t){return s&&t.isWebGLMultisampleRenderTarget?Math.min(I,t.samples):0}let D=!1,k=!1;this.allocateTextureUnit=function(){const t=w;return t>=a&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+a),w+=1,t},this.resetTextureUnits=function(){w=0},this.setTexture2D=x,this.setTexture2DArray=function(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?O(r,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?O(r,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=S,this.setupRenderTarget=function(e){const r=i.get(e),a=i.get(e.texture);e.addEventListener("dispose",_),a.__webglTexture=t.createTexture(),g.memory.textures++;const A=!0===e.isWebGLCubeRenderTarget,C=!0===e.isWebGLMultisampleRenderTarget,I=p(e)||s;if(!s||e.texture.format!==Ip||e.texture.type!==ap&&e.texture.type!==Ap||(e.texture.format=cp,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),A){r.__webglFramebuffer=[];for(let e=0;e<6;e++)r.__webglFramebuffer[e]=t.createFramebuffer()}else if(r.__webglFramebuffer=t.createFramebuffer(),C)if(s){r.__webglMultisampledFramebuffer=t.createFramebuffer(),r.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,r.__webglColorRenderbuffer);const n=o.convert(e.texture.format),i=o.convert(e.texture.type),g=v(e.texture.internalFormat,n,i),s=N(e);t.renderbufferStorageMultisample(36161,s,g,e.width,e.height),t.bindFramebuffer(36160,r.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,r.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(r.__webglDepthRenderbuffer=t.createRenderbuffer(),P(r.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(A){n.bindTexture(34067,a.__webglTexture),T(34067,e.texture,I);for(let t=0;t<6;t++)L(r.__webglFramebuffer[t],e,36064,34069+t);f(e.texture,I)&&m(34067,e.texture,e.width,e.height),n.bindTexture(34067,null)}else n.bindTexture(3553,a.__webglTexture),T(3553,e.texture,I),L(r.__webglFramebuffer,e,36064,3553),f(e.texture,I)&&m(3553,e.texture,e.width,e.height),n.bindTexture(3553,null);e.depthBuffer&&function(e){const n=i.get(e),r=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),x(n.depthTexture,0);const r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===lp)t.framebufferTexture2D(36160,36096,3553,r,0);else{if(n.depthTexture.format!==up)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(let i=0;i<6;i++)t.bindFramebuffer(36160,n.__webglFramebuffer[i]),n.__webglDepthbuffer[i]=t.createRenderbuffer(),P(n.__webglDepthbuffer[i],e,!1)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),P(n.__webglDepthbuffer,e,!1);t.bindFramebuffer(36160,null)}(e)},this.updateRenderTargetMipmap=function(t){const e=t.texture;if(f(e,p(t)||s)){const r=t.isWebGLCubeRenderTarget?34067:3553,o=i.get(e).__webglTexture;n.bindTexture(r,o),m(r,e,t.width,t.height),n.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(s){const n=i.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);const r=e.width,o=e.height;let g=16384;e.depthBuffer&&(g|=256),e.stencilBuffer&&(g|=1024),t.blitFramebuffer(0,0,r,o,0,0,r,o,g,9728),t.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===D&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),D=!0),t=t.texture),x(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===k&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),k=!0),t=t.texture),S(t,e)}}function vb(t,e,n){const i=n.isWebGL2;return{convert:function(t){let n;if(1009===t)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(t===gp)return 5123;if(1013===t)return 5124;if(t===sp)return 5125;if(t===ap)return 5126;if(t===Ap)return i?5131:(n=e.get("OES_texture_half_float"),null!==n?n.HALF_FLOAT_OES:null);if(1021===t)return 6406;if(t===Ip)return 6407;if(t===cp)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(t===lp)return 6402;if(t===up)return 34041;if(1028===t)return 6403;if(1029===t)return 36244;if(1030===t)return 33319;if(1031===t)return 33320;if(1032===t)return 36248;if(1033===t)return 36249;if(33776===t||33777===t||33778===t||33779===t){if(n=e.get("WEBGL_compressed_texture_s3tc"),null===n)return null;if(33776===t)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===t)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===t)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===t)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===t||35841===t||35842===t||35843===t){if(n=e.get("WEBGL_compressed_texture_pvrtc"),null===n)return null;if(35840===t)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===t)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===t)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===t)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t)return n=e.get("WEBGL_compressed_texture_etc1"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===t||37496===t)&&(n=e.get("WEBGL_compressed_texture_etc"),null!==n)){if(37492===t)return n.COMPRESSED_RGB8_ETC2;if(37496===t)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t||37840===t||37841===t||37842===t||37843===t||37844===t||37845===t||37846===t||37847===t||37848===t||37849===t||37850===t||37851===t||37852===t||37853===t?(n=e.get("WEBGL_compressed_texture_astc"),null!==n?t:null):36492===t?(n=e.get("EXT_texture_compression_bptc"),null!==n?t:null):t===Cp?i?34042:(n=e.get("WEBGL_depth_texture"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function yb(t=[]){Iv.call(this),this.cameras=t}function bb(){Uf.call(this),this.type="Group"}function _b(){this._targetRay=null,this._grip=null,this._hand=null}function wb(t,e){const n=this;let i=null,r=1,o=null,g="local-floor",s=null;const a=[],A=new Map,C=new Iv;C.layers.enable(1),C.viewport=new jp;const I=new Iv;I.layers.enable(2),I.viewport=new jp;const c=[C,I],l=new yb;l.layers.enable(1),l.layers.enable(2);let u=null,h=null;function d(t){const e=A.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function p(){A.forEach((function(t,e){t.disconnect(e)})),A.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),w.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function f(t){o=t,w.setContext(i),w.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function m(t){const e=i.inputSources;for(let t=0;t<a.length;t++)A.set(e[t],a[t]);for(let e=0;e<t.removed.length;e++){const n=t.removed[e],i=A.get(n);i&&(i.dispatchEvent({type:"disconnected",data:n}),A.delete(n))}for(let e=0;e<t.added.length;e++){const n=t.added[e],i=A.get(n);i&&i.dispatchEvent({type:"connected",data:n})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=a[t];return void 0===e&&(e=new _b,a[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=a[t];return void 0===e&&(e=new _b,a[t]=e),e.getGripSpace()},this.getHand=function(t){let e=a[t];return void 0===e&&(e=new _b,a[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){r=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){g=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return i},this.setSession=function(t){if(i=t,null!==i){i.addEventListener("select",d),i.addEventListener("selectstart",d),i.addEventListener("selectend",d),i.addEventListener("squeeze",d),i.addEventListener("squeezestart",d),i.addEventListener("squeezeend",d),i.addEventListener("end",p);const t=e.getContextAttributes();!0!==t.xrCompatible&&e.makeXRCompatible();const n={antialias:t.antialias,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:r},o=new XRWebGLLayer(i,e,n);i.updateRenderState({baseLayer:o}),i.requestReferenceSpace(g).then(f),i.addEventListener("inputsourceschange",m)}};const v=new Up,y=new Up;function b(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.getCamera=function(t){l.near=I.near=C.near=t.near,l.far=I.far=C.far=t.far,u===l.near&&h===l.far||(i.updateRenderState({depthNear:l.near,depthFar:l.far}),u=l.near,h=l.far);const e=t.parent,n=l.cameras;b(l,e);for(let t=0;t<n.length;t++)b(n[t],e);t.matrixWorld.copy(l.matrixWorld);const r=t.children;for(let t=0,e=r.length;t<e;t++)r[t].updateMatrixWorld(!0);return 2===n.length?function(t,e,n){v.setFromMatrixPosition(e.matrixWorld),y.setFromMatrixPosition(n.matrixWorld);const i=v.distanceTo(y),r=e.projectionMatrix.elements,o=n.projectionMatrix.elements,g=r[14]/(r[10]-1),s=r[14]/(r[10]+1),a=(r[9]+1)/r[5],A=(r[9]-1)/r[5],C=(r[8]-1)/r[0],I=(o[8]+1)/o[0],c=g*C,l=g*I,u=i/(-C+I),h=u*-C;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(h),t.translateZ(u),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const d=g+u,p=s+u,f=c-h,m=l+(i-h),b=a*s/p*d,_=A*s/p*d;t.projectionMatrix.makePerspective(f,m,b,_,d,p)}(l,C,I):l.projectionMatrix.copy(C.projectionMatrix),l};let _=null;const w=new vv;w.setAnimationLoop((function(e,n){if(s=n.getViewerPose(o),null!==s){const e=s.views,n=i.renderState.baseLayer;t.setFramebuffer(n.framebuffer);let r=!1;e.length!==l.cameras.length&&(l.cameras.length=0,r=!0);for(let t=0;t<e.length;t++){const i=e[t],o=n.getViewport(i),g=c[t];g.matrix.fromArray(i.transform.matrix),g.projectionMatrix.fromArray(i.projectionMatrix),g.viewport.set(o.x,o.y,o.width,o.height),0===t&&l.matrix.copy(g.matrix),!0===r&&l.cameras.push(g)}}const r=i.inputSources;for(let t=0;t<a.length;t++){const e=a[t],i=r[t];e.update(i,n,o)}_&&_(e,n)})),this.setAnimationLoop=function(t){_=t},this.dispose=function(){}}function xb(t){function e(e,n){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap);const i=t.get(n).envMap;if(i){e.envMap.value=i,e.flipEnvMap.value=i.isCubeTexture&&i._needsFlipEnvMap?-1:1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;const r=t.get(i).__maxMipLevel;void 0!==r&&(e.maxMipLevel.value=r)}let r,o;n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix)),n.aoMap?o=n.aoMap:n.lightMap&&(o=n.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),e.uv2Transform.value.copy(o.matrix))}function n(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,i,r,o){i.isMeshBasicMaterial?e(t,i):i.isMeshLambertMaterial?(e(t,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,i)):i.isMeshToonMaterial?(e(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshPhongMaterial?(e(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshStandardMaterial?(e(t,i),i.isMeshPhysicalMaterial?function(t,e){n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()),t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap)}(t,i):n(t,i)):i.isMeshMatcapMaterial?(e(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDepthMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDistanceMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,i)):i.isMeshNormalMaterial?(e(t,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,n,i){let r;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*i,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?r=e.map:e.alphaMap&&(r=e.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}(t,i,r,o):i.isSpriteMaterial?function(t,e){let n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Sb(t){const e=void 0!==(t=t||{}).canvas?t.canvas:function(){const t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}(),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,g=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,a=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,A=void 0!==t.powerPreference?t.powerPreference:"default",C=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let I=null,c=null;this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=yp,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const l=this;let u=!1,h=null,d=0,p=0,f=null,m=null,v=-1,y=null,b=null;const _=new jp,w=new jp;let x=null,S=e.width,E=e.height,M=1,T=null,R=null;const O=new jp(0,0,S,E),L=new jp(0,0,S,E);let P=!1;const N=new mv;let D=!1,k=!1;const j=new df,F=new Up,B={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function z(){return null===f?M:1}let U,H,G,W,V,Z,Y,X,J,q,K,Q,$,tt,et,nt,it,rt,ot,gt,st,at=n;function At(t,n){for(let i=0;i<t.length;i++){const r=t[i],o=e.getContext(r,n);if(null!==o)return o}return null}try{const t={alpha:i,depth:r,stencil:o,antialias:g,premultipliedAlpha:s,preserveDrawingBuffer:a,powerPreference:A,failIfMajorPerformanceCaveat:C};if(e.addEventListener("webglcontextlost",lt,!1),e.addEventListener("webglcontextrestored",ut,!1),null===at){const e=["webgl2","webgl","experimental-webgl"];if(!0===l.isWebGL1Renderer&&e.shift(),at=At(e,t),null===at)throw At(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===at.getShaderPrecisionFormat&&(at.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function Ct(){U=new Lv(at),H=new Tv(at,U,t),!1===H.isWebGL2&&(U.get("WEBGL_depth_texture"),U.get("OES_texture_float"),U.get("OES_texture_half_float"),U.get("OES_texture_half_float_linear"),U.get("OES_standard_derivatives"),U.get("OES_element_index_uint"),U.get("OES_vertex_array_object"),U.get("ANGLE_instanced_arrays")),U.get("OES_texture_float_linear"),gt=new vb(at,U,H),G=new fb(at,U,H),G.scissor(w.copy(L).multiplyScalar(M).floor()),G.viewport(_.copy(O).multiplyScalar(M).floor()),W=new Dv(at),V=new rb,Z=new mb(at,U,G,V,H,gt,W),Y=new Ov(l),X=new yv(at,H),st=new Ev(at,U,X,H),J=new Pv(at,X,W,st),q=new Bv(at,J,X,W),it=new Fv(at),et=new Rv(V),K=new ib(l,Y,U,H,st,et),Q=new xb(V),$=new ab(V),tt=new ub(U,H),nt=new Sv(l,Y,G,q,s),rt=new Mv(at,U,W,H),ot=new Nv(at,U,W,H),W.programs=K.programs,l.capabilities=H,l.extensions=U,l.properties=V,l.renderLists=$,l.state=G,l.info=W}Ct();const It=new wb(l,at);this.xr=It;const ct=new pb(l,q,H.maxTextureSize);function lt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),u=!0}function ut(){console.log("THREE.WebGLRenderer: Context Restored."),u=!1,Ct()}function ht(t){const e=t.target;e.removeEventListener("dispose",ht),function(t){dt(t),V.remove(t)}(e)}function dt(t){const e=V.get(t).program;void 0!==e&&K.releaseProgram(e)}this.shadowMap=ct,this.getContext=function(){return at},this.getContextAttributes=function(){return at.getContextAttributes()},this.forceContextLoss=function(){const t=U.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=U.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return M},this.setPixelRatio=function(t){void 0!==t&&(M=t,this.setSize(S,E,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new Rp),t.set(S,E)},this.setSize=function(t,n,i){It.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(S=t,E=n,e.width=Math.floor(t*M),e.height=Math.floor(n*M),!1!==i&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new Rp),t.set(S*M,E*M).floor()},this.setDrawingBufferSize=function(t,n,i){S=t,E=n,M=i,e.width=Math.floor(t*i),e.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new jp),t.copy(_)},this.getViewport=function(t){return t.copy(O)},this.setViewport=function(t,e,n,i){t.isVector4?O.set(t.x,t.y,t.z,t.w):O.set(t,e,n,i),G.viewport(_.copy(O).multiplyScalar(M).floor())},this.getScissor=function(t){return t.copy(L)},this.setScissor=function(t,e,n,i){t.isVector4?L.set(t.x,t.y,t.z,t.w):L.set(t,e,n,i),G.scissor(w.copy(L).multiplyScalar(M).floor())},this.getScissorTest=function(){return P},this.setScissorTest=function(t){G.setScissorTest(P=t)},this.setOpaqueSort=function(t){T=t},this.setTransparentSort=function(t){R=t},this.getClearColor=function(){return nt.getClearColor()},this.setClearColor=function(){nt.setClearColor.apply(nt,arguments)},this.getClearAlpha=function(){return nt.getClearAlpha()},this.setClearAlpha=function(){nt.setClearAlpha.apply(nt,arguments)},this.clear=function(t,e,n){let i=0;(void 0===t||t)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===n||n)&&(i|=1024),at.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",lt,!1),e.removeEventListener("webglcontextrestored",ut,!1),$.dispose(),tt.dispose(),V.dispose(),Y.dispose(),q.dispose(),st.dispose(),It.dispose(),ft.stop()},this.renderBufferImmediate=function(t,e){st.initAttributes();const n=V.get(t);t.hasPositions&&!n.position&&(n.position=at.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=at.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=at.createBuffer()),t.hasColors&&!n.color&&(n.color=at.createBuffer());const i=e.getAttributes();t.hasPositions&&(at.bindBuffer(34962,n.position),at.bufferData(34962,t.positionArray,35048),st.enableAttribute(i.position),at.vertexAttribPointer(i.position,3,5126,!1,0,0)),t.hasNormals&&(at.bindBuffer(34962,n.normal),at.bufferData(34962,t.normalArray,35048),st.enableAttribute(i.normal),at.vertexAttribPointer(i.normal,3,5126,!1,0,0)),t.hasUvs&&(at.bindBuffer(34962,n.uv),at.bufferData(34962,t.uvArray,35048),st.enableAttribute(i.uv),at.vertexAttribPointer(i.uv,2,5126,!1,0,0)),t.hasColors&&(at.bindBuffer(34962,n.color),at.bufferData(34962,t.colorArray,35048),st.enableAttribute(i.color),at.vertexAttribPointer(i.color,3,5126,!1,0,0)),st.disableUnusedAttributes(),at.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,i,r,o){null===e&&(e=B);const g=r.isMesh&&r.matrixWorld.determinant()<0,s=_t(t,e,i,r);G.setMaterial(i,g);let a=n.index;const A=n.attributes.position;if(null===a){if(void 0===A||0===A.count)return}else if(0===a.count)return;let C,I=1;!0===i.wireframe&&(a=J.getWireframeAttribute(n),I=2),(i.morphTargets||i.morphNormals)&&it.update(r,n,i,s),st.setup(r,i,s,n,a);let c=rt;null!==a&&(C=X.get(a),c=ot,c.setIndex(C));const l=null!==a?a.count:A.count,u=n.drawRange.start*I,h=n.drawRange.count*I,d=null!==o?o.start*I:0,p=null!==o?o.count*I:1/0,f=Math.max(u,d),m=Math.min(l,u+h,d+p)-1,v=Math.max(0,m-f+1);if(0!==v){if(r.isMesh)!0===i.wireframe?(G.setLineWidth(i.wireframeLinewidth*z()),c.setMode(1)):c.setMode(4);else if(r.isLine){let t=i.linewidth;void 0===t&&(t=1),G.setLineWidth(t*z()),r.isLineSegments?c.setMode(1):r.isLineLoop?c.setMode(2):c.setMode(3)}else r.isPoints?c.setMode(0):r.isSprite&&c.setMode(4);if(r.isInstancedMesh)c.renderInstances(f,v,r.count);else if(n.isInstancedBufferGeometry){const t=Math.min(n.instanceCount,n._maxInstanceCount);c.renderInstances(f,v,t)}else c.render(f,v)}},this.compile=function(t,e){c=tt.get(t,e),c.init(),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(c.pushLight(t),t.castShadow&&c.pushShadow(t))})),c.setupLights(e);const n=new WeakMap;t.traverse((function(e){const i=e.material;if(i)if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];!1===n.has(o)&&(bt(o,t,e),n.set(o))}else!1===n.has(i)&&(bt(i,t,e),n.set(i))}))};let pt=null;const ft=new vv;function mt(t,e,n,i){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)c.pushLight(t),t.castShadow&&c.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||N.intersectsSprite(t)){i&&F.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j);const e=q.update(t),r=t.material;r.visible&&I.push(t,e,r,n,F.z,null)}}else if(t.isImmediateRenderObject)i&&F.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j),I.push(t,null,t.material,n,F.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==W.render.frame&&(t.skeleton.update(),t.skeleton.frame=W.render.frame),!t.frustumCulled||N.intersectsObject(t))){i&&F.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j);const e=q.update(t),r=t.material;if(Array.isArray(r)){const i=e.groups;for(let o=0,g=i.length;o<g;o++){const g=i[o],s=r[g.materialIndex];s&&s.visible&&I.push(t,e,s,n,F.z,g)}}else r.visible&&I.push(t,e,r,n,F.z,null)}const r=t.children;for(let t=0,o=r.length;t<o;t++)mt(r[t],e,n,i)}function vt(t,e,n){const i=!0===e.isScene?e.overrideMaterial:null;for(let r=0,o=t.length;r<o;r++){const o=t[r],g=o.object,s=o.geometry,a=null===i?o.material:i,A=o.group;if(n.isArrayCamera){b=n;const t=n.cameras;for(let n=0,i=t.length;n<i;n++){const i=t[n];g.layers.test(i.layers)&&(G.viewport(_.copy(i.viewport)),c.setupLights(i),yt(g,e,i,s,a,A))}}else b=null,yt(g,e,n,s,a,A)}}function yt(t,e,n,i,r,o){if(t.onBeforeRender(l,e,n,i,r,o),c=tt.get(e,b||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){const i=_t(n,e,r,t);G.setMaterial(r),st.reset(),function(t,e){t.render((function(t){l.renderBufferImmediate(t,e)}))}(t,i)}else l.renderBufferDirect(n,e,i,r,t,o);t.onAfterRender(l,e,n,i,r,o),c=tt.get(e,b||n)}function bt(t,e,n){!0!==e.isScene&&(e=B);const i=V.get(t),r=c.state.lights,o=c.state.shadowsArray,g=r.state.version,s=K.getParameters(t,r.state,o,e,n),a=K.getProgramCacheKey(s);let A=i.program,C=!0;if(void 0===A)t.addEventListener("dispose",ht);else if(A.cacheKey!==a)dt(t);else if(i.lightsStateVersion!==g)C=!1;else{if(void 0!==s.shaderID){const n=t.isMeshStandardMaterial?e.environment:null;return void(i.envMap=Y.get(t.envMap||n))}C=!1}C&&(s.uniforms=K.getUniforms(t),t.onBeforeCompile(s,l),A=K.acquireProgram(s,a),i.program=A,i.uniforms=s.uniforms,i.outputEncoding=s.outputEncoding);const I=i.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(i.numClippingPlanes=et.numPlanes,i.numIntersection=et.numIntersection,I.clippingPlanes=et.uniform),i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=Y.get(t.envMap||i.environment),i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=g,i.needsLights&&(I.ambientLightColor.value=r.state.ambient,I.lightProbe.value=r.state.probe,I.directionalLights.value=r.state.directional,I.directionalLightShadows.value=r.state.directionalShadow,I.spotLights.value=r.state.spot,I.spotLightShadows.value=r.state.spotShadow,I.rectAreaLights.value=r.state.rectArea,I.ltc_1.value=r.state.rectAreaLTC1,I.ltc_2.value=r.state.rectAreaLTC2,I.pointLights.value=r.state.point,I.pointLightShadows.value=r.state.pointShadow,I.hemisphereLights.value=r.state.hemi,I.directionalShadowMap.value=r.state.directionalShadowMap,I.directionalShadowMatrix.value=r.state.directionalShadowMatrix,I.spotShadowMap.value=r.state.spotShadowMap,I.spotShadowMatrix.value=r.state.spotShadowMatrix,I.pointShadowMap.value=r.state.pointShadowMap,I.pointShadowMatrix.value=r.state.pointShadowMatrix);const u=i.program.getUniforms(),h=ky.seqWithValue(u.seq,I);i.uniformsList=h}function _t(t,e,n,i){!0!==e.isScene&&(e=B),Z.resetTextureUnits();const r=e.fog,o=n.isMeshStandardMaterial?e.environment:null,g=null===f?l.outputEncoding:f.texture.encoding,s=Y.get(n.envMap||o),a=V.get(n),A=c.state.lights;if(!0===D&&(!0===k||t!==y)){const e=t===y&&n.id===v;et.setState(n,t,e)}n.version===a.__version?n.fog&&a.fog!==r||a.environment!==o||a.needsLights&&a.lightsStateVersion!==A.state.version?bt(n,e,i):void 0===a.numClippingPlanes||a.numClippingPlanes===et.numPlanes&&a.numIntersection===et.numIntersection?(a.outputEncoding!==g||a.envMap!==s)&&bt(n,e,i):bt(n,e,i):(bt(n,e,i),a.__version=n.version);let C=!1,I=!1,u=!1;const h=a.program,d=h.getUniforms(),p=a.uniforms;if(G.useProgram(h.program)&&(C=!0,I=!0,u=!0),n.id!==v&&(v=n.id,I=!0),C||y!==t){if(d.setValue(at,"projectionMatrix",t.projectionMatrix),H.logarithmicDepthBuffer&&d.setValue(at,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),y!==t&&(y=t,I=!0,u=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const e=d.map.cameraPosition;void 0!==e&&e.setValue(at,F.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&d.setValue(at,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&d.setValue(at,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){d.setOptional(at,i,"bindMatrix"),d.setOptional(at,i,"bindMatrixInverse");const t=i.skeleton;if(t){const e=t.bones;if(H.floatVertexTextures){if(null===t.boneTexture){let n=Math.sqrt(4*e.length);n=Tp.ceilPowerOfTwo(n),n=Math.max(n,4);const i=new Float32Array(n*n*4);i.set(t.boneMatrices);const r=new dv(i,n,n,cp,ap);t.boneMatrices=i,t.boneTexture=r,t.boneTextureSize=n}d.setValue(at,"boneTexture",t.boneTexture,Z),d.setValue(at,"boneTextureSize",t.boneTextureSize)}else d.setOptional(at,t,"boneMatrices")}}var m,b;return(I||a.receiveShadow!==i.receiveShadow)&&(a.receiveShadow=i.receiveShadow,d.setValue(at,"receiveShadow",i.receiveShadow)),I&&(d.setValue(at,"toneMappingExposure",l.toneMappingExposure),a.needsLights&&(b=u,(m=p).ambientLightColor.needsUpdate=b,m.lightProbe.needsUpdate=b,m.directionalLights.needsUpdate=b,m.directionalLightShadows.needsUpdate=b,m.pointLights.needsUpdate=b,m.pointLightShadows.needsUpdate=b,m.spotLights.needsUpdate=b,m.spotLightShadows.needsUpdate=b,m.rectAreaLights.needsUpdate=b,m.hemisphereLights.needsUpdate=b),r&&n.fog&&Q.refreshFogUniforms(p,r),Q.refreshMaterialUniforms(p,n,M,E),ky.upload(at,a.uniformsList,p,Z)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(ky.upload(at,a.uniformsList,p,Z),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&d.setValue(at,"center",i.center),d.setValue(at,"modelViewMatrix",i.modelViewMatrix),d.setValue(at,"normalMatrix",i.normalMatrix),d.setValue(at,"modelMatrix",i.matrixWorld),h}ft.setAnimationLoop((function(t){It.isPresenting||pt&&pt(t)})),"undefined"!=typeof window&&ft.setContext(window),this.setAnimationLoop=function(t){pt=t,It.setAnimationLoop(t),null===t?ft.stop():ft.start()},this.render=function(t,e){let n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===u)return;st.resetDefaultState(),v=-1,y=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===It.enabled&&!0===It.isPresenting&&(e=It.getCamera(e)),!0===t.isScene&&t.onBeforeRender(l,t,e,n||f),c=tt.get(t,e),c.init(),j.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),N.setFromProjectionMatrix(j),k=this.localClippingEnabled,D=et.init(this.clippingPlanes,k,e),I=$.get(t,e),I.init(),mt(t,e,0,l.sortObjects),I.finish(),!0===l.sortObjects&&I.sort(T,R),!0===D&&et.beginShadows();const r=c.state.shadowsArray;ct.render(r,t,e),c.setupLights(e),!0===D&&et.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),nt.render(I,t,e,i);const o=I.opaque,g=I.transparent;o.length>0&&vt(o,t,e),g.length>0&&vt(g,t,e),!0===t.isScene&&t.onAfterRender(l,t,e),null!==f&&(Z.updateRenderTargetMipmap(f),Z.updateMultisampleRenderTarget(f)),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1),I=null,c=null},this.setFramebuffer=function(t){h!==t&&null===f&&at.bindFramebuffer(36160,t),h=t},this.getActiveCubeFace=function(){return d},this.getActiveMipmapLevel=function(){return p},this.getRenderList=function(){return I},this.setRenderList=function(t){I=t},this.getRenderState=function(){return c},this.setRenderState=function(t){c=t},this.getRenderTarget=function(){return f},this.setRenderTarget=function(t,e=0,n=0){f=t,d=e,p=n,t&&void 0===V.get(t).__webglFramebuffer&&Z.setupRenderTarget(t);let i=h,r=!1;if(t){const n=V.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=n[e],r=!0):i=t.isWebGLMultisampleRenderTarget?V.get(t).__webglMultisampledFramebuffer:n,_.copy(t.viewport),w.copy(t.scissor),x=t.scissorTest}else _.copy(O).multiplyScalar(M).floor(),w.copy(L).multiplyScalar(M).floor(),x=P;if(m!==i&&(at.bindFramebuffer(36160,i),m=i),G.viewport(_),G.scissor(w),G.setScissorTest(x),r){const i=V.get(t.texture);at.framebufferTexture2D(36160,36064,34069+e,i.__webglTexture,n)}},this.readRenderTargetPixels=function(t,e,n,i,r,o,g){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=V.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==g&&(s=s[g]),s){let g=!1;s!==m&&(at.bindFramebuffer(36160,s),g=!0);try{const s=t.texture,a=s.format,A=s.type;if(a!==cp&&gt.convert(a)!==at.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(1009===A||gt.convert(A)===at.getParameter(35738)||A===ap&&(H.isWebGL2||U.get("OES_texture_float")||U.get("WEBGL_color_buffer_float"))||A===Ap&&(H.isWebGL2?U.get("EXT_color_buffer_float"):U.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===at.checkFramebufferStatus(36160)?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&at.readPixels(e,n,i,r,gt.convert(a),gt.convert(A),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{g&&at.bindFramebuffer(36160,m)}}},this.copyFramebufferToTexture=function(t,e,n=0){const i=Math.pow(2,-n),r=Math.floor(e.image.width*i),o=Math.floor(e.image.height*i),g=gt.convert(e.format);Z.setTexture2D(e,0),at.copyTexImage2D(3553,n,g,t.x,t.y,r,o,0),G.unbindTexture()},this.copyTextureToTexture=function(t,e,n,i=0){const r=e.image.width,o=e.image.height,g=gt.convert(n.format),s=gt.convert(n.type);Z.setTexture2D(n,0),at.pixelStorei(37440,n.flipY),at.pixelStorei(37441,n.premultiplyAlpha),at.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?at.texSubImage2D(3553,i,t.x,t.y,r,o,g,s,e.image.data):e.isCompressedTexture?at.compressedTexSubImage2D(3553,i,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,g,e.mipmaps[0].data):at.texSubImage2D(3553,i,t.x,t.y,g,s,e.image),0===i&&n.generateMipmaps&&at.generateMipmap(3553),G.unbindTexture()},this.initTexture=function(t){Z.setTexture2D(t,0),G.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Eb(t){Sb.call(this,t)}hb.prototype=Object.create(cm.prototype),hb.prototype.constructor=hb,hb.prototype.isMeshDepthMaterial=!0,hb.prototype.copy=function(t){return cm.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},db.prototype=Object.create(cm.prototype),db.prototype.constructor=db,db.prototype.isMeshDistanceMaterial=!0,db.prototype.copy=function(t){return cm.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},yb.prototype=Object.assign(Object.create(Iv.prototype),{constructor:yb,isArrayCamera:!0}),bb.prototype=Object.assign(Object.create(Uf.prototype),{constructor:bb,isGroup:!0}),Object.assign(_b.prototype,{constructor:_b,getHandSpace:function(){if(null===this._hand&&(this._hand=new bb,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let t=0;t<=window.XRHand.LITTLE_PHALANX_TIP;t++){const t=new bb;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new bb,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new bb,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(t,e,n){let i=null,r=null,o=null;const g=this._targetRay,s=this._grip,a=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(a&&t.hand){o=!0;for(let i=0;i<=window.XRHand.LITTLE_PHALANX_TIP;i++)if(t.hand[i]){const r=e.getJointPose(t.hand[i],n),o=a.joints[i];null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.jointRadius=r.radius),o.visible=null!==r;const g=a.joints[window.XRHand.INDEX_PHALANX_TIP],s=a.joints[window.XRHand.THUMB_PHALANX_TIP],A=g.position.distanceTo(s.position),C=.02,I=.005;a.inputState.pinching&&A>C+I?(a.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!a.inputState.pinching&&A<=C-I&&(a.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}}else null!==g&&(i=e.getPose(t.targetRaySpace,n),null!==i&&(g.matrix.fromArray(i.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale))),null!==s&&t.gripSpace&&(r=e.getPose(t.gripSpace,n),null!==r&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale)));return null!==g&&(g.visible=null!==i),null!==s&&(s.visible=null!==r),null!==a&&(a.visible=null!==o),this}}),Object.assign(wb.prototype,Sp.prototype),Eb.prototype=Object.assign(Object.create(Sb.prototype),{constructor:Eb,isWebGL1Renderer:!0});class Mb extends Uf{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.environment&&(e.object.environment=this.environment.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}function Tb(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=_p,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Tp.generateUUID()}Object.defineProperty(Tb.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Tb.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(let i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e=0){return this.array.set(t,e),this},clone:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Tp.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new Tb(new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),this.stride);return e.setUsage(this.usage),e},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Tp.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const Rb=new Up;function Ob(t,e,n,i){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}function Lb(t){cm.call(this),this.type="SpriteMaterial",this.color=new Am(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}let Pb;Object.defineProperties(Ob.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}}),Object.assign(Ob.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(let e=0,n=this.data.count;e<n;e++)Rb.x=this.getX(e),Rb.y=this.getY(e),Rb.z=this.getZ(e),Rb.applyMatrix4(t),this.setXYZ(e,Rb.x,Rb.y,Rb.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this},clone:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new dm(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Ob(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),Lb.prototype=Object.create(cm.prototype),Lb.prototype.constructor=Lb,Lb.prototype.isSpriteMaterial=!0,Lb.prototype.copy=function(t){return cm.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};const Nb=new Up,Db=new Up,kb=new Up,jb=new Rp,Fb=new Rp,Bb=new df,zb=new Up,Ub=new Up,Hb=new Up,Gb=new Rp,Wb=new Rp,Vb=new Rp;function Zb(t){if(Uf.call(this),this.type="Sprite",void 0===Pb){Pb=new Fm;const t=new Tb(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Pb.setIndex([0,1,2,0,2,3]),Pb.setAttribute("position",new Ob(t,3,0,!1)),Pb.setAttribute("uv",new Ob(t,2,3,!1))}this.geometry=Pb,this.material=void 0!==t?t:new Lb,this.center=new Rp(.5,.5)}function Yb(t,e,n,i,r,o){jb.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(Fb.x=o*jb.x-r*jb.y,Fb.y=r*jb.x+o*jb.y):Fb.copy(jb),t.copy(e),t.x+=Fb.x,t.y+=Fb.y,t.applyMatrix4(Bb)}Zb.prototype=Object.assign(Object.create(Uf.prototype),{constructor:Zb,isSprite:!0,raycast:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Db.setFromMatrixScale(this.matrixWorld),Bb.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),kb.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Db.multiplyScalar(-kb.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const o=this.center;Yb(zb.set(-.5,-.5,0),kb,o,Db,i,r),Yb(Ub.set(.5,-.5,0),kb,o,Db,i,r),Yb(Hb.set(.5,.5,0),kb,o,Db,i,r),Gb.set(0,0),Wb.set(1,0),Vb.set(1,1);let g=t.ray.intersectTriangle(zb,Ub,Hb,!1,Nb);if(null===g&&(Yb(Ub.set(-.5,.5,0),kb,o,Db,i,r),Wb.set(0,1),g=t.ray.intersectTriangle(zb,Hb,Ub,!1,Nb),null===g))return;const s=t.ray.origin.distanceTo(Nb);s<t.near||s>t.far||e.push({distance:s,point:Nb.clone(),uv:nm.getUV(Nb,zb,Ub,Hb,Gb,Wb,Vb,new Rp),face:null,object:this})},copy:function(t){return Uf.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}});const Xb=new Up,Jb=new Up;function qb(){Uf.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function Kb(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),nv.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new df,this.bindMatrixInverse=new df}function Qb(){Uf.call(this),this.type="Bone"}qb.prototype=Object.assign(Object.create(Uf.prototype),{constructor:qb,isLOD:!0,copy:function(t){Uf.prototype.copy.call(this,t,!1);const e=t.levels;for(let t=0,n=e.length;t<n;t++){const n=e[t];this.addLevel(n.object.clone(),n.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e=0){e=Math.abs(e);const n=this.levels;let i;for(i=0;i<n.length&&!(e<n[i].distance);i++);return n.splice(i,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){const e=this.levels;if(e.length>0){let n,i;for(n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object}return null},raycast:function(t,e){if(this.levels.length>0){Xb.setFromMatrixPosition(this.matrixWorld);const n=t.ray.origin.distanceTo(Xb);this.getObjectForDistance(n).raycast(t,e)}},update:function(t){const e=this.levels;if(e.length>1){Xb.setFromMatrixPosition(t.matrixWorld),Jb.setFromMatrixPosition(this.matrixWorld);const n=Xb.distanceTo(Jb)/t.zoom;let i,r;for(e[0].object.visible=!0,i=1,r=e.length;i<r&&n>=e[i].distance;i++)e[i-1].object.visible=!1,e[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)e[i].object.visible=!1}},toJSON:function(t){const e=Uf.prototype.toJSON.call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let t=0,i=n.length;t<i;t++){const i=n[t];e.object.levels.push({object:i.object.uuid,distance:i.distance})}return e}}),Kb.prototype=Object.assign(Object.create(nv.prototype),{constructor:Kb,isSkinnedMesh:!0,copy:function(t){return nv.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const t=new jp,e=this.geometry.attributes.skinWeight;for(let n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);const i=1/t.manhattanLength();i!==1/0?t.multiplyScalar(i):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){nv.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const t=new Up,e=new jp,n=new jp,i=new Up,r=new df;return function(o,g){const s=this.skeleton,a=this.geometry;e.fromBufferAttribute(a.attributes.skinIndex,o),n.fromBufferAttribute(a.attributes.skinWeight,o),t.fromBufferAttribute(a.attributes.position,o).applyMatrix4(this.bindMatrix),g.set(0,0,0);for(let o=0;o<4;o++){const a=n.getComponent(o);if(0!==a){const n=e.getComponent(o);r.multiplyMatrices(s.bones[n].matrixWorld,s.boneInverses[n]),g.addScaledVector(i.copy(t).applyMatrix4(r),a)}}return g.applyMatrix4(this.bindMatrixInverse)}}()}),Qb.prototype=Object.assign(Object.create(Uf.prototype),{constructor:Qb,isBone:!0});const $b=new df,t_=new df;function e_(t=[],e=[]){this.uuid=Tp.generateUUID(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(e_.prototype,{init:function(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new df)}},calculateInverses:function(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new df;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}},pose:function(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}},update:function(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let i=0,r=t.length;i<r;i++){const r=t[i]?t[i].matrixWorld:t_;$b.multiplyMatrices(r,e[i]),$b.toArray(n,16*i)}null!==i&&(i.needsUpdate=!0)},clone:function(){return new e_(this.bones,this.boneInverses)},getBoneByName:function(t){for(let e=0,n=this.bones.length;e<n;e++){const n=this.bones[e];if(n.name===t)return n}},dispose:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(t,e){this.uuid=t.uuid;for(let n=0,i=t.bones.length;n<i;n++){const i=t.bones[n];let r=e[i];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),r=new Qb),this.bones.push(r),this.boneInverses.push((new df).fromArray(t.boneInverses[n]))}return this.init(),this},toJSON:function(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let i=0,r=e.length;i<r;i++){const r=e[i];t.bones.push(r.uuid);const o=n[i];t.boneInverses.push(o.toArray())}return t}});const n_=new df,i_=new df,r_=[],o_=new nv;function g_(t,e,n){nv.call(this,t,e),this.instanceMatrix=new dm(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function s_(t){cm.call(this),this.type="LineBasicMaterial",this.color=new Am(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}g_.prototype=Object.assign(Object.create(nv.prototype),{constructor:g_,isInstancedMesh:!0,copy:function(t){return nv.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),this.count=t.count,this},getColorAt:function(t,e){e.fromArray(this.instanceColor.array,3*t)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){const n=this.matrixWorld,i=this.count;if(o_.geometry=this.geometry,o_.material=this.material,void 0!==o_.material)for(let r=0;r<i;r++){this.getMatrixAt(r,n_),i_.multiplyMatrices(n,n_),o_.matrixWorld=i_,o_.raycast(t,r_);for(let t=0,n=r_.length;t<n;t++){const n=r_[t];n.instanceId=r,n.object=this,e.push(n)}r_.length=0}},setColorAt:function(t,e){null===this.instanceColor&&(this.instanceColor=new dm(new Float32Array(3*this.count),3)),e.toArray(this.instanceColor.array,3*t)},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){}}),s_.prototype=Object.create(cm.prototype),s_.prototype.constructor=s_,s_.prototype.isLineBasicMaterial=!0,s_.prototype.copy=function(t){return cm.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};const a_=new Up,A_=new Up,C_=new df,I_=new hf,c_=new sf;function l_(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Uf.call(this),this.type="Line",this.geometry=void 0!==t?t:new Fm,this.material=void 0!==e?e:new s_,this.updateMorphTargets()}l_.prototype=Object.assign(Object.create(Uf.prototype),{constructor:l_,isLine:!0,copy:function(t){return Uf.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,i=e.count;t<i;t++)a_.fromBufferAttribute(e,t-1),A_.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=a_.distanceTo(A_);t.setAttribute("lineDistance",new xm(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,n=t.lineDistances;n[0]=0;for(let t=1,i=e.length;t<i;t++)n[t]=n[t-1],n[t]+=e[t-1].distanceTo(e[t])}return this},raycast:function(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),c_.copy(n.boundingSphere),c_.applyMatrix4(i),c_.radius+=r,!1===t.ray.intersectsSphere(c_))return;C_.copy(i).invert(),I_.copy(t.ray).applyMatrix4(C_);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),g=o*o,s=new Up,a=new Up,A=new Up,C=new Up,I=this.isLineSegments?2:1;if(n.isBufferGeometry){const i=n.index,r=n.attributes.position;if(null!==i){const n=i.array;for(let i=0,o=n.length-1;i<o;i+=I){const o=n[i],I=n[i+1];if(s.fromBufferAttribute(r,o),a.fromBufferAttribute(r,I),I_.distanceSqToSegment(s,a,C,A)>g)continue;C.applyMatrix4(this.matrixWorld);const c=t.ray.origin.distanceTo(C);c<t.near||c>t.far||e.push({distance:c,point:A.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else for(let n=0,i=r.count-1;n<i;n+=I){if(s.fromBufferAttribute(r,n),a.fromBufferAttribute(r,n+1),I_.distanceSqToSegment(s,a,C,A)>g)continue;C.applyMatrix4(this.matrixWorld);const i=t.ray.origin.distanceTo(C);i<t.near||i>t.far||e.push({distance:i,point:A.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const i=n.vertices,r=i.length;for(let n=0;n<r-1;n+=I){if(I_.distanceSqToSegment(i[n],i[n+1],C,A)>g)continue;C.applyMatrix4(this.matrixWorld);const r=t.ray.origin.distanceTo(C);r<t.near||r>t.far||e.push({distance:r,point:A.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const u_=new Up,h_=new Up;function d_(t,e){l_.call(this,t,e),this.type="LineSegments"}function p_(t,e){l_.call(this,t,e),this.type="LineLoop"}function f_(t){cm.call(this),this.type="PointsMaterial",this.color=new Am(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}d_.prototype=Object.assign(Object.create(l_.prototype),{constructor:d_,isLineSegments:!0,computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[];for(let t=0,i=e.count;t<i;t+=2)u_.fromBufferAttribute(e,t),h_.fromBufferAttribute(e,t+1),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+u_.distanceTo(h_);t.setAttribute("lineDistance",new xm(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,n=t.lineDistances;for(let t=0,i=e.length;t<i;t+=2)u_.copy(e[t]),h_.copy(e[t+1]),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+u_.distanceTo(h_)}return this}}),p_.prototype=Object.assign(Object.create(l_.prototype),{constructor:p_,isLineLoop:!0}),f_.prototype=Object.create(cm.prototype),f_.prototype.constructor=f_,f_.prototype.isPointsMaterial=!0,f_.prototype.copy=function(t){return cm.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};const m_=new df,v_=new hf,y_=new sf,b_=new Up;function __(t,e){Uf.call(this),this.type="Points",this.geometry=void 0!==t?t:new Fm,this.material=void 0!==e?e:new f_,this.updateMorphTargets()}function w_(t,e,n,i,r,o,g){const s=v_.distanceSqToPoint(t);if(s<n){const n=new Up;v_.closestPointToPoint(t,n),n.applyMatrix4(i);const a=r.ray.origin.distanceTo(n);if(a<r.near||a>r.far)return;o.push({distance:a,distanceToRay:Math.sqrt(s),point:n,index:e,face:null,object:g})}}function x_(t,e,n,i,r,o,g,s,a){Dp.call(this,t,e,n,i,r,o,g,s,a),this.format=void 0!==g?g:Ip,this.minFilter=void 0!==o?o:rp,this.magFilter=void 0!==r?r:rp,this.generateMipmaps=!1;const A=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback((function e(){A.needsUpdate=!0,t.requestVideoFrameCallback(e)}))}function S_(t,e,n,i,r,o,g,s,a,A,C,I){Dp.call(this,null,o,g,s,a,A,i,r,C,I),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function E_(t,e,n,i,r,o,g,s,a){Dp.call(this,t,e,n,i,r,o,g,s,a),this.needsUpdate=!0}function M_(t,e,n,i,r,o,g,s,a,A){if((A=void 0!==A?A:lp)!==lp&&A!==up)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&A===lp&&(n=gp),void 0===n&&A===up&&(n=Cp),Dp.call(this,null,i,r,o,g,s,A,n,a),this.image={width:t,height:e},this.magFilter=void 0!==g?g:ip,this.minFilter=void 0!==s?s:ip,this.flipY=!1,this.generateMipmaps=!1}__.prototype=Object.assign(Object.create(Uf.prototype),{constructor:__,isPoints:!0,copy:function(t){return Uf.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),y_.copy(n.boundingSphere),y_.applyMatrix4(i),y_.radius+=r,!1===t.ray.intersectsSphere(y_))return;m_.copy(i).invert(),v_.copy(t.ray).applyMatrix4(m_);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),g=o*o;if(n.isBufferGeometry){const r=n.index,o=n.attributes.position;if(null!==r){const n=r.array;for(let r=0,s=n.length;r<s;r++){const s=n[r];b_.fromBufferAttribute(o,s),w_(b_,s,g,i,t,e,this)}}else for(let n=0,r=o.count;n<r;n++)b_.fromBufferAttribute(o,n),w_(b_,n,g,i,t,e,this)}else{const r=n.vertices;for(let n=0,o=r.length;n<o;n++)w_(r[n],n,g,i,t,e,this)}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),x_.prototype=Object.assign(Object.create(Dp.prototype),{constructor:x_,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){const t=this.image;!1=="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),S_.prototype=Object.create(Dp.prototype),S_.prototype.constructor=S_,S_.prototype.isCompressedTexture=!0,E_.prototype=Object.create(Dp.prototype),E_.prototype.constructor=E_,E_.prototype.isCanvasTexture=!0,M_.prototype=Object.create(Dp.prototype),M_.prototype.constructor=M_,M_.prototype.isDepthTexture=!0;let T_=0;const R_=new df,O_=new Uf,L_=new Up;function P_(){Object.defineProperty(this,"id",{value:T_+=2}),this.uuid=Tp.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}P_.prototype=Object.assign(Object.create(Sp.prototype),{constructor:P_,isGeometry:!0,applyMatrix4:function(t){const e=(new Op).getNormalMatrix(t);for(let e=0,n=this.vertices.length;e<n;e++)this.vertices[e].applyMatrix4(t);for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t];n.normal.applyMatrix3(e).normalize();for(let t=0,i=n.vertexNormals.length;t<i;t++)n.vertexNormals[t].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return R_.makeRotationX(t),this.applyMatrix4(R_),this},rotateY:function(t){return R_.makeRotationY(t),this.applyMatrix4(R_),this},rotateZ:function(t){return R_.makeRotationZ(t),this.applyMatrix4(R_),this},translate:function(t,e,n){return R_.makeTranslation(t,e,n),this.applyMatrix4(R_),this},scale:function(t,e,n){return R_.makeScale(t,e,n),this.applyMatrix4(R_),this},lookAt:function(t){return O_.lookAt(t),O_.updateMatrix(),this.applyMatrix4(O_.matrix),this},fromBufferGeometry:function(t){const e=this,n=null!==t.index?t.index:void 0,i=t.attributes;if(void 0===i.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const r=i.position,o=i.normal,g=i.color,s=i.uv,a=i.uv2;void 0!==a&&(this.faceVertexUvs[1]=[]);for(let t=0;t<r.count;t++)e.vertices.push((new Up).fromBufferAttribute(r,t)),void 0!==g&&e.colors.push((new Am).fromBufferAttribute(g,t));function A(t,n,i,r){const A=void 0===g?[]:[e.colors[t].clone(),e.colors[n].clone(),e.colors[i].clone()],C=void 0===o?[]:[(new Up).fromBufferAttribute(o,t),(new Up).fromBufferAttribute(o,n),(new Up).fromBufferAttribute(o,i)],I=new Cm(t,n,i,C,A,r);e.faces.push(I),void 0!==s&&e.faceVertexUvs[0].push([(new Rp).fromBufferAttribute(s,t),(new Rp).fromBufferAttribute(s,n),(new Rp).fromBufferAttribute(s,i)]),void 0!==a&&e.faceVertexUvs[1].push([(new Rp).fromBufferAttribute(a,t),(new Rp).fromBufferAttribute(a,n),(new Rp).fromBufferAttribute(a,i)])}const C=t.groups;if(C.length>0)for(let t=0;t<C.length;t++){const e=C[t],i=e.start;for(let t=i,r=i+e.count;t<r;t+=3)void 0!==n?A(n.getX(t),n.getX(t+1),n.getX(t+2),e.materialIndex):A(t,t+1,t+2,e.materialIndex)}else if(void 0!==n)for(let t=0;t<n.count;t+=3)A(n.getX(t),n.getX(t+1),n.getX(t+2));else for(let t=0;t<r.count;t+=3)A(t,t+1,t+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(L_).negate(),this.translate(L_.x,L_.y,L_.z),this},normalize:function(){this.computeBoundingSphere();const t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,i=new df;return i.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const t=new Up,e=new Up;for(let n=0,i=this.faces.length;n<i;n++){const i=this.faces[n],r=this.vertices[i.a],o=this.vertices[i.b],g=this.vertices[i.c];t.subVectors(g,o),e.subVectors(r,o),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t=!0){const e=new Array(this.vertices.length);for(let t=0,n=this.vertices.length;t<n;t++)e[t]=new Up;if(t){const t=new Up,n=new Up;for(let i=0,r=this.faces.length;i<r;i++){const r=this.faces[i],o=this.vertices[r.a],g=this.vertices[r.b],s=this.vertices[r.c];t.subVectors(s,g),n.subVectors(o,g),t.cross(n),e[r.a].add(t),e[r.b].add(t),e[r.c].add(t)}}else{this.computeFaceNormals();for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t];e[n.a].add(n.normal),e[n.b].add(n.normal),e[n.c].add(n.normal)}}for(let t=0,n=this.vertices.length;t<n;t++)e[t].normalize();for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t],i=n.vertexNormals;3===i.length?(i[0].copy(e[n.a]),i[1].copy(e[n.b]),i[2].copy(e[n.c])):(i[0]=e[n.a].clone(),i[1]=e[n.b].clone(),i[2]=e[n.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t],n=e.vertexNormals;3===n.length?(n[0].copy(e.normal),n[1].copy(e.normal),n[2].copy(e.normal)):(n[0]=e.normal.clone(),n[1]=e.normal.clone(),n[2]=e.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):e.__originalFaceNormal=e.normal.clone(),e.__originalVertexNormals||(e.__originalVertexNormals=[]);for(let t=0,n=e.vertexNormals.length;t<n;t++)e.__originalVertexNormals[t]?e.__originalVertexNormals[t].copy(e.vertexNormals[t]):e.__originalVertexNormals[t]=e.vertexNormals[t].clone()}const t=new P_;t.faces=this.faces;for(let e=0,n=this.morphTargets.length;e<n;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];const t=this.morphNormals[e].faceNormals,n=this.morphNormals[e].vertexNormals;for(let e=0,i=this.faces.length;e<i;e++){const e=new Up,i={a:new Up,b:new Up,c:new Up};t.push(e),n.push(i)}}const n=this.morphNormals[e];t.vertices=this.morphTargets[e].vertices,t.computeFaceNormals(),t.computeVertexNormals();for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t],i=n.faceNormals[t],r=n.vertexNormals[t];i.copy(e.normal),r.a.copy(e.vertexNormals[0]),r.b.copy(e.vertexNormals[1]),r.c.copy(e.vertexNormals[2])}}for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.normal=e.__originalFaceNormal,e.vertexNormals=e.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Wp),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new sf),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n=0){if(!t||!t.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);let i;const r=this.vertices.length,o=this.vertices,g=t.vertices,s=this.faces,a=t.faces,A=this.colors,C=t.colors;void 0!==e&&(i=(new Op).getNormalMatrix(e));for(let t=0,n=g.length;t<n;t++){const n=g[t].clone();void 0!==e&&n.applyMatrix4(e),o.push(n)}for(let t=0,e=C.length;t<e;t++)A.push(C[t].clone());for(let t=0,e=a.length;t<e;t++){const e=a[t];let o,g;const A=e.vertexNormals,C=e.vertexColors,I=new Cm(e.a+r,e.b+r,e.c+r);I.normal.copy(e.normal),void 0!==i&&I.normal.applyMatrix3(i).normalize();for(let t=0,e=A.length;t<e;t++)o=A[t].clone(),void 0!==i&&o.applyMatrix3(i).normalize(),I.vertexNormals.push(o);I.color.copy(e.color);for(let t=0,e=C.length;t<e;t++)g=C[t],I.vertexColors.push(g.clone());I.materialIndex=e.materialIndex+n,s.push(I)}for(let e=0,n=t.faceVertexUvs.length;e<n;e++){const n=t.faceVertexUvs[e];void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]);for(let t=0,i=n.length;t<i;t++){const i=n[t],r=[];for(let t=0,e=i.length;t<e;t++)r.push(i[t].clone());this.faceVertexUvs[e].push(r)}}},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(t=4){const e={},n=[],i=[],r=Math.pow(10,t);for(let t=0,o=this.vertices.length;t<o;t++){const o=this.vertices[t],g=Math.round(o.x*r)+"_"+Math.round(o.y*r)+"_"+Math.round(o.z*r);void 0===e[g]?(e[g]=t,n.push(this.vertices[t]),i[t]=n.length-1):i[t]=i[e[g]]}const o=[];for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.a=i[e.a],e.b=i[e.b],e.c=i[e.c];const n=[e.a,e.b,e.c];for(let e=0;e<3;e++)if(n[e]===n[(e+1)%3]){o.push(t);break}}for(let t=o.length-1;t>=0;t--){const e=o[t];this.faces.splice(e,1);for(let t=0,n=this.faceVertexUvs.length;t<n;t++)this.faceVertexUvs[t].splice(e,1)}const g=this.vertices.length-n.length;return this.vertices=n,g},setFromPoints:function(t){this.vertices=[];for(let e=0,n=t.length;e<n;e++){const n=t[e];this.vertices.push(new Up(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){const t=this.faces,e=t.length;for(let n=0;n<e;n++)t[n]._id=n;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));const n=this.faceVertexUvs[0],i=this.faceVertexUvs[1];let r,o;n&&n.length===e&&(r=[]),i&&i.length===e&&(o=[]);for(let g=0;g<e;g++){const e=t[g]._id;r&&r.push(n[e]),o&&o.push(i[e])}r&&(this.faceVertexUvs[0]=r),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){const t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}const e=[];for(let t=0;t<this.vertices.length;t++){const n=this.vertices[t];e.push(n.x,n.y,n.z)}const n=[],i=[],r={},o=[],g={},s=[],a={};for(let t=0;t<this.faces.length;t++){const e=this.faces[t],i=!0,r=!1,o=void 0!==this.faceVertexUvs[0][t],g=e.normal.length()>0,s=e.vertexNormals.length>0,a=1!==e.color.r||1!==e.color.g||1!==e.color.b,l=e.vertexColors.length>0;let u=0;if(u=A(u,0,0),u=A(u,1,i),u=A(u,2,r),u=A(u,3,o),u=A(u,4,g),u=A(u,5,s),u=A(u,6,a),u=A(u,7,l),n.push(u),n.push(e.a,e.b,e.c),n.push(e.materialIndex),o){const e=this.faceVertexUvs[0][t];n.push(c(e[0]),c(e[1]),c(e[2]))}if(g&&n.push(C(e.normal)),s){const t=e.vertexNormals;n.push(C(t[0]),C(t[1]),C(t[2]))}if(a&&n.push(I(e.color)),l){const t=e.vertexColors;n.push(I(t[0]),I(t[1]),I(t[2]))}}function A(t,e,n){return n?t|1<<e:t&~(1<<e)}function C(t){const e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==r[e]||(r[e]=i.length/3,i.push(t.x,t.y,t.z)),r[e]}function I(t){const e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==g[e]||(g[e]=o.length,o.push(t.getHex())),g[e]}function c(t){const e=t.x.toString()+t.y.toString();return void 0!==a[e]||(a[e]=s.length/2,s.push(t.x,t.y)),a[e]}return t.data={},t.data.vertices=e,t.data.normals=i,o.length>0&&(t.data.colors=o),s.length>0&&(t.data.uvs=[s]),t.data.faces=n,t},clone:function(){return(new P_).copy(this)},copy:function(t){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;const e=t.vertices;for(let t=0,n=e.length;t<n;t++)this.vertices.push(e[t].clone());const n=t.colors;for(let t=0,e=n.length;t<e;t++)this.colors.push(n[t].clone());const i=t.faces;for(let t=0,e=i.length;t<e;t++)this.faces.push(i[t].clone());for(let e=0,n=t.faceVertexUvs.length;e<n;e++){const n=t.faceVertexUvs[e];void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]);for(let t=0,i=n.length;t<i;t++){const i=n[t],r=[];for(let t=0,e=i.length;t<e;t++){const e=i[t];r.push(e.clone())}this.faceVertexUvs[e].push(r)}}const r=t.morphTargets;for(let t=0,e=r.length;t<e;t++){const e={};if(e.name=r[t].name,void 0!==r[t].vertices){e.vertices=[];for(let n=0,i=r[t].vertices.length;n<i;n++)e.vertices.push(r[t].vertices[n].clone())}if(void 0!==r[t].normals){e.normals=[];for(let n=0,i=r[t].normals.length;n<i;n++)e.normals.push(r[t].normals[n].clone())}this.morphTargets.push(e)}const o=t.morphNormals;for(let t=0,e=o.length;t<e;t++){const e={};if(void 0!==o[t].vertexNormals){e.vertexNormals=[];for(let n=0,i=o[t].vertexNormals.length;n<i;n++){const i=o[t].vertexNormals[n],r={};r.a=i.a.clone(),r.b=i.b.clone(),r.c=i.c.clone(),e.vertexNormals.push(r)}}if(void 0!==o[t].faceNormals){e.faceNormals=[];for(let n=0,i=o[t].faceNormals.length;n<i;n++)e.faceNormals.push(o[t].faceNormals[n].clone())}this.morphNormals.push(e)}const g=t.skinWeights;for(let t=0,e=g.length;t<e;t++)this.skinWeights.push(g[t].clone());const s=t.skinIndices;for(let t=0,e=s.length;t<e;t++)this.skinIndices.push(s[t].clone());const a=t.lineDistances;for(let t=0,e=a.length;t<e;t++)this.lineDistances.push(a[t]);const A=t.boundingBox;null!==A&&(this.boundingBox=A.clone());const C=t.boundingSphere;return null!==C&&(this.boundingSphere=C.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class N_ extends P_{constructor(t,e,n,i,r,o){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o},this.fromBufferGeometry(new ov(t,e,n,i,r,o)),this.mergeVertices()}}new Up,new Up,new Up,new nm;function D_(t,e,n,i,r){let o,g;if(r===function(t,e,n,i){let r=0;for(let o=e,g=n-i;o<n;o+=i)r+=(t[g]-t[o])*(t[o+1]+t[g+1]),g=o;return r}(t,e,n,i)>0)for(o=e;o<n;o+=i)g=nw(o,t[o],t[o+1],g);else for(o=n-i;o>=e;o-=i)g=nw(o,t[o],t[o+1],g);return g&&q_(g,g.next)&&(iw(g),g=g.next),g}function k_(t,e){if(!t)return t;e||(e=t);let n,i=t;do{if(n=!1,i.steiner||!q_(i,i.next)&&0!==J_(i.prev,i,i.next))i=i.next;else{if(iw(i),i=e=i.prev,i===i.next)break;n=!0}}while(n||i!==e);return e}function j_(t,e,n,i,r,o,g){if(!t)return;!g&&o&&function(t,e,n,i){let r=t;do{null===r.z&&(r.z=V_(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){let e,n,i,r,o,g,s,a,A=1;do{for(n=t,t=null,o=null,g=0;n;){for(g++,i=n,s=0,e=0;e<A&&(s++,i=i.nextZ,i);e++);for(a=A;s>0||a>0&&i;)0!==s&&(0===a||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,a--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,A*=2}while(g>1)}(r)}(t,i,r,o);let s,a,A=t;for(;t.prev!==t.next;)if(s=t.prev,a=t.next,o?B_(t,i,r,o):F_(t))e.push(s.i/n),e.push(t.i/n),e.push(a.i/n),iw(t),t=a.next,A=a.next;else if((t=a)===A){g?1===g?j_(t=z_(k_(t),e,n),e,n,i,r,o,2):2===g&&U_(t,e,n,i,r,o):j_(k_(t),e,n,i,r,o,1);break}}function F_(t){const e=t.prev,n=t,i=t.next;if(J_(e,n,i)>=0)return!1;let r=t.next.next;for(;r!==t.prev;){if(Y_(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&J_(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function B_(t,e,n,i){const r=t.prev,o=t,g=t.next;if(J_(r,o,g)>=0)return!1;const s=r.x<o.x?r.x<g.x?r.x:g.x:o.x<g.x?o.x:g.x,a=r.y<o.y?r.y<g.y?r.y:g.y:o.y<g.y?o.y:g.y,A=r.x>o.x?r.x>g.x?r.x:g.x:o.x>g.x?o.x:g.x,C=r.y>o.y?r.y>g.y?r.y:g.y:o.y>g.y?o.y:g.y,I=V_(s,a,e,n,i),c=V_(A,C,e,n,i);let l=t.prevZ,u=t.nextZ;for(;l&&l.z>=I&&u&&u.z<=c;){if(l!==t.prev&&l!==t.next&&Y_(r.x,r.y,o.x,o.y,g.x,g.y,l.x,l.y)&&J_(l.prev,l,l.next)>=0)return!1;if(l=l.prevZ,u!==t.prev&&u!==t.next&&Y_(r.x,r.y,o.x,o.y,g.x,g.y,u.x,u.y)&&J_(u.prev,u,u.next)>=0)return!1;u=u.nextZ}for(;l&&l.z>=I;){if(l!==t.prev&&l!==t.next&&Y_(r.x,r.y,o.x,o.y,g.x,g.y,l.x,l.y)&&J_(l.prev,l,l.next)>=0)return!1;l=l.prevZ}for(;u&&u.z<=c;){if(u!==t.prev&&u!==t.next&&Y_(r.x,r.y,o.x,o.y,g.x,g.y,u.x,u.y)&&J_(u.prev,u,u.next)>=0)return!1;u=u.nextZ}return!0}function z_(t,e,n){let i=t;do{const r=i.prev,o=i.next.next;!q_(r,o)&&K_(r,i,i.next,o)&&tw(r,o)&&tw(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),iw(i),iw(i.next),i=t=o),i=i.next}while(i!==t);return k_(i)}function U_(t,e,n,i,r,o){let g=t;do{let t=g.next.next;for(;t!==g.prev;){if(g.i!==t.i&&X_(g,t)){let s=ew(g,t);return g=k_(g,g.next),s=k_(s,s.next),j_(g,e,n,i,r,o),void j_(s,e,n,i,r,o)}t=t.next}g=g.next}while(g!==t)}function H_(t,e){return t.x-e.x}function G_(t,e){if(e=function(t,e){let n=e;const i=t.x,r=t.y;let o,g=-1/0;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const t=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=i&&t>g){if(g=t,t===i){if(r===n.y)return n;if(r===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!o)return null;if(i===g)return o;const s=o,a=o.x,A=o.y;let C,I=1/0;n=o;do{i>=n.x&&n.x>=a&&i!==n.x&&Y_(r<A?i:g,r,a,A,r<A?g:i,r,n.x,n.y)&&(C=Math.abs(r-n.y)/(i-n.x),tw(n,t)&&(C<I||C===I&&(n.x>o.x||n.x===o.x&&W_(o,n)))&&(o=n,I=C)),n=n.next}while(n!==s);return o}(t,e),e){const n=ew(e,t);k_(e,e.next),k_(n,n.next)}}function W_(t,e){return J_(t.prev,t,e.prev)<0&&J_(e.next,t,t.next)<0}function V_(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Z_(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function Y_(t,e,n,i,r,o,g,s){return(r-g)*(e-s)-(t-g)*(o-s)>=0&&(t-g)*(i-s)-(n-g)*(e-s)>=0&&(n-g)*(o-s)-(r-g)*(i-s)>=0}function X_(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&K_(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(tw(t,e)&&tw(e,t)&&function(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(J_(t.prev,t,e.prev)||J_(t,e.prev,e))||q_(t,e)&&J_(t.prev,t,t.next)>0&&J_(e.prev,e,e.next)>0)}function J_(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function q_(t,e){return t.x===e.x&&t.y===e.y}function K_(t,e,n,i){const r=$_(J_(t,e,n)),o=$_(J_(t,e,i)),g=$_(J_(n,i,t)),s=$_(J_(n,i,e));return r!==o&&g!==s||!(0!==r||!Q_(t,n,e))||!(0!==o||!Q_(t,i,e))||!(0!==g||!Q_(n,t,i))||!(0!==s||!Q_(n,e,i))}function Q_(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function $_(t){return t>0?1:t<0?-1:0}function tw(t,e){return J_(t.prev,t,t.next)<0?J_(t,e,t.next)>=0&&J_(t,t.prev,e)>=0:J_(t,e,t.prev)<0||J_(t,t.next,e)<0}function ew(t,e){const n=new rw(t.i,t.x,t.y),i=new rw(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function nw(t,e,n,i){const r=new rw(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function iw(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function rw(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const ow={area:function(t){const e=t.length;let n=0;for(let i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n},isClockWise:function(t){return ow.area(t)<0},triangulateShape:function(t,e){const n=[],i=[],r=[];gw(t),sw(n,t);let o=t.length;e.forEach(gw);for(let t=0;t<e.length;t++)i.push(o),o+=e[t].length,sw(n,e[t]);const g=function(t,e,n){n=n||2;const i=e&&e.length,r=i?e[0]*n:t.length;let o=D_(t,0,r,n,!0);const g=[];if(!o||o.next===o.prev)return g;let s,a,A,C,I,c,l;if(i&&(o=function(t,e,n,i){const r=[];let o,g,s,a,A;for(o=0,g=e.length;o<g;o++)s=e[o]*i,a=o<g-1?e[o+1]*i:t.length,A=D_(t,s,a,i,!1),A===A.next&&(A.steiner=!0),r.push(Z_(A));for(r.sort(H_),o=0;o<r.length;o++)G_(r[o],n),n=k_(n,n.next);return n}(t,e,o,n)),t.length>80*n){s=A=t[0],a=C=t[1];for(let e=n;e<r;e+=n)I=t[e],c=t[e+1],I<s&&(s=I),c<a&&(a=c),I>A&&(A=I),c>C&&(C=c);l=Math.max(A-s,C-a),l=0!==l?1/l:0}return j_(o,g,n,s,a,l),g}(n,i);for(let t=0;t<g.length;t+=3)r.push(g.slice(t,t+3));return r}};function gw(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function sw(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class aw extends Fm{constructor(t,e){super(),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,i=[],r=[];for(let e=0,n=t.length;e<n;e++)o(t[e]);function o(t){const o=[],g=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1;let a=void 0!==e.depth?e.depth:100,A=void 0===e.bevelEnabled||e.bevelEnabled,C=void 0!==e.bevelThickness?e.bevelThickness:6,I=void 0!==e.bevelSize?e.bevelSize:C-2,c=void 0!==e.bevelOffset?e.bevelOffset:0,l=void 0!==e.bevelSegments?e.bevelSegments:3;const u=e.extrudePath,h=void 0!==e.UVGenerator?e.UVGenerator:Aw;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),a=e.amount);let d,p,f,m,v,y=!1;u&&(d=u.getSpacedPoints(s),y=!0,A=!1,p=u.computeFrenetFrames(s,!1),f=new Up,m=new Up,v=new Up),A||(l=0,C=0,I=0,c=0);const b=t.extractPoints(g);let _=b.shape;const w=b.holes;if(!ow.isClockWise(_)){_=_.reverse();for(let t=0,e=w.length;t<e;t++){const e=w[t];ow.isClockWise(e)&&(w[t]=e.reverse())}}const x=ow.triangulateShape(_,w),S=_;for(let t=0,e=w.length;t<e;t++){const e=w[t];_=_.concat(e)}function E(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}const M=_.length,T=x.length;function R(t,e,n){let i,r,o;const g=t.x-e.x,s=t.y-e.y,a=n.x-t.x,A=n.y-t.y,C=g*g+s*s,I=g*A-s*a;if(Math.abs(I)>Number.EPSILON){const I=Math.sqrt(C),c=Math.sqrt(a*a+A*A),l=e.x-s/I,u=e.y+g/I,h=((n.x-A/c-l)*A-(n.y+a/c-u)*a)/(g*A-s*a);i=l+g*h-t.x,r=u+s*h-t.y;const d=i*i+r*r;if(d<=2)return new Rp(i,r);o=Math.sqrt(d/2)}else{let t=!1;g>Number.EPSILON?a>Number.EPSILON&&(t=!0):g<-Number.EPSILON?a<-Number.EPSILON&&(t=!0):Math.sign(s)===Math.sign(A)&&(t=!0),t?(i=-s,r=g,o=Math.sqrt(C)):(i=g,r=s,o=Math.sqrt(C/2))}return new Rp(i/o,r/o)}const O=[];for(let t=0,e=S.length,n=e-1,i=t+1;t<e;t++,n++,i++)n===e&&(n=0),i===e&&(i=0),O[t]=R(S[t],S[n],S[i]);const L=[];let P,N=O.concat();for(let t=0,e=w.length;t<e;t++){const e=w[t];P=[];for(let t=0,n=e.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),P[t]=R(e[t],e[i],e[r]);L.push(P),N=N.concat(P)}for(let t=0;t<l;t++){const e=t/l,n=C*Math.cos(e*Math.PI/2),i=I*Math.sin(e*Math.PI/2)+c;for(let t=0,e=S.length;t<e;t++){const e=E(S[t],O[t],i);j(e.x,e.y,-n)}for(let t=0,e=w.length;t<e;t++){const e=w[t];P=L[t];for(let t=0,r=e.length;t<r;t++){const r=E(e[t],P[t],i);j(r.x,r.y,-n)}}}const D=I+c;for(let t=0;t<M;t++){const e=A?E(_[t],N[t],D):_[t];y?(m.copy(p.normals[0]).multiplyScalar(e.x),f.copy(p.binormals[0]).multiplyScalar(e.y),v.copy(d[0]).add(m).add(f),j(v.x,v.y,v.z)):j(e.x,e.y,0)}for(let t=1;t<=s;t++)for(let e=0;e<M;e++){const n=A?E(_[e],N[e],D):_[e];y?(m.copy(p.normals[t]).multiplyScalar(n.x),f.copy(p.binormals[t]).multiplyScalar(n.y),v.copy(d[t]).add(m).add(f),j(v.x,v.y,v.z)):j(n.x,n.y,a/s*t)}for(let t=l-1;t>=0;t--){const e=t/l,n=C*Math.cos(e*Math.PI/2),i=I*Math.sin(e*Math.PI/2)+c;for(let t=0,e=S.length;t<e;t++){const e=E(S[t],O[t],i);j(e.x,e.y,a+n)}for(let t=0,e=w.length;t<e;t++){const e=w[t];P=L[t];for(let t=0,r=e.length;t<r;t++){const r=E(e[t],P[t],i);y?j(r.x,r.y+d[s-1].y,d[s-1].x+n):j(r.x,r.y,a+n)}}}function k(t,e){let n=t.length;for(;--n>=0;){const i=n;let r=n-1;r<0&&(r=t.length-1);for(let t=0,n=s+2*l;t<n;t++){const n=M*t,o=M*(t+1);B(e+i+n,e+r+n,e+r+o,e+i+o)}}}function j(t,e,n){o.push(t),o.push(e),o.push(n)}function F(t,e,r){z(t),z(e),z(r);const o=i.length/3,g=h.generateTopUV(n,i,o-3,o-2,o-1);U(g[0]),U(g[1]),U(g[2])}function B(t,e,r,o){z(t),z(e),z(o),z(e),z(r),z(o);const g=i.length/3,s=h.generateSideWallUV(n,i,g-6,g-3,g-2,g-1);U(s[0]),U(s[1]),U(s[3]),U(s[1]),U(s[2]),U(s[3])}function z(t){i.push(o[3*t+0]),i.push(o[3*t+1]),i.push(o[3*t+2])}function U(t){r.push(t.x),r.push(t.y)}!function(){const t=i.length/3;if(A){let t=0,e=M*t;for(let t=0;t<T;t++){const n=x[t];F(n[2]+e,n[1]+e,n[0]+e)}t=s+2*l,e=M*t;for(let t=0;t<T;t++){const n=x[t];F(n[0]+e,n[1]+e,n[2]+e)}}else{for(let t=0;t<T;t++){const e=x[t];F(e[2],e[1],e[0])}for(let t=0;t<T;t++){const e=x[t];F(e[0]+M*s,e[1]+M*s,e[2]+M*s)}}n.addGroup(t,i.length/3-t,0)}(),function(){const t=i.length/3;let e=0;k(S,e),e+=S.length;for(let t=0,n=w.length;t<n;t++){const n=w[t];k(n,e),e+=n.length}n.addGroup(t,i.length/3-t,1)}()}this.setAttribute("position",new xm(i,3)),this.setAttribute("uv",new xm(r,2)),this.computeVertexNormals()}toJSON(){const t=Fm.prototype.toJSON.call(this);return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(let e=0,i=t.length;e<i;e++){const i=t[e];n.shapes.push(i.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,t)}}const Aw={generateTopUV:function(t,e,n,i,r){const o=e[3*n],g=e[3*n+1],s=e[3*i],a=e[3*i+1],A=e[3*r],C=e[3*r+1];return[new Rp(o,g),new Rp(s,a),new Rp(A,C)]},generateSideWallUV:function(t,e,n,i,r,o){const g=e[3*n],s=e[3*n+1],a=e[3*n+2],A=e[3*i],C=e[3*i+1],I=e[3*i+2],c=e[3*r],l=e[3*r+1],u=e[3*r+2],h=e[3*o],d=e[3*o+1],p=e[3*o+2];return Math.abs(s-C)<.01?[new Rp(g,1-a),new Rp(A,1-I),new Rp(c,1-u),new Rp(h,1-p)]:[new Rp(s,1-a),new Rp(C,1-I),new Rp(l,1-u),new Rp(d,1-p)]}};class Cw extends P_{constructor(t,e){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new aw(t,e)),this.mergeVertices()}toJSON(){const t=super.toJSON();return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(let e=0,i=t.length;e<i;e++){const i=t[e];n.shapes.push(i.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,t)}}function Iw(t,e,n){Fm.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};const i=[],r=[],o=[],g=[],s=1e-5,a=new Up,A=new Up,C=new Up,I=new Up,c=new Up;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const l=e+1;for(let i=0;i<=n;i++){const l=i/n;for(let n=0;n<=e;n++){const i=n/e;t(i,l,A),r.push(A.x,A.y,A.z),i-s>=0?(t(i-s,l,C),I.subVectors(A,C)):(t(i+s,l,C),I.subVectors(C,A)),l-s>=0?(t(i,l-s,C),c.subVectors(A,C)):(t(i,l+s,C),c.subVectors(C,A)),a.crossVectors(I,c).normalize(),o.push(a.x,a.y,a.z),g.push(i,l)}}for(let t=0;t<n;t++)for(let n=0;n<e;n++){const e=t*l+n,r=t*l+n+1,o=(t+1)*l+n+1,g=(t+1)*l+n;i.push(e,r,g),i.push(r,o,g)}this.setIndex(i),this.setAttribute("position",new xm(r,3)),this.setAttribute("normal",new xm(o,3)),this.setAttribute("uv",new xm(g,2))}function cw(t,e,n){P_.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Iw(t,e,n)),this.mergeVertices()}Iw.prototype=Object.create(Fm.prototype),Iw.prototype.constructor=Iw,cw.prototype=Object.create(P_.prototype),cw.prototype.constructor=cw;class lw extends Fm{constructor(t,e=12){super(),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],i=[],r=[],o=[];let g=0,s=0;if(!1===Array.isArray(t))a(t);else for(let e=0;e<t.length;e++)a(t[e]),this.addGroup(g,s,e),g+=s,s=0;function a(t){const g=i.length/3,a=t.extractPoints(e);let A=a.shape;const C=a.holes;!1===ow.isClockWise(A)&&(A=A.reverse());for(let t=0,e=C.length;t<e;t++){const e=C[t];!0===ow.isClockWise(e)&&(C[t]=e.reverse())}const I=ow.triangulateShape(A,C);for(let t=0,e=C.length;t<e;t++){const e=C[t];A=A.concat(e)}for(let t=0,e=A.length;t<e;t++){const e=A[t];i.push(e.x,e.y,0),r.push(0,0,1),o.push(e.x,e.y)}for(let t=0,e=I.length;t<e;t++){const e=I[t],i=e[0]+g,r=e[1]+g,o=e[2]+g;n.push(i,r,o),s+=3}}this.setIndex(n),this.setAttribute("position",new xm(i,3)),this.setAttribute("normal",new xm(r,3)),this.setAttribute("uv",new xm(o,2))}toJSON(){const t=Fm.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}class uw extends P_{constructor(t,e){super(),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new lw(t,e)),this.mergeVertices()}toJSON(){const t=P_.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}function hw(t){cm.call(this),this.type="ShadowMaterial",this.color=new Am(0),this.transparent=!0,this.setValues(t)}function dw(t){Av.call(this,t),this.type="RawShaderMaterial"}function pw(t){cm.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Am(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Am(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rp(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}function fw(t){pw.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Rp(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=Tp.clamp(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}function mw(t){cm.call(this),this.type="MeshPhongMaterial",this.color=new Am(16777215),this.specular=new Am(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Am(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rp(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function vw(t){cm.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Am(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Am(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rp(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function yw(t){cm.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rp(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function bw(t){cm.call(this),this.type="MeshLambertMaterial",this.color=new Am(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Am(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function _w(t){cm.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Am(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rp(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ww(t){s_.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}hw.prototype=Object.create(cm.prototype),hw.prototype.constructor=hw,hw.prototype.isShadowMaterial=!0,hw.prototype.copy=function(t){return cm.prototype.copy.call(this,t),this.color.copy(t.color),this},dw.prototype=Object.create(Av.prototype),dw.prototype.constructor=dw,dw.prototype.isRawShaderMaterial=!0,pw.prototype=Object.create(cm.prototype),pw.prototype.constructor=pw,pw.prototype.isMeshStandardMaterial=!0,pw.prototype.copy=function(t){return cm.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this},fw.prototype=Object.create(pw.prototype),fw.prototype.constructor=fw,fw.prototype.isMeshPhysicalMaterial=!0,fw.prototype.copy=function(t){return pw.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,t.sheen?this.sheen=(this.sheen||new Am).copy(t.sheen):this.sheen=null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this},mw.prototype=Object.create(cm.prototype),mw.prototype.constructor=mw,mw.prototype.isMeshPhongMaterial=!0,mw.prototype.copy=function(t){return cm.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},vw.prototype=Object.create(cm.prototype),vw.prototype.constructor=vw,vw.prototype.isMeshToonMaterial=!0,vw.prototype.copy=function(t){return cm.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},yw.prototype=Object.create(cm.prototype),yw.prototype.constructor=yw,yw.prototype.isMeshNormalMaterial=!0,yw.prototype.copy=function(t){return cm.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},bw.prototype=Object.create(cm.prototype),bw.prototype.constructor=bw,bw.prototype.isMeshLambertMaterial=!0,bw.prototype.copy=function(t){return cm.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},_w.prototype=Object.create(cm.prototype),_w.prototype.constructor=_w,_w.prototype.isMeshMatcapMaterial=!0,_w.prototype.copy=function(t){return cm.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ww.prototype=Object.create(s_.prototype),ww.prototype.constructor=ww,ww.prototype.isLineDashedMaterial=!0,ww.prototype.copy=function(t){return s_.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var xw=Object.freeze({__proto__:null,ShadowMaterial:hw,SpriteMaterial:Lb,RawShaderMaterial:dw,ShaderMaterial:Av,PointsMaterial:f_,MeshPhysicalMaterial:fw,MeshStandardMaterial:pw,MeshPhongMaterial:mw,MeshToonMaterial:vw,MeshNormalMaterial:yw,MeshLambertMaterial:bw,MeshDepthMaterial:hb,MeshDistanceMaterial:db,MeshBasicMaterial:lm,MeshMatcapMaterial:_w,LineDashedMaterial:ww,LineBasicMaterial:s_,Material:cm});const Sw={arraySlice:function(t,e,n){return Sw.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){const e=t.length,n=new Array(e);for(let t=0;t!==e;++t)n[t]=t;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){const i=t.length,r=new t.constructor(i);for(let o=0,g=0;g!==i;++o){const i=n[o]*e;for(let n=0;n!==e;++n)r[g++]=t[i+n]}return r},flattenJSON:function(t,e,n,i){let r=1,o=t[0];for(;void 0!==o&&void 0===o[i];)o=t[r++];if(void 0===o)return;let g=o[i];if(void 0!==g)if(Array.isArray(g))do{g=o[i],void 0!==g&&(e.push(o.time),n.push.apply(n,g)),o=t[r++]}while(void 0!==o);else if(void 0!==g.toArray)do{g=o[i],void 0!==g&&(e.push(o.time),g.toArray(n,n.length)),o=t[r++]}while(void 0!==o);else do{g=o[i],void 0!==g&&(e.push(o.time),n.push(g)),o=t[r++]}while(void 0!==o)},subclip:function(t,e,n,i,r=30){const o=t.clone();o.name=e;const g=[];for(let t=0;t<o.tracks.length;++t){const e=o.tracks[t],s=e.getValueSize(),a=[],A=[];for(let t=0;t<e.times.length;++t){const o=e.times[t]*r;if(!(o<n||o>=i)){a.push(e.times[t]);for(let n=0;n<s;++n)A.push(e.values[t*s+n])}}0!==a.length&&(e.times=Sw.convertArray(a,e.times.constructor),e.values=Sw.convertArray(A,e.values.constructor),g.push(e))}o.tracks=g;let s=1/0;for(let t=0;t<o.tracks.length;++t)s>o.tracks[t].times[0]&&(s=o.tracks[t].times[0]);for(let t=0;t<o.tracks.length;++t)o.tracks[t].shift(-1*s);return o.resetDuration(),o},makeClipAdditive:function(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,o=e/i;for(let e=0;e<r;++e){const i=n.tracks[e],r=i.ValueTypeName;if("bool"===r||"string"===r)continue;const g=t.tracks.find((function(t){return t.name===i.name&&t.ValueTypeName===r}));if(void 0===g)continue;let s=0;const a=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=a/3);let A=0;const C=g.getValueSize();g.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(A=C/3);const I=i.times.length-1;let c;if(o<=i.times[0]){const t=s,e=a-s;c=Sw.arraySlice(i.values,t,e)}else if(o>=i.times[I]){const t=I*a+s,e=t+a-s;c=Sw.arraySlice(i.values,t,e)}else{const t=i.createInterpolant(),e=s,n=a-s;t.evaluate(o),c=Sw.arraySlice(t.resultBuffer,e,n)}"quaternion"===r&&(new zp).fromArray(c).normalize().conjugate().toArray(c);const l=g.times.length;for(let t=0;t<l;++t){const e=t*C+A;if("quaternion"===r)zp.multiplyQuaternionsFlat(g.values,e,c,0,g.values,e);else{const t=C-2*A;for(let n=0;n<t;++n)g.values[e+n]-=c[n]}}}return t.blendMode=2501,t}};function Ew(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function Mw(t,e,n,i){Ew.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Tw(t,e,n,i){Ew.call(this,t,e,n,i)}function Rw(t,e,n,i){Ew.call(this,t,e,n,i)}function Ow(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Sw.convertArray(e,this.TimeBufferType),this.values=Sw.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function Lw(t,e,n){Ow.call(this,t,e,n)}function Pw(t,e,n,i){Ow.call(this,t,e,n,i)}function Nw(t,e,n,i){Ow.call(this,t,e,n,i)}function Dw(t,e,n,i){Ew.call(this,t,e,n,i)}function kw(t,e,n,i){Ow.call(this,t,e,n,i)}function jw(t,e,n,i){Ow.call(this,t,e,n,i)}function Fw(t,e,n,i){Ow.call(this,t,e,n,i)}function Bw(t,e,n,i){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.blendMode=void 0!==i?i:2500,this.uuid=Tp.generateUUID(),this.duration<0&&this.resetDuration()}function zw(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Nw;case"vector":case"vector2":case"vector3":case"vector4":return Fw;case"color":return Pw;case"quaternion":return kw;case"bool":case"boolean":return Lw;case"string":return jw}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],n=[];Sw.flattenJSON(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(Ew.prototype,{evaluate:function(t){const e=this.parameterPositions;let n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{let o;n:{i:if(!(t<i)){for(let o=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===o)break;if(r=i,i=e[++n],t<i)break e}o=e.length;break n}if(t>=r)break t;{const g=e[1];t<g&&(n=2,r=g);for(let o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===o)break;if(i=r,r=e[--n-1],t>=r)break e}o=n,n=0}}for(;n<o;){const i=n+o>>>1;t<e[i]?o=i:n=i+1}if(i=e[n],r=e[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i;for(let t=0;t!==i;++t)e[t]=n[r+t];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Ew.prototype,{beforeStart_:Ew.prototype.copySampleValue_,afterEnd_:Ew.prototype.copySampleValue_}),Mw.prototype=Object.assign(Object.create(Ew.prototype),{constructor:Mw,DefaultSettings_:{endingStart:fp,endingEnd:fp},intervalChanged_:function(t,e,n){const i=this.parameterPositions;let r=t-2,o=t+1,g=i[r],s=i[o];if(void 0===g)switch(this.getSettings_().endingStart){case mp:r=t,g=2*e-n;break;case vp:r=i.length-2,g=e+i[r]-i[r+1];break;default:r=t,g=n}if(void 0===s)switch(this.getSettings_().endingEnd){case mp:o=t,s=2*n-e;break;case vp:o=1,s=n+i[1]-i[0];break;default:o=t-1,s=e}const a=.5*(n-e),A=this.valueSize;this._weightPrev=a/(e-g),this._weightNext=a/(s-n),this._offsetPrev=r*A,this._offsetNext=o*A},interpolate_:function(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,g=this.valueSize,s=t*g,a=s-g,A=this._offsetPrev,C=this._offsetNext,I=this._weightPrev,c=this._weightNext,l=(n-e)/(i-e),u=l*l,h=u*l,d=-I*h+2*I*u-I*l,p=(1+I)*h+(-1.5-2*I)*u+(-.5+I)*l+1,f=(-1-c)*h+(1.5+c)*u+.5*l,m=c*h-c*u;for(let t=0;t!==g;++t)r[t]=d*o[A+t]+p*o[a+t]+f*o[s+t]+m*o[C+t];return r}}),Tw.prototype=Object.assign(Object.create(Ew.prototype),{constructor:Tw,interpolate_:function(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,g=this.valueSize,s=t*g,a=s-g,A=(n-e)/(i-e),C=1-A;for(let t=0;t!==g;++t)r[t]=o[a+t]*C+o[s+t]*A;return r}}),Rw.prototype=Object.assign(Object.create(Ew.prototype),{constructor:Rw,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(Ow,{toJSON:function(t){const e=t.constructor;let n;if(void 0!==e.toJSON)n=e.toJSON(t);else{n={name:t.name,times:Sw.convertArray(t.times,Array),values:Sw.convertArray(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}}),Object.assign(Ow.prototype,{constructor:Ow,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:dp,InterpolantFactoryMethodDiscrete:function(t){return new Rw(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Tw(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Mw(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){let e;switch(t){case hp:e=this.InterpolantFactoryMethodDiscrete;break;case dp:e=this.InterpolantFactoryMethodLinear;break;case pp:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return hp;case this.InterpolantFactoryMethodLinear:return dp;case this.InterpolantFactoryMethodSmooth:return pp}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]+=t}return this},scale:function(t){if(1!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]*=t}return this},trim:function(t,e){const n=this.times,i=n.length;let r=0,o=i-1;for(;r!==i&&n[r]<t;)++r;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const t=this.getValueSize();this.times=Sw.arraySlice(n,r,o),this.values=Sw.arraySlice(this.values,r*t,o*t)}return this},validate:function(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let e=0;e!==r;e++){const i=n[e];if("number"==typeof i&&isNaN(i)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,e,i),t=!1;break}if(null!==o&&o>i){console.error("THREE.KeyframeTrack: Out of order keys.",this,e,i,o),t=!1;break}o=i}if(void 0!==i&&Sw.isTypedArray(i))for(let e=0,n=i.length;e!==n;++e){const n=i[e];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,e,n),t=!1;break}}return t},optimize:function(){const t=Sw.arraySlice(this.times),e=Sw.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===pp,r=t.length-1;let o=1;for(let g=1;g<r;++g){let r=!1;const s=t[g];if(s!==t[g+1]&&(1!==g||s!==s[0]))if(i)r=!0;else{const t=g*n,i=t-n,o=t+n;for(let g=0;g!==n;++g){const n=e[t+g];if(n!==e[i+g]||n!==e[o+g]){r=!0;break}}}if(r){if(g!==o){t[o]=t[g];const i=g*n,r=o*n;for(let t=0;t!==n;++t)e[r+t]=e[i+t]}++o}}if(r>0){t[o]=t[r];for(let t=r*n,i=o*n,g=0;g!==n;++g)e[i+g]=e[t+g];++o}return o!==t.length?(this.times=Sw.arraySlice(t,0,o),this.values=Sw.arraySlice(e,0,o*n)):(this.times=t,this.values=e),this},clone:function(){const t=Sw.arraySlice(this.times,0),e=Sw.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}),Lw.prototype=Object.assign(Object.create(Ow.prototype),{constructor:Lw,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:hp,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Pw.prototype=Object.assign(Object.create(Ow.prototype),{constructor:Pw,ValueTypeName:"color"}),Nw.prototype=Object.assign(Object.create(Ow.prototype),{constructor:Nw,ValueTypeName:"number"}),Dw.prototype=Object.assign(Object.create(Ew.prototype),{constructor:Dw,interpolate_:function(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,g=this.valueSize,s=(n-e)/(i-e);let a=t*g;for(let t=a+g;a!==t;a+=4)zp.slerpFlat(r,0,o,a-g,o,a,s);return r}}),kw.prototype=Object.assign(Object.create(Ow.prototype),{constructor:kw,ValueTypeName:"quaternion",DefaultInterpolation:dp,InterpolantFactoryMethodLinear:function(t){return new Dw(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),jw.prototype=Object.assign(Object.create(Ow.prototype),{constructor:jw,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:hp,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Fw.prototype=Object.assign(Object.create(Ow.prototype),{constructor:Fw,ValueTypeName:"vector"}),Object.assign(Bw,{parse:function(t){const e=[],n=t.tracks,i=1/(t.fps||1);for(let t=0,r=n.length;t!==r;++t)e.push(zw(n[t]).scale(i));const r=new Bw(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r},toJSON:function(t){const e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,i=n.length;t!==i;++t)e.push(Ow.toJSON(n[t]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){const r=e.length,o=[];for(let t=0;t<r;t++){let g=[],s=[];g.push((t+r-1)%r,t,(t+1)%r),s.push(0,1,0);const a=Sw.getKeyframeOrder(g);g=Sw.sortedArray(g,1,a),s=Sw.sortedArray(s,1,a),i||0!==g[0]||(g.push(r),s.push(s[0])),o.push(new Nw(".morphTargetInfluences["+e[t].name+"]",g,s).scale(1/n))}return new Bw(t,-1,o)},findByName:function(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let t=0;t<n.length;t++)if(n[t].name===e)return n[t];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let e=0,n=t.length;e<n;e++){const n=t[e],o=n.name.match(r);if(o&&o.length>1){const t=o[1];let e=i[t];e||(i[t]=e=[]),e.push(n)}}const o=[];for(const t in i)o.push(Bw.CreateFromMorphTargetSequence(t,i[t],e,n));return o},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(t,e,n,i,r){if(0!==n.length){const o=[],g=[];Sw.flattenJSON(n,o,g,i),0!==o.length&&r.push(new t(e,o,g))}},i=[],r=t.name||"default",o=t.fps||30,g=t.blendMode;let s=t.length||-1;const a=t.hierarchy||[];for(let t=0;t<a.length;t++){const r=a[t].keys;if(r&&0!==r.length)if(r[0].morphTargets){const t={};let e;for(e=0;e<r.length;e++)if(r[e].morphTargets)for(let n=0;n<r[e].morphTargets.length;n++)t[r[e].morphTargets[n]]=-1;for(const n in t){const t=[],o=[];for(let i=0;i!==r[e].morphTargets.length;++i){const i=r[e];t.push(i.time),o.push(i.morphTarget===n?1:0)}i.push(new Nw(".morphTargetInfluence["+n+"]",t,o))}s=t.length*(o||1)}else{const o=".bones["+e[t].name+"]";n(Fw,o+".position",r,"pos",i),n(kw,o+".quaternion",r,"rot",i),n(Fw,o+".scale",r,"scl",i)}}return 0===i.length?null:new Bw(r,s,i,g)}}),Object.assign(Bw.prototype,{resetDuration:function(){let t=0;for(let e=0,n=this.tracks.length;e!==n;++e){const n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this},trim:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new Bw(this.name,this.duration,t,this.blendMode)},toJSON:function(){return Bw.toJSON(this)}});const Uw={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};const Hw=new function(t,e,n){const i=this;let r,o=!1,g=0,s=0;const a=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){s++,!1===o&&void 0!==i.onStart&&i.onStart(t,g,s),o=!0},this.itemEnd=function(t){g++,void 0!==i.onProgress&&i.onProgress(t,g,s),g===s&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,e){return a.push(t,e),this},this.removeHandler=function(t){const e=a.indexOf(t);return-1!==e&&a.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=a.length;e<n;e+=2){const n=a[e],i=a[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return i}return null}};function Gw(t){this.manager=void 0!==t?t:Hw,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Gw.prototype,{load:function(){},loadAsync:function(t,e){const n=this;return new Promise((function(i,r){n.load(t,i,e,r)}))},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});const Ww={};function Vw(t){Gw.call(this,t)}function Zw(t){Gw.call(this,t)}function Yw(t){Gw.call(this,t)}function Xw(t){Gw.call(this,t)}function Jw(t){Gw.call(this,t)}function qw(t){Gw.call(this,t)}function Kw(t){Gw.call(this,t)}function Qw(){this.type="Curve",this.arcLengthDivisions=200}function $w(t,e,n,i,r,o,g,s){Qw.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=g||!1,this.aRotation=s||0}function tx(t,e,n,i,r,o){$w.call(this,t,e,n,n,i,r,o),this.type="ArcCurve"}function ex(){let t=0,e=0,n=0,i=0;function r(r,o,g,s){t=r,e=g,n=-3*r+3*o-2*g-s,i=2*r-2*o+g+s}return{initCatmullRom:function(t,e,n,i,o){r(e,n,o*(n-t),o*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,o,g,s){let a=(e-t)/o-(n-t)/(o+g)+(n-e)/g,A=(n-e)/g-(i-e)/(g+s)+(i-n)/s;a*=g,A*=g,r(e,n,a,A)},calc:function(r){const o=r*r;return t+e*r+n*o+i*(o*r)}}}Vw.prototype=Object.assign(Object.create(Gw.prototype),{constructor:Vw,load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=Uw.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;if(void 0!==Ww[t])return void Ww[t].push({onLoad:e,onProgress:n,onError:i});const g=t.match(/^data:(.*?)(;base64)?,(.*)$/);let s;if(g){const n=g[1],o=!!g[2];let s=g[3];s=decodeURIComponent(s),o&&(s=atob(s));try{let i;const o=(this.responseType||"").toLowerCase();switch(o){case"arraybuffer":case"blob":const t=new Uint8Array(s.length);for(let e=0;e<s.length;e++)t[e]=s.charCodeAt(e);i="blob"===o?new Blob([t.buffer],{type:n}):t.buffer;break;case"document":const e=new DOMParser;i=e.parseFromString(s,n);break;case"json":i=JSON.parse(s);break;default:i=s}setTimeout((function(){e&&e(i),r.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}),0)}}else{Ww[t]=[],Ww[t].push({onLoad:e,onProgress:n,onError:i}),s=new XMLHttpRequest,s.open("GET",t,!0),s.addEventListener("load",(function(e){const n=this.response,i=Ww[t];if(delete Ww[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Uw.add(t,n);for(let t=0,e=i.length;t<e;t++){const e=i[t];e.onLoad&&e.onLoad(n)}r.manager.itemEnd(t)}else{for(let t=0,n=i.length;t<n;t++){const n=i[t];n.onError&&n.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}}),!1),s.addEventListener("progress",(function(e){const n=Ww[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onProgress&&i.onProgress(e)}}),!1),s.addEventListener("error",(function(e){const n=Ww[t];delete Ww[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),s.addEventListener("abort",(function(e){const n=Ww[t];delete Ww[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(s.responseType=this.responseType),void 0!==this.withCredentials&&(s.withCredentials=this.withCredentials),s.overrideMimeType&&s.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const t in this.requestHeader)s.setRequestHeader(t,this.requestHeader[t]);s.send(null)}return r.manager.itemStart(t),s},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Zw.prototype=Object.assign(Object.create(Gw.prototype),{constructor:Zw,load:function(t,e,n,i){const r=this,o=new Vw(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(e){i?i(e):console.error(e),r.manager.itemError(t)}}),n,i)},parse:function(t){const e=[];for(let n=0;n<t.length;n++){const i=Bw.parse(t[n]);e.push(i)}return e}}),Yw.prototype=Object.assign(Object.create(Gw.prototype),{constructor:Yw,load:function(t,e,n,i){const r=this,o=[],g=new S_;g.image=o;const s=new Vw(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(r.withCredentials);let a=0;function A(A){s.load(t[A],(function(t){const n=r.parse(t,!0);o[A]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},a+=1,6===a&&(1===n.mipmapCount&&(g.minFilter=rp),g.format=n.format,g.needsUpdate=!0,e&&e(g))}),n,i)}if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)A(e);else s.load(t,(function(t){const n=r.parse(t,!0);if(n.isCubemap){const t=n.mipmaps.length/n.mipmapCount;for(let e=0;e<t;e++){o[e]={mipmaps:[]};for(let t=0;t<n.mipmapCount;t++)o[e].mipmaps.push(n.mipmaps[e*n.mipmapCount+t]),o[e].format=n.format,o[e].width=n.width,o[e].height=n.height}}else g.image.width=n.width,g.image.height=n.height,g.mipmaps=n.mipmaps;1===n.mipmapCount&&(g.minFilter=rp),g.format=n.format,g.needsUpdate=!0,e&&e(g)}),n,i);return g}}),Xw.prototype=Object.assign(Object.create(Gw.prototype),{constructor:Xw,load:function(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=Uw.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;const g=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){g.removeEventListener("load",s,!1),g.removeEventListener("error",a,!1),Uw.add(t,this),e&&e(this),r.manager.itemEnd(t)}function a(e){g.removeEventListener("load",s,!1),g.removeEventListener("error",a,!1),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}return g.addEventListener("load",s,!1),g.addEventListener("error",a,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(g.crossOrigin=this.crossOrigin),r.manager.itemStart(t),g.src=t,g}}),Jw.prototype=Object.assign(Object.create(Gw.prototype),{constructor:Jw,load:function(t,e,n,i){const r=new uv,o=new Xw(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let g=0;function s(n){o.load(t[n],(function(t){r.images[n]=t,g++,6===g&&(r.needsUpdate=!0,e&&e(r))}),void 0,i)}for(let e=0;e<t.length;++e)s(e);return r}}),qw.prototype=Object.assign(Object.create(Gw.prototype),{constructor:qw,load:function(t,e,n,i){const r=this,o=new dv,g=new Vw(this.manager);return g.setResponseType("arraybuffer"),g.setRequestHeader(this.requestHeader),g.setPath(this.path),g.setWithCredentials(r.withCredentials),g.load(t,(function(t){const n=r.parse(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:ep,o.wrapT=void 0!==n.wrapT?n.wrapT:ep,o.magFilter=void 0!==n.magFilter?n.magFilter:rp,o.minFilter=void 0!==n.minFilter?n.minFilter:rp,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=op),1===n.mipmapCount&&(o.minFilter=rp),o.needsUpdate=!0,e&&e(o,n))}),n,i),o}}),Kw.prototype=Object.assign(Object.create(Gw.prototype),{constructor:Kw,load:function(t,e,n,i){const r=new Dp,o=new Xw(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(n){r.image=n;const i=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?Ip:cp,r.needsUpdate=!0,void 0!==e&&e(r)}),n,i),r}}),Object.assign(Qw.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){const t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,i=this.getPoint(0),r=0;e.push(0);for(let o=1;o<=t;o++)n=this.getPoint(o/t),r+=n.distanceTo(i),e.push(r),i=n;return this.cacheArcLengths=e,e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){const n=this.getLengths();let i=0;const r=n.length;let o;o=e||t*n[r-1];let g,s=0,a=r-1;for(;s<=a;)if(i=Math.floor(s+(a-s)/2),g=n[i]-o,g<0)s=i+1;else{if(!(g>0)){a=i;break}a=i-1}if(i=a,n[i]===o)return i/(r-1);const A=n[i];return(i+(o-A)/(n[i+1]-A))/(r-1)},getTangent:function(t,e){const n=1e-4;let i=t-n,r=t+n;i<0&&(i=0),r>1&&(r=1);const o=this.getPoint(i),g=this.getPoint(r),s=e||(o.isVector2?new Rp:new Up);return s.copy(g).sub(o).normalize(),s},getTangentAt:function(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)},computeFrenetFrames:function(t,e){const n=new Up,i=[],r=[],o=[],g=new Up,s=new df;for(let e=0;e<=t;e++){const n=e/t;i[e]=this.getTangentAt(n,new Up),i[e].normalize()}r[0]=new Up,o[0]=new Up;let a=Number.MAX_VALUE;const A=Math.abs(i[0].x),C=Math.abs(i[0].y),I=Math.abs(i[0].z);A<=a&&(a=A,n.set(1,0,0)),C<=a&&(a=C,n.set(0,1,0)),I<=a&&n.set(0,0,1),g.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],g),o[0].crossVectors(i[0],r[0]);for(let e=1;e<=t;e++){if(r[e]=r[e-1].clone(),o[e]=o[e-1].clone(),g.crossVectors(i[e-1],i[e]),g.length()>Number.EPSILON){g.normalize();const t=Math.acos(Tp.clamp(i[e-1].dot(i[e]),-1,1));r[e].applyMatrix4(s.makeRotationAxis(g,t))}o[e].crossVectors(i[e],r[e])}if(!0===e){let e=Math.acos(Tp.clamp(r[0].dot(r[t]),-1,1));e/=t,i[0].dot(g.crossVectors(r[0],r[t]))>0&&(e=-e);for(let n=1;n<=t;n++)r[n].applyMatrix4(s.makeRotationAxis(i[n],e*n)),o[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:o}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),$w.prototype=Object.create(Qw.prototype),$w.prototype.constructor=$w,$w.prototype.isEllipseCurve=!0,$w.prototype.getPoint=function(t,e){const n=e||new Rp,i=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=o?0:i),!0!==this.aClockwise||o||(r===i?r=-i:r-=i);const g=this.aStartAngle+t*r;let s=this.aX+this.xRadius*Math.cos(g),a=this.aY+this.yRadius*Math.sin(g);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),n=s-this.aX,i=a-this.aY;s=n*t-i*e+this.aX,a=n*e+i*t+this.aY}return n.set(s,a)},$w.prototype.copy=function(t){return Qw.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},$w.prototype.toJSON=function(){const t=Qw.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},$w.prototype.fromJSON=function(t){return Qw.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},tx.prototype=Object.create($w.prototype),tx.prototype.constructor=tx,tx.prototype.isArcCurve=!0;const nx=new Up,ix=new ex,rx=new ex,ox=new ex;function gx(t=[],e=!1,n="centripetal",i=.5){Qw.call(this),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=i}function sx(t,e,n,i,r){const o=.5*(i-e),g=.5*(r-n),s=t*t;return(2*n-2*i+o+g)*(t*s)+(-3*n+3*i-2*o-g)*s+o*t+n}function ax(t,e,n,i){return function(t,e){const n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,i)}function Ax(t,e,n,i,r){return function(t,e){const n=1-t;return n*n*n*e}(t,e)+function(t,e){const n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,r)}function Cx(t=new Rp,e=new Rp,n=new Rp,i=new Rp){Qw.call(this),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=i}function Ix(t=new Up,e=new Up,n=new Up,i=new Up){Qw.call(this),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=i}function cx(t=new Rp,e=new Rp){Qw.call(this),this.type="LineCurve",this.v1=t,this.v2=e}function lx(t=new Up,e=new Up){Qw.call(this),this.type="LineCurve3",this.v1=t,this.v2=e}function ux(t=new Rp,e=new Rp,n=new Rp){Qw.call(this),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}function hx(t=new Up,e=new Up,n=new Up){Qw.call(this),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}function dx(t=[]){Qw.call(this),this.type="SplineCurve",this.points=t}gx.prototype=Object.create(Qw.prototype),gx.prototype.constructor=gx,gx.prototype.isCatmullRomCurve3=!0,gx.prototype.getPoint=function(t,e=new Up){const n=e,i=this.points,r=i.length,o=(r-(this.closed?0:1))*t;let g,s,a=Math.floor(o),A=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/r)+1)*r:0===A&&a===r-1&&(a=r-2,A=1),this.closed||a>0?g=i[(a-1)%r]:(nx.subVectors(i[0],i[1]).add(i[0]),g=nx);const C=i[a%r],I=i[(a+1)%r];if(this.closed||a+2<r?s=i[(a+2)%r]:(nx.subVectors(i[r-1],i[r-2]).add(i[r-1]),s=nx),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(g.distanceToSquared(C),t),n=Math.pow(C.distanceToSquared(I),t),i=Math.pow(I.distanceToSquared(s),t);n<1e-4&&(n=1),e<1e-4&&(e=n),i<1e-4&&(i=n),ix.initNonuniformCatmullRom(g.x,C.x,I.x,s.x,e,n,i),rx.initNonuniformCatmullRom(g.y,C.y,I.y,s.y,e,n,i),ox.initNonuniformCatmullRom(g.z,C.z,I.z,s.z,e,n,i)}else"catmullrom"===this.curveType&&(ix.initCatmullRom(g.x,C.x,I.x,s.x,this.tension),rx.initCatmullRom(g.y,C.y,I.y,s.y,this.tension),ox.initCatmullRom(g.z,C.z,I.z,s.z,this.tension));return n.set(ix.calc(A),rx.calc(A),ox.calc(A)),n},gx.prototype.copy=function(t){Qw.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},gx.prototype.toJSON=function(){const t=Qw.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},gx.prototype.fromJSON=function(t){Qw.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new Up).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Cx.prototype=Object.create(Qw.prototype),Cx.prototype.constructor=Cx,Cx.prototype.isCubicBezierCurve=!0,Cx.prototype.getPoint=function(t,e=new Rp){const n=e,i=this.v0,r=this.v1,o=this.v2,g=this.v3;return n.set(Ax(t,i.x,r.x,o.x,g.x),Ax(t,i.y,r.y,o.y,g.y)),n},Cx.prototype.copy=function(t){return Qw.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Cx.prototype.toJSON=function(){const t=Qw.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Cx.prototype.fromJSON=function(t){return Qw.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Ix.prototype=Object.create(Qw.prototype),Ix.prototype.constructor=Ix,Ix.prototype.isCubicBezierCurve3=!0,Ix.prototype.getPoint=function(t,e=new Up){const n=e,i=this.v0,r=this.v1,o=this.v2,g=this.v3;return n.set(Ax(t,i.x,r.x,o.x,g.x),Ax(t,i.y,r.y,o.y,g.y),Ax(t,i.z,r.z,o.z,g.z)),n},Ix.prototype.copy=function(t){return Qw.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Ix.prototype.toJSON=function(){const t=Qw.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Ix.prototype.fromJSON=function(t){return Qw.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},cx.prototype=Object.create(Qw.prototype),cx.prototype.constructor=cx,cx.prototype.isLineCurve=!0,cx.prototype.getPoint=function(t,e=new Rp){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},cx.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},cx.prototype.getTangent=function(t,e){const n=e||new Rp;return n.copy(this.v2).sub(this.v1).normalize(),n},cx.prototype.copy=function(t){return Qw.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},cx.prototype.toJSON=function(){const t=Qw.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},cx.prototype.fromJSON=function(t){return Qw.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},lx.prototype=Object.create(Qw.prototype),lx.prototype.constructor=lx,lx.prototype.isLineCurve3=!0,lx.prototype.getPoint=function(t,e=new Up){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},lx.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},lx.prototype.copy=function(t){return Qw.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},lx.prototype.toJSON=function(){const t=Qw.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},lx.prototype.fromJSON=function(t){return Qw.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},ux.prototype=Object.create(Qw.prototype),ux.prototype.constructor=ux,ux.prototype.isQuadraticBezierCurve=!0,ux.prototype.getPoint=function(t,e=new Rp){const n=e,i=this.v0,r=this.v1,o=this.v2;return n.set(ax(t,i.x,r.x,o.x),ax(t,i.y,r.y,o.y)),n},ux.prototype.copy=function(t){return Qw.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ux.prototype.toJSON=function(){const t=Qw.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ux.prototype.fromJSON=function(t){return Qw.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},hx.prototype=Object.create(Qw.prototype),hx.prototype.constructor=hx,hx.prototype.isQuadraticBezierCurve3=!0,hx.prototype.getPoint=function(t,e=new Up){const n=e,i=this.v0,r=this.v1,o=this.v2;return n.set(ax(t,i.x,r.x,o.x),ax(t,i.y,r.y,o.y),ax(t,i.z,r.z,o.z)),n},hx.prototype.copy=function(t){return Qw.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},hx.prototype.toJSON=function(){const t=Qw.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},hx.prototype.fromJSON=function(t){return Qw.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},dx.prototype=Object.create(Qw.prototype),dx.prototype.constructor=dx,dx.prototype.isSplineCurve=!0,dx.prototype.getPoint=function(t,e=new Rp){const n=e,i=this.points,r=(i.length-1)*t,o=Math.floor(r),g=r-o,s=i[0===o?o:o-1],a=i[o],A=i[o>i.length-2?i.length-1:o+1],C=i[o>i.length-3?i.length-1:o+2];return n.set(sx(g,s.x,a.x,A.x,C.x),sx(g,s.y,a.y,A.y,C.y)),n},dx.prototype.copy=function(t){Qw.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this},dx.prototype.toJSON=function(){const t=Qw.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t},dx.prototype.fromJSON=function(t){Qw.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new Rp).fromArray(n))}return this};var px=Object.freeze({__proto__:null,ArcCurve:tx,CatmullRomCurve3:gx,CubicBezierCurve:Cx,CubicBezierCurve3:Ix,EllipseCurve:$w,LineCurve:cx,LineCurve3:lx,QuadraticBezierCurve:ux,QuadraticBezierCurve3:hx,SplineCurve:dx});function fx(){Qw.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function mx(t){fx.call(this),this.type="Path",this.currentPoint=new Rp,t&&this.setFromPoints(t)}function vx(t){mx.call(this,t),this.uuid=Tp.generateUUID(),this.type="Shape",this.holes=[]}function yx(t,e=1){Uf.call(this),this.type="Light",this.color=new Am(t),this.intensity=e}function bx(t,e,n){yx.call(this,t,n),this.type="HemisphereLight",this.position.copy(Uf.DefaultUp),this.updateMatrix(),this.groundColor=new Am(e)}function _x(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Rp(512,512),this.map=null,this.mapPass=null,this.matrix=new df,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new mv,this._frameExtents=new Rp(1,1),this._viewportCount=1,this._viewports=[new jp(0,0,1,1)]}function wx(){_x.call(this,new Iv(50,1,.5,500)),this.focus=1}function xx(t,e,n,i,r,o){yx.call(this,t,e),this.type="SpotLight",this.position.copy(Uf.DefaultUp),this.updateMatrix(),this.target=new Uf,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==o?o:1,this.shadow=new wx}function Sx(){_x.call(this,new Iv(90,1,.5,500)),this._frameExtents=new Rp(4,2),this._viewportCount=6,this._viewports=[new jp(2,1,1,1),new jp(0,1,1,1),new jp(3,1,1,1),new jp(1,1,1,1),new jp(3,0,1,1),new jp(1,0,1,1)],this._cubeDirections=[new Up(1,0,0),new Up(-1,0,0),new Up(0,0,1),new Up(0,0,-1),new Up(0,1,0),new Up(0,-1,0)],this._cubeUps=[new Up(0,1,0),new Up(0,1,0),new Up(0,1,0),new Up(0,1,0),new Up(0,0,1),new Up(0,0,-1)]}function Ex(t,e,n,i){yx.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new Sx}function Mx(t,e,n,i,r,o){Cv.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==n?n:1,this.bottom=void 0!==i?i:-1,this.near=void 0!==r?r:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Tx(){_x.call(this,new Mx(-5,5,5,-5,.5,500))}function Rx(t,e){yx.call(this,t,e),this.type="DirectionalLight",this.position.copy(Uf.DefaultUp),this.updateMatrix(),this.target=new Uf,this.shadow=new Tx}function Ox(t,e){yx.call(this,t,e),this.type="AmbientLight"}function Lx(t,e,n,i){yx.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}fx.prototype=Object.assign(Object.create(Qw.prototype),{constructor:fx,add:function(t){this.curves.push(t)},closePath:function(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new cx(e,t))},getPoint:function(t){const e=t*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=e){const t=n[i]-e,r=this.curves[i],o=r.getLength(),g=0===o?0:1-t/o;return r.getPointAt(g)}i++}return null},getLength:function(){const t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t=12){const e=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const o=r[i],g=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(g);for(let t=0;t<s.length;t++){const i=s[t];n&&n.equals(i)||(e.push(i),n=i)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},copy:function(t){Qw.prototype.copy.call(this,t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){const t=Qw.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++){const n=this.curves[e];t.curves.push(n.toJSON())}return t},fromJSON:function(t){Qw.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push((new px[n.type]).fromJSON(n))}return this}}),mx.prototype=Object.assign(Object.create(fx.prototype),{constructor:mx,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){const n=new cx(this.currentPoint.clone(),new Rp(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,n,i){const r=new ux(this.currentPoint.clone(),new Rp(t,e),new Rp(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(t,e,n,i,r,o){const g=new Cx(this.currentPoint.clone(),new Rp(t,e),new Rp(n,i),new Rp(r,o));return this.curves.push(g),this.currentPoint.set(r,o),this},splineThru:function(t){const e=new dx([this.currentPoint.clone()].concat(t));return this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,n,i,r,o){const g=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(t+g,e+s,n,i,r,o),this},absarc:function(t,e,n,i,r,o){return this.absellipse(t,e,n,n,i,r,o),this},ellipse:function(t,e,n,i,r,o,g,s){const a=this.currentPoint.x,A=this.currentPoint.y;return this.absellipse(t+a,e+A,n,i,r,o,g,s),this},absellipse:function(t,e,n,i,r,o,g,s){const a=new $w(t,e,n,i,r,o,g,s);if(this.curves.length>0){const t=a.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(a);const A=a.getPoint(1);return this.currentPoint.copy(A),this},copy:function(t){return fx.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){const t=fx.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return fx.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),vx.prototype=Object.assign(Object.create(mx.prototype),{constructor:vx,getPointsHoles:function(t){const e=[];for(let n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){mx.prototype.copy.call(this,t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push(n.clone())}return this},toJSON:function(){const t=mx.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++){const n=this.holes[e];t.holes.push(n.toJSON())}return t},fromJSON:function(t){mx.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push((new mx).fromJSON(n))}return this}}),yx.prototype=Object.assign(Object.create(Uf.prototype),{constructor:yx,isLight:!0,copy:function(t){return Uf.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){const e=Uf.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),bx.prototype=Object.assign(Object.create(yx.prototype),{constructor:bx,isHemisphereLight:!0,copy:function(t){return yx.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(_x.prototype,{_projScreenMatrix:new df,_lightPositionWorld:new Up,_lookTarget:new Up,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){const e=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(t.matrixWorld),e.position.copy(o),r.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(r),e.updateMatrixWorld(),i.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),wx.prototype=Object.assign(Object.create(_x.prototype),{constructor:wx,isSpotLightShadow:!0,updateMatrices:function(t){const e=this.camera,n=2*Tp.RAD2DEG*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix()),_x.prototype.updateMatrices.call(this,t)}}),xx.prototype=Object.assign(Object.create(yx.prototype),{constructor:xx,isSpotLight:!0,copy:function(t){return yx.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Sx.prototype=Object.assign(Object.create(_x.prototype),{constructor:Sx,isPointLightShadow:!0,updateMatrices:function(t,e=0){const n=this.camera,i=this.matrix,r=this._lightPositionWorld,o=this._lookTarget,g=this._projScreenMatrix;r.setFromMatrixPosition(t.matrixWorld),n.position.copy(r),o.copy(n.position),o.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(o),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),g.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(g)}}),Ex.prototype=Object.assign(Object.create(yx.prototype),{constructor:Ex,isPointLight:!0,copy:function(t){return yx.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Mx.prototype=Object.assign(Object.create(Cv.prototype),{constructor:Mx,isOrthographicCamera:!0,copy:function(t,e){return Cv.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-t,o=n+t,g=i+e,s=i-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=t*this.view.offsetX,o=r+t*this.view.width,g-=e*this.view.offsetY,s=g-e*this.view.height}this.projectionMatrix.makeOrthographic(r,o,g,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=Uf.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Tx.prototype=Object.assign(Object.create(_x.prototype),{constructor:Tx,isDirectionalLightShadow:!0,updateMatrices:function(t){_x.prototype.updateMatrices.call(this,t)}}),Rx.prototype=Object.assign(Object.create(yx.prototype),{constructor:Rx,isDirectionalLight:!0,copy:function(t){return yx.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Ox.prototype=Object.assign(Object.create(yx.prototype),{constructor:Ox,isAmbientLight:!0}),Lx.prototype=Object.assign(Object.create(yx.prototype),{constructor:Lx,isRectAreaLight:!0,copy:function(t){return yx.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){const e=yx.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});class Px{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new Up)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const n=t.x,i=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*i),e.addScaledVector(o[2],.488603*r),e.addScaledVector(o[3],.488603*n),e.addScaledVector(o[4],n*i*1.092548),e.addScaledVector(o[5],i*r*1.092548),e.addScaledVector(o[6],.315392*(3*r*r-1)),e.addScaledVector(o[7],n*r*1.092548),e.addScaledVector(o[8],.546274*(n*n-i*i)),e}getIrradianceAt(t,e){const n=t.x,i=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],1.023328*i),e.addScaledVector(o[2],1.023328*r),e.addScaledVector(o[3],1.023328*n),e.addScaledVector(o[4],.858086*n*i),e.addScaledVector(o[5],.858086*i*r),e.addScaledVector(o[6],.743125*r*r-.247708),e.addScaledVector(o[7],.858086*n*r),e.addScaledVector(o[8],.429043*(n*n-i*i)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this}toArray(t=[],e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}static getBasisAt(t,e){const n=t.x,i=t.y,r=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-i*i)}}function Nx(t,e){yx.call(this,void 0,e),this.type="LightProbe",this.sh=void 0!==t?t:new Px}function Dx(t){Gw.call(this,t),this.textures={}}Nx.prototype=Object.assign(Object.create(yx.prototype),{constructor:Nx,isLightProbe:!0,copy:function(t){return yx.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){const e=yx.prototype.toJSON.call(this,t);return e.object.sh=this.sh.toArray(),e}}),Dx.prototype=Object.assign(Object.create(Gw.prototype),{constructor:Dx,load:function(t,e,n,i){const r=this,o=new Vw(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(e){i?i(e):console.error(e),r.manager.itemError(t)}}),n,i)},parse:function(t){const e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}const i=new xw[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&void 0!==i.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.sheen&&(i.sheen=(new Am).setHex(t.sheen)),void 0!==t.emissive&&void 0!==i.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==i.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearcoat&&(i.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(i.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.combine&&(i.combine=t.combine),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(i.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(i.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(i.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(i.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(i.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(i.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(i.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(i.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),1!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(i.morphNormals=t.morphNormals),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.vertexTangents&&(i.vertexTangents=t.vertexTangents),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.toneMapped&&(i.toneMapped=t.toneMapped),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.vertexColors&&("number"==typeof t.vertexColors?i.vertexColors=t.vertexColors>0:i.vertexColors=t.vertexColors),void 0!==t.uniforms)for(const e in t.uniforms){const r=t.uniforms[e];switch(i.uniforms[e]={},r.type){case"t":i.uniforms[e].value=n(r.value);break;case"c":i.uniforms[e].value=(new Am).setHex(r.value);break;case"v2":i.uniforms[e].value=(new Rp).fromArray(r.value);break;case"v3":i.uniforms[e].value=(new Up).fromArray(r.value);break;case"v4":i.uniforms[e].value=(new jp).fromArray(r.value);break;case"m3":i.uniforms[e].value=(new Op).fromArray(r.value);break;case"m4":i.uniforms[e].value=(new df).fromArray(r.value);break;default:i.uniforms[e].value=r.value}}if(void 0!==t.defines&&(i.defines=t.defines),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(const e in t.extensions)i.extensions[e]=t.extensions[e];if(void 0!==t.shading&&(i.flatShading=1===t.shading),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=n(t.map)),void 0!==t.matcap&&(i.matcap=n(t.matcap)),void 0!==t.alphaMap&&(i.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(i.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),i.normalScale=(new Rp).fromArray(e)}return void 0!==t.displacementMap&&(i.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=n(t.specularMap)),void 0!==t.envMap&&(i.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(i.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(i.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(i.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(i.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(i.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(i.clearcoatNormalScale=(new Rp).fromArray(t.clearcoatNormalScale)),void 0!==t.transmission&&(i.transmission=t.transmission),void 0!==t.transmissionMap&&(i.transmissionMap=n(t.transmissionMap)),i},setTextures:function(t){return this.textures=t,this}});function kx(){Fm.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function jx(t,e,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),dm.call(this,t,e,n),this.meshPerAttribute=i||1}function Fx(t){Gw.call(this,t)}function Bx(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Gw.call(this,t),this.options={premultiplyAlpha:"none"}}function zx(){this.type="ShapePath",this.color=new Am,this.subPaths=[],this.currentPath=null}function Ux(t){this.type="Font",this.data=t}function Hx(t,e,n,i,r){const o=r.glyphs[t]||r.glyphs["?"];if(!o)return void console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".");const g=new zx;let s,a,A,C,I,c,l,u;if(o.o){const t=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let r=0,o=t.length;r<o;)switch(t[r++]){case"m":s=t[r++]*e+n,a=t[r++]*e+i,g.moveTo(s,a);break;case"l":s=t[r++]*e+n,a=t[r++]*e+i,g.lineTo(s,a);break;case"q":A=t[r++]*e+n,C=t[r++]*e+i,I=t[r++]*e+n,c=t[r++]*e+i,g.quadraticCurveTo(I,c,A,C);break;case"b":A=t[r++]*e+n,C=t[r++]*e+i,I=t[r++]*e+n,c=t[r++]*e+i,l=t[r++]*e+n,u=t[r++]*e+i,g.bezierCurveTo(I,c,l,u,A,C)}}return{offsetX:o.ha*e,path:g}}function Gx(t){Gw.call(this,t)}let Wx;kx.prototype=Object.assign(Object.create(Fm.prototype),{constructor:kx,isInstancedBufferGeometry:!0,copy:function(t){return Fm.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t=Fm.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),jx.prototype=Object.assign(Object.create(dm.prototype),{constructor:jx,isInstancedBufferAttribute:!0,copy:function(t){return dm.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){const t=dm.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),Fx.prototype=Object.assign(Object.create(Gw.prototype),{constructor:Fx,load:function(t,e,n,i){const r=this,o=new Vw(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(e){i?i(e):console.error(e),r.manager.itemError(t)}}),n,i)},parse:function(t){const e={},n={};function i(t,i){if(void 0!==e[i])return e[i];const r=t.interleavedBuffers[i],o=function(t,e){if(void 0!==n[e])return n[e];const i=t.arrayBuffers[e],r=new Uint32Array(i).buffer;return n[e]=r,r}(t,r.buffer),g=new Tb(Rm(r.type,o),r.stride);return g.uuid=r.uuid,e[i]=g,g}const r=t.isInstancedBufferGeometry?new kx:new Fm,o=t.data.index;if(void 0!==o){const t=Rm(o.type,o.array);r.setIndex(new dm(t,1))}const g=t.data.attributes;for(const e in g){const n=g[e];let o;if(n.isInterleavedBufferAttribute)o=new Ob(i(t.data,n.data),n.itemSize,n.offset,n.normalized);else{const t=Rm(n.type,n.array);o=new(n.isInstancedBufferAttribute?jx:dm)(t,n.itemSize,n.normalized)}void 0!==n.name&&(o.name=n.name),r.setAttribute(e,o)}const s=t.data.morphAttributes;if(s)for(const e in s){const n=s[e],o=[];for(let e=0,r=n.length;e<r;e++){const r=n[e];let g;g=r.isInterleavedBufferAttribute?new Ob(i(t.data,r.data),r.itemSize,r.offset,r.normalized):new dm(Rm(r.type,r.array),r.itemSize,r.normalized),void 0!==r.name&&(g.name=r.name),o.push(g)}r.morphAttributes[e]=o}t.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const a=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==a)for(let t=0,e=a.length;t!==e;++t){const e=a[t];r.addGroup(e.start,e.count,e.materialIndex)}const A=t.data.boundingSphere;if(void 0!==A){const t=new Up;void 0!==A.center&&t.fromArray(A.center),r.boundingSphere=new sf(t,A.radius)}return t.name&&(r.name=t.name),t.userData&&(r.userData=t.userData),r}}),Bx.prototype=Object.assign(Object.create(Gw.prototype),{constructor:Bx,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=Uw.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;const g={};g.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(t,g).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,r.options)})).then((function(n){Uw.add(t,n),e&&e(n),r.manager.itemEnd(t)})).catch((function(e){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)})),r.manager.itemStart(t)}}),Object.assign(zx.prototype,{moveTo:function(t,e){return this.currentPath=new mx,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,n,i){return this.currentPath.quadraticCurveTo(t,e,n,i),this},bezierCurveTo:function(t,e,n,i,r,o){return this.currentPath.bezierCurveTo(t,e,n,i,r,o),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function n(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n],r=new vx;r.curves=i.curves,e.push(r)}return e}function i(t,e){const n=e.length;let i=!1;for(let r=n-1,o=0;o<n;r=o++){let n=e[r],g=e[o],s=g.x-n.x,a=g.y-n.y;if(Math.abs(a)>Number.EPSILON){if(a<0&&(n=e[o],s=-s,g=e[r],a=-a),t.y<n.y||t.y>g.y)continue;if(t.y===n.y){if(t.x===n.x)return!0}else{const e=a*(t.x-n.x)-s*(t.y-n.y);if(0===e)return!0;if(e<0)continue;i=!i}}else{if(t.y!==n.y)continue;if(g.x<=t.x&&t.x<=n.x||n.x<=t.x&&t.x<=g.x)return!0}}return i}const r=ow.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return n(o);let g,s,a;const A=[];if(1===o.length)return s=o[0],a=new vx,a.curves=s.curves,A.push(a),A;let C=!r(o[0].getPoints());C=t?!C:C;const I=[],c=[];let l,u,h=[],d=0;c[d]=void 0,h[d]=[];for(let e=0,n=o.length;e<n;e++)s=o[e],l=s.getPoints(),g=r(l),g=t?!g:g,g?(!C&&c[d]&&d++,c[d]={s:new vx,p:l},c[d].s.curves=s.curves,C&&d++,h[d]=[]):h[d].push({h:s,p:l[0]});if(!c[0])return n(o);if(c.length>1){let t=!1;const e=[];for(let t=0,e=c.length;t<e;t++)I[t]=[];for(let n=0,r=c.length;n<r;n++){const r=h[n];for(let o=0;o<r.length;o++){const g=r[o];let s=!0;for(let r=0;r<c.length;r++)i(g.p,c[r].p)&&(n!==r&&e.push({froms:n,tos:r,hole:o}),s?(s=!1,I[r].push(g)):t=!0);s&&I[n].push(g)}}e.length>0&&(t||(h=I))}for(let t=0,e=c.length;t<e;t++){a=c[t].s,A.push(a),u=h[t];for(let t=0,e=u.length;t<e;t++)a.holes.push(u[t].h)}return A}}),Object.assign(Ux.prototype,{isFont:!0,generateShapes:function(t,e=100){const n=[],i=function(t,e,n){const i=Array.from?Array.from(t):String(t).split(""),r=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,g=[];let s=0,a=0;for(let t=0;t<i.length;t++){const e=i[t];if("\n"===e)s=0,a-=o;else{const t=Hx(e,r,s,a,n);s+=t.offsetX,g.push(t.path)}}return g}(t,e,this.data);for(let t=0,e=i.length;t<e;t++)Array.prototype.push.apply(n,i[t].toShapes());return n}}),Gx.prototype=Object.assign(Object.create(Gw.prototype),{constructor:Gx,load:function(t,e,n,i){const r=this,o=new Vw(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(t){let n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}const i=r.parse(n);e&&e(i)}),n,i)},parse:function(t){return new Ux(t)}});function Vx(t){Gw.call(this,t)}function Zx(t,e,n){Nx.call(this,void 0,n);const i=(new Am).set(t),r=(new Am).set(e),o=new Up(i.r,i.g,i.b),g=new Up(r.r,r.g,r.b),s=Math.sqrt(Math.PI),a=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(g).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(g).multiplyScalar(a)}function Yx(t,e){Nx.call(this,void 0,e);const n=(new Am).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Vx.prototype=Object.assign(Object.create(Gw.prototype),{constructor:Vx,load:function(t,e,n,i){const r=this,o=new Vw(r.manager);o.setResponseType("arraybuffer"),o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{const t=n.slice(0);(void 0===Wx&&(Wx=new(window.AudioContext||window.webkitAudioContext)),Wx).decodeAudioData(t,(function(t){e(t)}))}catch(e){i?i(e):console.error(e),r.manager.itemError(t)}}),n,i)}}),Zx.prototype=Object.assign(Object.create(Nx.prototype),{constructor:Zx,isHemisphereLightProbe:!0,copy:function(t){return Nx.prototype.copy.call(this,t),this},toJSON:function(t){return Nx.prototype.toJSON.call(this,t)}}),Yx.prototype=Object.assign(Object.create(Nx.prototype),{constructor:Yx,isAmbientLightProbe:!0,copy:function(t){return Nx.prototype.copy.call(this,t),this},toJSON:function(t){return Nx.prototype.toJSON.call(this,t)}});const Xx=new df,Jx=new df;Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Iv,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Iv,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}.prototype,{update:function(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;const n=t.projectionMatrix.clone(),i=e.eyeSep/2,r=i*e.near/e.focus,o=e.near*Math.tan(Tp.DEG2RAD*e.fov*.5)/e.zoom;let g,s;Jx.elements[12]=-i,Xx.elements[12]=i,g=-o*e.aspect+r,s=o*e.aspect+r,n.elements[0]=2*e.near/(s-g),n.elements[8]=(s+g)/(s-g),this.cameraL.projectionMatrix.copy(n),g=-o*e.aspect-r,s=o*e.aspect-r,n.elements[0]=2*e.near/(s-g),n.elements[8]=(s+g)/(s-g),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Jx),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Xx)}});function qx(t,e,n){let i,r,o;switch(this.binding=t,this.valueSize=n,e){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(qx.prototype,{accumulate:function(t,e){const n=this.buffer,i=this.valueSize,r=t*i+i;let o=this.cumulativeWeight;if(0===o){for(let t=0;t!==i;++t)n[r+t]=n[t];o=e}else{o+=e;const t=e/o;this._mixBufferRegion(n,r,0,t,i)}this.cumulativeWeight=o},accumulateAdditive:function(t){const e=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,i,0,t,n),this.cumulativeWeightAdditive+=t},apply:function(t){const e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,g=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const t=e*this._origIndex;this._mixBufferRegion(n,i,t,1-r,e)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*e,1,e);for(let t=e,r=e+e;t!==r;++t)if(n[t]!==n[t+e]){g.setValue(n,i);break}},saveOriginalState:function(){const t=this.binding,e=this.buffer,n=this.valueSize,i=n*this._origIndex;t.getValue(e,i);for(let t=n,r=i;t!==r;++t)e[t]=e[i+t%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_setAdditiveIdentityNumeric:function(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]},_select:function(t,e,n,i,r){if(i>=.5)for(let i=0;i!==r;++i)t[e+i]=t[n+i]},_slerp:function(t,e,n,i){zp.slerpFlat(t,e,t,e,t,n,i)},_slerpAdditive:function(t,e,n,i,r){const o=this._workIndex*r;zp.multiplyQuaternionsFlat(t,o,t,e,t,n),zp.slerpFlat(t,e,t,e,t,o,i)},_lerp:function(t,e,n,i,r){const o=1-i;for(let g=0;g!==r;++g){const r=e+g;t[r]=t[r]*o+t[n+g]*i}},_lerpAdditive:function(t,e,n,i,r){for(let o=0;o!==r;++o){const r=e+o;t[r]=t[r]+t[n+o]*i}}});const Kx=new RegExp("[\\[\\]\\.:\\/]","g"),Qx="[^\\[\\]\\.:\\/]",$x="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",tS=/((?:WC+[\/:])*)/.source.replace("WC",Qx),eS=/(WCOD+)?/.source.replace("WCOD",$x),nS=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Qx),iS=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Qx),rS=new RegExp("^"+tS+eS+nS+iS+"$"),oS=["material","materials","bones"];function gS(t,e,n){const i=n||sS.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}function sS(t,e,n){this.path=e,this.parsedPath=n||sS.parseTrackName(e),this.node=sS.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}Object.assign(gS.prototype,{getValue:function(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(t,e)},setValue:function(t,e){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(sS,{Composite:gS,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new sS.Composite(t,e,n):new sS(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(Kx,"")},parseTrackName:function(t){const e=rS.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const t=n.nodeName.substring(i+1);-1!==oS.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let i=0;i<t.length;i++){const r=t[i];if(r.name===e||r.uuid===e)return r;const o=n(r.children);if(o)return o}return null},i=n(t.children);if(i)return i}return null}}),Object.assign(sS.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){let t=this.node;const e=this.parsedPath,n=e.objectName,i=e.propertyName;let r=e.propertyIndex;if(t||(t=sS.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let i=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===i){i=e;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==i){if(void 0===t[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[i]}}const o=t[i];if(void 0===o){const n=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+i+" but it wasn't found.",t)}let g=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?g=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(g=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][g]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(sS.prototype,{_getValue_unbound:sS.prototype.getValue,_setValue_unbound:sS.prototype.setValue}),Object.assign(function(){this.uuid=Tp.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){const t=this._objects,e=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,o=r.length;let g,s=t.length,a=this.nCachedObjects_;for(let A=0,C=arguments.length;A!==C;++A){const C=arguments[A],I=C.uuid;let c=e[I];if(void 0===c){c=s++,e[I]=c,t.push(C);for(let t=0,e=o;t!==e;++t)r[t].push(new sS(C,n[t],i[t]))}else if(c<a){g=t[c];const s=--a,A=t[s];e[A.uuid]=c,t[c]=A,e[I]=s,t[s]=C;for(let t=0,e=o;t!==e;++t){const e=r[t],o=e[s];let g=e[c];e[c]=o,void 0===g&&(g=new sS(C,n[t],i[t])),e[s]=g}}else t[c]!==g&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=a},remove:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let o=0,g=arguments.length;o!==g;++o){const g=arguments[o],s=g.uuid,a=e[s];if(void 0!==a&&a>=r){const o=r++,A=t[o];e[A.uuid]=a,t[a]=A,e[s]=o,t[o]=g;for(let t=0,e=i;t!==e;++t){const e=n[t],i=e[o],r=e[a];e[a]=i,e[o]=r}}}this.nCachedObjects_=r},uncache:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,o=t.length;for(let g=0,s=arguments.length;g!==s;++g){const s=arguments[g].uuid,a=e[s];if(void 0!==a)if(delete e[s],a<r){const g=--r,s=t[g],A=--o,C=t[A];e[s.uuid]=a,t[a]=s,e[C.uuid]=g,t[g]=C,t.pop();for(let t=0,e=i;t!==e;++t){const e=n[t],i=e[g],r=e[A];e[a]=i,e[g]=r,e.pop()}}else{const r=--o,g=t[r];r>0&&(e[g.uuid]=a),t[a]=g,t.pop();for(let t=0,e=i;t!==e;++t){const e=n[t];e[a]=e[r],e.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){const n=this._bindingsIndicesByPath;let i=n[t];const r=this._bindings;if(void 0!==i)return r[i];const o=this._paths,g=this._parsedPaths,s=this._objects,a=s.length,A=this.nCachedObjects_,C=new Array(a);i=r.length,n[t]=i,o.push(t),g.push(e),r.push(C);for(let n=A,i=s.length;n!==i;++n){const i=s[n];C[n]=new sS(i,t,e)}return C},unsubscribe_:function(t){const e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){const i=this._paths,r=this._parsedPaths,o=this._bindings,g=o.length-1,s=o[g];e[t[g]]=n,o[n]=s,o.pop(),r[n]=r[g],r.pop(),i[n]=i[g],i.pop()}}});class aS{constructor(t,e,n=null,i=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=i;const r=e.tracks,o=r.length,g=new Array(o),s={endingStart:fp,endingEnd:fp};for(let t=0;t!==o;++t){const e=r[t].createInterpolant(null);g[t]=e,e.settings=s}this._interpolantSettings=s,this._interpolants=g,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){const n=this._clip.duration,i=t._clip.duration,r=i/n,o=n/i;t.warp(1,r,e),this.warp(o,1,e)}return this}crossFadeTo(t,e,n){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const i=this._mixer,r=i.time,o=this.timeScale;let g=this._timeScaleInterpolant;null===g&&(g=i._lendControlInterpolant(),this._timeScaleInterpolant=g);const s=g.parameterPositions,a=g.sampleValues;return s[0]=r,s[1]=r+n,a[0]=t/o,a[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,i){if(!this.enabled)return void this._updateWeight(t);const r=this._startTime;if(null!==r){const i=(t-r)*n;if(i<0||0===n)return;this._startTime=null,e=n*i}e*=this._updateTimeScale(t);const o=this._updateTime(e),g=this._updateWeight(t);if(g>0){const t=this._interpolants,e=this._propertyBindings;if(2501===this.blendMode)for(let n=0,i=t.length;n!==i;++n)t[n].evaluate(o),e[n].accumulateAdditive(g);else for(let n=0,r=t.length;n!==r;++n)t[n].evaluate(o),e[n].accumulate(i,g)}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(null!==n){const i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let i=this.time+t,r=this._loopCount;const o=2202===n;if(0===t)return-1===r?i:o&&1==(1&r)?e-i:i;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(i>=e)i=e;else{if(!(i<0)){this.time=i;break t}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),i>=e||i<0){const n=Math.floor(i/e);i-=e*n,r+=Math.abs(n);const g=this.repetitions-r;if(g<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=t>0?e:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===g){const e=t<0;this._setEndings(e,!e,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(o&&1==(1&r))return e-i}return i}_setEndings(t,e,n){const i=this._interpolantSettings;n?(i.endingStart=mp,i.endingEnd=mp):(i.endingStart=t?this.zeroSlopeAtStart?mp:fp:vp,i.endingEnd=e?this.zeroSlopeAtEnd?mp:fp:vp)}_scheduleFading(t,e,n){const i=this._mixer,r=i.time;let o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const g=o.parameterPositions,s=o.sampleValues;return g[0]=r,s[0]=e,g[1]=r+t,s[1]=n,this}}function AS(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}AS.prototype=Object.assign(Object.create(Sp.prototype),{constructor:AS,_bindAction:function(t,e){const n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,o=t._propertyBindings,g=t._interpolants,s=n.uuid,a=this._bindingsByRootAndName;let A=a[s];void 0===A&&(A={},a[s]=A);for(let t=0;t!==r;++t){const r=i[t],a=r.name;let C=A[a];if(void 0!==C)o[t]=C;else{if(C=o[t],void 0!==C){null===C._cacheIndex&&(++C.referenceCount,this._addInactiveBinding(C,s,a));continue}const i=e&&e._propertyBindings[t].binding.parsedPath;C=new qx(sS.create(n,a,i),r.ValueTypeName,r.getValueSize()),++C.referenceCount,this._addInactiveBinding(C,s,a),o[t]=C}g[t].resultBuffer=C.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){const i=this._actions,r=this._actionsByClip;let o=r[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=o;else{const e=o.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=i.length,i.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){const e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,o=this._actionsByClip,g=o[r],s=g.knownActions,a=s[s.length-1],A=t._byClipCacheIndex;a._byClipCacheIndex=A,s[A]=a,s.pop(),t._byClipCacheIndex=null,delete g.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(t){const e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackAction:function(t){const e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_addInactiveBinding:function(t,e,n){const i=this._bindingsByRootAndName,r=this._bindings;let o=i[e];void 0===o&&(o={},i[e]=o),o[n]=t,t._cacheIndex=r.length,r.push(t)},_removeInactiveBinding:function(t){const e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,g=o[i],s=e[e.length-1],a=t._cacheIndex;s._cacheIndex=a,e[a]=s,e.pop(),delete g[r],0===Object.keys(g).length&&delete o[i]},_lendBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_lendControlInterpolant:function(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return void 0===n&&(n=new Tw(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){const e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,n){const i=e||this._root,r=i.uuid;let o="string"==typeof t?Bw.findByName(i,t):t;const g=null!==o?o.uuid:t,s=this._actionsByClip[g];let a=null;if(void 0===n&&(n=null!==o?o.blendMode:2500),void 0!==s){const t=s.actionByRoot[r];if(void 0!==t&&t.blendMode===n)return t;a=s.knownActions[0],null===o&&(o=a._clip)}if(null===o)return null;const A=new aS(this,o,e,n);return this._bindAction(A,a),this._addInactiveAction(A,g,r),A},existingAction:function(t,e){const n=e||this._root,i=n.uuid,r="string"==typeof t?Bw.findByName(n,t):t,o=r?r.uuid:t,g=this._actionsByClip[o];return void 0!==g&&g.actionByRoot[i]||null},stopAllAction:function(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this},update:function(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,i=this.time+=t,r=Math.sign(t),o=this._accuIndex^=1;for(let g=0;g!==n;++g)e[g]._update(i,t,r,o);const g=this._bindings,s=this._nActiveBindings;for(let t=0;t!==s;++t)g[t].apply(o);return this},setTime:function(t){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){const e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){const t=r.knownActions;for(let n=0,i=t.length;n!==i;++n){const i=t[n];this._deactivateAction(i);const r=i._cacheIndex,o=e[e.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,o._cacheIndex=r,e[r]=o,e.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}},uncacheRoot:function(t){const e=t.uuid,n=this._actionsByClip;for(const t in n){const i=n[t].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}const i=this._bindingsByRootAndName[e];if(void 0!==i)for(const t in i){const e=i[t];e.restoreOriginalState(),this._removeInactiveBinding(e)}},uncacheAction:function(t,e){const n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});class CS{constructor(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new CS(void 0===this.value.clone?this.value:this.value.clone())}}function IS(t,e,n){Tb.call(this,t,e),this.meshPerAttribute=n||1}function cS(t,e,n,i,r){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}function lS(t,e,n,i){this.ray=new hf(t,e),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new Ef,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function uS(t,e){return t.distance-e.distance}function hS(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===i){const i=t.children;for(let t=0,r=i.length;t<r;t++)hS(i[t],e,n,!0)}}IS.prototype=Object.assign(Object.create(Tb.prototype),{constructor:IS,isInstancedInterleavedBuffer:!0,copy:function(t){return Tb.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){const e=Tb.prototype.clone.call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e},toJSON:function(t){const e=Tb.prototype.toJSON.call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}),Object.defineProperty(cS.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(cS.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}}),Object.assign(lS.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,n){const i=n||[];return hS(t,this,i,e),i.sort(uS),i},intersectObjects:function(t,e,n){const i=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let n=0,r=t.length;n<r;n++)hS(t[n],this,i,e);return i.sort(uS),i}});class dS{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}clone(){return(new this.constructor).copy(this)}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(Tp.clamp(e/this.radius,-1,1))),this}}const pS=new Rp;function fS(t){Uf.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}fS.prototype=Object.create(Uf.prototype),fS.prototype.constructor=fS,fS.prototype.isImmediateRenderObject=!0;const mS=new Up,vS=new df,yS=new df;function bS(t){const e=[];t&&t.isBone&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,bS(t.children[n]));return e}const _S=new Float32Array(1),wS=(new Int32Array(_S.buffer),Math.pow(2,8),[.125,.215,.35,.446,.526,.582]),xS=5+wS.length,{_lodPlanes:SS,_sizeLods:ES,_sigmas:MS}=TS();function TS(){const t=[],e=[],n=[];let i=8;for(let r=0;r<xS;r++){const o=Math.pow(2,i);e.push(o);let g=1/o;r>4?g=wS[r-8+4-1]:0==r&&(g=0),n.push(g);const s=1/(o-1),a=-s/2,A=1+s/2,C=[a,a,A,a,A,A,a,a,A,A,a,A],I=6,c=6,l=3,u=2,h=1,d=new Float32Array(l*c*I),p=new Float32Array(u*c*I),f=new Float32Array(h*c*I);for(let t=0;t<I;t++){const e=t%3*2/3-1,n=t>2?0:-1,i=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];d.set(i,l*c*t),p.set(C,u*c*t);const r=[t,t,t,t,t,t];f.set(r,h*c*t)}const m=new Fm;m.setAttribute("position",new dm(d,l)),m.setAttribute("uv",new dm(p,u)),m.setAttribute("faceIndex",new dm(f,h)),t.push(m),i>4&&i--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}function RS(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),gx.call(this,t),this.type="catmullrom"}Math.sqrt(5),Qw.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Qw.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(fx.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=new P_;for(let n=0,i=t.length;n<i;n++){const i=t[n];e.vertices.push(new Up(i.x,i.y,i.z||0))}return e}}),Object.assign(mx.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),Object.create(gx.prototype),Object.create(gx.prototype),RS.prototype=Object.create(gx.prototype),Object.assign(RS.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),class extends d_{constructor(t=10,e=10,n=4473924,i=8947848){n=new Am(n),i=new Am(i);const r=e/2,o=t/e,g=t/2,s=[],a=[];for(let t=0,A=0,C=-g;t<=e;t++,C+=o){s.push(-g,0,C,g,0,C),s.push(C,0,-g,C,0,g);const e=t===r?n:i;e.toArray(a,A),A+=3,e.toArray(a,A),A+=3,e.toArray(a,A),A+=3,e.toArray(a,A),A+=3}const A=new Fm;A.setAttribute("position",new xm(s,3)),A.setAttribute("color",new xm(a,3)),super(A,new s_({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class extends d_{constructor(t){const e=bS(t),n=new Fm,i=[],r=[],o=new Am(0,0,1),g=new Am(0,1,0);for(let t=0;t<e.length;t++){const n=e[t];n.parent&&n.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(o.r,o.g,o.b),r.push(g.r,g.g,g.b))}n.setAttribute("position",new xm(i,3)),n.setAttribute("color",new xm(r,3)),super(n,new s_({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,n=this.geometry,i=n.getAttribute("position");yS.copy(this.root.matrixWorld).invert();for(let t=0,n=0;t<e.length;t++){const r=e[t];r.parent&&r.parent.isBone&&(vS.multiplyMatrices(yS,r.matrixWorld),mS.setFromMatrixPosition(vS),i.setXYZ(n,mS.x,mS.y,mS.z),vS.multiplyMatrices(yS,r.parent.matrixWorld),mS.setFromMatrixPosition(vS),i.setXYZ(n+1,mS.x,mS.y,mS.z),n+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Gw.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),function(t){const e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}(t)}}),Gw.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(class{constructor(t,e){Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==t?t:new Rp(1/0,1/0),this.max=void 0!==e?e:new Rp(-1/0,-1/0)}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=pS.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new Rp),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new Rp),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new Rp),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new Rp),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return pS.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Wp.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(sf.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),mv.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},Object.assign(Tp,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Tp.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Tp.ceilPowerOfTwo(t)}}),Object.assign(Op.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Object.assign(df.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Up).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,i,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,o)},getInverse:function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Vf.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Object.assign(zp.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(hf.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(nm.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(nm,{barycoordFromPoint:function(t,e,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),nm.getBarycoord(t,e,n,i,r)},normal:function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),nm.getNormal(t,e,n,i)}}),Object.assign(vx.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Cw(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new uw(this,t)}}),Object.assign(Rp.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Up.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(jp.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(P_.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.assign(Uf.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(Uf.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(nv.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(nv.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(qb.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(e_.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Kb.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Qw.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Iv.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(yx.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(dm.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===wp},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(wp)}}}),Object.assign(dm.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?wp:_p),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Fm.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new dm(arguments[1],arguments[2])))},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(Fm.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(kx.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Object.defineProperties(lS.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Object.defineProperties(Tb.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===wp},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(Tb.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?wp:_p),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(aw.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign(Mb.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(CS.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(cm.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Am}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(mw.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(fw.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}}),Object.defineProperties(Av.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Sb.prototype,{clearTarget:function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Sb.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?3001:yp}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(pb.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Fp.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(class extends Uf{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return(new Vx).load(t,(function(t){e.setBuffer(t)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),lv.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},lv.prototype.clear=function(t,e,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,i)},Pp.crossOrigin=void 0,Pp.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new Kw;r.setCrossOrigin(this.crossOrigin);const o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},Pp.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new Jw;r.setCrossOrigin(this.crossOrigin);const o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},Pp.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Pp.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"123"}}));var OS=function(t,e){var n,i,r,o,g,s;void 0===e&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=e,this.enabled=!0,this.target=new Up,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return h.phi},this.getAzimuthalAngle=function(){return h.theta},this.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object.zoom},this.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(A),a.update(),l=c.NONE},this.update=(n=new Up,i=(new zp).setFromUnitVectors(t.up,new Up(0,1,0)),r=i.clone().invert(),o=new Up,g=new zp,s=2*Math.PI,function(){var t=a.object.position;n.copy(t).sub(a.target),n.applyQuaternion(i),h.setFromVector3(n),a.autoRotate&&l===c.NONE&&R(2*Math.PI/60/60*a.autoRotateSpeed),a.enableDamping?(h.theta+=d.theta*a.dampingFactor,h.phi+=d.phi*a.dampingFactor):(h.theta+=d.theta,h.phi+=d.phi);var e=a.minAzimuthAngle,C=a.maxAzimuthAngle;return isFinite(e)&&isFinite(C)&&(e<-Math.PI?e+=s:e>Math.PI&&(e-=s),C<-Math.PI?C+=s:C>Math.PI&&(C-=s),h.theta=e<=C?Math.max(e,Math.min(C,h.theta)):h.theta>(e+C)/2?Math.max(e,h.theta):Math.min(C,h.theta)),h.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=p,h.radius=Math.max(a.minDistance,Math.min(a.maxDistance,h.radius)),!0===a.enableDamping?a.target.addScaledVector(f,a.dampingFactor):a.target.add(f),n.setFromSpherical(h),n.applyQuaternion(r),t.copy(a.target).add(n),a.object.lookAt(a.target),!0===a.enableDamping?(d.theta*=1-a.dampingFactor,d.phi*=1-a.dampingFactor,f.multiplyScalar(1-a.dampingFactor)):(d.set(0,0,0),f.set(0,0,0)),p=1,!!(m||o.distanceToSquared(a.object.position)>u||8*(1-g.dot(a.object.quaternion))>u)&&(a.dispatchEvent(A),o.copy(a.object.position),g.copy(a.object.quaternion),m=!1,!0)}),this.dispose=function(){a.domElement.removeEventListener("contextmenu",tt,!1),a.domElement.removeEventListener("pointerdown",Z,!1),a.domElement.removeEventListener("wheel",J,!1),a.domElement.removeEventListener("touchstart",K,!1),a.domElement.removeEventListener("touchend",$,!1),a.domElement.removeEventListener("touchmove",Q,!1),a.domElement.ownerDocument.removeEventListener("pointermove",Y,!1),a.domElement.ownerDocument.removeEventListener("pointerup",X,!1),a.domElement.removeEventListener("keydown",q,!1)};var a=this,A={type:"change"},C={type:"start"},I={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},l=c.NONE,u=1e-6,h=new dS,d=new dS,p=1,f=new Up,m=!1,v=new Rp,y=new Rp,b=new Rp,_=new Rp,w=new Rp,x=new Rp,S=new Rp,E=new Rp,M=new Rp;function T(){return Math.pow(.95,a.zoomSpeed)}function R(t){d.theta-=t}function O(t){d.phi-=t}var L,P=(L=new Up,function(t,e){L.setFromMatrixColumn(e,0),L.multiplyScalar(-t),f.add(L)}),N=function(){var t=new Up;return function(e,n){!0===a.screenSpacePanning?t.setFromMatrixColumn(n,1):(t.setFromMatrixColumn(n,0),t.crossVectors(a.object.up,t)),t.multiplyScalar(e),f.add(t)}}(),D=function(){var t=new Up;return function(e,n){var i=a.domElement;if(a.object.isPerspectiveCamera){var r=a.object.position;t.copy(r).sub(a.target);var o=t.length();o*=Math.tan(a.object.fov/2*Math.PI/180),P(2*e*o/i.clientHeight,a.object.matrix),N(2*n*o/i.clientHeight,a.object.matrix)}else a.object.isOrthographicCamera?(P(e*(a.object.right-a.object.left)/a.object.zoom/i.clientWidth,a.object.matrix),N(n*(a.object.top-a.object.bottom)/a.object.zoom/i.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function k(t){a.object.isPerspectiveCamera?p/=t:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*t)),a.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function j(t){a.object.isPerspectiveCamera?p*=t:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/t)),a.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function F(t){v.set(t.clientX,t.clientY)}function B(t){_.set(t.clientX,t.clientY)}function z(t){if(1==t.touches.length)v.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);v.set(e,n)}}function U(t){if(1==t.touches.length)_.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);_.set(e,n)}}function H(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+n*n);S.set(0,i)}function G(t){if(1==t.touches.length)y.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);y.set(e,n)}b.subVectors(y,v).multiplyScalar(a.rotateSpeed);var i=a.domElement;R(2*Math.PI*b.x/i.clientHeight),O(2*Math.PI*b.y/i.clientHeight),v.copy(y)}function W(t){if(1==t.touches.length)w.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);w.set(e,n)}x.subVectors(w,_).multiplyScalar(a.panSpeed),D(x.x,x.y),_.copy(w)}function V(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+n*n);E.set(0,i),M.set(0,Math.pow(E.y/S.y,a.zoomSpeed)),k(M.y),S.copy(E)}function Z(t){if(!1!==a.enabled)switch(t.pointerType){case"mouse":case"pen":!function(t){var e;switch(t.preventDefault(),a.domElement.focus?a.domElement.focus():window.focus(),t.button){case 0:e=a.mouseButtons.LEFT;break;case 1:e=a.mouseButtons.MIDDLE;break;case 2:e=a.mouseButtons.RIGHT;break;default:e=-1}switch(e){case 1:if(!1===a.enableZoom)return;!function(t){S.set(t.clientX,t.clientY)}(t),l=c.DOLLY;break;case 0:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===a.enablePan)return;B(t),l=c.PAN}else{if(!1===a.enableRotate)return;F(t),l=c.ROTATE}break;case 2:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===a.enableRotate)return;F(t),l=c.ROTATE}else{if(!1===a.enablePan)return;B(t),l=c.PAN}break;default:l=c.NONE}l!==c.NONE&&(a.domElement.ownerDocument.addEventListener("pointermove",Y,!1),a.domElement.ownerDocument.addEventListener("pointerup",X,!1),a.dispatchEvent(C))}(t)}}function Y(t){if(!1!==a.enabled)switch(t.pointerType){case"mouse":case"pen":!function(t){if(!1!==a.enabled)switch(t.preventDefault(),l){case c.ROTATE:if(!1===a.enableRotate)return;!function(t){y.set(t.clientX,t.clientY),b.subVectors(y,v).multiplyScalar(a.rotateSpeed);var e=a.domElement;R(2*Math.PI*b.x/e.clientHeight),O(2*Math.PI*b.y/e.clientHeight),v.copy(y),a.update()}(t);break;case c.DOLLY:if(!1===a.enableZoom)return;!function(t){E.set(t.clientX,t.clientY),M.subVectors(E,S),M.y>0?k(T()):M.y<0&&j(T()),S.copy(E),a.update()}(t);break;case c.PAN:if(!1===a.enablePan)return;!function(t){w.set(t.clientX,t.clientY),x.subVectors(w,_).multiplyScalar(a.panSpeed),D(x.x,x.y),_.copy(w),a.update()}(t)}}(t)}}function X(t){switch(t.pointerType){case"mouse":case"pen":a.domElement.ownerDocument.removeEventListener("pointermove",Y,!1),a.domElement.ownerDocument.removeEventListener("pointerup",X,!1),!1!==a.enabled&&(a.dispatchEvent(I),l=c.NONE)}}function J(t){!1===a.enabled||!1===a.enableZoom||l!==c.NONE&&l!==c.ROTATE||(t.preventDefault(),t.stopPropagation(),a.dispatchEvent(C),function(t){t.deltaY<0?j(T()):t.deltaY>0&&k(T()),a.update()}(t),a.dispatchEvent(I))}function q(t){!1!==a.enabled&&!1!==a.enableKeys&&!1!==a.enablePan&&function(t){var e=!1;switch(t.keyCode){case a.keys.UP:D(0,a.keyPanSpeed),e=!0;break;case a.keys.BOTTOM:D(0,-a.keyPanSpeed),e=!0;break;case a.keys.LEFT:D(a.keyPanSpeed,0),e=!0;break;case a.keys.RIGHT:D(-a.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),a.update())}(t)}function K(t){if(!1!==a.enabled){switch(t.preventDefault(),t.touches.length){case 1:switch(a.touches.ONE){case 0:if(!1===a.enableRotate)return;z(t),l=c.TOUCH_ROTATE;break;case 1:if(!1===a.enablePan)return;U(t),l=c.TOUCH_PAN;break;default:l=c.NONE}break;case 2:switch(a.touches.TWO){case 2:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(t){a.enableZoom&&H(t),a.enablePan&&U(t)}(t),l=c.TOUCH_DOLLY_PAN;break;case 3:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(t){a.enableZoom&&H(t),a.enableRotate&&z(t)}(t),l=c.TOUCH_DOLLY_ROTATE;break;default:l=c.NONE}break;default:l=c.NONE}l!==c.NONE&&a.dispatchEvent(C)}}function Q(t){if(!1!==a.enabled)switch(t.preventDefault(),t.stopPropagation(),l){case c.TOUCH_ROTATE:if(!1===a.enableRotate)return;G(t),a.update();break;case c.TOUCH_PAN:if(!1===a.enablePan)return;W(t),a.update();break;case c.TOUCH_DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(t){a.enableZoom&&V(t),a.enablePan&&W(t)}(t),a.update();break;case c.TOUCH_DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(t){a.enableZoom&&V(t),a.enableRotate&&G(t)}(t),a.update();break;default:l=c.NONE}}function $(t){!1!==a.enabled&&(a.dispatchEvent(I),l=c.NONE)}function tt(t){!1!==a.enabled&&t.preventDefault()}a.domElement.addEventListener("contextmenu",tt,!1),a.domElement.addEventListener("pointerdown",Z,!1),a.domElement.addEventListener("wheel",J,!1),a.domElement.addEventListener("touchstart",K,!1),a.domElement.addEventListener("touchend",$,!1),a.domElement.addEventListener("touchmove",Q,!1),a.domElement.addEventListener("keydown",q,!1),this.update()};(OS.prototype=Object.create(Sp.prototype)).constructor=OS;var LS=function(t,e){OS.call(this,t,e),this.screenSpacePanning=!1,this.mouseButtons.LEFT=2,this.mouseButtons.RIGHT=0,this.touches.ONE=1,this.touches.TWO=3};function PS(t,e,n){var i,r,o,g;return(i=new Iv(70,window.innerWidth/window.innerHeight,.01,10)).position.z=1,r=new Mb,g=new nv(new N_(.2,.2,.2),new yw),r.add(g),(o=new Sb({antialias:!0})).setSize(e.width,e.height),new OS(i,o.domElement).addEventListener("change",(function(){o.render(r,i),n.postMessage(JSON.parse(JSON.stringify(i.position)))})),o.render(r,i),t.appendChild(o.domElement),function(t){i.position.x=t.x,i.position.y=t.y,i.position.z=t.z,i.lookAt(r.position),o.render(r,i)}}(LS.prototype=Object.create(Sp.prototype)).constructor=LS;var NS=function(t,e){return function(e,n){e.setState(n);var i=r(e),o=new Ft,g=new Fh(t.bridge,o,n,(function(t){n.io=t}));i.appendChild(g);var s=document.createElement("hr");i.appendChild(s);var a=document.createElement("div");a.style.position="relative",i.appendChild(a);var A=PS(a,e,o);return e.on("resize",(function(){a.innerHTML="",A=PS(a,e,o)})),o.onMessage=function(t,e){"x"in t&&"y"in t&&"z"in t&&A(t)},function(){o.close()}}};var DS=new p;DS.Register(Id),DS.Register(Nd),DS.Register(Qd),DS.Register(new tt("ThreeJS-Demo","0.0.1",NS,{},[]));const kS=DS;function jS(t){return jS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jS(t)}function FS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function zS(t,e,n){return zS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=GS(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},zS(t,e,n||t)}function US(t,e){return US=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},US(t,e)}function HS(t,e){if(e&&("object"===jS(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function GS(t){return GS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},GS(t)}var WS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&US(t,e)}(g,t);var e,n,i,r,o=(i=g,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=GS(i);if(r){var n=GS(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return HS(this,t)});function g(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sand";return FS(this,g),(t=o.call(this,e+"-center")).namespace=e,t.core={namespace:e},t.packages=kS,t.layouts=cI,t}return e=g,(n=[{key:"destroy",value:function(){this.namespace=null,this.core=null,this.packages=null,zS(GS(g.prototype),"distroy",this).call(this)}},{key:"init",value:function(){var t=this;this._initServices().then((function(e){t.emit("inited")}))}},{key:"_initPackages",value:function(){}},{key:"_initServices",value:function(){var t=this.core,e=zc.List().map((function(e){var n;return(n="init"in e&&"options"in e?new e.init(t,e.options):new e(t)).init().then((function(t){n.start()}))}));return Promise.all(e)}},{key:"createLayout",value:function(t){var e=this.layouts.Get(t);if(null==e)return null;var n=new e(this.namespace);return n.layouts=this.layouts.ListKeys(),n.namespace=this.namespace,n.core=this.core,n.packages=this.packages,n}}])&&BS(e.prototype,n),g}(i.EventEmitter);const VS=WS;function ZS(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}},6266:(t,e,n)=>{n(5767),n(8132),n(8388),n(7470),n(4882),n(1520),n(7476),n(9622),n(9375),n(3533),n(4672),n(4157),n(5095),n(9892),n(5115),n(9176),n(8838),n(6253),n(9730),n(6059),n(8377),n(1084),n(4299),n(1246),n(726),n(1901),n(5972),n(3403),n(2516),n(9371),n(6479),n(1736),n(1889),n(5177),n(6943),n(6503),n(6786),n(932),n(7526),n(1591),n(9073),n(347),n(579),n(4669),n(7710),n(5789),n(3514),n(9978),n(8472),n(6946),n(5068),n(413),n(191),n(8306),n(4564),n(9115),n(9539),n(6620),n(2850),n(823),n(7732),n(856),n(703),n(1539),n(5292),n(6629),n(3694),n(7648),n(7795),n(4531),n(3605),n(6780),n(9937),n(511),n(1822),n(9977),n(1031),n(6331),n(1560),n(774),n(522),n(8295),n(7842),n(110),n(75),n(4336),n(1802),n(8837),n(6773),n(5745),n(3057),n(3750),n(3369),n(9564),n(2e3),n(8977),n(2310),n(4899),n(1842),n(6997),n(3946),n(8269),n(6108),n(6774),n(1466),n(9357),n(6142),n(1876),n(851),n(8416),n(8184),n(147),n(9192),n(142),n(1786),n(5368),n(6964),n(2152),n(4821),n(9103),n(1303),n(3318),n(162),n(3834),n(1572),n(2139),n(685),n(5535),n(7347),n(3049),n(6633),n(8989),n(8270),n(4510),n(3984),n(5769),n(55),n(6014),t.exports=n(5645)},911:(t,e,n)=>{n(1268),t.exports=n(5645).Array.flatMap},990:(t,e,n)=>{n(2773),t.exports=n(5645).Array.includes},5434:(t,e,n)=>{n(3276),t.exports=n(5645).Object.entries},8051:(t,e,n)=>{n(8351),t.exports=n(5645).Object.getOwnPropertyDescriptors},8250:(t,e,n)=>{n(6409),t.exports=n(5645).Object.values},4952:(t,e,n)=>{"use strict";n(851),n(9865),t.exports=n(5645).Promise.finally},6197:(t,e,n)=>{n(2770),t.exports=n(5645).String.padEnd},4160:(t,e,n)=>{n(1784),t.exports=n(5645).String.padStart},4039:(t,e,n)=>{n(4325),t.exports=n(5645).String.trimRight},6728:(t,e,n)=>{n(5869),t.exports=n(5645).String.trimLeft},3568:(t,e,n)=>{n(9665),t.exports=n(8787).f("asyncIterator")},115:(t,e,n)=>{n(4579),t.exports=n(1327).global},5663:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},2159:(t,e,n)=>{var i=n(6727);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},1327:t=>{var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},9216:(t,e,n)=>{var i=n(5663);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},9666:(t,e,n)=>{t.exports=!n(7929)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},7467:(t,e,n)=>{var i=n(6727),r=n(3938).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},3856:(t,e,n)=>{var i=n(3938),r=n(1327),o=n(9216),g=n(1818),s=n(7069),a=function(t,e,n){var A,C,I,c=t&a.F,l=t&a.G,u=t&a.S,h=t&a.P,d=t&a.B,p=t&a.W,f=l?r:r[e]||(r[e]={}),m=f.prototype,v=l?i:u?i[e]:(i[e]||{}).prototype;for(A in l&&(n=e),n)(C=!c&&v&&void 0!==v[A])&&s(f,A)||(I=C?v[A]:n[A],f[A]=l&&"function"!=typeof v[A]?n[A]:d&&C?o(I,i):p&&v[A]==I?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(I):h&&"function"==typeof I?o(Function.call,I):I,h&&((f.virtual||(f.virtual={}))[A]=I,t&a.R&&m&&!m[A]&&g(m,A,I)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},7929:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},3938:t=>{var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},7069:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},1818:(t,e,n)=>{var i=n(4743),r=n(3101);t.exports=n(9666)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},3758:(t,e,n)=>{t.exports=!n(9666)&&!n(7929)((function(){return 7!=Object.defineProperty(n(7467)("div"),"a",{get:function(){return 7}}).a}))},6727:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},4743:(t,e,n)=>{var i=n(2159),r=n(3758),o=n(3206),g=Object.defineProperty;e.f=n(9666)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return g(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},3101:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},3206:(t,e,n)=>{var i=n(6727);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},4579:(t,e,n)=>{var i=n(3856);i(i.G,{global:n(3938)})},4963:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},3365:(t,e,n)=>{var i=n(2032);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},7722:(t,e,n)=>{var i=n(6314)("unscopables"),r=Array.prototype;null==r[i]&&n(7728)(r,i,{}),t.exports=function(t){r[i][t]=!0}},6793:(t,e,n)=>{"use strict";var i=n(4496)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},3328:t=>{t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},7007:(t,e,n)=>{var i=n(5286);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},5216:(t,e,n)=>{"use strict";var i=n(508),r=n(2337),o=n(875);t.exports=[].copyWithin||function(t,e){var n=i(this),g=o(n.length),s=r(t,g),a=r(e,g),A=arguments.length>2?arguments[2]:void 0,C=Math.min((void 0===A?g:r(A,g))-a,g-s),I=1;for(a<s&&s<a+C&&(I=-1,a+=C-1,s+=C-1);C-- >0;)a in n?n[s]=n[a]:delete n[s],s+=I,a+=I;return n}},6852:(t,e,n)=>{"use strict";var i=n(508),r=n(2337),o=n(875);t.exports=function(t){for(var e=i(this),n=o(e.length),g=arguments.length,s=r(g>1?arguments[1]:void 0,n),a=g>2?arguments[2]:void 0,A=void 0===a?n:r(a,n);A>s;)e[s++]=t;return e}},9315:(t,e,n)=>{var i=n(2110),r=n(875),o=n(2337);t.exports=function(t){return function(e,n,g){var s,a=i(e),A=r(a.length),C=o(g,A);if(t&&n!=n){for(;A>C;)if((s=a[C++])!=s)return!0}else for(;A>C;C++)if((t||C in a)&&a[C]===n)return t||C||0;return!t&&-1}}},50:(t,e,n)=>{var i=n(741),r=n(9797),o=n(508),g=n(875),s=n(6886);t.exports=function(t,e){var n=1==t,a=2==t,A=3==t,C=4==t,I=6==t,c=5==t||I,l=e||s;return function(e,s,u){for(var h,d,p=o(e),f=r(p),m=i(s,u,3),v=g(f.length),y=0,b=n?l(e,v):a?l(e,0):void 0;v>y;y++)if((c||y in f)&&(d=m(h=f[y],y,p),t))if(n)b[y]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:b.push(h)}else if(C)return!1;return I?-1:A||C?C:b}}},7628:(t,e,n)=>{var i=n(4963),r=n(508),o=n(9797),g=n(875);t.exports=function(t,e,n,s,a){i(e);var A=r(t),C=o(A),I=g(A.length),c=a?I-1:0,l=a?-1:1;if(n<2)for(;;){if(c in C){s=C[c],c+=l;break}if(c+=l,a?c<0:I<=c)throw TypeError("Reduce of empty array with no initial value")}for(;a?c>=0:I>c;c+=l)c in C&&(s=e(s,C[c],c,A));return s}},2736:(t,e,n)=>{var i=n(5286),r=n(4302),o=n(6314)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},6886:(t,e,n)=>{var i=n(2736);t.exports=function(t,e){return new(i(t))(e)}},4398:(t,e,n)=>{"use strict";var i=n(4963),r=n(5286),o=n(7242),g=[].slice,s={},a=function(t,e,n){if(!(e in s)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";s[e]=Function("F,a","return new F("+i.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=g.call(arguments,1),s=function(){var i=n.concat(g.call(arguments));return this instanceof s?a(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(s.prototype=e.prototype),s}},1488:(t,e,n)=>{var i=n(2032),r=n(6314)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,g;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(g=i(e))&&"function"==typeof e.callee?"Arguments":g}},2032:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},9824:(t,e,n)=>{"use strict";var i=n(9275).f,r=n(2503),o=n(4408),g=n(741),s=n(3328),a=n(3531),A=n(2923),C=n(5436),I=n(2974),c=n(7057),l=n(4728).fastKey,u=n(1616),h=c?"_s":"size",d=function(t,e){var n,i=l(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,A){var C=t((function(t,i){s(t,C,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[h]=0,null!=i&&a(i,n,t[A],t)}));return o(C.prototype,{clear:function(){for(var t=u(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[h]=0},delete:function(t){var n=u(this,e),i=d(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[h]--}return!!i},forEach:function(t){u(this,e);for(var n,i=g(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!d(u(this,e),t)}}),c&&i(C.prototype,"size",{get:function(){return u(this,e)[h]}}),C},def:function(t,e,n){var i,r,o=d(t,e);return o?o.v=n:(t._l=o={i:r=l(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[h]++,"F"!==r&&(t._i[r]=o)),t},getEntry:d,setStrong:function(t,e,n){A(t,e,(function(t,n){this._t=u(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?C(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,C(1))}),n?"entries":"values",!n,!0),I(e)}}},3657:(t,e,n)=>{"use strict";var i=n(4408),r=n(4728).getWeak,o=n(7007),g=n(5286),s=n(3328),a=n(3531),A=n(50),C=n(9181),I=n(1616),c=A(5),l=A(6),u=0,h=function(t){return t._l||(t._l=new d)},d=function(){this.a=[]},p=function(t,e){return c(t.a,(function(t){return t[0]===e}))};d.prototype={get:function(t){var e=p(this,t);if(e)return e[1]},has:function(t){return!!p(this,t)},set:function(t,e){var n=p(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=l(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var A=t((function(t,i){s(t,A,e,"_i"),t._t=e,t._i=u++,t._l=void 0,null!=i&&a(i,n,t[o],t)}));return i(A.prototype,{delete:function(t){if(!g(t))return!1;var n=r(t);return!0===n?h(I(this,e)).delete(t):n&&C(n,this._i)&&delete n[this._i]},has:function(t){if(!g(t))return!1;var n=r(t);return!0===n?h(I(this,e)).has(t):n&&C(n,this._i)}}),A},def:function(t,e,n){var i=r(o(e),!0);return!0===i?h(t).set(e,n):i[t._i]=n,t},ufstore:h}},5795:(t,e,n)=>{"use strict";var i=n(3816),r=n(2985),o=n(7234),g=n(4408),s=n(4728),a=n(3531),A=n(3328),C=n(5286),I=n(4253),c=n(7462),l=n(2943),u=n(266);t.exports=function(t,e,n,h,d,p){var f=i[t],m=f,v=d?"set":"add",y=m&&m.prototype,b={},_=function(t){var e=y[t];o(y,t,"delete"==t||"has"==t?function(t){return!(p&&!C(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return p&&!C(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof m&&(p||y.forEach&&!I((function(){(new m).entries().next()})))){var w=new m,x=w[v](p?{}:-0,1)!=w,S=I((function(){w.has(1)})),E=c((function(t){new m(t)})),M=!p&&I((function(){for(var t=new m,e=5;e--;)t[v](e,e);return!t.has(-0)}));E||((m=e((function(e,n){A(e,m,t);var i=u(new f,e,m);return null!=n&&a(n,d,i[v],i),i}))).prototype=y,y.constructor=m),(S||M)&&(_("delete"),_("has"),d&&_("get")),(M||x)&&_(v),p&&y.clear&&delete y.clear}else m=h.getConstructor(e,t,d,v),g(m.prototype,n),s.NEED=!0;return l(m,t),b[t]=m,r(r.G+r.W+r.F*(m!=f),b),p||h.setStrong(m,t,d),m}},5645:t=>{var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},2811:(t,e,n)=>{"use strict";var i=n(9275),r=n(681);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},741:(t,e,n)=>{var i=n(4963);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},3537:(t,e,n)=>{"use strict";var i=n(4253),r=Date.prototype.getTime,o=Date.prototype.toISOString,g=function(t){return t>9?t:"0"+t};t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!i((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+g(t.getUTCMonth()+1)+"-"+g(t.getUTCDate())+"T"+g(t.getUTCHours())+":"+g(t.getUTCMinutes())+":"+g(t.getUTCSeconds())+"."+(n>99?n:"0"+g(n))+"Z"}:o},870:(t,e,n)=>{"use strict";var i=n(7007),r=n(1689),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),t!=o)}},1355:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},7057:(t,e,n)=>{t.exports=!n(4253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},2457:(t,e,n)=>{var i=n(5286),r=n(3816).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},4430:t=>{t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5541:(t,e,n)=>{var i=n(7184),r=n(4548),o=n(4682);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var g,s=n(t),a=o.f,A=0;s.length>A;)a.call(t,g=s[A++])&&e.push(g);return e}},2985:(t,e,n)=>{var i=n(3816),r=n(5645),o=n(7728),g=n(7234),s=n(741),a=function(t,e,n){var A,C,I,c,l=t&a.F,u=t&a.G,h=t&a.S,d=t&a.P,p=t&a.B,f=u?i:h?i[e]||(i[e]={}):(i[e]||{}).prototype,m=u?r:r[e]||(r[e]={}),v=m.prototype||(m.prototype={});for(A in u&&(n=e),n)I=((C=!l&&f&&void 0!==f[A])?f:n)[A],c=p&&C?s(I,i):d&&"function"==typeof I?s(Function.call,I):I,f&&g(f,A,I,t&a.U),m[A]!=I&&o(m,A,c),d&&v[A]!=I&&(v[A]=I)};i.core=r,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},8852:(t,e,n)=>{var i=n(6314)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},4253:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},8082:(t,e,n)=>{"use strict";n(8269);var i=n(7234),r=n(7728),o=n(4253),g=n(1355),s=n(6314),a=n(1165),A=s("species"),C=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),I=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var c=s(t),l=!o((function(){var e={};return e[c]=function(){return 7},7!=""[t](e)})),u=l?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[A]=function(){return n}),n[c](""),!e})):void 0;if(!l||!u||"replace"===t&&!C||"split"===t&&!I){var h=/./[c],d=n(g,c,""[t],(function(t,e,n,i,r){return e.exec===a?l&&!r?{done:!0,value:h.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),p=d[0],f=d[1];i(String.prototype,t,p),r(RegExp.prototype,c,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)})}}},3218:(t,e,n)=>{"use strict";var i=n(7007);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},3325:(t,e,n)=>{"use strict";var i=n(4302),r=n(5286),o=n(875),g=n(741),s=n(6314)("isConcatSpreadable");t.exports=function t(e,n,a,A,C,I,c,l){for(var u,h,d=C,p=0,f=!!c&&g(c,l,3);p<A;){if(p in a){if(u=f?f(a[p],p,n):a[p],h=!1,r(u)&&(h=void 0!==(h=u[s])?!!h:i(u)),h&&I>0)d=t(e,n,u,o(u.length),d,I-1)-1;else{if(d>=9007199254740991)throw TypeError();e[d]=u}d++}p++}return d}},3531:(t,e,n)=>{var i=n(741),r=n(8851),o=n(6555),g=n(7007),s=n(875),a=n(9002),A={},C={},I=t.exports=function(t,e,n,I,c){var l,u,h,d,p=c?function(){return t}:a(t),f=i(n,I,e?2:1),m=0;if("function"!=typeof p)throw TypeError(t+" is not iterable!");if(o(p)){for(l=s(t.length);l>m;m++)if((d=e?f(g(u=t[m])[0],u[1]):f(t[m]))===A||d===C)return d}else for(h=p.call(t);!(u=h.next()).done;)if((d=r(h,f,u.value,e))===A||d===C)return d};I.BREAK=A,I.RETURN=C},18:(t,e,n)=>{t.exports=n(3825)("native-function-to-string",Function.toString)},3816:t=>{var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},9181:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},7728:(t,e,n)=>{var i=n(9275),r=n(681);t.exports=n(7057)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},639:(t,e,n)=>{var i=n(3816).document;t.exports=i&&i.documentElement},1734:(t,e,n)=>{t.exports=!n(7057)&&!n(4253)((function(){return 7!=Object.defineProperty(n(2457)("div"),"a",{get:function(){return 7}}).a}))},266:(t,e,n)=>{var i=n(5286),r=n(7375).set;t.exports=function(t,e,n){var o,g=e.constructor;return g!==n&&"function"==typeof g&&(o=g.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},7242:t=>{t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},9797:(t,e,n)=>{var i=n(2032);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},6555:(t,e,n)=>{var i=n(2803),r=n(6314)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},4302:(t,e,n)=>{var i=n(2032);t.exports=Array.isArray||function(t){return"Array"==i(t)}},8367:(t,e,n)=>{var i=n(5286),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},5286:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},5364:(t,e,n)=>{var i=n(5286),r=n(2032),o=n(6314)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},8851:(t,e,n)=>{var i=n(7007);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},9988:(t,e,n)=>{"use strict";var i=n(2503),r=n(681),o=n(2943),g={};n(7728)(g,n(6314)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=i(g,{next:r(1,n)}),o(t,e+" Iterator")}},2923:(t,e,n)=>{"use strict";var i=n(4461),r=n(2985),o=n(7234),g=n(7728),s=n(2803),a=n(9988),A=n(2943),C=n(468),I=n(6314)("iterator"),c=!([].keys&&"next"in[].keys()),l="keys",u="values",h=function(){return this};t.exports=function(t,e,n,d,p,f,m){a(n,e,d);var v,y,b,_=function(t){if(!c&&t in E)return E[t];switch(t){case l:case u:return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",x=p==u,S=!1,E=t.prototype,M=E[I]||E["@@iterator"]||p&&E[p],T=M||_(p),R=p?x?_("entries"):T:void 0,O="Array"==e&&E.entries||M;if(O&&(b=C(O.call(new t)))!==Object.prototype&&b.next&&(A(b,w,!0),i||"function"==typeof b[I]||g(b,I,h)),x&&M&&M.name!==u&&(S=!0,T=function(){return M.call(this)}),i&&!m||!c&&!S&&E[I]||g(E,I,T),s[e]=T,s[w]=h,p)if(v={values:x?T:_(u),keys:f?T:_(l),entries:R},m)for(y in v)y in E||o(E,y,v[y]);else r(r.P+r.F*(c||S),e,v);return v}},7462:(t,e,n)=>{var i=n(6314)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],g=o[i]();g.next=function(){return{done:n=!0}},o[i]=function(){return g},t(o)}catch(t){}return n}},5436:t=>{t.exports=function(t,e){return{value:e,done:!!t}}},2803:t=>{t.exports={}},4461:t=>{t.exports=!1},3086:t=>{var e=Math.expm1;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},4934:(t,e,n)=>{var i=n(1801),r=Math.pow,o=r(2,-52),g=r(2,-23),s=r(2,127)*(2-g),a=r(2,-126);t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),A=i(t);return r<a?A*(r/a/g+1/o-1/o)*a*g:(n=(e=(1+g/o)*r)-(e-r))>s||n!=n?A*(1/0):A*n}},6206:t=>{t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},1801:t=>{t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},4728:(t,e,n)=>{var i=n(3953)("meta"),r=n(5286),o=n(9181),g=n(9275).f,s=0,a=Object.isExtensible||function(){return!0},A=!n(4253)((function(){return a(Object.preventExtensions({}))})),C=function(t){g(t,i,{value:{i:"O"+ ++s,w:{}}})},I=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!a(t))return"F";if(!e)return"E";C(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!a(t))return!0;if(!e)return!1;C(t)}return t[i].w},onFreeze:function(t){return A&&I.NEED&&a(t)&&!o(t,i)&&C(t),t}}},4351:(t,e,n)=>{var i=n(3816),r=n(4193).set,o=i.MutationObserver||i.WebKitMutationObserver,g=i.process,s=i.Promise,a="process"==n(2032)(g);t.exports=function(){var t,e,n,A=function(){var i,r;for(a&&(i=g.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(a)n=function(){g.nextTick(A)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var C=s.resolve(void 0);n=function(){C.then(A)}}else n=function(){r.call(i,A)};else{var I=!0,c=document.createTextNode("");new o(A).observe(c,{characterData:!0}),n=function(){c.data=I=!I}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},3499:(t,e,n)=>{"use strict";var i=n(4963);function r(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new r(t)}},5345:(t,e,n)=>{"use strict";var i=n(7057),r=n(7184),o=n(4548),g=n(4682),s=n(508),a=n(9797),A=Object.assign;t.exports=!A||n(4253)((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=A({},t)[n]||Object.keys(A({},e)).join("")!=i}))?function(t,e){for(var n=s(t),A=arguments.length,C=1,I=o.f,c=g.f;A>C;)for(var l,u=a(arguments[C++]),h=I?r(u).concat(I(u)):r(u),d=h.length,p=0;d>p;)l=h[p++],i&&!c.call(u,l)||(n[l]=u[l]);return n}:A},2503:(t,e,n)=>{var i=n(7007),r=n(5588),o=n(4430),g=n(9335)("IE_PROTO"),s=function(){},a=function(){var t,e=n(2457)("iframe"),i=o.length;for(e.style.display="none",n(639).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;i--;)delete a.prototype[o[i]];return a()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[g]=t):n=a(),void 0===e?n:r(n,e)}},9275:(t,e,n)=>{var i=n(7007),r=n(1734),o=n(1689),g=Object.defineProperty;e.f=n(7057)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return g(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},5588:(t,e,n)=>{var i=n(9275),r=n(7007),o=n(7184);t.exports=n(7057)?Object.defineProperties:function(t,e){r(t);for(var n,g=o(e),s=g.length,a=0;s>a;)i.f(t,n=g[a++],e[n]);return t}},8693:(t,e,n)=>{var i=n(4682),r=n(681),o=n(2110),g=n(1689),s=n(9181),a=n(1734),A=Object.getOwnPropertyDescriptor;e.f=n(7057)?A:function(t,e){if(t=o(t),e=g(e,!0),a)try{return A(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},9327:(t,e,n)=>{var i=n(2110),r=n(616).f,o={}.toString,g="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return g&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return g.slice()}}(t):r(i(t))}},616:(t,e,n)=>{var i=n(189),r=n(4430).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},4548:(t,e)=>{e.f=Object.getOwnPropertySymbols},468:(t,e,n)=>{var i=n(9181),r=n(508),o=n(9335)("IE_PROTO"),g=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?g:null}},189:(t,e,n)=>{var i=n(9181),r=n(2110),o=n(9315)(!1),g=n(9335)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),a=0,A=[];for(n in s)n!=g&&i(s,n)&&A.push(n);for(;e.length>a;)i(s,n=e[a++])&&(~o(A,n)||A.push(n));return A}},7184:(t,e,n)=>{var i=n(189),r=n(4430);t.exports=Object.keys||function(t){return i(t,r)}},4682:(t,e)=>{e.f={}.propertyIsEnumerable},3160:(t,e,n)=>{var i=n(2985),r=n(5645),o=n(4253);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],g={};g[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",g)}},1131:(t,e,n)=>{var i=n(7057),r=n(7184),o=n(2110),g=n(4682).f;t.exports=function(t){return function(e){for(var n,s=o(e),a=r(s),A=a.length,C=0,I=[];A>C;)n=a[C++],i&&!g.call(s,n)||I.push(t?[n,s[n]]:s[n]);return I}}},7643:(t,e,n)=>{var i=n(616),r=n(4548),o=n(7007),g=n(3816).Reflect;t.exports=g&&g.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},7743:(t,e,n)=>{var i=n(3816).parseFloat,r=n(9599).trim;t.exports=1/i(n(4644)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},5960:(t,e,n)=>{var i=n(3816).parseInt,r=n(9599).trim,o=n(4644),g=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(g.test(n)?16:10))}:i},188:t=>{t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},94:(t,e,n)=>{var i=n(7007),r=n(5286),o=n(3499);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},681:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4408:(t,e,n)=>{var i=n(7234);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},7234:(t,e,n)=>{var i=n(3816),r=n(7728),o=n(9181),g=n(3953)("src"),s=n(18),a="toString",A=(""+s).split(a);n(5645).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var a="function"==typeof n;a&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(a&&(o(n,g)||r(n,g,t[e]?""+t[e]:A.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,a,(function(){return"function"==typeof this&&this[g]||s.call(this)}))},7787:(t,e,n)=>{"use strict";var i=n(1488),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},1165:(t,e,n)=>{"use strict";var i,r,o=n(3218),g=RegExp.prototype.exec,s=String.prototype.replace,a=g,A=(i=/a/,r=/b*/g,g.call(i,"a"),g.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),C=void 0!==/()??/.exec("")[1];(A||C)&&(a=function(t){var e,n,i,r,a=this;return C&&(n=new RegExp("^"+a.source+"$(?!\\s)",o.call(a))),A&&(e=a.lastIndex),i=g.call(a,t),A&&i&&(a.lastIndex=a.global?i.index+i[0].length:e),C&&i&&i.length>1&&s.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),t.exports=a},7195:t=>{t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},7375:(t,e,n)=>{var i=n(5286),r=n(7007),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(741)(Function.call,n(8693).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},2974:(t,e,n)=>{"use strict";var i=n(3816),r=n(9275),o=n(7057),g=n(6314)("species");t.exports=function(t){var e=i[t];o&&e&&!e[g]&&r.f(e,g,{configurable:!0,get:function(){return this}})}},2943:(t,e,n)=>{var i=n(9275).f,r=n(9181),o=n(6314)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},9335:(t,e,n)=>{var i=n(3825)("keys"),r=n(3953);t.exports=function(t){return i[t]||(i[t]=r(t))}},3825:(t,e,n)=>{var i=n(5645),r=n(3816),o="__core-js_shared__",g=r[o]||(r[o]={});(t.exports=function(t,e){return g[t]||(g[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(4461)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},8364:(t,e,n)=>{var i=n(7007),r=n(4963),o=n(6314)("species");t.exports=function(t,e){var n,g=i(t).constructor;return void 0===g||null==(n=i(g)[o])?e:r(n)}},7717:(t,e,n)=>{"use strict";var i=n(4253);t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},4496:(t,e,n)=>{var i=n(1467),r=n(1355);t.exports=function(t){return function(e,n){var o,g,s=String(r(e)),a=i(n),A=s.length;return a<0||a>=A?t?"":void 0:(o=s.charCodeAt(a))<55296||o>56319||a+1===A||(g=s.charCodeAt(a+1))<56320||g>57343?t?s.charAt(a):o:t?s.slice(a,a+2):g-56320+(o-55296<<10)+65536}}},2094:(t,e,n)=>{var i=n(5364),r=n(1355);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},9395:(t,e,n)=>{var i=n(2985),r=n(4253),o=n(1355),g=/"/g,s=function(t,e,n,i){var r=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(g,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),i(i.P+i.F*r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},5442:(t,e,n)=>{var i=n(875),r=n(8595),o=n(1355);t.exports=function(t,e,n,g){var s=String(o(t)),a=s.length,A=void 0===n?" ":String(n),C=i(e);if(C<=a||""==A)return s;var I=C-a,c=r.call(A,Math.ceil(I/A.length));return c.length>I&&(c=c.slice(0,I)),g?c+s:s+c}},8595:(t,e,n)=>{"use strict";var i=n(1467),r=n(1355);t.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},9599:(t,e,n)=>{var i=n(2985),r=n(1355),o=n(4253),g=n(4644),s="["+g+"]",a=RegExp("^"+s+s+"*"),A=RegExp(s+s+"*$"),C=function(t,e,n){var r={},s=o((function(){return!!g[t]()||""!=""[t]()})),a=r[t]=s?e(I):g[t];n&&(r[n]=a),i(i.P+i.F*s,"String",r)},I=C.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(a,"")),2&e&&(t=t.replace(A,"")),t};t.exports=C},4644:t=>{t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},4193:(t,e,n)=>{var i,r,o,g=n(741),s=n(7242),a=n(639),A=n(2457),C=n(3816),I=C.process,c=C.setImmediate,l=C.clearImmediate,u=C.MessageChannel,h=C.Dispatch,d=0,p={},f=function(){var t=+this;if(p.hasOwnProperty(t)){var e=p[t];delete p[t],e()}},m=function(t){f.call(t.data)};c&&l||(c=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return p[++d]=function(){s("function"==typeof t?t:Function(t),e)},i(d),d},l=function(t){delete p[t]},"process"==n(2032)(I)?i=function(t){I.nextTick(g(f,t,1))}:h&&h.now?i=function(t){h.now(g(f,t,1))}:u?(o=(r=new u).port2,r.port1.onmessage=m,i=g(o.postMessage,o,1)):C.addEventListener&&"function"==typeof postMessage&&!C.importScripts?(i=function(t){C.postMessage(t+"","*")},C.addEventListener("message",m,!1)):i="onreadystatechange"in A("script")?function(t){a.appendChild(A("script")).onreadystatechange=function(){a.removeChild(this),f.call(t)}}:function(t){setTimeout(g(f,t,1),0)}),t.exports={set:c,clear:l}},2337:(t,e,n)=>{var i=n(1467),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},4843:(t,e,n)=>{var i=n(1467),r=n(875);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},1467:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},2110:(t,e,n)=>{var i=n(9797),r=n(1355);t.exports=function(t){return i(r(t))}},875:(t,e,n)=>{var i=n(1467),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},508:(t,e,n)=>{var i=n(1355);t.exports=function(t){return Object(i(t))}},1689:(t,e,n)=>{var i=n(5286);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},8440:(t,e,n)=>{"use strict";if(n(7057)){var i=n(4461),r=n(3816),o=n(4253),g=n(2985),s=n(9383),a=n(1125),A=n(741),C=n(3328),I=n(681),c=n(7728),l=n(4408),u=n(1467),h=n(875),d=n(4843),p=n(2337),f=n(1689),m=n(9181),v=n(1488),y=n(5286),b=n(508),_=n(6555),w=n(2503),x=n(468),S=n(616).f,E=n(9002),M=n(3953),T=n(6314),R=n(50),O=n(9315),L=n(8364),P=n(6997),N=n(2803),D=n(7462),k=n(2974),j=n(6852),F=n(5216),B=n(9275),z=n(8693),U=B.f,H=z.f,G=r.RangeError,W=r.TypeError,V=r.Uint8Array,Z="ArrayBuffer",Y="SharedArrayBuffer",X="BYTES_PER_ELEMENT",J=Array.prototype,q=a.ArrayBuffer,K=a.DataView,Q=R(0),$=R(2),tt=R(3),et=R(4),nt=R(5),it=R(6),rt=O(!0),ot=O(!1),gt=P.values,st=P.keys,at=P.entries,At=J.lastIndexOf,Ct=J.reduce,It=J.reduceRight,ct=J.join,lt=J.sort,ut=J.slice,ht=J.toString,dt=J.toLocaleString,pt=T("iterator"),ft=T("toStringTag"),mt=M("typed_constructor"),vt=M("def_constructor"),yt=s.CONSTR,bt=s.TYPED,_t=s.VIEW,wt="Wrong length!",xt=R(1,(function(t,e){return Rt(L(t,t[vt]),e)})),St=o((function(){return 1===new V(new Uint16Array([1]).buffer)[0]})),Et=!!V&&!!V.prototype.set&&o((function(){new V(1).set({})})),Mt=function(t,e){var n=u(t);if(n<0||n%e)throw G("Wrong offset!");return n},Tt=function(t){if(y(t)&&bt in t)return t;throw W(t+" is not a typed array!")},Rt=function(t,e){if(!y(t)||!(mt in t))throw W("It is not a typed array constructor!");return new t(e)},Ot=function(t,e){return Lt(L(t,t[vt]),e)},Lt=function(t,e){for(var n=0,i=e.length,r=Rt(t,i);i>n;)r[n]=e[n++];return r},Pt=function(t,e,n){U(t,e,{get:function(){return this._d[n]}})},Nt=function(t){var e,n,i,r,o,g,s=b(t),a=arguments.length,C=a>1?arguments[1]:void 0,I=void 0!==C,c=E(s);if(null!=c&&!_(c)){for(g=c.call(s),i=[],e=0;!(o=g.next()).done;e++)i.push(o.value);s=i}for(I&&a>2&&(C=A(C,arguments[2],2)),e=0,n=h(s.length),r=Rt(this,n);n>e;e++)r[e]=I?C(s[e],e):s[e];return r},Dt=function(){for(var t=0,e=arguments.length,n=Rt(this,e);e>t;)n[t]=arguments[t++];return n},kt=!!V&&o((function(){dt.call(new V(1))})),jt=function(){return dt.apply(kt?ut.call(Tt(this)):Tt(this),arguments)},Ft={copyWithin:function(t,e){return F.call(Tt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return et(Tt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return j.apply(Tt(this),arguments)},filter:function(t){return Ot(this,$(Tt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Tt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Q(Tt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ot(Tt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return rt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Tt(this),arguments)},lastIndexOf:function(t){return At.apply(Tt(this),arguments)},map:function(t){return xt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return Ct.apply(Tt(this),arguments)},reduceRight:function(t){return It.apply(Tt(this),arguments)},reverse:function(){for(var t,e=this,n=Tt(e).length,i=Math.floor(n/2),r=0;r<i;)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return tt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return lt.call(Tt(this),t)},subarray:function(t,e){var n=Tt(this),i=n.length,r=p(t,i);return new(L(n,n[vt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,h((void 0===e?i:p(e,i))-r))}},Bt=function(t,e){return Ot(this,ut.call(Tt(this),t,e))},zt=function(t){Tt(this);var e=Mt(arguments[1],1),n=this.length,i=b(t),r=h(i.length),o=0;if(r+e>n)throw G(wt);for(;o<r;)this[e+o]=i[o++]},Ut={entries:function(){return at.call(Tt(this))},keys:function(){return st.call(Tt(this))},values:function(){return gt.call(Tt(this))}},Ht=function(t,e){return y(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Gt=function(t,e){return Ht(t,e=f(e,!0))?I(2,t[e]):H(t,e)},Wt=function(t,e,n){return!(Ht(t,e=f(e,!0))&&y(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?U(t,e,n):(t[e]=n.value,t)};yt||(z.f=Gt,B.f=Wt),g(g.S+g.F*!yt,"Object",{getOwnPropertyDescriptor:Gt,defineProperty:Wt}),o((function(){ht.call({})}))&&(ht=dt=function(){return ct.call(this)});var Vt=l({},Ft);l(Vt,Ut),c(Vt,pt,Ut.values),l(Vt,{slice:Bt,set:zt,constructor:function(){},toString:ht,toLocaleString:jt}),Pt(Vt,"buffer","b"),Pt(Vt,"byteOffset","o"),Pt(Vt,"byteLength","l"),Pt(Vt,"length","e"),U(Vt,ft,{get:function(){return this[bt]}}),t.exports=function(t,e,n,a){var A=t+((a=!!a)?"Clamped":"")+"Array",I="get"+t,l="set"+t,u=r[A],p=u||{},f=u&&x(u),m=!u||!s.ABV,b={},_=u&&u.prototype,E=function(t,n){U(t,n,{get:function(){return function(t,n){var i=t._d;return i.v[I](n*e+i.o,St)}(this,n)},set:function(t){return function(t,n,i){var r=t._d;a&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[l](n*e+r.o,i,St)}(this,n,t)},enumerable:!0})};m?(u=n((function(t,n,i,r){C(t,u,A,"_d");var o,g,s,a,I=0,l=0;if(y(n)){if(!(n instanceof q||(a=v(n))==Z||a==Y))return bt in n?Lt(u,n):Nt.call(u,n);o=n,l=Mt(i,e);var p=n.byteLength;if(void 0===r){if(p%e)throw G(wt);if((g=p-l)<0)throw G(wt)}else if((g=h(r)*e)+l>p)throw G(wt);s=g/e}else s=d(n),o=new q(g=s*e);for(c(t,"_d",{b:o,o:l,l:g,e:s,v:new K(o)});I<s;)E(t,I++)})),_=u.prototype=w(Vt),c(_,"constructor",u)):o((function(){u(1)}))&&o((function(){new u(-1)}))&&D((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||(u=n((function(t,n,i,r){var o;return C(t,u,A),y(n)?n instanceof q||(o=v(n))==Z||o==Y?void 0!==r?new p(n,Mt(i,e),r):void 0!==i?new p(n,Mt(i,e)):new p(n):bt in n?Lt(u,n):Nt.call(u,n):new p(d(n))})),Q(f!==Function.prototype?S(p).concat(S(f)):S(p),(function(t){t in u||c(u,t,p[t])})),u.prototype=_,i||(_.constructor=u));var M=_[pt],T=!!M&&("values"==M.name||null==M.name),R=Ut.values;c(u,mt,!0),c(_,bt,A),c(_,_t,!0),c(_,vt,u),(a?new u(1)[ft]==A:ft in _)||U(_,ft,{get:function(){return A}}),b[A]=u,g(g.G+g.W+g.F*(u!=p),b),g(g.S,A,{BYTES_PER_ELEMENT:e}),g(g.S+g.F*o((function(){p.of.call(u,1)})),A,{from:Nt,of:Dt}),X in _||c(_,X,e),g(g.P,A,Ft),k(A),g(g.P+g.F*Et,A,{set:zt}),g(g.P+g.F*!T,A,Ut),i||_.toString==ht||(_.toString=ht),g(g.P+g.F*o((function(){new u(1).slice()})),A,{slice:Bt}),g(g.P+g.F*(o((function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()}))||!o((function(){_.toLocaleString.call([1,2])}))),A,{toLocaleString:jt}),N[A]=T?M:R,i||T||c(_,pt,R)}}else t.exports=function(){}},1125:(t,e,n)=>{"use strict";var i=n(3816),r=n(7057),o=n(4461),g=n(9383),s=n(7728),a=n(4408),A=n(4253),C=n(3328),I=n(1467),c=n(875),l=n(4843),u=n(616).f,h=n(9275).f,d=n(6852),p=n(2943),f="ArrayBuffer",m="DataView",v="Wrong index!",y=i.ArrayBuffer,b=i.DataView,_=i.Math,w=i.RangeError,x=i.Infinity,S=y,E=_.abs,M=_.pow,T=_.floor,R=_.log,O=_.LN2,L="buffer",P="byteLength",N="byteOffset",D=r?"_b":L,k=r?"_l":P,j=r?"_o":N;function F(t,e,n){var i,r,o,g=new Array(n),s=8*n-e-1,a=(1<<s)-1,A=a>>1,C=23===e?M(2,-24)-M(2,-77):0,I=0,c=t<0||0===t&&1/t<0?1:0;for((t=E(t))!=t||t===x?(r=t!=t?1:0,i=a):(i=T(R(t)/O),t*(o=M(2,-i))<1&&(i--,o*=2),(t+=i+A>=1?C/o:C*M(2,1-A))*o>=2&&(i++,o/=2),i+A>=a?(r=0,i=a):i+A>=1?(r=(t*o-1)*M(2,e),i+=A):(r=t*M(2,A-1)*M(2,e),i=0));e>=8;g[I++]=255&r,r/=256,e-=8);for(i=i<<e|r,s+=e;s>0;g[I++]=255&i,i/=256,s-=8);return g[--I]|=128*c,g}function B(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,g=o>>1,s=r-7,a=n-1,A=t[a--],C=127&A;for(A>>=7;s>0;C=256*C+t[a],a--,s-=8);for(i=C&(1<<-s)-1,C>>=-s,s+=e;s>0;i=256*i+t[a],a--,s-=8);if(0===C)C=1-g;else{if(C===o)return i?NaN:A?-x:x;i+=M(2,e),C-=g}return(A?-1:1)*i*M(2,C-e)}function z(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function U(t){return[255&t]}function H(t){return[255&t,t>>8&255]}function G(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function W(t){return F(t,52,8)}function V(t){return F(t,23,4)}function Z(t,e,n){h(t.prototype,e,{get:function(){return this[n]}})}function Y(t,e,n,i){var r=l(+n);if(r+e>t[k])throw w(v);var o=t[D]._b,g=r+t[j],s=o.slice(g,g+e);return i?s:s.reverse()}function X(t,e,n,i,r,o){var g=l(+n);if(g+e>t[k])throw w(v);for(var s=t[D]._b,a=g+t[j],A=i(+r),C=0;C<e;C++)s[a+C]=A[o?C:e-C-1]}if(g.ABV){if(!A((function(){y(1)}))||!A((function(){new y(-1)}))||A((function(){return new y,new y(1.5),new y(NaN),y.name!=f}))){for(var J,q=(y=function(t){return C(this,y),new S(l(t))}).prototype=S.prototype,K=u(S),Q=0;K.length>Q;)(J=K[Q++])in y||s(y,J,S[J]);o||(q.constructor=y)}var $=new b(new y(2)),tt=b.prototype.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||a(b.prototype,{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else y=function(t){C(this,y,f);var e=l(t);this._b=d.call(new Array(e),0),this[k]=e},b=function(t,e,n){C(this,b,m),C(t,y,m);var i=t[k],r=I(e);if(r<0||r>i)throw w("Wrong offset!");if(r+(n=void 0===n?i-r:c(n))>i)throw w("Wrong length!");this[D]=t,this[j]=r,this[k]=n},r&&(Z(y,P,"_l"),Z(b,L,"_b"),Z(b,P,"_l"),Z(b,N,"_o")),a(b.prototype,{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var e=Y(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Y(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return z(Y(this,4,t,arguments[1]))},getUint32:function(t){return z(Y(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return B(Y(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return B(Y(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){X(this,1,t,U,e)},setUint8:function(t,e){X(this,1,t,U,e)},setInt16:function(t,e){X(this,2,t,H,e,arguments[2])},setUint16:function(t,e){X(this,2,t,H,e,arguments[2])},setInt32:function(t,e){X(this,4,t,G,e,arguments[2])},setUint32:function(t,e){X(this,4,t,G,e,arguments[2])},setFloat32:function(t,e){X(this,4,t,V,e,arguments[2])},setFloat64:function(t,e){X(this,8,t,W,e,arguments[2])}});p(y,f),p(b,m),s(b.prototype,g.VIEW,!0),e.ArrayBuffer=y,e.DataView=b},9383:(t,e,n)=>{for(var i,r=n(3816),o=n(7728),g=n(3953),s=g("typed_array"),a=g("view"),A=!(!r.ArrayBuffer||!r.DataView),C=A,I=0,c="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");I<9;)(i=r[c[I++]])?(o(i.prototype,s,!0),o(i.prototype,a,!0)):C=!1;t.exports={ABV:A,CONSTR:C,TYPED:s,VIEW:a}},3953:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},575:(t,e,n)=>{var i=n(3816).navigator;t.exports=i&&i.userAgent||""},1616:(t,e,n)=>{var i=n(5286);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},6074:(t,e,n)=>{var i=n(3816),r=n(5645),o=n(4461),g=n(8787),s=n(9275).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:g.f(t)})}},8787:(t,e,n)=>{e.f=n(6314)},6314:(t,e,n)=>{var i=n(3825)("wks"),r=n(3953),o=n(3816).Symbol,g="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=g&&o[t]||(g?o:r)("Symbol."+t))}).store=i},9002:(t,e,n)=>{var i=n(1488),r=n(6314)("iterator"),o=n(2803);t.exports=n(5645).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},2e3:(t,e,n)=>{var i=n(2985);i(i.P,"Array",{copyWithin:n(5216)}),n(7722)("copyWithin")},5745:(t,e,n)=>{"use strict";var i=n(2985),r=n(50)(4);i(i.P+i.F*!n(7717)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},8977:(t,e,n)=>{var i=n(2985);i(i.P,"Array",{fill:n(6852)}),n(7722)("fill")},8837:(t,e,n)=>{"use strict";var i=n(2985),r=n(50)(2);i(i.P+i.F*!n(7717)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},4899:(t,e,n)=>{"use strict";var i=n(2985),r=n(50)(6),o="findIndex",g=!0;o in[]&&Array(1)[o]((function(){g=!1})),i(i.P+i.F*g,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(7722)(o)},2310:(t,e,n)=>{"use strict";var i=n(2985),r=n(50)(5),o="find",g=!0;o in[]&&Array(1).find((function(){g=!1})),i(i.P+i.F*g,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(7722)(o)},4336:(t,e,n)=>{"use strict";var i=n(2985),r=n(50)(0),o=n(7717)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},522:(t,e,n)=>{"use strict";var i=n(741),r=n(2985),o=n(508),g=n(8851),s=n(6555),a=n(875),A=n(2811),C=n(9002);r(r.S+r.F*!n(7462)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,I,c=o(t),l="function"==typeof this?this:Array,u=arguments.length,h=u>1?arguments[1]:void 0,d=void 0!==h,p=0,f=C(c);if(d&&(h=i(h,u>2?arguments[2]:void 0,2)),null==f||l==Array&&s(f))for(n=new l(e=a(c.length));e>p;p++)A(n,p,d?h(c[p],p):c[p]);else for(I=f.call(c),n=new l;!(r=I.next()).done;p++)A(n,p,d?g(I,h,[r.value,p],!0):r.value);return n.length=p,n}})},3369:(t,e,n)=>{"use strict";var i=n(2985),r=n(9315)(!1),o=[].indexOf,g=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(g||!n(7717)(o)),"Array",{indexOf:function(t){return g?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},774:(t,e,n)=>{var i=n(2985);i(i.S,"Array",{isArray:n(4302)})},6997:(t,e,n)=>{"use strict";var i=n(7722),r=n(5436),o=n(2803),g=n(2110);t.exports=n(2923)(Array,"Array",(function(t,e){this._t=g(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},7842:(t,e,n)=>{"use strict";var i=n(2985),r=n(2110),o=[].join;i(i.P+i.F*(n(9797)!=Object||!n(7717)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},9564:(t,e,n)=>{"use strict";var i=n(2985),r=n(2110),o=n(1467),g=n(875),s=[].lastIndexOf,a=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(a||!n(7717)(s)),"Array",{lastIndexOf:function(t){if(a)return s.apply(this,arguments)||0;var e=r(this),n=g(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},1802:(t,e,n)=>{"use strict";var i=n(2985),r=n(50)(1);i(i.P+i.F*!n(7717)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},8295:(t,e,n)=>{"use strict";var i=n(2985),r=n(2811);i(i.S+i.F*n(4253)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},3750:(t,e,n)=>{"use strict";var i=n(2985),r=n(7628);i(i.P+i.F*!n(7717)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},3057:(t,e,n)=>{"use strict";var i=n(2985),r=n(7628);i(i.P+i.F*!n(7717)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},110:(t,e,n)=>{"use strict";var i=n(2985),r=n(639),o=n(2032),g=n(2337),s=n(875),a=[].slice;i(i.P+i.F*n(4253)((function(){r&&a.call(r)})),"Array",{slice:function(t,e){var n=s(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return a.call(this,t,e);for(var r=g(t,n),A=g(e,n),C=s(A-r),I=new Array(C),c=0;c<C;c++)I[c]="String"==i?this.charAt(r+c):this[r+c];return I}})},6773:(t,e,n)=>{"use strict";var i=n(2985),r=n(50)(3);i(i.P+i.F*!n(7717)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},75:(t,e,n)=>{"use strict";var i=n(2985),r=n(4963),o=n(508),g=n(4253),s=[].sort,a=[1,2,3];i(i.P+i.F*(g((function(){a.sort(void 0)}))||!g((function(){a.sort(null)}))||!n(7717)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),r(t))}})},1842:(t,e,n)=>{n(2974)("Array")},1822:(t,e,n)=>{var i=n(2985);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},1031:(t,e,n)=>{var i=n(2985),r=n(3537);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},9977:(t,e,n)=>{"use strict";var i=n(2985),r=n(508),o=n(1689);i(i.P+i.F*n(4253)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},1560:(t,e,n)=>{var i=n(6314)("toPrimitive"),r=Date.prototype;i in r||n(7728)(r,i,n(870))},6331:(t,e,n)=>{var i=Date.prototype,r="Invalid Date",o=i.toString,g=i.getTime;new Date(NaN)+""!=r&&n(7234)(i,"toString",(function(){var t=g.call(this);return t==t?o.call(this):r}))},9730:(t,e,n)=>{var i=n(2985);i(i.P,"Function",{bind:n(4398)})},8377:(t,e,n)=>{"use strict";var i=n(5286),r=n(468),o=n(6314)("hasInstance"),g=Function.prototype;o in g||n(9275).f(g,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},6059:(t,e,n)=>{var i=n(9275).f,r=Function.prototype,o=/^\s*function ([^ (]*)/,g="name";g in r||n(7057)&&i(r,g,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},8416:(t,e,n)=>{"use strict";var i=n(9824),r=n(1616),o="Map";t.exports=n(5795)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=i.getEntry(r(this,o),t);return e&&e.v},set:function(t,e){return i.def(r(this,o),0===t?0:t,e)}},i,!0)},6503:(t,e,n)=>{var i=n(2985),r=n(6206),o=Math.sqrt,g=Math.acosh;i(i.S+i.F*!(g&&710==Math.floor(g(Number.MAX_VALUE))&&g(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},6786:(t,e,n)=>{var i=n(2985),r=Math.asinh;i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},932:(t,e,n)=>{var i=n(2985),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},7526:(t,e,n)=>{var i=n(2985),r=n(1801);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},1591:(t,e,n)=>{var i=n(2985);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},9073:(t,e,n)=>{var i=n(2985),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},347:(t,e,n)=>{var i=n(2985),r=n(3086);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},579:(t,e,n)=>{var i=n(2985);i(i.S,"Math",{fround:n(4934)})},4669:(t,e,n)=>{var i=n(2985),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,o=0,g=0,s=arguments.length,a=0;g<s;)a<(n=r(arguments[g++]))?(o=o*(i=a/n)*i+1,a=n):o+=n>0?(i=n/a)*i:n;return a===1/0?1/0:a*Math.sqrt(o)}})},7710:(t,e,n)=>{var i=n(2985),r=Math.imul;i(i.S+i.F*n(4253)((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(t,e){var n=65535,i=+t,r=+e,o=n&i,g=n&r;return 0|o*g+((n&i>>>16)*g+o*(n&r>>>16)<<16>>>0)}})},5789:(t,e,n)=>{var i=n(2985);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},3514:(t,e,n)=>{var i=n(2985);i(i.S,"Math",{log1p:n(6206)})},9978:(t,e,n)=>{var i=n(2985);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},8472:(t,e,n)=>{var i=n(2985);i(i.S,"Math",{sign:n(1801)})},6946:(t,e,n)=>{var i=n(2985),r=n(3086),o=Math.exp;i(i.S+i.F*n(4253)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},5068:(t,e,n)=>{var i=n(2985),r=n(3086),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},413:(t,e,n)=>{var i=n(2985);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},1246:(t,e,n)=>{"use strict";var i=n(3816),r=n(9181),o=n(2032),g=n(266),s=n(1689),a=n(4253),A=n(616).f,C=n(8693).f,I=n(9275).f,c=n(9599).trim,l="Number",u=i.Number,h=u,d=u.prototype,p=o(n(2503)(d))==l,f="trim"in String.prototype,m=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,o=(e=f?e.trim():c(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var g,a=e.slice(2),A=0,C=a.length;A<C;A++)if((g=a.charCodeAt(A))<48||g>r)return NaN;return parseInt(a,i)}}return+e};if(!u(" 0o1")||!u("0b1")||u("+0x1")){u=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof u&&(p?a((function(){d.valueOf.call(n)})):o(n)!=l)?g(new h(m(e)),n,u):m(e)};for(var v,y=n(7057)?A(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;y.length>b;b++)r(h,v=y[b])&&!r(u,v)&&I(u,v,C(h,v));u.prototype=d,d.constructor=u,n(7234)(i,l,u)}},5972:(t,e,n)=>{var i=n(2985);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},3403:(t,e,n)=>{var i=n(2985),r=n(3816).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},2516:(t,e,n)=>{var i=n(2985);i(i.S,"Number",{isInteger:n(8367)})},9371:(t,e,n)=>{var i=n(2985);i(i.S,"Number",{isNaN:function(t){return t!=t}})},6479:(t,e,n)=>{var i=n(2985),r=n(8367),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},1736:(t,e,n)=>{var i=n(2985);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},1889:(t,e,n)=>{var i=n(2985);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},5177:(t,e,n)=>{var i=n(2985),r=n(7743);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},6943:(t,e,n)=>{var i=n(2985),r=n(5960);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},726:(t,e,n)=>{"use strict";var i=n(2985),r=n(1467),o=n(3365),g=n(8595),s=1..toFixed,a=Math.floor,A=[0,0,0,0,0,0],C="Number.toFixed: incorrect invocation!",I="0",c=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*A[n],A[n]=i%1e7,i=a(i/1e7)},l=function(t){for(var e=6,n=0;--e>=0;)n+=A[e],A[e]=a(n/t),n=n%t*1e7},u=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==A[t]){var n=String(A[t]);e=""===e?n:e+g.call(I,7-n.length)+n}return e},h=function(t,e,n){return 0===e?n:e%2==1?h(t,e-1,n*t):h(t*t,e/2,n)};i(i.P+i.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(4253)((function(){s.call({})}))),"Number",{toFixed:function(t){var e,n,i,s,a=o(this,C),A=r(t),d="",p=I;if(A<0||A>20)throw RangeError(C);if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(d="-",a=-a),a>1e-21)if(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(a*h(2,69,1))-69,n=e<0?a*h(2,-e,1):a/h(2,e,1),n*=4503599627370496,(e=52-e)>0){for(c(0,n),i=A;i>=7;)c(1e7,0),i-=7;for(c(h(10,i,1),0),i=e-1;i>=23;)l(1<<23),i-=23;l(1<<i),c(1,1),l(2),p=u()}else c(0,n),c(1<<-e,0),p=u()+g.call(I,A);return A>0?d+((s=p.length)<=A?"0."+g.call(I,A-s)+p:p.slice(0,s-A)+"."+p.slice(s-A)):d+p}})},1901:(t,e,n)=>{"use strict";var i=n(2985),r=n(4253),o=n(3365),g=1..toPrecision;i(i.P+i.F*(r((function(){return"1"!==g.call(1,void 0)}))||!r((function(){g.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?g.call(e):g.call(e,t)}})},5115:(t,e,n)=>{var i=n(2985);i(i.S+i.F,"Object",{assign:n(5345)})},8132:(t,e,n)=>{var i=n(2985);i(i.S,"Object",{create:n(2503)})},7470:(t,e,n)=>{var i=n(2985);i(i.S+i.F*!n(7057),"Object",{defineProperties:n(5588)})},8388:(t,e,n)=>{var i=n(2985);i(i.S+i.F*!n(7057),"Object",{defineProperty:n(9275).f})},9375:(t,e,n)=>{var i=n(5286),r=n(4728).onFreeze;n(3160)("freeze",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},4882:(t,e,n)=>{var i=n(2110),r=n(8693).f;n(3160)("getOwnPropertyDescriptor",(function(){return function(t,e){return r(i(t),e)}}))},9622:(t,e,n)=>{n(3160)("getOwnPropertyNames",(function(){return n(9327).f}))},1520:(t,e,n)=>{var i=n(508),r=n(468);n(3160)("getPrototypeOf",(function(){return function(t){return r(i(t))}}))},9892:(t,e,n)=>{var i=n(5286);n(3160)("isExtensible",(function(t){return function(e){return!!i(e)&&(!t||t(e))}}))},4157:(t,e,n)=>{var i=n(5286);n(3160)("isFrozen",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},5095:(t,e,n)=>{var i=n(5286);n(3160)("isSealed",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},9176:(t,e,n)=>{var i=n(2985);i(i.S,"Object",{is:n(7195)})},7476:(t,e,n)=>{var i=n(508),r=n(7184);n(3160)("keys",(function(){return function(t){return r(i(t))}}))},4672:(t,e,n)=>{var i=n(5286),r=n(4728).onFreeze;n(3160)("preventExtensions",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},3533:(t,e,n)=>{var i=n(5286),r=n(4728).onFreeze;n(3160)("seal",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},8838:(t,e,n)=>{var i=n(2985);i(i.S,"Object",{setPrototypeOf:n(7375).set})},6253:(t,e,n)=>{"use strict";var i=n(1488),r={};r[n(6314)("toStringTag")]="z",r+""!="[object z]"&&n(7234)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},4299:(t,e,n)=>{var i=n(2985),r=n(7743);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},1084:(t,e,n)=>{var i=n(2985),r=n(5960);i(i.G+i.F*(parseInt!=r),{parseInt:r})},851:(t,e,n)=>{"use strict";var i,r,o,g,s=n(4461),a=n(3816),A=n(741),C=n(1488),I=n(2985),c=n(5286),l=n(4963),u=n(3328),h=n(3531),d=n(8364),p=n(4193).set,f=n(4351)(),m=n(3499),v=n(188),y=n(575),b=n(94),_="Promise",w=a.TypeError,x=a.process,S=x&&x.versions,E=S&&S.v8||"",M=a.Promise,T="process"==C(x),R=function(){},O=r=m.f,L=!!function(){try{var t=M.resolve(1),e=(t.constructor={})[n(6314)("species")]=function(t){t(R,R)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(R)instanceof e&&0!==E.indexOf("6.6")&&-1===y.indexOf("Chrome/66")}catch(t){}}(),P=function(t){var e;return!(!c(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;f((function(){for(var i=t._v,r=1==t._s,o=0,g=function(e){var n,o,g,s=r?e.ok:e.fail,a=e.resolve,A=e.reject,C=e.domain;try{s?(r||(2==t._h&&j(t),t._h=1),!0===s?n=i:(C&&C.enter(),n=s(i),C&&(C.exit(),g=!0)),n===e.promise?A(w("Promise-chain cycle")):(o=P(n))?o.call(n,a,A):a(n)):A(i)}catch(t){C&&!g&&C.exit(),A(t)}};n.length>o;)g(n[o++]);t._c=[],t._n=!1,e&&!t._h&&D(t)}))}},D=function(t){p.call(a,(function(){var e,n,i,r=t._v,o=k(t);if(o&&(e=v((function(){T?x.emit("unhandledRejection",r,t):(n=a.onunhandledrejection)?n({promise:t,reason:r}):(i=a.console)&&i.error&&i.error("Unhandled promise rejection",r)})),t._h=T||k(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},k=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){p.call(a,(function(){var e;T?x.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})}))},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(e=P(t))?f((function(){var i={_w:n,_d:!1};try{e.call(t,A(B,i,1),A(F,i,1))}catch(t){F.call(i,t)}})):(n._v=t,n._s=1,N(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};L||(M=function(t){u(this,M,_,"_h"),l(t),i.call(this);try{t(A(B,this,1),A(F,this,1))}catch(t){F.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(4408)(M.prototype,{then:function(t,e){var n=O(d(this,M));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=A(B,t,1),this.reject=A(F,t,1)},m.f=O=function(t){return t===M||t===g?new o(t):r(t)}),I(I.G+I.W+I.F*!L,{Promise:M}),n(2943)(M,_),n(2974)(_),g=n(5645).Promise,I(I.S+I.F*!L,_,{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),I(I.S+I.F*(s||!L),_,{resolve:function(t){return b(s&&this===g?M:this,t)}}),I(I.S+I.F*!(L&&n(7462)((function(t){M.all(t).catch(R)}))),_,{all:function(t){var e=this,n=O(e),i=n.resolve,r=n.reject,o=v((function(){var n=[],o=0,g=1;h(t,!1,(function(t){var s=o++,a=!1;n.push(void 0),g++,e.resolve(t).then((function(t){a||(a=!0,n[s]=t,--g||i(n))}),r)})),--g||i(n)}));return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=O(e),i=n.reject,r=v((function(){h(t,!1,(function(t){e.resolve(t).then(n.resolve,i)}))}));return r.e&&i(r.v),n.promise}})},1572:(t,e,n)=>{var i=n(2985),r=n(4963),o=n(7007),g=(n(3816).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!n(4253)((function(){g((function(){}))})),"Reflect",{apply:function(t,e,n){var i=r(t),a=o(n);return g?g(i,e,a):s.call(i,e,a)}})},2139:(t,e,n)=>{var i=n(2985),r=n(2503),o=n(4963),g=n(7007),s=n(5286),a=n(4253),A=n(4398),C=(n(3816).Reflect||{}).construct,I=a((function(){function t(){}return!(C((function(){}),[],t)instanceof t)})),c=!a((function(){C((function(){}))}));i(i.S+i.F*(I||c),"Reflect",{construct:function(t,e){o(t),g(e);var n=arguments.length<3?t:o(arguments[2]);if(c&&!I)return C(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(A.apply(t,i))}var a=n.prototype,l=r(s(a)?a:Object.prototype),u=Function.apply.call(t,l,e);return s(u)?u:l}})},685:(t,e,n)=>{var i=n(9275),r=n(2985),o=n(7007),g=n(1689);r(r.S+r.F*n(4253)((function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=g(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},5535:(t,e,n)=>{var i=n(2985),r=n(8693).f,o=n(7007);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},7347:(t,e,n)=>{"use strict";var i=n(2985),r=n(7007),o=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(9988)(o,"Object",(function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}})),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},6633:(t,e,n)=>{var i=n(8693),r=n(2985),o=n(7007);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},8989:(t,e,n)=>{var i=n(2985),r=n(468),o=n(7007);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},3049:(t,e,n)=>{var i=n(8693),r=n(468),o=n(9181),g=n(2985),s=n(5286),a=n(7007);g(g.S,"Reflect",{get:function t(e,n){var g,A,C=arguments.length<3?e:arguments[2];return a(e)===C?e[n]:(g=i.f(e,n))?o(g,"value")?g.value:void 0!==g.get?g.get.call(C):void 0:s(A=r(e))?t(A,n,C):void 0}})},8270:(t,e,n)=>{var i=n(2985);i(i.S,"Reflect",{has:function(t,e){return e in t}})},4510:(t,e,n)=>{var i=n(2985),r=n(7007),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},3984:(t,e,n)=>{var i=n(2985);i(i.S,"Reflect",{ownKeys:n(7643)})},5769:(t,e,n)=>{var i=n(2985),r=n(7007),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},6014:(t,e,n)=>{var i=n(2985),r=n(7375);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},55:(t,e,n)=>{var i=n(9275),r=n(8693),o=n(468),g=n(9181),s=n(2985),a=n(681),A=n(7007),C=n(5286);s(s.S,"Reflect",{set:function t(e,n,s){var I,c,l=arguments.length<4?e:arguments[3],u=r.f(A(e),n);if(!u){if(C(c=o(e)))return t(c,n,s,l);u=a(0)}if(g(u,"value")){if(!1===u.writable||!C(l))return!1;if(I=r.f(l,n)){if(I.get||I.set||!1===I.writable)return!1;I.value=s,i.f(l,n,I)}else i.f(l,n,a(0,s));return!0}return void 0!==u.set&&(u.set.call(l,s),!0)}})},3946:(t,e,n)=>{var i=n(3816),r=n(266),o=n(9275).f,g=n(616).f,s=n(5364),a=n(3218),A=i.RegExp,C=A,I=A.prototype,c=/a/g,l=/a/g,u=new A(c)!==c;if(n(7057)&&(!u||n(4253)((function(){return l[n(6314)("match")]=!1,A(c)!=c||A(l)==l||"/a/i"!=A(c,"i")})))){A=function(t,e){var n=this instanceof A,i=s(t),o=void 0===e;return!n&&i&&t.constructor===A&&o?t:r(u?new C(i&&!o?t.source:t,e):C((i=t instanceof A)?t.source:t,i&&o?a.call(t):e),n?this:I,A)};for(var h=function(t){t in A||o(A,t,{configurable:!0,get:function(){return C[t]},set:function(e){C[t]=e}})},d=g(C),p=0;d.length>p;)h(d[p++]);I.constructor=A,A.prototype=I,n(7234)(i,"RegExp",A)}n(2974)("RegExp")},8269:(t,e,n)=>{"use strict";var i=n(1165);n(2985)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},6774:(t,e,n)=>{n(7057)&&"g"!=/./g.flags&&n(9275).f(RegExp.prototype,"flags",{configurable:!0,get:n(3218)})},1466:(t,e,n)=>{"use strict";var i=n(7007),r=n(875),o=n(6793),g=n(7787);n(8082)("match",1,(function(t,e,n,s){return[function(n){var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=s(n,t,this);if(e.done)return e.value;var a=i(t),A=String(this);if(!a.global)return g(a,A);var C=a.unicode;a.lastIndex=0;for(var I,c=[],l=0;null!==(I=g(a,A));){var u=String(I[0]);c[l]=u,""===u&&(a.lastIndex=o(A,r(a.lastIndex),C)),l++}return 0===l?null:c}]}))},9357:(t,e,n)=>{"use strict";var i=n(7007),r=n(508),o=n(875),g=n(1467),s=n(6793),a=n(7787),A=Math.max,C=Math.min,I=Math.floor,c=/\$([$&`']|\d\d?|<[^>]*>)/g,l=/\$([$&`']|\d\d?)/g;n(8082)("replace",2,(function(t,e,n,u){return[function(i,r){var o=t(this),g=null==i?void 0:i[e];return void 0!==g?g.call(i,o,r):n.call(String(o),i,r)},function(t,e){var r=u(n,t,this,e);if(r.done)return r.value;var I=i(t),c=String(this),l="function"==typeof e;l||(e=String(e));var d=I.global;if(d){var p=I.unicode;I.lastIndex=0}for(var f=[];;){var m=a(I,c);if(null===m)break;if(f.push(m),!d)break;""===String(m[0])&&(I.lastIndex=s(c,o(I.lastIndex),p))}for(var v,y="",b=0,_=0;_<f.length;_++){m=f[_];for(var w=String(m[0]),x=A(C(g(m.index),c.length),0),S=[],E=1;E<m.length;E++)S.push(void 0===(v=m[E])?v:String(v));var M=m.groups;if(l){var T=[w].concat(S,x,c);void 0!==M&&T.push(M);var R=String(e.apply(void 0,T))}else R=h(w,c,x,S,M,e);x>=b&&(y+=c.slice(b,x)+R,b=x+w.length)}return y+c.slice(b)}];function h(t,e,i,o,g,s){var a=i+t.length,A=o.length,C=l;return void 0!==g&&(g=r(g),C=c),n.call(s,C,(function(n,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(a);case"<":s=g[r.slice(1,-1)];break;default:var C=+r;if(0===C)return n;if(C>A){var c=I(C/10);return 0===c?n:c<=A?void 0===o[c-1]?r.charAt(1):o[c-1]+r.charAt(1):n}s=o[C-1]}return void 0===s?"":s}))}}))},6142:(t,e,n)=>{"use strict";var i=n(7007),r=n(7195),o=n(7787);n(8082)("search",1,(function(t,e,n,g){return[function(n){var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=g(n,t,this);if(e.done)return e.value;var s=i(t),a=String(this),A=s.lastIndex;r(A,0)||(s.lastIndex=0);var C=o(s,a);return r(s.lastIndex,A)||(s.lastIndex=A),null===C?-1:C.index}]}))},1876:(t,e,n)=>{"use strict";var i=n(5364),r=n(7007),o=n(8364),g=n(6793),s=n(875),a=n(7787),A=n(1165),C=n(4253),I=Math.min,c=[].push,l=4294967295,u=!C((function(){RegExp(l,"y")}));n(8082)("split",2,(function(t,e,n,C){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);for(var o,g,s,a=[],C=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),I=0,u=void 0===e?l:e>>>0,h=new RegExp(t.source,C+"g");(o=A.call(h,r))&&!((g=h.lastIndex)>I&&(a.push(r.slice(I,o.index)),o.length>1&&o.index<r.length&&c.apply(a,o.slice(1)),s=o[0].length,I=g,a.length>=u));)h.lastIndex===o.index&&h.lastIndex++;return I===r.length?!s&&h.test("")||a.push(""):a.push(r.slice(I)),a.length>u?a.slice(0,u):a}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r,i):h.call(String(r),n,i)},function(t,e){var i=C(h,t,this,e,h!==n);if(i.done)return i.value;var A=r(t),c=String(this),d=o(A,RegExp),p=A.unicode,f=(A.ignoreCase?"i":"")+(A.multiline?"m":"")+(A.unicode?"u":"")+(u?"y":"g"),m=new d(u?A:"^(?:"+A.source+")",f),v=void 0===e?l:e>>>0;if(0===v)return[];if(0===c.length)return null===a(m,c)?[c]:[];for(var y=0,b=0,_=[];b<c.length;){m.lastIndex=u?b:0;var w,x=a(m,u?c:c.slice(b));if(null===x||(w=I(s(m.lastIndex+(u?0:b)),c.length))===y)b=g(c,b,p);else{if(_.push(c.slice(y,b)),_.length===v)return _;for(var S=1;S<=x.length-1;S++)if(_.push(x[S]),_.length===v)return _;b=y=w}}return _.push(c.slice(y)),_}]}))},6108:(t,e,n)=>{"use strict";n(6774);var i=n(7007),r=n(3218),o=n(7057),g="toString",s=/./.toString,a=function(t){n(7234)(RegExp.prototype,g,t,!0)};n(4253)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?a((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):s.name!=g&&a((function(){return s.call(this)}))},8184:(t,e,n)=>{"use strict";var i=n(9824),r=n(1616);t.exports=n(5795)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},856:(t,e,n)=>{"use strict";n(9395)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},703:(t,e,n)=>{"use strict";n(9395)("big",(function(t){return function(){return t(this,"big","","")}}))},1539:(t,e,n)=>{"use strict";n(9395)("blink",(function(t){return function(){return t(this,"blink","","")}}))},5292:(t,e,n)=>{"use strict";n(9395)("bold",(function(t){return function(){return t(this,"b","","")}}))},9539:(t,e,n)=>{"use strict";var i=n(2985),r=n(4496)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},6620:(t,e,n)=>{"use strict";var i=n(2985),r=n(875),o=n(2094),g="endsWith",s="".endsWith;i(i.P+i.F*n(8852)(g),"String",{endsWith:function(t){var e=o(this,t,g),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),a=void 0===n?i:Math.min(r(n),i),A=String(t);return s?s.call(e,A,a):e.slice(a-A.length,a)===A}})},6629:(t,e,n)=>{"use strict";n(9395)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},3694:(t,e,n)=>{"use strict";n(9395)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},7648:(t,e,n)=>{"use strict";n(9395)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},191:(t,e,n)=>{var i=n(2985),r=n(2337),o=String.fromCharCode,g=String.fromCodePoint;i(i.S+i.F*(!!g&&1!=g.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,g=0;i>g;){if(e=+arguments[g++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},2850:(t,e,n)=>{"use strict";var i=n(2985),r=n(2094),o="includes";i(i.P+i.F*n(8852)(o),"String",{includes:function(t){return!!~r(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},7795:(t,e,n)=>{"use strict";n(9395)("italics",(function(t){return function(){return t(this,"i","","")}}))},9115:(t,e,n)=>{"use strict";var i=n(4496)(!0);n(2923)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},4531:(t,e,n)=>{"use strict";n(9395)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},8306:(t,e,n)=>{var i=n(2985),r=n(2110),o=n(875);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,g=[],s=0;n>s;)g.push(String(e[s++])),s<i&&g.push(String(arguments[s]));return g.join("")}})},823:(t,e,n)=>{var i=n(2985);i(i.P,"String",{repeat:n(8595)})},3605:(t,e,n)=>{"use strict";n(9395)("small",(function(t){return function(){return t(this,"small","","")}}))},7732:(t,e,n)=>{"use strict";var i=n(2985),r=n(875),o=n(2094),g="startsWith",s="".startsWith;i(i.P+i.F*n(8852)(g),"String",{startsWith:function(t){var e=o(this,t,g),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return s?s.call(e,i,n):e.slice(n,n+i.length)===i}})},6780:(t,e,n)=>{"use strict";n(9395)("strike",(function(t){return function(){return t(this,"strike","","")}}))},9937:(t,e,n)=>{"use strict";n(9395)("sub",(function(t){return function(){return t(this,"sub","","")}}))},511:(t,e,n)=>{"use strict";n(9395)("sup",(function(t){return function(){return t(this,"sup","","")}}))},4564:(t,e,n)=>{"use strict";n(9599)("trim",(function(t){return function(){return t(this,3)}}))},5767:(t,e,n)=>{"use strict";var i=n(3816),r=n(9181),o=n(7057),g=n(2985),s=n(7234),a=n(4728).KEY,A=n(4253),C=n(3825),I=n(2943),c=n(3953),l=n(6314),u=n(8787),h=n(6074),d=n(5541),p=n(4302),f=n(7007),m=n(5286),v=n(508),y=n(2110),b=n(1689),_=n(681),w=n(2503),x=n(9327),S=n(8693),E=n(4548),M=n(9275),T=n(7184),R=S.f,O=M.f,L=x.f,P=i.Symbol,N=i.JSON,D=N&&N.stringify,k=l("_hidden"),j=l("toPrimitive"),F={}.propertyIsEnumerable,B=C("symbol-registry"),z=C("symbols"),U=C("op-symbols"),H=Object.prototype,G="function"==typeof P&&!!E.f,W=i.QObject,V=!W||!W.prototype||!W.prototype.findChild,Z=o&&A((function(){return 7!=w(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=R(H,e);i&&delete H[e],O(t,e,n),i&&t!==H&&O(H,e,i)}:O,Y=function(t){var e=z[t]=w(P.prototype);return e._k=t,e},X=G&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},J=function(t,e,n){return t===H&&J(U,e,n),f(t),e=b(e,!0),f(n),r(z,e)?(n.enumerable?(r(t,k)&&t[k][e]&&(t[k][e]=!1),n=w(n,{enumerable:_(0,!1)})):(r(t,k)||O(t,k,_(1,{})),t[k][e]=!0),Z(t,e,n)):O(t,e,n)},q=function(t,e){f(t);for(var n,i=d(e=y(e)),r=0,o=i.length;o>r;)J(t,n=i[r++],e[n]);return t},K=function(t){var e=F.call(this,t=b(t,!0));return!(this===H&&r(z,t)&&!r(U,t))&&(!(e||!r(this,t)||!r(z,t)||r(this,k)&&this[k][t])||e)},Q=function(t,e){if(t=y(t),e=b(e,!0),t!==H||!r(z,e)||r(U,e)){var n=R(t,e);return!n||!r(z,e)||r(t,k)&&t[k][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=L(y(t)),i=[],o=0;n.length>o;)r(z,e=n[o++])||e==k||e==a||i.push(e);return i},tt=function(t){for(var e,n=t===H,i=L(n?U:y(t)),o=[],g=0;i.length>g;)!r(z,e=i[g++])||n&&!r(H,e)||o.push(z[e]);return o};G||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=c(arguments.length>0?arguments[0]:void 0),e=function(n){this===H&&e.call(U,n),r(this,k)&&r(this[k],t)&&(this[k][t]=!1),Z(this,t,_(1,n))};return o&&V&&Z(H,t,{configurable:!0,set:e}),Y(t)},s(P.prototype,"toString",(function(){return this._k})),S.f=Q,M.f=J,n(616).f=x.f=$,n(4682).f=K,E.f=tt,o&&!n(4461)&&s(H,"propertyIsEnumerable",K,!0),u.f=function(t){return Y(l(t))}),g(g.G+g.W+g.F*!G,{Symbol:P});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)l(et[nt++]);for(var it=T(l.store),rt=0;it.length>rt;)h(it[rt++]);g(g.S+g.F*!G,"Symbol",{for:function(t){return r(B,t+="")?B[t]:B[t]=P(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),g(g.S+g.F*!G,"Object",{create:function(t,e){return void 0===e?w(t):q(w(t),e)},defineProperty:J,defineProperties:q,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:tt});var ot=A((function(){E.f(1)}));g(g.S+g.F*ot,"Object",{getOwnPropertySymbols:function(t){return E.f(v(t))}}),N&&g(g.S+g.F*(!G||A((function(){var t=P();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(m(e)||void 0!==t)&&!X(t))return p(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!X(e))return e}),i[1]=e,D.apply(N,i)}}),P.prototype[j]||n(7728)(P.prototype,j,P.prototype.valueOf),I(P,"Symbol"),I(Math,"Math",!0),I(i.JSON,"JSON",!0)},142:(t,e,n)=>{"use strict";var i=n(2985),r=n(9383),o=n(1125),g=n(7007),s=n(2337),a=n(875),A=n(5286),C=n(3816).ArrayBuffer,I=n(8364),c=o.ArrayBuffer,l=o.DataView,u=r.ABV&&C.isView,h=c.prototype.slice,d=r.VIEW,p="ArrayBuffer";i(i.G+i.W+i.F*(C!==c),{ArrayBuffer:c}),i(i.S+i.F*!r.CONSTR,p,{isView:function(t){return u&&u(t)||A(t)&&d in t}}),i(i.P+i.U+i.F*n(4253)((function(){return!new c(2).slice(1,void 0).byteLength})),p,{slice:function(t,e){if(void 0!==h&&void 0===e)return h.call(g(this),t);for(var n=g(this).byteLength,i=s(t,n),r=s(void 0===e?n:e,n),o=new(I(this,c))(a(r-i)),A=new l(this),C=new l(o),u=0;i<r;)C.setUint8(u++,A.getUint8(i++));return o}}),n(2974)(p)},1786:(t,e,n)=>{var i=n(2985);i(i.G+i.W+i.F*!n(9383).ABV,{DataView:n(1125).DataView})},162:(t,e,n)=>{n(8440)("Float32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},3834:(t,e,n)=>{n(8440)("Float64",8,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},4821:(t,e,n)=>{n(8440)("Int16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},1303:(t,e,n)=>{n(8440)("Int32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},5368:(t,e,n)=>{n(8440)("Int8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},9103:(t,e,n)=>{n(8440)("Uint16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},3318:(t,e,n)=>{n(8440)("Uint32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},6964:(t,e,n)=>{n(8440)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},2152:(t,e,n)=>{n(8440)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}),!0)},147:(t,e,n)=>{"use strict";var i,r=n(3816),o=n(50)(0),g=n(7234),s=n(4728),a=n(5345),A=n(3657),C=n(5286),I=n(1616),c=n(1616),l=!r.ActiveXObject&&"ActiveXObject"in r,u="WeakMap",h=s.getWeak,d=Object.isExtensible,p=A.ufstore,f=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(t){if(C(t)){var e=h(t);return!0===e?p(I(this,u)).get(t):e?e[this._i]:void 0}},set:function(t,e){return A.def(I(this,u),t,e)}},v=t.exports=n(5795)(u,f,m,A,!0,!0);c&&l&&(a((i=A.getConstructor(f,u)).prototype,m),s.NEED=!0,o(["delete","has","get","set"],(function(t){var e=v.prototype,n=e[t];g(e,t,(function(e,r){if(C(e)&&!d(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)}))})))},9192:(t,e,n)=>{"use strict";var i=n(3657),r=n(1616),o="WeakSet";n(5795)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,o),t,!0)}},i,!1,!0)},1268:(t,e,n)=>{"use strict";var i=n(2985),r=n(3325),o=n(508),g=n(875),s=n(4963),a=n(6886);i(i.P,"Array",{flatMap:function(t){var e,n,i=o(this);return s(t),e=g(i.length),n=a(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),n(7722)("flatMap")},2773:(t,e,n)=>{"use strict";var i=n(2985),r=n(9315)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(7722)("includes")},3276:(t,e,n)=>{var i=n(2985),r=n(1131)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},8351:(t,e,n)=>{var i=n(2985),r=n(7643),o=n(2110),g=n(8693),s=n(2811);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),a=g.f,A=r(i),C={},I=0;A.length>I;)void 0!==(n=a(i,e=A[I++]))&&s(C,e,n);return C}})},6409:(t,e,n)=>{var i=n(2985),r=n(1131)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},9865:(t,e,n)=>{"use strict";var i=n(2985),r=n(5645),o=n(3816),g=n(8364),s=n(94);i(i.P+i.R,"Promise",{finally:function(t){var e=g(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}})},2770:(t,e,n)=>{"use strict";var i=n(2985),r=n(5442),o=n(575),g=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*g,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},1784:(t,e,n)=>{"use strict";var i=n(2985),r=n(5442),o=n(575),g=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*g,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},5869:(t,e,n)=>{"use strict";n(9599)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},4325:(t,e,n)=>{"use strict";n(9599)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},9665:(t,e,n)=>{n(6074)("asyncIterator")},1181:(t,e,n)=>{for(var i=n(6997),r=n(7184),o=n(7234),g=n(3816),s=n(7728),a=n(2803),A=n(6314),C=A("iterator"),I=A("toStringTag"),c=a.Array,l={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},u=r(l),h=0;h<u.length;h++){var d,p=u[h],f=l[p],m=g[p],v=m&&m.prototype;if(v&&(v[C]||s(v,C,c),v[I]||s(v,I,p),a[p]=c,f))for(d in i)v[d]||o(v,d,i[d],!0)}},4633:(t,e,n)=>{var i=n(2985),r=n(4193);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},2564:(t,e,n)=>{var i=n(3816),r=n(2985),o=n(575),g=[].slice,s=/MSIE .\./.test(o),a=function(t){return function(e,n){var i=arguments.length>2,r=!!i&&g.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*s,{setTimeout:a(i.setTimeout),setInterval:a(i.setInterval)})},6337:(t,e,n)=>{n(2564),n(4633),n(1181),t.exports=n(5645)},4087:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,".lm_root{\n\tposition: relative;\n}\n\n.lm_row > .lm_item{\n\tfloat: left;\n}\n\n.lm_content{\n\toverflow: hidden;\n}\n\n.lm_dragging, .lm_dragging *{\n\tcursor: move !important;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\t-o-user-select: none;\n\tuser-select: none;\n}\n\n.lm_maximised{\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 40;\n}\n\n.lm_maximise_placeholder{\n\tdisplay: none;\n}\n\n.lm_splitter{\n\tposition: relative;\n\tz-index: 2;\n}\n\n.lm_splitter:hover{\n\tbackground: orange;\n}\n\n.lm_splitter.lm_vertical .lm_drag_handle{\n\tposition: absolute;\n\theight: 25px;\n\ttop: -10px;\n\tcursor: n-resize;\n\twidth: 100%;\n}\n\n.lm_splitter.lm_horizontal{\n\theight: 100%;\n\tfloat: left;\n}\n\n.lm_splitter.lm_horizontal .lm_drag_handle{\n\tposition: absolute;\n\twidth: 25px;\n\tleft: -10px;\n\tcursor: e-resize;\n\theight: 100%;\n}\n\n.lm_header{\n\tposition: relative;\n\toverflow: visible;\n}\n\n.lm_header * {\n\tbox-sizing: content-box !important;\n}\n\n.lm_header > ul{\n\tlist-style-type: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.lm_header .lm_controls{\n\tright: 3px;\n\tposition: absolute;\n}\n\n.lm_header .lm_controls > li{\n\twidth: 18px;\n\theight: 18px;\n\tfloat: left;\n\ttext-align: center;\n\tcursor: pointer;\n}\n\n.lm_header .lm_tabs{\n\tposition: absolute;\n}\n\n.lm_header .lm_tab{\n\tfloat: left;\n\tpadding: 0px 10px 5px;\n\theight: 14px;\n\tmargin-top: 1px;\n\tcursor: pointer;\n\tposition: relative;\n\tpadding-right: 25px;\n}\n\n.lm_header .lm_tab i{\n\theight: 19px;\n\twidth: 2px;\n\tposition: absolute;\n}\n\n.lm_header .lm_tab i.lm_left{\n\tleft: -2px;\n\ttop: 0;\n}\n\n.lm_header .lm_tab i.lm_right{\n\tright: -2px;\n\ttop: 0;\n}\n\n.lm_header .lm_tab .lm_title{\n\ttext-overflow: ellipsis;\n\tdisplay: inline-block;\n\toverflow: hidden;\n}\n\n.lm_header .lm_tab .lm_close_tab{\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\twidth: 14px;\n\theight: 14px;\n\ttext-align: center;\n}\n\n.lm_drop_tab_placeholder{\n\twidth: 100px;\n\theight: 10px;\n\tfloat: left;\n\tvisibility: hidden;\n}\n\n/***********************************\n* Drag Proxy\n***********************************/\n.lm_dragProxy{\n\tposition: absolute;\n\tz-index: 3;\n\ttop: 0;\n\tleft: 0;\n}\n\n.lm_dragProxy .lm_header{\n\tbackground: transparent;\n}\n\n.lm_dragProxy .lm_content{\n\tborder-top: none;\n\toverflow: hidden;\n}\n\n.lm_dropTargetIndicator{\n\tposition: absolute;\n\tz-index: 2;\n\tdisplay: none;\n}\n\n.lm_dropTargetIndicator .lm_inner{\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n\tleft: 0;\n\ttop: 0;\n}\n\n.lm_transition_indicator{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: none;\n\twidth: 20px;\n\theight: 20px;\n\tz-index: 2;\n}\n\n\n.lm_popin{\n\twidth: 20px;\n\theight: 20px;\n\tposition: absolute;\n\tz-index: 9999;\n\tbottom: 0;\n\tright: 0;\n}\n\n.lm_popin > *{\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.lm_popin > .lm_bg{\n\tz-index: 1;\n}\n\n.lm_popin > .lm_icon{\n\tz-index: 2;\n}",""]);const o=r},6406:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,".lm_goldenlayout{\n\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAGFBMVEX29vb19fXw8PDy8vL09PTz8/Pv7+/x8fGKuegbAAAAyUlEQVR42pXRQQ7CMBRDwST9pfe/MahEmgURbt7WmpVb6+vG0dd9REnn66xRy/qXiCgmEIIJhGACIZhACCYQgvlDCDFIEAwSBIMEwSBBMEgQDBIEgwTBIEEwCJEMQiSDENFMQmQzCZEbNyGemd6KeGZ6u4hnXe2qbdLHFjhf1XqNLXHev4wdMd9nspiEiWISJgqECQJhgkCYIBAmCIQJAmGCQJggECYJhAkCEUMEwhCBMEQgDJEIQ2RSg0iEIRJhiB/S+rrjqvXQ3paIJUgPBXxiAAAAAElFTkSuQmCC);\n}\n\n.lm_content{\n\tbackground: #e1e1e1;\n\tborder: 1px solid #ccc;\n}\n\n.lm_dragProxy .lm_content{\n\tbox-shadow: 2px 2px 4px rgba( 0, 0, 0, 0.2 );\n}\n\n.lm_dropTargetIndicator{\n\tbox-shadow: inset 0 0 30px rgba(0,0,0,0.4);\n\toutline: 1px dashed #ccc;\n\tmargin: 1px;\n\ttransition: all 200ms ease;\n}\n\n.lm_dropTargetIndicator .lm_inner{\n\tbackground: #000;\n\topacity: 0.1;\n\tfilter: alpha(opacity=1);\n}\n\n.lm_splitter{\n\tbackground: #999;\n\topacity: 0.001;\n\ttransition: opacity 200ms ease;\n}\n\n.lm_splitter:hover{\n\topacity: 1;\n\tbackground: #bbb;\n}\n\n.lm_header{\n\theight: 20px;\n}\n\n.lm_header.lm_selectable{\n\tcursor: pointer;\n}\n\n.lm_selected .lm_header{\n\tbackground-color: #452500;\n}\n\n.lm_maximised .lm_header{\n\tbackground-color: #fff;\n}\n\n.lm_header .lm_tab{\n\tbackground: #fafafa;\n\tcolor: #888;\n\tfont-size: 12px;\n\tpadding-bottom: 4px;\n\tfont-family: Arial, sans-serif;\n\tmargin-right: 2px;\n\tborder: 1px solid #ccc;\n\tborder-bottom: none;\n}\n.lm_header .lm_tab .lm_title{\n\tpadding-top: 1px;\n}\n\n.lm_tab.lm_active, \n.lm_tab:hover{\n\tcolor: #777;\n\tbackground: #e1e1e1;\n}\n\n.lm_header .lm_tab.lm_active{\n\tpadding-bottom: 5px;\n\tborder-bottom: none;\n\tbox-shadow: 2px -2px 2px -2px rgba(0,0,0,0.2);\n}\n\n.lm_header .lm_tab .lm_close_tab{\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\topacity: 0.4;\n\tfilter: alpha(opacity=40);\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5kmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNC0wOS0xNlQwODo0MTo0NiswMTowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE0LTA5LTE2VDA4OjQzOjE0KzAxOjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wOS0xNlQwODo0MzoxNCswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDphODMwZjcyMS05NDE1LWU4NDQtOWYzMi00YTY0MDA1N2JkNDg8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6RUNBMEI2MkRGMzlBMTFFMzgxM0VDNkYyMDI0MDVFRjM8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6RUNBMEI2MkFGMzlBMTFFMzgxM0VDNkYyMDI0MDVFRjM8L3N0UmVmOmluc3RhbmNlSUQ+CiAgICAgICAgICAgIDxzdFJlZjpkb2N1bWVudElEPnhtcC5kaWQ6RUNBMEI2MkJGMzlBMTFFMzgxM0VDNkYyMDI0MDVFRjM8L3N0UmVmOmRvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpFQ0EwQjYyREYzOUExMUUzODEzRUM2RjIwMjQwNUVGMzwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6YTgzMGY3MjEtOTQxNS1lODQ0LTlmMzItNGE2NDAwNTdiZDQ4PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTA5LTE2VDA4OjQzOjE0KzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj43PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjc8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PiqUBwkAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAClJREFUeNpiYGBg+M+AHfzHYODgwwVwmURY4j8hHf8JGfUfAAAA//8DABACDPQtb9jEAAAAAElFTkSuQmCC);\n}\n\n.lm_header .lm_tab .lm_close_tab{\n\twidth: 11px;\n\theight: 11px;\n\tright: 6px;\n\ttop: 4px;\n\tbackground-repeat: no-repeat;\n}\n\n.lm_header .lm_tab .lm_close_tab:hover,\n.lm_header .lm_tab.lm_active .lm_close_tab{\n\topacity: 1;\n\tfilter: alpha(opacity=100);\n}\n\n.lm_controls > li{\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n\topacity: 0.4;\n\tfilter: alpha(opacity=40);\n\t-webkit-transition: opacity 300ms ease;\n\t-o-transition: opacity 300ms ease;\n\t-ms-transition: opacity 300ms ease;\n\t-moz-transition: opacity 300ms ease;\n\ttransition: opacity 300ms ease;\n}\n\n.lm_controls > li:hover{\n\topacity: 1;\n\tfilter: alpha(opacity=100);\n}\n\n.lm_controls .lm_popout{\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5nmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpjOWFlODE3Zi0zMjcxLWJkNDItOTY0Mi03MDJiZjVkNGJmOWE8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpEOUM3NzIyQkZCNjIxMUUzQjNBQThGQjJDM0NEMjQwODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDpiZDE4NjdiYy1kZWIxLTZlNDUtOGVlMi0zNGVlZmE2MjhiMDU8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6YzlhZTgxN2YtMzI3MS1iZDQyLTk2NDItNzAyYmY1ZDRiZjlhPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOmM5YWU4MTdmLTMyNzEtYmQ0Mi05NjQyLTcwMmJmNWQ0YmY5YTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmJkMTg2N2JjLWRlYjEtNmU0NS04ZWUyLTM0ZWVmYTYyOGIwNTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wOS0xNlQwODozNTo1MCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDktMTZUMDg6MzQ6NDMrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wOS0xNlQwODozNTo1MCswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDktMTZUMDg6MzU6NTArMDE6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj45PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjk8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PrKVgHMAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAADlJREFUeNpiZECA/wxEAFyK/jMRo5uRgDWMDAwM/1mQODitZyLGnSxEOIeBKIezEBNGAAAAAP//AwArYwgQninC8AAAAABJRU5ErkJggg==);\n}\n\n.lm_controls .lm_maximise{\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5nmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpjOWFlODE3Zi0zMjcxLWJkNDItOTY0Mi03MDJiZjVkNGJmOWE8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpEOUNDRjE1RUZCNjIxMUUzQjNBQThGQjJDM0NEMjQwODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDo4NTQ0MTJmNi0zNzNlLWI0NGQtOTYzOS1hOWFjOWM0YmI2ZGU8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6YzlhZTgxN2YtMzI3MS1iZDQyLTk2NDItNzAyYmY1ZDRiZjlhPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOmM5YWU4MTdmLTMyNzEtYmQ0Mi05NjQyLTcwMmJmNWQ0YmY5YTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjg1NDQxMmY2LTM3M2UtYjQ0ZC05NjM5LWE5YWM5YzRiYjZkZTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wOS0xNlQwODozNTozOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDktMTZUMDg6MzQ6MDYrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wOS0xNlQwODozNTozOSswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDktMTZUMDg6MzU6MzkrMDE6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj45PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjk8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PsQ6Tk0AAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAACZJREFUeNpiZGBg+M9AADAxEAkImfSfKJMGoyJGYsIJAAAA//8DAE+8BAv7T9o1AAAAAElFTkSuQmCC);\n}\n\n.lm_maximised .lm_controls .lm_maximise{\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAA7U2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpjOWFlODE3Zi0zMjcxLWJkNDItOTY0Mi03MDJiZjVkNGJmOWE8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpEOUNDRjE1RUZCNjIxMUUzQjNBQThGQjJDM0NEMjQwODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDoyM2Q5NmRmZi02NjcxLTFmNDgtYmU3MC05MTc2NDQ1ODIzNDY8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6YzlhZTgxN2YtMzI3MS1iZDQyLTk2NDItNzAyYmY1ZDRiZjlhPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOmM5YWU4MTdmLTMyNzEtYmQ0Mi05NjQyLTcwMmJmNWQ0YmY5YTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjg1NDQxMmY2LTM3M2UtYjQ0ZC05NjM5LWE5YWM5YzRiYjZkZTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wOS0xNlQwODozNTozOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MjNkOTZkZmYtNjY3MS0xZjQ4LWJlNzAtOTE3NjQ0NTgyMzQ2PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTA5LTI4VDE2OjMxOjIxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNC0wOS0xNlQwODozNDowNiswMTowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE0LTA5LTI4VDE2OjMxOjIxKzAxOjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wOS0yOFQxNjozMToyMSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjk8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+OTwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+OroafQAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAALUlEQVR42mL8//8/AyHAxEAEGLKKWBgYGBgYGRlxhsP///8ZiTIJAAAA//8DAKUpBxFhGkvtAAAAAElFTkSuQmCC);\n}\n\n.lm_controls .lm_close{\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5nmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpjOWFlODE3Zi0zMjcxLWJkNDItOTY0Mi03MDJiZjVkNGJmOWE8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpEOUNDRjE2NkZCNjIxMUUzQjNBQThGQjJDM0NEMjQwODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDo0OTg3YmY4OC1lZDI3LWZmNDQtOWEzYS0yZDYwY2MzMDViNzg8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6YzlhZTgxN2YtMzI3MS1iZDQyLTk2NDItNzAyYmY1ZDRiZjlhPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOmM5YWU4MTdmLTMyNzEtYmQ0Mi05NjQyLTcwMmJmNWQ0YmY5YTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjQ5ODdiZjg4LWVkMjctZmY0NC05YTNhLTJkNjBjYzMwNWI3ODwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wOS0xNlQwODozNToyNCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDktMTZUMDg6MzM6MzcrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wOS0xNlQwODozNToyNCswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDktMTZUMDg6MzU6MjQrMDE6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj45PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjk8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PnzIv+YAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAADJJREFUeNpiYGBg+M+AH/zHYOBSgEvgPyGjCTmBeAX/iTXhP7FW/CfWDf8BAAAA//8DAOvuEPDOl61rAAAAAElFTkSuQmCC);\n}\n\n.lm_transition_indicator{\n\tbackground-color: #000;\n\tborder: 1px dashed #555;\n}\n\n.lm_popin{\n\tcursor: pointer;\n}\n\n.lm_popin .lm_bg{\n\tbackground: #000;\n\topacity: 0.7;\n\tfilter:alpha(opacity=70);\n}\n\n.lm_popin .lm_icon{\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\topacity: 0.7;\n\tfilter:alpha(opacity=70);\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNTlCMjk5QzM3MUMxMUU0OTBFOUQ3QUI0Q0UzREQ0RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxNTlCMjk5RDM3MUMxMUU0OTBFOUQ3QUI0Q0UzREQ0RSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjE1OUIyOTlBMzcxQzExRTQ5MEU5RDdBQjRDRTNERDRFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjE1OUIyOTlCMzcxQzExRTQ5MEU5RDdBQjRDRTNERDRFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+3fq+uQAAAFxJREFUeNqcjosJwCAMRBNxgey/YzLCacRADaJtH/jlnh6rKoiIRYQCMwMdqC70gR4c6zzzwUGZmxBewQBynaVqxrNDelwsgZ3sUvEph2/U28s7Cv0gfvpUsQkwAKQyLdc+L4T6AAAAAElFTkSuQmCC);\n}\n\n.lm_popin:hover .lm_icon{\n\topacity: 1;\n\tfilter:alpha(opacity=100);\n}\n",""]);const o=r},5694:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,'#wrapper {\n    height: calc(100% - 32px);\n    position: relative;\n    width: 100%;\n    overflow: hidden;\n}\n\n#menuContainer {\n    width: 20%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background: #222;\n}\n\n#menuContainer li {\n    cursor: move;\n    border-bottom: 1px solid #000;\n    border-top: 1px solid #333;\n    cursor: pointer;\n    padding: 10px 5px;\n    color: #BBB;\n    background: #1a1a1a;\n    font: 12px Arial, sans-serif;\n}\n\n#menuContainer li:hover {\n    background: #111;\n    color: #CCC;\n}\n\n#layoutContainer {\n    width: 80%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 20%;\n    box-shadow: -3px 0px 9px 0px rgba( 0, 0, 0, 0.4);\n}\n\n\n/* PANEL BASE */\n.lm_controls .lm_cfgbtn {\n\n}\n.mainWin .lm_inbtn {\n  display: none;\n}\n.extWin .lm_outbtn {\n  display: none;\n}\n\n.s_content svg {\n    padding: 0;\n    position: absolute;\n}\n\n.s_content canvas {\n    padding : 0;\n    position: absolute;\n}\n.s_content .cfg {\n    display: none;\n    background-color: #000gff;\n}\n\n/*LAYOUT BASE*/\nbody .lm_content{\n  overflow: auto;\n}\n\n/* MENU BASE */\nbody {\n    font-size: 13px;\n    margin: 0;\n    color: #000;\n    overflow: hidden;\n    font-family: Helvetica;\n}\n.menu li {\n  padding-right:5px;\n}\n.fn-left {\n    float: left;\n}\n\n.fn-right {\n    float: right;\n}\n\n.fn-clear:before,\n.fn-clear:after {\n    display: table;\n    content: "";\n}\n\n.fn-clear:after {\n    clear: both;\n}\n\n.fn-none {\n    display: none;\n}\n\n.ft-small {\n    color: #999;\n    font-size: 12px;\n}\n\n.ft-red {\n    color: #9d0000;\n}\n.note {\n    position: absolute;\n    width: 320px;\n    display: none;\n    z-index: 922;\n    border-radius: 6px;\n    border: 1px solid #5F5F5F;\n    padding: 5px 0;\n    box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);\n    background-color: #F6F5D7;\n}\n\n/* start frame */\n.frame {\n    position: absolute;\n    width: 320px;\n    z-index: 10921;\n    display: none;\n}\n\n.frame li {\n    padding: 0 5px;\n    line-height: 25px;\n    cursor: pointer;\n}\n\n.frame li.disabled,\n.frame li.disabled .font-ico,\n.frame li.disabled:hover .font-ico {\n    color: #999;\n}\n\n.frame a {\n    color: #000;\n    background-color: aliceblue;\n    text-decoration: none;\n}\n\n.frame li:hover a,\n.frame a:hover {\n    color: #FFF;\n}\n\n.frame .space {\n    display: inline-block;\n    width: 20px;\n    height: 15px;\n}\n\n.frame .font-ico {\n    margin-right: 5px;\n    width: 15px;\n    display: inline-block;\n    text-align: center;\n}\n/* end frame */\n/* start menu */\n.menu {\n    display: block !important;\n}\nul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n}\n.menu > ul > li {\n    float: left;\n}\n\n.menu > ul > li > span {\n    font-size: 12px;\n    line-height: 21px;\n    cursor: pointer;\n    padding: 4px 7px;\n}\n.menu > ul > li > image {\n    height: 21px;\n    width : 21px;\n    padding: 4px 7px;\n}\n\n.menu .split {\n    float: left;\n    border-left: 1px solid #919191;\n    height: 21px;\n    margin: 0 5px 0 0px\n}\n.menu img.gravatar {\n    float: left;\n    margin: 2px 8px;\n    height: 17px;\n    width: 17px;\n    border-radius: 9px;\n}\n\n.fixedLayout #addPanel {\n    display: none;\n}\n.fixedLayout .lm_header {\n    display: none;\n}\n\n.liteVersion #menuUser {\n    display : none;\n}\n.extWin .mainWinOnly {\n  display : none;\n}\n\n.modal-ul > .selected {\n    background-color: #40f218\n}\n\n.hide {\n    display:none;\n}\n\n\n',""]);const o=r},1460:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,"/* MENU LIGHT THEME */\n.menu {\n    background: #F0F0F0;\n    box-shadow: 0 1px 0 0 #E7E7E7 inset;\n    border-bottom: 1px solid #919191;\n}\n\n.menu > ul > li > span {\n    color: #000;\n    text-shadow: 0px 1px 0px #efefef;\n}\n\n.menu > ul > li.selected {\n    background-color: #cfcfcf;\n    box-shadow: 1px 0 0 0 #b6b6b6 inset, 1px 0 0 0 #b6b6b6, 0 1px 0 0 rgba(255, 255, 255, 0.15) inset;\n    color: #393939;\n}\n\n.menu .split {\n    border-color: #b6b6b6;\n}\n\n\n\n.frame {\n    border: 1px solid #5F5F5F;\n    box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);\n    background-color: #F8F8F8;\n}\n\n.frame li:hover,\n.zeroclipboard-is-hover {\n    background-color: #3875D7;\n    color: #FFF;\n}\n\n.frame li.disabled:hover {\n    background-color: #F8F8F8;\n    color: #999;\n}\n\n.frame .hr {\n    font-size: 1px;\n    margin: 2px 3px;\n    border-top: 1px solid #e6e6e6;\n    border-bottom: 1px solid #F8F8F8;\n    height: 0;\n}\n\n\n/* Light Theme */\n.lm_cfgbtn {\n    background-image: \n    url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAC1QTFRF7+/vv7+/MDAwICAgr6+v////39/ff39/cHBwYGBgEBAQz8/Pn5+fAAAA////eHRIIwAAAA90Uk5T//////////////////8A1NyYoQAAAFpJREFUeNpcz0kWgCAMRMEOODEk9z+uCARbs4H6jyyA+YgI2gF3Ug0c3Cuo6nNNHPo7DufW9jxUnTPDch2B3EN3LmMZP7fwtaGEGskGufZENhw5st/f+twCDACeCAydcWJZCwAAAABJRU5ErkJggg==')\n }\n.lm_renamebtn {\n    background-image: \n\turl('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACpQTFRFMDAwYGBgj4+Pr6+vICAg7+/v39/fn5+fz8/PQEBAv7+/f39/AAAA////vxZEXgAAAA50Uk5T/////////////////wBFwNzIAAAAV0lEQVR42pzOSw6AMAhFUWjrB3jd/3YFSa2aOPFMmtwQCvUXykdR1MFmSFdYVEsMrR4YN+wBTU4EkoYINtZot7/hwUO1xGCzOg7b81vZPk+PjW6G6RBgAAd5C2kJojCEAAAAAElFTkSuQmCC')\n }\n\n.lm_savebtn {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABtQTFRFICAgEBAQcHBwUFBQQEBAgICA////AAAA////c2xJXwAAAAl0Uk5T//////////8AU094EgAAADlJREFUeNpi4EADDBzs7CwgBiM7B5DJjhBgJyjAxIwQQAYQFaxQwAAVYGWDAhZaCmBYi+YwNAAQYACjIwa4m+UwrwAAAABJRU5ErkJggg==')\n  }\n.lm_dupbtn {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACpQTFRFMDAwICAgj4+PEBAQr6+vYGBg39/ff39/gICAQEBAv7+/////AAAA////bEbiUAAAAA50Uk5T/////////////////wBFwNzIAAAAVklEQVR42oTOQRaAIAhFUTSNMP7+t1tySE406A2vKBL2scIdYdNVNVA7mAk7tBiSCV3K4XWdQEVObxgMjmcd6NlbHT5X/iBvYUkApC1Ai2+QwatLgAEAnRsKolTtZboAAAAASUVORK5CYII=')\n   }\n .lm_outbtn {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFEBAQgICAn5+fYGBgz8/P39/fr6+vj4+PUFBQICAg7+/vQEBAv7+/AAAA////////U6mvJQAAABB0Uk5T////////////////////AOAjXRkAAABgSURBVHjatM9ZDsAgCEVRcKgtymP/uy2YVN1Ab2Ii54MEsh0AMzrH5LIAwp26gOzqUSqkXnaYH5VOmZ8GB1VmTuUWoJbYoerrcPmTprYgGvon7CggH5DmtXV8iR/5CjAAkN0MiIjGPZIAAAAASUVORK5CYII=')\n  }\n.lm_inbtn {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADZQTFRFEBAQgICA7+/vn5+fcHBwz8/Pj4+P39/fMDAwICAgUFBQr6+vf39/QEBAv7+/////AAAA////UqnGkQAAABJ0Uk5T//////////////////////8A4r+/EgAAAF9JREFUeNqsz8sSwDAEBVAiz77w/z9bMmmT6bp3g7MwgH4CqiQzhwMsIA4i+Rp54OKRHyEH6/cXONkctkSI6MCcG0aood8FBrE3Cb00MigVzlh4PsdMtm79dh1VbwEGAN0lDkpfbPAGAAAAAElFTkSuQmCC')\n }\n .lm_maximise {\n\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABhQTFRFYGBgQEBAEBAQ7+/vf39/v7+/AAAA////Yit6QAAAAAh0Uk5T/////////wDeg71ZAAAANElEQVR42mJgRwMM7IxsSIARKMCGAogTYEGYyDKQAgyscMAAEmBCdigTUICZFQkwswMEGABYSQYleX94+wAAAABJRU5ErkJggg==')\n}\n.lm_close {\n\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA9QTFRFz8/PEBAQn5+fAAAA////TsHBEAAAAAV0Uk5T/////wD7tg5TAAAAR0lEQVR42nSPSxIAMARDg9z/zDWj6SKmNnjEBzQDEakko1NG1SVZFQ3aDZkACuSgkhqhZgnBR5J/4BIf6mvXYev09ZzZEWAAv18DSfxrNxYAAAAASUVORK5CYII=')\n}\n\n.s_cfg .lm_controls .lm_cfgbtn {\n    background-color: #3f7f41;\n}\n\n.s_content .cfg {\n    display: none;\n    background-color: #FFFFFF;\n}\n.s_content .content {\n  background-color: #FFFFFF;\n}\n\n.s_cfg .cfg {\n    background-color: #FFFFFF;\n}\n.s_cfg .content {\n  display: none;\n  background-color: #FFFFFF;\n}\n\n.s_content svg {\n    padding: 0;\n    position: absolute;\n}\n\n.s_content canvas {\n    padding : 0;\n    position: absolute;\n}\n\nbody .lm_content{\n  overflow: auto;\n  background-color: #F7F7F7;\n}\n",""]);const o=r},9180:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,".controls {\n\tlist-style-type: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n\n\n.controls{\n\tright: 3px; \n    top: 1px;\n\tposition: absolute;\n}\n\n.controls > li{\n\twidth: 18px;\n\theight: 18px;\n\tfloat: left;\n\ttext-align: center;\n\tcursor: pointer;\n}\n\n\n.controls > li{\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n\topacity: 0.4;\n\tfilter: alpha(opacity=40);\n\t-webkit-transition: opacity 300ms ease;\n\t-o-transition: opacity 300ms ease;\n\t-ms-transition: opacity 300ms ease;\n\t-moz-transition: opacity 300ms ease;\n\ttransition: opacity 300ms ease;\n}\n\n.controls > li:hover{\n\topacity: 1;\n\tfilter: alpha(opacity=100);\n}\n\n.controls .save {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABtQTFRFICAgEBAQcHBwUFBQQEBAgICA////AAAA////c2xJXwAAAAl0Uk5T//////////8AU094EgAAADlJREFUeNpi4EADDBzs7CwgBiM7B5DJjhBgJyjAxIwQQAYQFaxQwAAVYGWDAhZaCmBYi+YwNAAQYACjIwa4m+UwrwAAAABJRU5ErkJggg==')\n}\n\n.controls .maximise{\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5nmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpjOWFlODE3Zi0zMjcxLWJkNDItOTY0Mi03MDJiZjVkNGJmOWE8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpEOUNDRjE1RUZCNjIxMUUzQjNBQThGQjJDM0NEMjQwODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDo4NTQ0MTJmNi0zNzNlLWI0NGQtOTYzOS1hOWFjOWM0YmI2ZGU8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6YzlhZTgxN2YtMzI3MS1iZDQyLTk2NDItNzAyYmY1ZDRiZjlhPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOmM5YWU4MTdmLTMyNzEtYmQ0Mi05NjQyLTcwMmJmNWQ0YmY5YTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjg1NDQxMmY2LTM3M2UtYjQ0ZC05NjM5LWE5YWM5YzRiYjZkZTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wOS0xNlQwODozNTozOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDktMTZUMDg6MzQ6MDYrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wOS0xNlQwODozNTozOSswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDktMTZUMDg6MzU6MzkrMDE6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj45PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjk8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PsQ6Tk0AAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAACZJREFUeNpiZGBg+M9AADAxEAkImfSfKJMGoyJGYsIJAAAA//8DAE+8BAv7T9o1AAAAAElFTkSuQmCC);\n}\n\n.controls .minimise{\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAA7U2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpjOWFlODE3Zi0zMjcxLWJkNDItOTY0Mi03MDJiZjVkNGJmOWE8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpEOUNDRjE1RUZCNjIxMUUzQjNBQThGQjJDM0NEMjQwODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDoyM2Q5NmRmZi02NjcxLTFmNDgtYmU3MC05MTc2NDQ1ODIzNDY8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6YzlhZTgxN2YtMzI3MS1iZDQyLTk2NDItNzAyYmY1ZDRiZjlhPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOmM5YWU4MTdmLTMyNzEtYmQ0Mi05NjQyLTcwMmJmNWQ0YmY5YTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjg1NDQxMmY2LTM3M2UtYjQ0ZC05NjM5LWE5YWM5YzRiYjZkZTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wOS0xNlQwODozNTozOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MjNkOTZkZmYtNjY3MS0xZjQ4LWJlNzAtOTE3NjQ0NTgyMzQ2PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTA5LTI4VDE2OjMxOjIxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNC0wOS0xNlQwODozNDowNiswMTowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE0LTA5LTI4VDE2OjMxOjIxKzAxOjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wOS0yOFQxNjozMToyMSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjk8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+OTwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+OroafQAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAALUlEQVR42mL8//8/AyHAxEAEGLKKWBgYGBgYGRlxhsP///8ZiTIJAAAA//8DAKUpBxFhGkvtAAAAAElFTkSuQmCC);\n}\n\n.controls .close{\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5nmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpjOWFlODE3Zi0zMjcxLWJkNDItOTY0Mi03MDJiZjVkNGJmOWE8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpEOUNDRjE2NkZCNjIxMUUzQjNBQThGQjJDM0NEMjQwODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDo0OTg3YmY4OC1lZDI3LWZmNDQtOWEzYS0yZDYwY2MzMDViNzg8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6YzlhZTgxN2YtMzI3MS1iZDQyLTk2NDItNzAyYmY1ZDRiZjlhPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOmM5YWU4MTdmLTMyNzEtYmQ0Mi05NjQyLTcwMmJmNWQ0YmY5YTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjQ5ODdiZjg4LWVkMjctZmY0NC05YTNhLTJkNjBjYzMwNWI3ODwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wOS0xNlQwODozNToyNCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDktMTZUMDg6MzM6MzcrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wOS0xNlQwODozNToyNCswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDktMTZUMDg6MzU6MjQrMDE6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj45PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjk8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PnzIv+YAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAADJJREFUeNpiYGBg+M+AH/zHYOBSgEvgPyGjCTmBeAX/iTXhP7FW/CfWDf8BAAAA//8DAOvuEPDOl61rAAAAAElFTkSuQmCC);\n}\n\n\n",""]);const o=r},883:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,":host{\n    all:initial;\n}\n.container {\n    position: relative;\n    font-family: sans-serif;\n    font-size: 14px;\n    resize: both;\n    border-radius: 5px;  \n    min-height:400px;\n    width:100%;\n    display: flex;\n    flex-direction: column;\n}\n\n\n.dir {\n    list-style-type: none;\n}\n\n.item {\n    position: relative;\n    display: inline-block;\n    width: 6em;\n    height: 9em;\n    overflow: visible;\n    vertical-align:middle;\n    z-index: 1;\n}\n.item .thumbnail {\n    width: 4em; \n    height: 4em; \n    margin-left: 1em;\n    margin-right: 1em;\n    padding-top: 1em;\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n    vertical-align:middle;\n    text-align: center;\n    word-wrap:break-word; \n }\n.item .unselected {\n    color: grey; \n    background-color: #EEE;\n}\n.item .selected {\n    background-color: lightgreen;\n    color: white;\n}\n\n.item .filename {\n    text-align: center;\n    word-wrap:break-word; \n    padding: 2px;\n}\n\n.content {\n    position: absolute;\n    top: 30px;\n    left: 0px;\n    background-color: #F7F7F7;\n    width: 100%;\n    height: calc(100% - 30px);\n    border-radius: 0px 0px 5px 0px;\n}\n.menubar {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    padding: 2px 2px 0px 2px;\n    height: 28px;\n    background-color: #333;\n    color: #FFFFFF;\n    width: calc(100% - 5px);\n    border-radius: 5px 5px 0px 0px;\n}\n\n.footer {\n    position: absolute;\n    left: 0px;\n    background-color: #333;\n    color: # FFFFFF;\n    height: 30px;\n    border-radius: 0px 0px 5px 0px;\n}\n.content-menu {\n    padding: 3px;\n    background-color:white;\n    min-height: 27px;\n}\n\n.content-menu input {\n    margin-left: 2px;\n}\n\n",""]);const o=r},6135:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,':host {\n    all: initial;\n}\n\n.container {\n    position: relative;\n    font-family: sans-serif;\n    font-size: 14px;\n    resize: both;\n    border-radius: 5px;  \n    min-height:400px;\n    width:100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.sidebar {\n    margin: 0;\n    padding: 0;\n    width: 200px;\n    background-color: #f1f1f1;\n    position: absolute;\n    overflow: auto;\n    top: 30px;\n    left: 0px;\n    border-radius: 0px 0px 0px 5px;\n    height: calc(100% - 30px);\n}\n\n.sidebar a {\n    display: block;\n    color: black;\n    padding: 16px;\n    text-decoration: none;\n}\n\n.sidebar a.active {\n    background-color: #4CAF58;\n    color: white;\n}\n\n.sidebar a:hover:not(.active) {\n    background-color: #555;\n    color: white;\n}\n.sidebar-menu,.content-menu {\n    padding: 3px;\n}\n.content-menu input {\n    margin-left: 2px;\n}\n.sidebar-menu input {\n    margin-left: 2px;\n}\n\n.content {\n    position: absolute;\n    top: 30px;\n    left: 200px;\n    background-color: #F7F7F7;\n    width: calc(100% - 200px);\n    height: calc(100% - 30px);\n    border-radius: 0px 0px 5px 0px;\n}\n.menubar {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    padding: 2px 2px 0px 2px;\n    height: 28px;\n    background-color: #333;\n    color: #FFFFFF;\n    width: calc(100% - 5px);\n    border-radius: 5px 5px 0px 0px;\n}\n\n.footer {\n    position: absolute;\n    left: 0px;\n    background-color: #333;\n    color: # FFFFFF;\n    height: 30px;\n    border-radius: 0px 0px 5px 0px;\n}\n\n.bottom {\n    position: absolute;\n    bottom: 0px;\n}\n\n.btn {\n    cursor: default;\n    text-align: center;\n}\n\n.btn: hover {\n    background-color: #006F6F;\n    color: white;\n}\n\n.dir {\n    list-style-type: none;\n}\n\n.item {\n    position: relative;\n    display: inline-block;\n    width: 6em;\n    height: 9em;\n    overflow: visible;\n    vertical-align:middle;\n    z-index: 1;\n}\n\n.item .thumbnail {\n    width: 4em; \n    height: 4em; \n    margin-left: 1em;\n    margin-right: 1em;\n    padding-top: 1em;\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n    vertical-align:middle;\n    text-align: center;\n    word-wrap:break-word; \n    color: grey; \n    background-color: #EEE;\n}\n\n.item .filename {\n    text-align: center;\n    word-wrap:break-word; \n    padding: 2px;\n}\n\n.sidebar-ul {\n    list-style-type: none;\n}\n\n.drive:hover {\n    background-color: #006F6F;\n    color: white;\n}\n\n.pwd-btn {\n    background-color: #006F6F; \n    color: white;\n    text-align: center;\n}\n\n\n.tooltip {\n  width: 150px;\n  border-radius: 3px;\n  box-shadow: 0 0 2px rgba(0,0,0,0.5);\n  padding: 10px;\n  text-align: center;\n  background: #777;\n  color: #FFFFFF;\n}\n.tooltip::after {\n    position: absolute;\n    content: "";\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 5px;\n    border-color: transparent;\n}\n\n.tooltip[data-popper-placement=bottom] {\n    margin-top: 5px;\n    font-size: x-small;\n}\n.tooltip[data-popper-placement=bottom]::after {\n    border-top-width: 0;\n    border-bottom-color: #777;\n    top: -5px;\n    left: calc(50% -5px);\n}\n',""]);const o=r},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var g=this[o][0];null!=g&&(r[g]=!0)}for(var s=0;s<t.length;s++){var a=[].concat(t[s]);i&&r[a[0]]||(n&&(a[2]?a[2]="".concat(n," and ").concat(a[2]):a[2]=n),e.push(a))}},e}},5666:t=>{var e=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",g=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,n){return t[e]=n}}function A(t,e,n,i){var r=e&&e.prototype instanceof d?e:d,o=Object.create(r.prototype),g=new M(i||[]);return o._invoke=function(t,e,n){var i=I;return function(r,o){if(i===l)throw new Error("Generator is already running");if(i===u){if("throw"===r)throw o;return R()}for(n.method=r,n.arg=o;;){var g=n.delegate;if(g){var s=x(g,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===I)throw i=u,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=l;var a=C(t,e,n);if("normal"===a.type){if(i=n.done?u:c,a.arg===h)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(i=u,n.method="throw",n.arg=a.arg)}}}(t,n,g),o}function C(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=A;var I="suspendedStart",c="suspendedYield",l="executing",u="completed",h={};function d(){}function p(){}function f(){}var m={};a(m,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(T([])));y&&y!==n&&i.call(y,o)&&(m=y);var b=f.prototype=d.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function n(r,o,g,s){var a=C(t[r],t,o);if("throw"!==a.type){var A=a.arg,I=A.value;return I&&"object"==typeof I&&i.call(I,"__await")?e.resolve(I.__await).then((function(t){n("next",t,g,s)}),(function(t){n("throw",t,g,s)})):e.resolve(I).then((function(t){A.value=t,g(A)}),(function(t){return n("throw",t,g,s)}))}s(a.arg)}var r;this._invoke=function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}}function x(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=C(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,g=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return g.next=g}}return{next:R}}function R(){return{value:e,done:!0}}return p.prototype=f,a(b,"constructor",f),a(f,"constructor",p),p.displayName=a(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),a(w.prototype,g,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var g=new w(A(e,n,i,r),o);return t.isGeneratorFunction(n)?g:g.next().then((function(t){return t.done?t.value:g.next()}))},_(b),a(b,s,"Generator"),a(b,o,(function(){return this})),a(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=T,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var g=this.tryEntries[o],s=g.completion;if("root"===g.tryLoc)return r("end");if(g.tryLoc<=this.prev){var a=i.call(g,"catchLoc"),A=i.call(g,"finallyLoc");if(a&&A){if(this.prev<g.catchLoc)return r(g.catchLoc,!0);if(this.prev<g.finallyLoc)return r(g.finallyLoc)}else if(a){if(this.prev<g.catchLoc)return r(g.catchLoc,!0)}else{if(!A)throw new Error("try statement without catch or finally");if(this.prev<g.finallyLoc)return r(g.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var g=o?o.completion:{};return g.type=t,g.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(g)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},9801:(t,e,n)=>{n.g,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"EventEmitter",(function(){return a}));var i=n(0),r=n.n(i),o=n(1),g=n.n(o),s=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";r()(this,t),this.name=e,this.events={}}return g()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i=i||{},"function"!=typeof e)throw new TypeError("Invalid callback");return s(t).forEach((function(t){n.events[t]||(n.events[t]=[]),n.events[t].push({callback:e,options:i})})),this}},{key:"once",value:function(t,e){return this.on(t,e,{once:!0})}},{key:"off",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(t).filter((function(t){return!!e.events[t]})).forEach((function(t){if(n)for(var r=e.events[t].length;r--;){var o=e.events[t][r];(!o.options.persist||i)&&o.callback===n&&e.events[t].splice(r,1)}else e.events[t]=i?[]:e.events[t].filter((function(t){return!0===t.options.persist}))})),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return s(t).forEach((function(t){if(e.events[t])for(var n=e.events[t].length;n--;){var r=e.events[t][n],o=r.options,g=r.callback;try{g.apply(void 0,i)}catch(t){console.warn(t)}o&&o.once&&e.events[t].splice(n,1)}})),this}}]),t}()}])},6001:(t,e,n)=>{t.exports=function t(e,n,i){function r(g,s){if(!n[g]){if(!e[g]){if(o)return o(g,!0);var a=new Error("Cannot find module '"+g+"'");throw a.code="MODULE_NOT_FOUND",a}var A=n[g]={exports:{}};e[g][0].call(A.exports,(function(t){return r(e[g][1][t]||t)}),A,A.exports,t,e,n,i)}return n[g].exports}for(var o=void 0,g=0;g<i.length;g++)r(i[g]);return r}({1:[function(t,e,i){(function(t){"use strict";var n,i,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var o=0,g=new r(C),s=t.document.createTextNode("");g.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){C(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(C,0)};else{var a=new t.MessageChannel;a.port1.onmessage=C,n=function(){a.port2.postMessage(0)}}var A=[];function C(){var t,e;i=!0;for(var n=A.length;n;){for(e=A,A=[],t=-1;++t<n;)e[t]();n=A.length}i=!1}e.exports=function(t){1!==A.push(t)||i||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var i=t(1);function r(){}var o={},g=["REJECTED"],s=["FULFILLED"],a=["PENDING"];function A(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=a,this.queue=[],this.outcome=void 0,t!==r&&l(this,t)}function C(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function I(t,e,n){i((function(){var i;try{i=e(n)}catch(e){return o.reject(t,e)}i===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,i)}))}function c(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function l(t,e){var n=!1;function i(e){n||(n=!0,o.reject(t,e))}function r(e){n||(n=!0,o.resolve(t,e))}var g=u((function(){e(r,i)}));"error"===g.status&&i(g.value)}function u(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}e.exports=A,A.prototype.catch=function(t){return this.then(null,t)},A.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===g)return this;var n=new this.constructor(r);return this.state!==a?I(n,this.state===s?t:e,this.outcome):this.queue.push(new C(n,t,e)),n},C.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},C.prototype.otherCallFulfilled=function(t){I(this.promise,this.onFulfilled,t)},C.prototype.callRejected=function(t){o.reject(this.promise,t)},C.prototype.otherCallRejected=function(t){I(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=u(c,e);if("error"===n.status)return o.reject(t,n.value);var i=n.value;if(i)l(t,i);else{t.state=s,t.outcome=e;for(var r=-1,g=t.queue.length;++r<g;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=g,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},A.resolve=function(t){return t instanceof this?t:o.resolve(new this(r),t)},A.reject=function(t){var e=new this(r);return o.reject(e,t)},A.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var g=new Array(n),s=0,a=-1,A=new this(r);++a<n;)C(t[a],a);return A;function C(t,r){e.resolve(t).then((function(t){g[r]=t,++s!==n||i||(i=!0,o.resolve(A,g))}),(function(t){i||(i=!0,o.reject(A,t))}))}},A.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n,i=t.length,g=!1;if(!i)return this.resolve([]);for(var s=-1,a=new this(r);++s<i;)n=t[s],e.resolve(n).then((function(t){g||(g=!0,o.resolve(a,t))}),(function(t){g||(g=!0,o.reject(a,t))}));return a}},{1:1}],3:[function(t,e,i){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<t.length;i+=1)n.append(t[i]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var g=Promise;function s(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function a(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function A(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function C(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var I="local-forage-detect-blob-support",c=void 0,l={},u=Object.prototype.toString,h="readonly",d="readwrite";function p(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n),r=0;r<e;r++)i[r]=t.charCodeAt(r);return n}function f(t){return"boolean"==typeof c?g.resolve(c):function(t){return new g((function(e){var n=t.transaction(I,d),i=o([""]);n.objectStore(I).put(i,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return c=t}))}function m(t){var e=l[t.name],n={};n.promise=new g((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then((function(){return n.promise})):e.dbReady=n.promise}function v(t){var e=l[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function y(t,e){var n=l[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function b(t,e){return new g((function(n,i){if(l[t.name]=l[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);m(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var g=r.open.apply(r,o);e&&(g.onupgradeneeded=function(e){var n=g.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(I)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),g.onerror=function(t){t.preventDefault(),i(g.error)},g.onsuccess=function(){n(g.result),v(t)}}))}function _(t){return b(t,!1)}function w(t){return b(t,!0)}function x(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),i=t.version<t.db.version,r=t.version>t.db.version;if(i&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),r||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function S(t){return o([p(atob(t.data))],{type:t.type})}function E(t){return t&&t.__local_forage_encoded_blob}function M(t){var e=this,n=e._initReady().then((function(){var t=l[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return a(n,t,t),n}function T(t,e,n,i){void 0===i&&(i=1);try{var r=t.db.transaction(t.storeName,e);n(null,r)}catch(r){if(i>0&&(!t.db||"InvalidStateError"===r.name||"NotFoundError"===r.name))return g.resolve().then((function(){if(!t.db||"NotFoundError"===r.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),w(t)})).then((function(){return function(t){m(t);for(var e=l[t.name],n=e.forages,i=0;i<n.length;i++){var r=n[i];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return t.db=null,_(t).then((function(e){return t.db=e,x(t)?w(t):e})).then((function(i){t.db=e.db=i;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=i})).catch((function(e){throw y(t,e),e}))}(t).then((function(){T(t,e,n,i-1)}))})).catch(n);n(r)}}var R={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]=t[i];var r=l[n.name];r||(r={forages:[],db:null,dbReady:null,deferredOperations:[]},l[n.name]=r),r.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=M);var o=[];function s(){return g.resolve()}for(var a=0;a<r.forages.length;a++){var A=r.forages[a];A!==e&&o.push(A._initReady().catch(s))}var C=r.forages.slice(0);return g.all(o).then((function(){return n.db=r.db,_(n)})).then((function(t){return n.db=t,x(n,e._defaultConfig.version)?w(n):t})).then((function(t){n.db=r.db=t,e._dbInfo=n;for(var i=0;i<C.length;i++){var o=C[i];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!r||!r.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=new g((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;g.onsuccess=function(){var n=g.result;if(n){var i=n.value;E(i)&&(i=S(i));var r=t(i,n.key,s++);void 0!==r?e(r):n.continue()}else e()},g.onerror=function(){i(g.error)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName).get(t);g.onsuccess=function(){var t=g.result;void 0===t&&(t=null),E(t)&&(t=S(t)),e(t)},g.onerror=function(){i(g.error)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=new g((function(n,r){var o;i.ready().then((function(){return o=i._dbInfo,"[object Blob]"===u.call(e)?f(o.db).then((function(t){return t?e:(n=e,new g((function(t,e){var i=new FileReader;i.onerror=e,i.onloadend=function(e){var i=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:n.type})},i.readAsBinaryString(n)})));var n})):e})).then((function(e){T(i._dbInfo,d,(function(o,g){if(o)return r(o);try{var s=g.objectStore(i._dbInfo.storeName);null===e&&(e=void 0);var a=s.put(e,t);g.oncomplete=function(){void 0===e&&(e=null),n(e)},g.onabort=g.onerror=function(){var t=a.error?a.error:a.transaction.error;r(t)}}catch(t){r(t)}}))})).catch(r)}));return s(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){T(n._dbInfo,d,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){i(g.error)},o.onabort=function(){var t=g.error?g.error:g.transaction.error;i(t)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},clear:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){T(e._dbInfo,d,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).clear();r.oncomplete=function(){t()},r.onabort=r.onerror=function(){var t=o.error?o.error:o.transaction.error;n(t)}}catch(t){n(t)}}))})).catch(n)}));return s(n,t),n},length:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return s(n,t),n},key:function(t,e){var n=this,i=new g((function(e,i){t<0?e(null):n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName),s=!1,a=g.openKeyCursor();a.onsuccess=function(){var n=a.result;n?0===t||s?e(n.key):(s=!0,n.advance(t)):e(null)},a.onerror=function(){i(a.error)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},keys:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).openKeyCursor(),g=[];o.onsuccess=function(){var e=o.result;e?(g.push(e.key),e.continue()):t(g)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return s(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,o=this;if(t.name){var a=t.name===n.name&&o._dbInfo.db?g.resolve(o._dbInfo.db):_(t).then((function(e){var n=l[t.name],i=n.forages;n.db=e;for(var r=0;r<i.length;r++)i[r]._dbInfo.db=e;return e}));i=t.storeName?a.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;m(t);var i=l[t.name],o=i.forages;e.close();for(var s=0;s<o.length;s++){var a=o[s];a._dbInfo.db=null,a._dbInfo.version=n}var A=new g((function(e,i){var o=r.open(t.name,n);o.onerror=function(t){o.result.close(),i(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}}));return A.then((function(t){i.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,v(n._dbInfo)}})).catch((function(e){throw(y(t,e)||g.resolve()).catch((function(){})),e}))}})):a.then((function(e){m(t);var n=l[t.name],i=n.forages;e.close();for(var o=0;o<i.length;o++)i[o]._dbInfo.db=null;var s=new g((function(e,n){var i=r.deleteDatabase(t.name);i.onerror=i.onblocked=function(t){var e=i.result;e&&e.close(),n(t)},i.onsuccess=function(){var t=i.result;t&&t.close(),e(t)}}));return s.then((function(t){n.db=t;for(var e=0;e<i.length;e++)v(i[e]._dbInfo)})).catch((function(e){throw(y(t,e)||g.resolve()).catch((function(){})),e}))}))}else i=g.reject("Invalid arguments");return s(i,e),i}};var O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=/^~~local_forage_type~([^~]+)~/,P="__lfsc__:",N=P.length,D="arbf",k="blob",j="si08",F="ui08",B="uic8",z="si16",U="si32",H="ur16",G="ui32",W="fl32",V="fl64",Z=N+D.length,Y=Object.prototype.toString;function X(t){var e,n,i,r,o,g=.75*t.length,s=t.length,a=0;"="===t[t.length-1]&&(g--,"="===t[t.length-2]&&g--);var A=new ArrayBuffer(g),C=new Uint8Array(A);for(e=0;e<s;e+=4)n=O.indexOf(t[e]),i=O.indexOf(t[e+1]),r=O.indexOf(t[e+2]),o=O.indexOf(t[e+3]),C[a++]=n<<2|i>>4,C[a++]=(15&i)<<4|r>>2,C[a++]=(3&r)<<6|63&o;return A}function J(t){var e,n=new Uint8Array(t),i="";for(e=0;e<n.length;e+=3)i+=O[n[e]>>2],i+=O[(3&n[e])<<4|n[e+1]>>4],i+=O[(15&n[e+1])<<2|n[e+2]>>6],i+=O[63&n[e+2]];return n.length%3==2?i=i.substring(0,i.length-1)+"=":n.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}var q={serialize:function(t,e){var n="";if(t&&(n=Y.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===Y.call(t.buffer))){var i,r=P;t instanceof ArrayBuffer?(i=t,r+=D):(i=t.buffer,"[object Int8Array]"===n?r+=j:"[object Uint8Array]"===n?r+=F:"[object Uint8ClampedArray]"===n?r+=B:"[object Int16Array]"===n?r+=z:"[object Uint16Array]"===n?r+=H:"[object Int32Array]"===n?r+=U:"[object Uint32Array]"===n?r+=G:"[object Float32Array]"===n?r+=W:"[object Float64Array]"===n?r+=V:e(new Error("Failed to get type for BinaryArray"))),e(r+J(i))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+t.type+"~"+J(this.result);e("__lfsc__:blob"+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}},deserialize:function(t){if(t.substring(0,N)!==P)return JSON.parse(t);var e,n=t.substring(Z),i=t.substring(N,Z);if(i===k&&L.test(n)){var r=n.match(L);e=r[1],n=n.substring(r[0].length)}var g=X(n);switch(i){case D:return g;case k:return o([g],{type:e});case j:return new Int8Array(g);case F:return new Uint8Array(g);case B:return new Uint8ClampedArray(g);case z:return new Int16Array(g);case H:return new Uint16Array(g);case U:return new Int32Array(g);case G:return new Uint32Array(g);case W:return new Float32Array(g);case V:return new Float64Array(g);default:throw new Error("Unkown type: "+i)}},stringToBuffer:X,bufferToString:J};function K(t,e,n,i){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function Q(t,e,n,i,r,o){t.executeSql(n,i,r,(function(t,g){g.code===g.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,s){s.rows.length?o(t,g):K(t,e,(function(){t.executeSql(n,i,r,o)}),o)}),o):o(t,g)}),o)}function $(t,e,n,i){var r=this;t=A(t);var o=new g((function(o,g){r.ready().then((function(){void 0===e&&(e=null);var s=e,a=r._dbInfo;a.serializer.serialize(e,(function(e,A){A?g(A):a.db.transaction((function(n){Q(n,a,"INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){o(s)}),(function(t,e){g(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(i>0)return void o($.apply(r,[t,s,n,i-1]));g(e)}}))}))})).catch(g)}));return s(o,n),o}function tt(t){return new g((function(e,n){t.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,i){for(var r=[],o=0;o<i.rows.length;o++)r.push(i.rows.item(o).name);e({db:t,storeNames:r})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}var et={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]="string"!=typeof t[i]?t[i].toString():t[i];var r=new g((function(t,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return i(t)}n.db.transaction((function(r){K(r,n,(function(){e._dbInfo=n,t()}),(function(t,e){i(e)}))}),i)}));return n.serializer=q,r},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName,[],(function(n,i){for(var o=i.rows,g=o.length,s=0;s<g;s++){var a=o.item(s),A=a.value;if(A&&(A=r.serializer.deserialize(A)),void 0!==(A=t(A,a.key,s+1)))return void e(A)}e()}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},setItem:function(t,e,n){return $.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},clear:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"DELETE FROM "+i.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,t),n},length:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(e,n){var i=n.rows.item(0).c;t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,t),n},key:function(t,e){var n=this,i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var i=n.rows.length?n.rows.item(0).key:null;e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},keys:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT key FROM "+i.storeName,[],(function(e,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,r=this;return s(i=t.name?new g((function(e){var i;i=t.name===n.name?r._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:i,storeNames:[t.storeName]}):e(tt(i))})).then((function(t){return new g((function(e,n){t.db.transaction((function(i){function r(t){return new g((function(e,n){i.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var o=[],s=0,a=t.storeNames.length;s<a;s++)o.push(r(t.storeNames[s]));g.all(o).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):g.reject("Invalid arguments"),e),i}};function nt(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function it(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||localStorage.length>0}var rt={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=nt(t,this._defaultConfig),it()?(this._dbInfo=e,e.serializer=q,g.resolve()):g.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=n.ready().then((function(){for(var e=n._dbInfo,i=e.keyPrefix,r=i.length,o=localStorage.length,g=1,s=0;s<o;s++){var a=localStorage.key(s);if(0===a.indexOf(i)){var A=localStorage.getItem(a);if(A&&(A=e.serializer.deserialize(A)),void 0!==(A=t(A,a.substring(r),g++)))return A}}}));return s(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo,i=localStorage.getItem(e.keyPrefix+t);return i&&(i=e.serializer.deserialize(i)),i}));return s(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=i.ready().then((function(){void 0===e&&(e=null);var n=e;return new g((function(r,o){var g=i._dbInfo;g.serializer.serialize(e,(function(e,i){if(i)o(i);else try{localStorage.setItem(g.keyPrefix+t,e),r(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||o(t),o(t)}}))}))}));return s(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return s(i,e),i},clear:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);0===i.indexOf(t)&&localStorage.removeItem(i)}}));return s(n,t),n},length:function(t){var e=this.keys().then((function(t){return t.length}));return s(e,t),e},key:function(t,e){var n=this,i=n.ready().then((function(){var e,i=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(i.keyPrefix.length)),e}));return s(i,e),i},keys:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,i=[],r=0;r<n;r++){var o=localStorage.key(r);0===o.indexOf(t.keyPrefix)&&i.push(o.substring(t.keyPrefix.length))}return i}));return s(n,t),n},dropInstance:function(t,e){if(e=C.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var i,r=this;return i=t.name?new g((function(e){t.storeName?e(nt(t,r._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):g.reject("Invalid arguments"),s(i,e),i}},ot=function(t,e){for(var n=t.length,i=0;i<n;){if((r=t[i])===(o=e)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;i++}var r,o;return!1},gt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},st={},at={},At={INDEXEDDB:R,WEBSQL:et,LOCALSTORAGE:rt},Ct=[At.INDEXEDDB._driver,At.WEBSQL._driver,At.LOCALSTORAGE._driver],It=["dropInstance"],ct=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(It),lt={description:"",driver:Ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ut(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function ht(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(gt(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var dt=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),At)if(At.hasOwnProperty(n)){var i=At[n],r=i._driver;this[n]=r,st[r]||this.defineDriver(i)}this._defaultConfig=ht({},lt),this._config=ht({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":i(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var i=new g((function(e,n){try{var i=t._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(r);for(var o=ct.concat("_initStorage"),a=0,A=o.length;a<A;a++){var C=o[a];if((!ot(It,C)||t[C])&&"function"!=typeof t[C])return void n(r)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=g.reject(e);return s(n,arguments[arguments.length-1]),n}},n=0,i=It.length;n<i;n++){var r=It[n];t[r]||(t[r]=e(r))}}();var I=function(n){st[i]&&console.info("Redefining LocalForage driver: "+i),st[i]=t,at[i]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(I,n):I(!!t._support):I(!0)}catch(t){n(t)}}));return a(i,e,n),i},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var i=st[t]?g.resolve(st[t]):g.reject(new Error("Driver not found."));return a(i,e,n),i},t.prototype.getSerializer=function(t){var e=g.resolve(q);return a(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return a(n,t,t),n},t.prototype.setDriver=function(t,e,n){var i=this;gt(t)||(t=[t]);var r=this._getSupportedDrivers(t);function o(){i._config.driver=i.driver()}function s(t){return i._extend(t),o(),i._ready=i._initStorage(i._config),i._ready}var A=null!==this._driverSet?this._driverSet.catch((function(){return g.resolve()})):g.resolve();return this._driverSet=A.then((function(){var t=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(t).then((function(t){i._driver=t._driver,o(),i._wrapLibraryMethodsWithReady(),i._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var r=t[e];return e++,i._dbInfo=null,i._ready=null,i.getDriver(r).then(s).catch(n)}o();var a=new Error("No available storage method found.");return i._driverSet=g.reject(a),i._driverSet}()}}(r)}))})).catch((function(){o();var t=new Error("No available storage method found.");return i._driverSet=g.reject(t),i._driverSet})),a(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!at[t]},t.prototype._extend=function(t){ht(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];this.supports(r)&&e.push(r)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ct.length;t<e;t++)ut(this,ct[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),pt=new dt;e.exports=pt},{3:3}]},{},[4])(4)},5183:(t,e,n)=>{n.g,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"EventEmitter",(function(){return a}));var i=n(0),r=n.n(i),o=n(1),g=n.n(o),s=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";r()(this,t),this.name=e,this.events={}}return g()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i=i||{},"function"!=typeof e)throw new TypeError("Invalid callback");return s(t).forEach((function(t){n.events[t]||(n.events[t]=[]),n.events[t].push({callback:e,options:i})})),this}},{key:"once",value:function(t,e){return this.on(t,e,{once:!0})}},{key:"off",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(t).filter((function(t){return!!e.events[t]})).forEach((function(t){if(n)for(var r=e.events[t].length;r--;){var o=e.events[t][r];(!o.options.persist||i)&&o.callback===n&&e.events[t].splice(r,1)}else e.events[t]=i?[]:e.events[t].filter((function(t){return!0===t.options.persist}))})),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return s(t).forEach((function(t){if(e.events[t])for(var n=e.events[t].length;n--;){var r=e.events[t][n],o=r.options,g=r.callback;try{g.apply(void 0,i)}catch(t){console.warn(t)}o&&o.once&&e.events[t].splice(n,1)}})),this}}]),t}()}])},7198:(t,e,n)=>{n.g,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"EventEmitter",(function(){return a}));var i=n(0),r=n.n(i),o=n(1),g=n.n(o),s=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";r()(this,t),this.name=e,this.events={}}return g()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i=i||{},"function"!=typeof e)throw new TypeError("Invalid callback");return s(t).forEach((function(t){n.events[t]||(n.events[t]=[]),n.events[t].push({callback:e,options:i})})),this}},{key:"once",value:function(t,e){return this.on(t,e,{once:!0})}},{key:"off",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(t).filter((function(t){return!!e.events[t]})).forEach((function(t){if(n)for(var r=e.events[t].length;r--;){var o=e.events[t][r];(!o.options.persist||i)&&o.callback===n&&e.events[t].splice(r,1)}else e.events[t]=i?[]:e.events[t].filter((function(t){return!0===t.options.persist}))})),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return s(t).forEach((function(t){if(e.events[t])for(var n=e.events[t].length;n--;){var r=e.events[t][n],o=r.options,g=r.callback;try{g.apply(void 0,i)}catch(t){console.warn(t)}o&&o.once&&e.events[t].splice(n,1)}})),this}}]),t}()}])},4272:(t,e,n)=>{t.exports=function t(e,n,i){function r(g,s){if(!n[g]){if(!e[g]){if(o)return o(g,!0);var a=new Error("Cannot find module '"+g+"'");throw a.code="MODULE_NOT_FOUND",a}var A=n[g]={exports:{}};e[g][0].call(A.exports,(function(t){return r(e[g][1][t]||t)}),A,A.exports,t,e,n,i)}return n[g].exports}for(var o=void 0,g=0;g<i.length;g++)r(i[g]);return r}({1:[function(t,e,i){(function(t){"use strict";var n,i,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var o=0,g=new r(C),s=t.document.createTextNode("");g.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){C(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(C,0)};else{var a=new t.MessageChannel;a.port1.onmessage=C,n=function(){a.port2.postMessage(0)}}var A=[];function C(){var t,e;i=!0;for(var n=A.length;n;){for(e=A,A=[],t=-1;++t<n;)e[t]();n=A.length}i=!1}e.exports=function(t){1!==A.push(t)||i||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var i=t(1);function r(){}var o={},g=["REJECTED"],s=["FULFILLED"],a=["PENDING"];function A(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=a,this.queue=[],this.outcome=void 0,t!==r&&l(this,t)}function C(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function I(t,e,n){i((function(){var i;try{i=e(n)}catch(e){return o.reject(t,e)}i===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,i)}))}function c(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function l(t,e){var n=!1;function i(e){n||(n=!0,o.reject(t,e))}function r(e){n||(n=!0,o.resolve(t,e))}var g=u((function(){e(r,i)}));"error"===g.status&&i(g.value)}function u(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}e.exports=A,A.prototype.catch=function(t){return this.then(null,t)},A.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===g)return this;var n=new this.constructor(r);return this.state!==a?I(n,this.state===s?t:e,this.outcome):this.queue.push(new C(n,t,e)),n},C.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},C.prototype.otherCallFulfilled=function(t){I(this.promise,this.onFulfilled,t)},C.prototype.callRejected=function(t){o.reject(this.promise,t)},C.prototype.otherCallRejected=function(t){I(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=u(c,e);if("error"===n.status)return o.reject(t,n.value);var i=n.value;if(i)l(t,i);else{t.state=s,t.outcome=e;for(var r=-1,g=t.queue.length;++r<g;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=g,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},A.resolve=function(t){return t instanceof this?t:o.resolve(new this(r),t)},A.reject=function(t){var e=new this(r);return o.reject(e,t)},A.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var g=new Array(n),s=0,a=-1,A=new this(r);++a<n;)C(t[a],a);return A;function C(t,r){e.resolve(t).then((function(t){g[r]=t,++s!==n||i||(i=!0,o.resolve(A,g))}),(function(t){i||(i=!0,o.reject(A,t))}))}},A.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n,i=t.length,g=!1;if(!i)return this.resolve([]);for(var s=-1,a=new this(r);++s<i;)n=t[s],e.resolve(n).then((function(t){g||(g=!0,o.resolve(a,t))}),(function(t){g||(g=!0,o.reject(a,t))}));return a}},{1:1}],3:[function(t,e,i){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<t.length;i+=1)n.append(t[i]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var g=Promise;function s(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function a(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function A(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function C(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var I="local-forage-detect-blob-support",c=void 0,l={},u=Object.prototype.toString,h="readonly",d="readwrite";function p(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n),r=0;r<e;r++)i[r]=t.charCodeAt(r);return n}function f(t){return"boolean"==typeof c?g.resolve(c):function(t){return new g((function(e){var n=t.transaction(I,d),i=o([""]);n.objectStore(I).put(i,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return c=t}))}function m(t){var e=l[t.name],n={};n.promise=new g((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then((function(){return n.promise})):e.dbReady=n.promise}function v(t){var e=l[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function y(t,e){var n=l[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function b(t,e){return new g((function(n,i){if(l[t.name]=l[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);m(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var g=r.open.apply(r,o);e&&(g.onupgradeneeded=function(e){var n=g.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(I)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),g.onerror=function(t){t.preventDefault(),i(g.error)},g.onsuccess=function(){n(g.result),v(t)}}))}function _(t){return b(t,!1)}function w(t){return b(t,!0)}function x(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),i=t.version<t.db.version,r=t.version>t.db.version;if(i&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),r||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function S(t){return o([p(atob(t.data))],{type:t.type})}function E(t){return t&&t.__local_forage_encoded_blob}function M(t){var e=this,n=e._initReady().then((function(){var t=l[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return a(n,t,t),n}function T(t,e,n,i){void 0===i&&(i=1);try{var r=t.db.transaction(t.storeName,e);n(null,r)}catch(r){if(i>0&&(!t.db||"InvalidStateError"===r.name||"NotFoundError"===r.name))return g.resolve().then((function(){if(!t.db||"NotFoundError"===r.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),w(t)})).then((function(){return function(t){m(t);for(var e=l[t.name],n=e.forages,i=0;i<n.length;i++){var r=n[i];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return t.db=null,_(t).then((function(e){return t.db=e,x(t)?w(t):e})).then((function(i){t.db=e.db=i;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=i})).catch((function(e){throw y(t,e),e}))}(t).then((function(){T(t,e,n,i-1)}))})).catch(n);n(r)}}var R={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]=t[i];var r=l[n.name];r||(r={forages:[],db:null,dbReady:null,deferredOperations:[]},l[n.name]=r),r.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=M);var o=[];function s(){return g.resolve()}for(var a=0;a<r.forages.length;a++){var A=r.forages[a];A!==e&&o.push(A._initReady().catch(s))}var C=r.forages.slice(0);return g.all(o).then((function(){return n.db=r.db,_(n)})).then((function(t){return n.db=t,x(n,e._defaultConfig.version)?w(n):t})).then((function(t){n.db=r.db=t,e._dbInfo=n;for(var i=0;i<C.length;i++){var o=C[i];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!r||!r.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=new g((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;g.onsuccess=function(){var n=g.result;if(n){var i=n.value;E(i)&&(i=S(i));var r=t(i,n.key,s++);void 0!==r?e(r):n.continue()}else e()},g.onerror=function(){i(g.error)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName).get(t);g.onsuccess=function(){var t=g.result;void 0===t&&(t=null),E(t)&&(t=S(t)),e(t)},g.onerror=function(){i(g.error)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=new g((function(n,r){var o;i.ready().then((function(){return o=i._dbInfo,"[object Blob]"===u.call(e)?f(o.db).then((function(t){return t?e:(n=e,new g((function(t,e){var i=new FileReader;i.onerror=e,i.onloadend=function(e){var i=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:n.type})},i.readAsBinaryString(n)})));var n})):e})).then((function(e){T(i._dbInfo,d,(function(o,g){if(o)return r(o);try{var s=g.objectStore(i._dbInfo.storeName);null===e&&(e=void 0);var a=s.put(e,t);g.oncomplete=function(){void 0===e&&(e=null),n(e)},g.onabort=g.onerror=function(){var t=a.error?a.error:a.transaction.error;r(t)}}catch(t){r(t)}}))})).catch(r)}));return s(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){T(n._dbInfo,d,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){i(g.error)},o.onabort=function(){var t=g.error?g.error:g.transaction.error;i(t)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},clear:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){T(e._dbInfo,d,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).clear();r.oncomplete=function(){t()},r.onabort=r.onerror=function(){var t=o.error?o.error:o.transaction.error;n(t)}}catch(t){n(t)}}))})).catch(n)}));return s(n,t),n},length:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return s(n,t),n},key:function(t,e){var n=this,i=new g((function(e,i){t<0?e(null):n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName),s=!1,a=g.openKeyCursor();a.onsuccess=function(){var n=a.result;n?0===t||s?e(n.key):(s=!0,n.advance(t)):e(null)},a.onerror=function(){i(a.error)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},keys:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).openKeyCursor(),g=[];o.onsuccess=function(){var e=o.result;e?(g.push(e.key),e.continue()):t(g)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return s(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,o=this;if(t.name){var a=t.name===n.name&&o._dbInfo.db?g.resolve(o._dbInfo.db):_(t).then((function(e){var n=l[t.name],i=n.forages;n.db=e;for(var r=0;r<i.length;r++)i[r]._dbInfo.db=e;return e}));i=t.storeName?a.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;m(t);var i=l[t.name],o=i.forages;e.close();for(var s=0;s<o.length;s++){var a=o[s];a._dbInfo.db=null,a._dbInfo.version=n}var A=new g((function(e,i){var o=r.open(t.name,n);o.onerror=function(t){o.result.close(),i(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}}));return A.then((function(t){i.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,v(n._dbInfo)}})).catch((function(e){throw(y(t,e)||g.resolve()).catch((function(){})),e}))}})):a.then((function(e){m(t);var n=l[t.name],i=n.forages;e.close();for(var o=0;o<i.length;o++)i[o]._dbInfo.db=null;var s=new g((function(e,n){var i=r.deleteDatabase(t.name);i.onerror=i.onblocked=function(t){var e=i.result;e&&e.close(),n(t)},i.onsuccess=function(){var t=i.result;t&&t.close(),e(t)}}));return s.then((function(t){n.db=t;for(var e=0;e<i.length;e++)v(i[e]._dbInfo)})).catch((function(e){throw(y(t,e)||g.resolve()).catch((function(){})),e}))}))}else i=g.reject("Invalid arguments");return s(i,e),i}};var O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=/^~~local_forage_type~([^~]+)~/,P="__lfsc__:",N=P.length,D="arbf",k="blob",j="si08",F="ui08",B="uic8",z="si16",U="si32",H="ur16",G="ui32",W="fl32",V="fl64",Z=N+D.length,Y=Object.prototype.toString;function X(t){var e,n,i,r,o,g=.75*t.length,s=t.length,a=0;"="===t[t.length-1]&&(g--,"="===t[t.length-2]&&g--);var A=new ArrayBuffer(g),C=new Uint8Array(A);for(e=0;e<s;e+=4)n=O.indexOf(t[e]),i=O.indexOf(t[e+1]),r=O.indexOf(t[e+2]),o=O.indexOf(t[e+3]),C[a++]=n<<2|i>>4,C[a++]=(15&i)<<4|r>>2,C[a++]=(3&r)<<6|63&o;return A}function J(t){var e,n=new Uint8Array(t),i="";for(e=0;e<n.length;e+=3)i+=O[n[e]>>2],i+=O[(3&n[e])<<4|n[e+1]>>4],i+=O[(15&n[e+1])<<2|n[e+2]>>6],i+=O[63&n[e+2]];return n.length%3==2?i=i.substring(0,i.length-1)+"=":n.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}var q={serialize:function(t,e){var n="";if(t&&(n=Y.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===Y.call(t.buffer))){var i,r=P;t instanceof ArrayBuffer?(i=t,r+=D):(i=t.buffer,"[object Int8Array]"===n?r+=j:"[object Uint8Array]"===n?r+=F:"[object Uint8ClampedArray]"===n?r+=B:"[object Int16Array]"===n?r+=z:"[object Uint16Array]"===n?r+=H:"[object Int32Array]"===n?r+=U:"[object Uint32Array]"===n?r+=G:"[object Float32Array]"===n?r+=W:"[object Float64Array]"===n?r+=V:e(new Error("Failed to get type for BinaryArray"))),e(r+J(i))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+t.type+"~"+J(this.result);e("__lfsc__:blob"+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}},deserialize:function(t){if(t.substring(0,N)!==P)return JSON.parse(t);var e,n=t.substring(Z),i=t.substring(N,Z);if(i===k&&L.test(n)){var r=n.match(L);e=r[1],n=n.substring(r[0].length)}var g=X(n);switch(i){case D:return g;case k:return o([g],{type:e});case j:return new Int8Array(g);case F:return new Uint8Array(g);case B:return new Uint8ClampedArray(g);case z:return new Int16Array(g);case H:return new Uint16Array(g);case U:return new Int32Array(g);case G:return new Uint32Array(g);case W:return new Float32Array(g);case V:return new Float64Array(g);default:throw new Error("Unkown type: "+i)}},stringToBuffer:X,bufferToString:J};function K(t,e,n,i){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function Q(t,e,n,i,r,o){t.executeSql(n,i,r,(function(t,g){g.code===g.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,s){s.rows.length?o(t,g):K(t,e,(function(){t.executeSql(n,i,r,o)}),o)}),o):o(t,g)}),o)}function $(t,e,n,i){var r=this;t=A(t);var o=new g((function(o,g){r.ready().then((function(){void 0===e&&(e=null);var s=e,a=r._dbInfo;a.serializer.serialize(e,(function(e,A){A?g(A):a.db.transaction((function(n){Q(n,a,"INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){o(s)}),(function(t,e){g(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(i>0)return void o($.apply(r,[t,s,n,i-1]));g(e)}}))}))})).catch(g)}));return s(o,n),o}function tt(t){return new g((function(e,n){t.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,i){for(var r=[],o=0;o<i.rows.length;o++)r.push(i.rows.item(o).name);e({db:t,storeNames:r})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}var et={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]="string"!=typeof t[i]?t[i].toString():t[i];var r=new g((function(t,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return i(t)}n.db.transaction((function(r){K(r,n,(function(){e._dbInfo=n,t()}),(function(t,e){i(e)}))}),i)}));return n.serializer=q,r},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName,[],(function(n,i){for(var o=i.rows,g=o.length,s=0;s<g;s++){var a=o.item(s),A=a.value;if(A&&(A=r.serializer.deserialize(A)),void 0!==(A=t(A,a.key,s+1)))return void e(A)}e()}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},setItem:function(t,e,n){return $.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},clear:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"DELETE FROM "+i.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,t),n},length:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(e,n){var i=n.rows.item(0).c;t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,t),n},key:function(t,e){var n=this,i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var i=n.rows.length?n.rows.item(0).key:null;e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},keys:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT key FROM "+i.storeName,[],(function(e,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,r=this;return s(i=t.name?new g((function(e){var i;i=t.name===n.name?r._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:i,storeNames:[t.storeName]}):e(tt(i))})).then((function(t){return new g((function(e,n){t.db.transaction((function(i){function r(t){return new g((function(e,n){i.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var o=[],s=0,a=t.storeNames.length;s<a;s++)o.push(r(t.storeNames[s]));g.all(o).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):g.reject("Invalid arguments"),e),i}};function nt(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function it(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||localStorage.length>0}var rt={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=nt(t,this._defaultConfig),it()?(this._dbInfo=e,e.serializer=q,g.resolve()):g.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=n.ready().then((function(){for(var e=n._dbInfo,i=e.keyPrefix,r=i.length,o=localStorage.length,g=1,s=0;s<o;s++){var a=localStorage.key(s);if(0===a.indexOf(i)){var A=localStorage.getItem(a);if(A&&(A=e.serializer.deserialize(A)),void 0!==(A=t(A,a.substring(r),g++)))return A}}}));return s(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo,i=localStorage.getItem(e.keyPrefix+t);return i&&(i=e.serializer.deserialize(i)),i}));return s(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=i.ready().then((function(){void 0===e&&(e=null);var n=e;return new g((function(r,o){var g=i._dbInfo;g.serializer.serialize(e,(function(e,i){if(i)o(i);else try{localStorage.setItem(g.keyPrefix+t,e),r(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||o(t),o(t)}}))}))}));return s(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return s(i,e),i},clear:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);0===i.indexOf(t)&&localStorage.removeItem(i)}}));return s(n,t),n},length:function(t){var e=this.keys().then((function(t){return t.length}));return s(e,t),e},key:function(t,e){var n=this,i=n.ready().then((function(){var e,i=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(i.keyPrefix.length)),e}));return s(i,e),i},keys:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,i=[],r=0;r<n;r++){var o=localStorage.key(r);0===o.indexOf(t.keyPrefix)&&i.push(o.substring(t.keyPrefix.length))}return i}));return s(n,t),n},dropInstance:function(t,e){if(e=C.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var i,r=this;return i=t.name?new g((function(e){t.storeName?e(nt(t,r._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):g.reject("Invalid arguments"),s(i,e),i}},ot=function(t,e){for(var n=t.length,i=0;i<n;){if((r=t[i])===(o=e)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;i++}var r,o;return!1},gt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},st={},at={},At={INDEXEDDB:R,WEBSQL:et,LOCALSTORAGE:rt},Ct=[At.INDEXEDDB._driver,At.WEBSQL._driver,At.LOCALSTORAGE._driver],It=["dropInstance"],ct=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(It),lt={description:"",driver:Ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ut(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function ht(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(gt(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var dt=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),At)if(At.hasOwnProperty(n)){var i=At[n],r=i._driver;this[n]=r,st[r]||this.defineDriver(i)}this._defaultConfig=ht({},lt),this._config=ht({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":i(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var i=new g((function(e,n){try{var i=t._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(r);for(var o=ct.concat("_initStorage"),a=0,A=o.length;a<A;a++){var C=o[a];if((!ot(It,C)||t[C])&&"function"!=typeof t[C])return void n(r)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=g.reject(e);return s(n,arguments[arguments.length-1]),n}},n=0,i=It.length;n<i;n++){var r=It[n];t[r]||(t[r]=e(r))}}();var I=function(n){st[i]&&console.info("Redefining LocalForage driver: "+i),st[i]=t,at[i]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(I,n):I(!!t._support):I(!0)}catch(t){n(t)}}));return a(i,e,n),i},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var i=st[t]?g.resolve(st[t]):g.reject(new Error("Driver not found."));return a(i,e,n),i},t.prototype.getSerializer=function(t){var e=g.resolve(q);return a(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return a(n,t,t),n},t.prototype.setDriver=function(t,e,n){var i=this;gt(t)||(t=[t]);var r=this._getSupportedDrivers(t);function o(){i._config.driver=i.driver()}function s(t){return i._extend(t),o(),i._ready=i._initStorage(i._config),i._ready}var A=null!==this._driverSet?this._driverSet.catch((function(){return g.resolve()})):g.resolve();return this._driverSet=A.then((function(){var t=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(t).then((function(t){i._driver=t._driver,o(),i._wrapLibraryMethodsWithReady(),i._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var r=t[e];return e++,i._dbInfo=null,i._ready=null,i.getDriver(r).then(s).catch(n)}o();var a=new Error("No available storage method found.");return i._driverSet=g.reject(a),i._driverSet}()}}(r)}))})).catch((function(){o();var t=new Error("No available storage method found.");return i._driverSet=g.reject(t),i._driverSet})),a(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!at[t]},t.prototype._extend=function(t){ht(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];this.supports(r)&&e.push(r)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ct.length;t<e;t++)ut(this,ct[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),pt=new dt;e.exports=pt},{3:3}]},{},[4])(4)},5971:()=>{(()=>{var t,e,n;const i=Symbol(),r=Symbol(),o=Symbol(),g=Symbol(),s=Symbol(),a=Symbol(),A=Symbol(),C=Symbol(),I=Symbol(),c=Symbol(),l=Symbol(),u=Symbol(),h=Symbol();class d{constructor(){this[t]=[],this[e]=[],this[n]=new Set}destructor(){this[I](this[o]);const t=this;t[i]=null,t[o]=null,t[r]=null}get top(){const t=this[i];return t[t.length-1]||null}push(t){t&&t!==this.top&&(this.remove(t),this[a](t),this[i].push(t))}remove(t){const e=this[i].indexOf(t);return-1!==e&&(this[i].splice(e,1),e===this[i].length&&this[a](this.top),!0)}pop(){const t=this.top;return t&&this.remove(t),t}has(t){return-1!==this[i].indexOf(t)}[(t=i,e=o,n=r,a)](t){const e=this[r],n=this[o];if(!t)return this[I](n),e.clear(),void(this[o]=[]);const i=this[c](t);if(i[i.length-1].parentNode!==document.body)throw Error("Non-connected element cannot be a blocking element");this[o]=i;const g=this[l](t);if(!n.length)return void this[C](i,g,e);let s=n.length-1,a=i.length-1;for(;s>0&&a>0&&n[s]===i[a];)s--,a--;n[s]!==i[a]&&this[A](n[s],i[a]),s>0&&this[I](n.slice(0,s)),a>0&&this[C](i.slice(0,a),g,null)}[A](t,e){const n=t[g];this[u](t)&&!t.inert&&(t.inert=!0,n.add(t)),n.has(e)&&(e.inert=!1,n.delete(e)),e[s]=t[s],e[g]=n,t[s]=void 0,t[g]=void 0}[I](t){for(const e of t){e[s].disconnect(),e[s]=void 0;const t=e[g];for(const e of t)e.inert=!1;e[g]=void 0}}[C](t,e,n){for(const i of t){const t=i.parentNode,r=t.children,o=new Set;for(let t=0;t<r.length;t++){const g=r[t];g===i||!this[u](g)||e&&e.has(g)||(n&&g.inert?n.add(g):(g.inert=!0,o.add(g)))}i[g]=o;const a=new MutationObserver(this[h].bind(this));i[s]=a;let A=t;const C=A;C.__shady&&C.host&&(A=C.host),a.observe(A,{childList:!0})}}[h](t){const e=this[o],n=this[r];for(const i of t){const t=i.target.host||i.target,r=t===document.body?e.length:e.indexOf(t),o=e[r-1],s=o[g];for(let t=0;t<i.removedNodes.length;t++){const e=i.removedNodes[t];if(e===o)return console.info("Detected removal of the top Blocking Element."),void this.pop();s.has(e)&&(e.inert=!1,s.delete(e))}for(let t=0;t<i.addedNodes.length;t++){const e=i.addedNodes[t];this[u](e)&&(n&&e.inert?n.add(e):(e.inert=!0,s.add(e)))}}}[u](t){return!1===/^(style|template|script)$/.test(t.localName)}[c](t){const e=[];let n=t;for(;n&&n!==document.body;)if(n.nodeType===Node.ELEMENT_NODE&&e.push(n),n.assignedSlot){for(;n=n.assignedSlot;)e.push(n);n=e.pop()}else n=n.parentNode||n.host;return e}[l](t){const e=t.shadowRoot;if(!e)return null;const n=new Set;let i,r,o;const g=e.querySelectorAll("slot");if(g.length&&g[0].assignedNodes)for(i=0;i<g.length;i++)for(o=g[i].assignedNodes({flatten:!0}),r=0;r<o.length;r++)o[r].nodeType===Node.ELEMENT_NODE&&n.add(o[r]);return n}}document.$blockingElements=new d})()},9883:(t,e,n)=>{var i,r,o,g;o=window.$,(g={config:{},container:{},controls:{},errors:{},items:{},utils:{}}).utils.F=function(){},g.utils.extend=function(t,e){t.prototype=g.utils.createObject(e.prototype),t.prototype.contructor=t},g.utils.createObject=function(t){return"function"==typeof Object.create?Object.create(t):(g.utils.F.prototype=t,new g.utils.F)},g.utils.objectKeys=function(t){var e,n;if("function"==typeof Object.keys)return Object.keys(t);for(n in e=[],t)e.push(n);return e},g.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+"=([^&]*)"));return e?e[1]:null},g.utils.getQueryStringParam=function(t){if(window.location.hash)return g.utils.getHashValue(t);if(!window.location.search)return null;var e,n,i=window.location.search.substr(1).split("&"),r={};for(n=0;n<i.length;n++)r[(e=i[n].split("="))[0]]=e[1];return r[t]||null},g.utils.copy=function(t,e){for(var n in e)t[n]=e[n];return t},g.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})((function(){t()}))},g.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error("Haystack is not an Array");if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},"object"!=typeof Int8Array?g.utils.isFunction=function(t){return"function"==typeof t||!1}:g.utils.isFunction=function(t){return"[object Function]"===toString.call(t)},g.utils.fnBind=function(t,e,n){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(t,[e].concat(n||[]));var i=function(){var r=(n||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof i))return t.apply(e,r);t.apply(this,r)};return i.prototype=t.prototype,i},g.utils.removeFromArray=function(t,e){var n=g.utils.indexOf(t,e);if(-1===n)throw new Error("Can't remove item from array. Item is not in the array");e.splice(n,1)},g.utils.now=function(){return"function"==typeof Date.now?Date.now():(new Date).getTime()},g.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(".","")},g.utils.filterXss=function(t,e){var n=t.replace(/javascript/gi,"j&#97;vascript").replace(/expression/gi,"expr&#101;ssion").replace(/onload/gi,"onlo&#97;d").replace(/script/gi,"&#115;cript").replace(/onerror/gi,"on&#101;rror");return!0===e?n:n.replace(/>/g,"&gt;").replace(/</g,"&lt;")},g.utils.stripTags=function(t){return o.trim(t.replace(/(<([^>]+)>)/gi,""))},g.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[g.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,n){if(!g.utils.isFunction(e))throw new Error("Tried to listen to event "+t+" with non-function callback "+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:n})},this.emit=function(t){var e,n,i;i=Array.prototype.slice.call(arguments,1);var r=this._mSubscriptions[t];if(r)for(r=r.slice(),e=0;e<r.length;e++)n=r[e].ctx||{},r[e].fn.apply(n,i);i.unshift(t);var o=this._mSubscriptions[g.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<o.length;e++)n=o[e].ctx||{},o[e].fn.apply(n,i)},this.unbind=function(t,e,n){if(!this._mSubscriptions[t])throw new Error("No subscribtions to unsubscribe for event "+t);var i,r=!1;for(i=0;i<this._mSubscriptions[t].length;i++)e&&this._mSubscriptions[t][i].fn!==e||n&&n!==this._mSubscriptions[t][i].ctx||(this._mSubscriptions[t].splice(i,1),r=!0);if(!1===r)throw new Error("Nothing to unbind for "+t)},this.off=this.unbind,this.trigger=this.emit},g.utils.EventEmitter.ALL_EVENT="__all",g.utils.DragListener=function(t,e){g.utils.EventEmitter.call(this),this._eElement=o(t),this._oDocument=o(document),this._eBody=o(document.body),this._nButtonCode=e||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=g.utils.fnBind(this.onMouseMove,this),this._fUp=g.utils.fnBind(this.onMouseUp,this),this._fDown=g.utils.fnBind(this.onMouseDown,this),this._eElement.on("mousedown touchstart",this._fDown)},g.utils.DragListener.timeout=null,g.utils.copy(g.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind("mousedown touchstart",this._fDown),this._oDocument.unbind("mouseup touchend",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||"touchstart"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on("mousemove touchmove",this._fMove),this._oDocument.one("mouseup touchend",this._fUp),this._timeout=setTimeout(g.utils.fnBind(this._startDrag,this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag()),this._bDragging&&this.emit("drag",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass("lm_dragging"),this._eElement.removeClass("lm_dragging"),this._oDocument.find("iframe").css("pointer-events",""),this._oDocument.unbind("mousemove touchmove",this._fMove),this._oDocument.unbind("mouseup touchend",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit("dragStop",t,this._nOriginalX+this._nX)))},_startDrag:function(){this._bDragging=!0,this._eBody.addClass("lm_dragging"),this._eElement.addClass("lm_dragging"),this._oDocument.find("iframe").css("pointer-events","none"),this.emit("dragStart",this._nOriginalX,this._nOriginalY)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),g.LayoutManager=function(t,e){if(!o||"function"!=typeof o.noConflict)throw new Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\'s scope (e.g. window) or add "jquery" to your paths when using RequireJS/AMD');g.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={"lm-react-component":g.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=g.utils.fnBind(this._onResize,this),this._unloadFunction=g.utils.fnBind(this._onUnload,this),this._maximisedItem=null,this._maximisePlaceholder=o('<div class="lm_maximise_place"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new g.utils.EventHub(this),this.config=this._createConfig(t),this.container=e,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=o('<div class="lm_drop_tab_placeholder"></div>'),!0===this.isSubWindow&&o("body").css("visibility","hidden"),this._typeToItem={column:g.utils.fnBind(g.items.RowOrColumn,this,[!0]),row:g.utils.fnBind(g.items.RowOrColumn,this,[!1]),stack:g.items.Stack,component:g.items.Component}},g.LayoutManager.__lm=g,g.LayoutManager.minifyConfig=function(t){return(new g.utils.ConfigMinifier).minifyConfig(t)},g.LayoutManager.unminifyConfig=function(t){return(new g.utils.ConfigMinifier).unminifyConfig(t)},g.utils.copy(g.LayoutManager.prototype,{registerComponent:function(t,e){if("function"!=typeof e)throw new Error("Please register a constructor function");if(void 0!==this._components[t])throw new Error("Component "+t+" is already registered");this._components[t]=e},toConfig:function(t){var e,n,i;if(!1===this.isInitialised)throw new Error("Can't create config, layout not yet initialised");if(t&&!(t instanceof g.items.AbstractContentItem))throw new Error("Root must be a ContentItem");for((e={settings:g.utils.copy({},this.config.settings),dimensions:g.utils.copy({},this.config.dimensions),labels:g.utils.copy({},this.config.labels)}).content=[],n=function(t,e){var i,r;for(i in e.config)"content"!==i&&(t[i]=e.config[i]);if(e.contentItems.length)for(t.content=[],r=0;r<e.contentItems.length;r++)t.content[r]={},n(t.content[r],e.contentItems[r])},n(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],i=0;i<this.openPopouts.length;i++)e.openPopouts.push(this.openPopouts[i].toConfig());return e.maximisedItemId=this._maximisedItem?"__glMaximised":null,e},getComponent:function(t){if(void 0===this._components[t])throw new g.errors.ConfigurationError('Unknown component "'+t+'"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),"loading"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(g.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new g.controls.DropTargetIndicator(this.container),this.transitionIndicator=new g.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit("initialised")}else o(document).ready(g.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards("setSize",[this.width,this.height]),this._maximisedItem&&(this._maximisedItem.element.width(this.container.width()),this._maximisedItem.element.height(this.container.height()),this._maximisedItem.callDownwards("setSize")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),o(window).off("resize",this._resizeFunction),o(window).off("unload beforeunload",this._unloadFunction),this.root.callDownwards("_$destroy",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach((function(t){t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null})),this._dragSources=[])},createContentItem:function(t,e){var n;if("string"!=typeof t.type)throw new g.errors.ConfigurationError("Missing parameter 'type'",t);if("react-component"===t.type&&(t.type="component",t.componentName="lm-react-component"),!this._typeToItem[t.type])throw n="Unknown type '"+t.type+"'. Valid types are "+g.utils.objectKeys(this._typeToItem).join(","),new g.errors.ConfigurationError(n);return"component"!==t.type||e instanceof g.items.Stack||!e||!0===this.isSubWindow&&e instanceof g.items.Root||(t={type:"stack",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,n,i){var r,o,s,a,A,C,I=t,c=t instanceof g.items.AbstractContentItem,l=this;if(n=n||null,c){for(I=this.toConfig(t).content,n=g.utils.getUniqueId(),a=t.parent,A=t;1===a.contentItems.length&&!a.isRoot;)a=a.parent,A=A.parent;a.addId(n),isNaN(i)&&(i=g.utils.indexOf(A,a.contentItems))}else I instanceof Array||(I=[I]);return!e&&c&&(r=window.screenX||window.screenLeft,o=window.screenY||window.screenTop,e={left:r+(s=t.element.offset()).left,top:o+s.top,width:t.element.width(),height:t.element.height()}),e||c||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),c&&t.remove(),(C=new g.controls.BrowserPopout(I,e,n,i,this)).on("initialised",(function(){l.emit("windowOpened",C)})),C.on("closed",(function(){l._$reconcilePopoutWindows()})),this.openPopouts.push(C),C},createDragSource:function(t,e){this.config.settings.constrainDragToContainer=!1;var n=new g.controls.DragSource(o(t),e,this);return this._dragSources.push(n),n},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error("Please set selectionEnabled to true to use this feature");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit("selectionChanged",t))},_$maximiseItem:function(t){null!==this._maximisedItem&&this._$minimiseItem(this._maximisedItem),this._maximisedItem=t,this._maximisedItem.addId("__glMaximised"),t.element.addClass("lm_maximised"),t.element.after(this._maximisePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards("setSize"),this._maximisedItem.emit("maximised"),this.emit("stateChanged")},_$minimiseItem:function(t){t.element.removeClass("lm_maximised"),t.removeId("__glMaximised"),this._maximisePlaceholder.after(t.element),this._maximisePlaceholder.remove(),t.parent.callDownwards("setSize"),this._maximisedItem=null,t.emit("minimised"),this.emit("stateChanged")},_$closeWindow:function(){window.setTimeout((function(){window.close()}),1)},_$getArea:function(t,e){var n,i,r=1/0,o=null;for(n=0;n<this._itemAreas.length;n++)t>(i=this._itemAreas[n]).x1&&t<i.x2&&e>i.y1&&e<i.y2&&r>i.surface&&(r=i.surface,o=i);return o},_$createRootItemAreas:function(){var t={y2:0,x2:0,y1:"y2",x1:"x2"};for(var e in t){var n=this.root._$getArea();n.side=e,n[e]=t[e]?n[t[e]]-50:50,n.surface=(n.x2-n.x1)*(n.y2-n.y1),this._itemAreas.push(n)}},_$calculateItemAreas:function(){var t,e,n=this._getAllContentItems();if(this._itemAreas=[],1!==n.length){for(this._$createRootItemAreas(),t=0;t<n.length;t++)if(n[t].isStack&&null!==(e=n[t]._$getArea()))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var i={};g.utils.copy(i,e),g.utils.copy(i,e.contentItem._contentAreaDimensions.header.highlightArea),i.surface=(i.x2-i.x1)*(i.y2-i.y1),this._itemAreas.push(i)}}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,e){if(!t)throw new Error("No content item defined");if(g.utils.isFunction(t)&&(t=t()),t instanceof g.items.AbstractContentItem)return t;if(o.isPlainObject(t)&&t.type){var n=this.createContentItem(t,e);return n.callDownwards("_$init"),n}throw new Error("Invalid contentItem")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit("windowClosed",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit("stateChanged"),this.openPopouts=e)},_getAllContentItems:function(){var t=[],e=function(n){if(t.push(n),n.contentItems instanceof Array)for(var i=0;i<n.contentItems.length;i++)e(n.contentItems[i])};return e(this.root),t},_bindEvents:function(){this._isFullPage&&o(window).resize(this._resizeFunction),o(window).on("unload beforeunload",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(g.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var e=g.utils.getQueryStringParam("gl-window");e&&(this.isSubWindow=!0,t=localStorage.getItem(e),t=JSON.parse(t),t=(new g.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(e)),t=o.extend(!0,{},g.config.defaultConfig,t);var n=function(t){for(var e in t)"props"!==e&&"object"==typeof t[e]?n(t[e]):"type"===e&&"react-component"===t[e]&&(t.type="component",t.componentName="lm-react-component")};return n(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=o('<div class="lm_popin" title="'+this.config.labels.popin+'"><div class="lm_icon"></div><div class="lm_bg"></div></div>');t.click(g.utils.fnBind((function(){this.emit("popIn")}),this)),document.title=g.utils.stripTags(this.config.content[0].title),o("head").append(o("body link, body style, template, .gl_keep")),this.container=o("body").html("").css("visibility","visible").append(t),document.body.offsetHeight,window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=o(this.container||"body");if(0===t.length)throw new Error("GoldenLayout container not found");if(t.length>1)throw new Error("GoldenLayout more than one container element specified");t[0]===document.body&&(this._isFullPage=!0,o("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?"Missing setting 'content' on top level of configuration":"Configuration parameter 'content' must be an array",new g.errors.ConfigurationError(e,t);if(t.content.length>1)throw e="Top level content can't contain more then one element.",new g.errors.ConfigurationError(e,t);this.root=new g.items.Root(this,{content:t.content},this.container),this.root.callDownwards("_$init"),"__glMaximised"===t.maximisedItemId&&this.root.getItemsById(t.maximisedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)){this._updatingColumnsResponsive=!0;for(var n=t-Math.max(Math.floor(this.width/e),1),i=this.root.contentItems[0],r=this._findAllStackContainers()[0],o=0;o<n;o++){var g=i.contentItems[i.contentItems.length-1];this._addChildContentItemsToContainer(r,g)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_useResponsiveLayout:function(){return this.config.settings&&("always"==this.config.settings.responsiveMode||"onload"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(t,e){"stack"===e.type?e.contentItems.forEach((function(n){t.addChild(n),e.removeChild(n,!0)})):e.contentItems.forEach(g.utils.fnBind((function(e){this._addChildContentItemsToContainer(t,e)}),this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(t,e){e.contentItems.forEach(g.utils.fnBind((function(e){"stack"==e.type?t.push(e):e.isComponent||this._findAllStackContainersRecursive(t,e)}),this))}}),i=[n(8483)],void 0===(r=function(t){return o=t,g.LayoutManager}.apply(e,i))||(t.exports=r),g.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:""},g.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showPopoutIcon:!0,showMaximiseIcon:!0,showCloseIcon:!0,responsiveMode:"onload",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200},labels:{close:"close",maximise:"maximise",minimise:"minimise",popout:"open in new window",popin:"pop in",tabDropdown:"additional tabs"}},g.container.ItemContainer=function(t,e,n){g.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=e,this.layoutManager=n,this.isHidden=!1,this._config=t,this._element=o(['<div class="lm_item_container">','<div class="lm_content"></div>',"</div>"].join("")),this._contentElement=this._element.find(".lm_content")},g.utils.copy(g.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit("hide"),this.isHidden=!0,this._element.hide()},show:function(){this.emit("show"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit("shown")},setSize:function(t,e){for(var n,i,r,o,g=this.parent,s=this;!g.isColumn&&!g.isRow;)if(s=g,(g=g.parent).isRoot)return!1;for(n=("height"==(i=g.isColumn?"height":"width")?e:t)/(this[i]*(1/(s.config[i]/100)))*100,r=(s.config[i]-n)/(g.contentItems.length-1),o=0;o<g.contentItems.length;o++)g.contentItems[o]===s?g.contentItems[o].config[i]=n:g.contentItems[o].config[i]+=r;return g.callDownwards("setSize"),!0},close:function(){this._config.isClosable&&(this.emit("close"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(o.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent("stateChanged")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var n=this._contentElement[0],i=n.offsetWidth-n.clientWidth,r=n.offsetHeight-n.clientHeight;this._contentElement.width(this.width-i).height(this.height-r),this.emit("resize")}}}),g.controls.BrowserPopout=function(t,e,n,i,r){g.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=n,this._indexInParent=i,this._layoutManager=r,this._popoutWindow=null,this._id=null,this._createWindow()},g.utils.copy(g.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error("Can't create config, layout not yet initialised");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,e;this._indexInParent,this._parentId&&(t=o.extend(!0,{},this.getGlInstance().toConfig()).content[0],(e=this._layoutManager.root.getItemsById(this._parentId)[0])||(e=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),e.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,e=this._createUrl(),n=Math.floor(1e6*Math.random()).toString(36),i=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:"no",toolbar:"no",location:"no",personalbar:"no",resizable:"yes",scrollbars:"no",status:"no"});if(this._popoutWindow=window.open(e,n,i),this._popoutWindow)o(this._popoutWindow).on("load",g.utils.fnBind(this._positionWindow,this)).on("unload beforeunload",g.utils.fnBind(this._onClose,this)),t=setInterval(g.utils.fnBind((function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))}),this),10);else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError){var r=new Error("Popout blocked");throw r.type="popoutBlocked",r}},_serializeWindowOptions:function(t){var e,n=[];for(e in t)n.push(e+"="+t[e]);return n.join(",")},_createUrl:function(){var t,e={content:this._config},n="gl-window-config-"+g.utils.getUniqueId();e=(new g.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(n,JSON.stringify(e))}catch(t){throw new Error("Error while writing to localStorage "+t.toString())}return 1===(t=document.location.href.split("?")).length?t[0]+"?gl-window="+n:document.location.href+"&gl-window="+n},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on("popIn",this.popIn,this),this.emit("initialised")},_onClose:function(){setTimeout(g.utils.fnBind(this.emit,this,["closed"]),50)}}),g.controls.DragProxy=function(t,e,n,i,r,s){g.utils.EventEmitter.call(this),this._dragListener=n,this._layoutManager=i,this._contentItem=r,this._originalParent=s,this._area=null,this._lastValidArea=null,this._dragListener.on("drag",this._onDrag,this),this._dragListener.on("dragStop",this._onDrop,this),this.element=o(g.controls.DragProxy._template),s&&s._side&&(this._sided=s._sided,this.element.addClass("lm_"+s._side),["right","bottom"].indexOf(s._side)>=0&&this.element.find(".lm_content").after(this.element.find(".lm_header"))),this.element.css({left:t,top:e}),this.element.find(".lm_tab").attr("title",g.utils.stripTags(this._contentItem.config.title)),this.element.find(".lm_title").html(this._contentItem.config.title),this.childElementContainer=this.element.find(".lm_content"),this.childElementContainer.append(r.element),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),o(document.body).append(this.element);var a=this._layoutManager.container.offset();this._minX=a.left,this._minY=a.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this.element.width(),this._height=this.element.height(),this._setDropPosition(t,e)},g.controls.DragProxy._template='<div class="lm_dragProxy"><div class="lm_header"><ul class="lm_tabs"><li class="lm_tab lm_active"><i class="lm_left"></i><span class="lm_title"></span><i class="lm_right"></i></li></ul></div><div class="lm_content"></div></div>',g.utils.copy(g.controls.DragProxy.prototype,{_onDrag:function(t,e,n){var i=(n=n.originalEvent&&n.originalEvent.touches?n.originalEvent.touches[0]:n).pageX,r=n.pageY;(i>this._minX&&i<this._maxX&&r>this._minY&&r<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(i,r)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area&&(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area))},_onDrop:function(){this._layoutManager.dropTargetIndicator.hide(),null!==this._area?this._area.contentItem._$onDrop(this._contentItem,this._area):null!==this._lastValidArea?this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):this._originalParent?this._originalParent.addChild(this._contentItem):this._contentItem._$destroy(),this.element.remove(),this._layoutManager.emit("itemDropped",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){var t=this._layoutManager.config.dimensions,e=t.dragProxyWidth,n=t.dragProxyHeight;this.element.width(e),this.element.height(n),e-=this._sided?t.headerHeight:0,n-=this._sided?0:t.headerHeight,this.childElementContainer.width(e),this.childElementContainer.height(n),this._contentItem.element.width(e),this._contentItem.element.height(n),this._contentItem.callDownwards("_$show"),this._contentItem.callDownwards("setSize")}}),g.controls.DragSource=function(t,e,n){this._element=t,this._itemConfig=e,this._layoutManager=n,this._dragListener=null,this._createDragListener()},g.utils.copy(g.controls.DragSource.prototype,{_createDragListener:function(){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=new g.utils.DragListener(this._element),this._dragListener.on("dragStart",this._onDragStart,this),this._dragListener.on("dragStop",this._createDragListener,this)},_onDragStart:function(t,e){var n=this._itemConfig;g.utils.isFunction(n)&&(n=n());var i=this._layoutManager._$normalizeContentItem(o.extend(!0,{},n)),r=new g.controls.DragProxy(t,e,this._dragListener,this._layoutManager,i,null);this._layoutManager.transitionIndicator.transitionElements(this._element,r.element)}}),g.controls.DropTargetIndicator=function(){this.element=o(g.controls.DropTargetIndicator._template),o(document.body).append(this.element)},g.controls.DropTargetIndicator._template='<div class="lm_dropTargetIndicator"><div class="lm_inner"></div></div>',g.utils.copy(g.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,n,i){this.highlightArea({x1:t,y1:e,x2:n,y2:i})},highlightArea:function(t){this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show()},hide:function(){this.element.hide()}}),g.controls.Header=function(t,e){g.utils.EventEmitter.call(this),this.layoutManager=t,this.element=o(g.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass("lm_selectable"),this.element.on("click touchstart",g.utils.fnBind(this._onHeaderClick,this))),this.tabsContainer=this.element.find(".lm_tabs"),this.tabDropdownContainer=this.element.find(".lm_tabdropdown_list"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(".lm_controls"),this.parent=e,this.parent.on("resize",this._updateTabSizes,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=g.utils.fnBind(this._hideAdditionalTabsDropdown,this),o(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,this._createControls()},g.controls.Header._template=['<div class="lm_header">','<ul class="lm_tabs"></ul>','<ul class="lm_controls"></ul>','<ul class="lm_tabdropdown_list"></ul>',"</div>"].join(""),g.utils.copy(g.controls.Header.prototype,{createTab:function(t,e){var n,i;for(i=0;i<this.tabs.length;i++)if(this.tabs[i].contentItem===t)return;if(n=new g.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(n),void this.tabsContainer.append(n.element);void 0===e&&(e=this.tabs.length),e>0?this.tabs[e-1].element.after(n.element):this.tabs[0].element.before(n.element),this.tabs.splice(e,0,n),this._updateTabSizes()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error("contentItem is not controlled by this header")},setActiveContentItem:function(t){var e,n,i,r;for(e=0;e<this.tabs.length;e++)i=this.tabs[e].contentItem===t,this.tabs[e].setActive(i),!0===i&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(r=this.tabs[this.parent.config.activeItemIndex],n=this.parent.config.activeItemIndex;n>0;n--)this.tabs[n]=this.tabs[n-1];this.tabs[0]=r,this.parent.config.activeItemIndex=0}this._updateTabSizes(),this.parent.emitBubblingEvent("stateChanged")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e="top"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable()||(this.closeButton.element[t?"show":"hide"](),0))},_$destroy:function(){this.emit("destroy",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();o(document).off("mouseup",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,n,i,r,o,s,a,A;A=g.utils.fnBind(this._showAdditionalTabsDropdown,this),a=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new g.controls.HeaderButton(this,a,"lm_tabdropdown",A),this.tabDropdownButton.element.hide(),this._getHeaderSetting("popout")&&(e=g.utils.fnBind(this._onPopoutClick,this),n=this._getHeaderSetting("popout"),new g.controls.HeaderButton(this,n,"lm_popout",e)),this._getHeaderSetting("maximise")&&(o=g.utils.fnBind(this.parent.toggleMaximise,this.parent),i=this._getHeaderSetting("maximise"),r=this._getHeaderSetting("minimise"),s=new g.controls.HeaderButton(this,i,"lm_maximise",o),this.parent.on("maximised",(function(){s.element.attr("title",r)})),this.parent.on("minimised",(function(){s.element.attr("title",i)}))),this._isClosable()&&(t=g.utils.fnBind(this.parent.remove,this.parent),n=this._getHeaderSetting("close"),this.closeButton=new g.controls.HeaderButton(this,n,"lm_close",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){!0===this.layoutManager.config.settings.popoutWholeStack?this.parent.popout():this.activeContentItem.popout()},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===t);var e=function(t){return t?"width":"height"};this.element.css(e(!this.parent._sided),""),this.element[e(this.parent._sided)](this.layoutManager.config.dimensions.headerHeight);var n,i,r,o,g=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,s=0,a=0,A=0,C=this.layoutManager.config.settings.tabOverlapAllowance,I=!1,c=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,l=this.tabs[c];for(this.parent._sided&&(g=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,i=0;i<this.tabs.length;i++)if(n=this.tabs[i].element,this.tabsContainer.append(n),s+=n.outerWidth()+parseInt(n.css("margin-right"),10),(a=c<=i?s:s+l.element.outerWidth()+parseInt(l.element.css("margin-right"),10))>g){if(I)i===c&&(n.css({"z-index":"auto","margin-left":""}),this.tabsContainer.append(n));else if((A=c>0&&c<=i?(a-g)/(i-1):(a-g)/i)<C){for(r=0;r<=i;r++)o=r!==c&&0!==r?"-"+A+"px":"",this.tabs[r].element.css({"z-index":i-r,"margin-left":o});this._lastVisibleTabIndex=i,this.tabsContainer.append(n)}else I=!0;if(I&&i!==c){if(!t)return void this._updateTabSizes(!0);n.css({"z-index":"auto","margin-left":""}),this.tabDropdownContainer.append(n)}}else this._lastVisibleTabIndex=i,n.css({"z-index":"auto","margin-left":""}),this.tabsContainer.append(n)}}}),g.controls.HeaderButton=function(t,e,n,i){this._header=t,this.element=o('<li class="'+n+'" title="'+e+'"></li>'),this._header.on("destroy",this._$destroy,this),this._action=i,this.element.on("click touchstart",this._action),this._header.controlsContainer.append(this.element)},g.utils.copy(g.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),g.controls.Splitter=function(t,e,n){this._isVertical=t,this._size=e,this._grabSize=n<e?e:n,this.element=this._createElement(),this._dragListener=new g.utils.DragListener(this.element)},g.utils.copy(g.controls.Splitter.prototype,{on:function(t,e,n){this._dragListener.on(t,e,n)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=o('<div class="lm_drag_handle"></div>'),e=o('<div class="lm_splitter"></div>');e.append(t);var n=this._grabSize-this._size,i=n/2;return this._isVertical?(t.css("top",-i),t.css("height",this._size+n),e.addClass("lm_vertical"),e.height(this._size)):(t.css("left",-i),t.css("width",this._size+n),e.addClass("lm_horizontal"),e.width(this._size)),e}}),g.controls.Tab=function(t,e){this.header=t,this.contentItem=e,this.element=o(g.controls.Tab._template),this.titleElement=this.element.find(".lm_title"),this.closeElement=this.element.find(".lm_close_tab"),this.closeElement[e.config.isClosable?"show":"hide"](),this.isActive=!1,this.setTitle(e.config.title),this.contentItem.on("titleChanged",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,!0===this._layoutManager.config.settings.reorderEnabled&&!0===e.config.reorderEnabled&&(this._dragListener=new g.utils.DragListener(this.element),this._dragListener.on("dragStart",this._onDragStart,this),this.contentItem.on("destroy",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=g.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=g.utils.fnBind(this._onCloseClick,this),this.element.on("mousedown touchstart",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on("click touchstart",this._onCloseClickFn),this.closeElement.on("mousedown",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit("tab",this),this.contentItem.layoutManager.emit("tabCreated",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit("tab",this))},g.controls.Tab._template='<li class="lm_tab"><i class="lm_left"></i><span class="lm_title"></span><div class="lm_close_tab"></div><i class="lm_right"></i></li>',g.utils.copy(g.controls.Tab.prototype,{setTitle:function(t){this.element.attr("title",g.utils.stripTags(t)),this.titleElement.html(t)},setActive:function(t){t!==this.isActive&&(this.isActive=t,t?this.element.addClass("lm_active"):this.element.removeClass("lm_active"))},_$destroy:function(){this.element.off("mousedown touchstart",this._onTabClickFn),this.closeElement.off("click touchstart",this._onCloseClickFn),this._dragListener&&(this.contentItem.off("destroy",this._dragListener.destroy,this._dragListener),this._dragListener.off("dragStart",this._onDragStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximised&&this.contentItem.parent.toggleMaximise(),new g.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent)},_onTabClick:function(t){if(0===t.button||"touchstart"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){t.stopPropagation(),this.header.parent.removeChild(this.contentItem)},_onCloseMousedown:function(t){t.stopPropagation()}}),g.controls.TransitionIndicator=function(){this._element=o('<div class="lm_transition_indicator"></div>'),o(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},g.utils.copy(g.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),n=(g.utils.now()-this._animationStartTime)/this._totalAnimationDuration,i={};if(n>=1)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)i[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*n;this._element.css(i),g.utils.animFrame(g.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),g.errors.ConfigurationError=function(t,e){Error.call(this),this.name="Configuration Error",this.message=t,this.node=e},g.errors.ConfigurationError.prototype=new Error,g.items.AbstractContentItem=function(t,e,n){g.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=n,this.isInitialised=!1,this.isMaximised=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=["stateChanged"],this.on(g.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},g.utils.copy(g.items.AbstractContentItem.prototype,{setSize:function(){throw new Error("Abstract Method")},callDownwards:function(t,e,n,i){var r;for(!0!==n&&!0!==i&&this[t].apply(this,e||[]),r=0;r<this.contentItems.length;r++)this.contentItems[r].callDownwards(t,e,n);!0===n&&!0!==i&&this[t].apply(this,e||[])},removeChild:function(t,e){var n=g.utils.indexOf(t,this.contentItems);if(-1===n)throw new Error("Can't remove child item. Unknown content item");!0!==e&&this.contentItems[n]._$destroy(),this.contentItems.splice(n,1),this.config.content.splice(n,1),this.contentItems.length>0?this.callDownwards("setSize"):this instanceof g.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){void 0===e&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,n){e=this.layoutManager._$normalizeContentItem(e);var i=g.utils.indexOf(t,this.contentItems),r=t.element[0].parentNode;if(-1===i)throw new Error("Can't replace child. oldChild is not child of this");r.replaceChild(e.element[0],t.element[0]),!0===n&&(t.parent=null,t._$destroy()),this.contentItems[i]=e,e.parent=this,this.isStack&&(this.header.tabs[i].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),this.callDownwards("setSize")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent("stateChanged"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximised?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximised=!this.isMaximised,this.emitBubblingEvent("stateChanged")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass("lm_selected"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass("lm_selected"))},setTitle:function(t){this.config.title=t,this.emit("titleChanged",t),this.emit("stateChanged")},hasId:function(t){return!!this.config.id&&("string"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==g.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?"string"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error("Id not found");if("string"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=g.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(t){var e=[],n=function(i){for(var r=0;r<i.contentItems.length;r++)!0===t(i.contentItems[r])&&e.push(i.contentItems[r]),n(i.contentItems[r])};return n(this),e},getItemsById:function(t){return this.getItemsByFilter((function(e){return e.config.id instanceof Array?-1!==g.utils.indexOf(t,e.config.id):e.config.id===t}))},getItemsByType:function(t){return this._$getItemsByProperty("type",t)},getComponentsByName:function(t){var e,n=this._$getItemsByProperty("componentName",t),i=[];for(e=0;e<n.length;e++)i.push(n[e].instance);return i},_$getItemsByProperty:function(t,e){return this.getItemsByFilter((function(n){return n[t]===e}))},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,n){this.layoutManager.dropTargetIndicator.highlightArea(n)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents("hide"),this.element.hide(),this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents("show"),this.element.show(),this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,n,i=this.getItemsByType("stack");for(n=0;n<i.length;n++)(e=i[n].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this.emitBubblingEvent("beforeItemDestroyed"),this.callDownwards("_$destroy",[],!0,!0),this.element.remove(),this.emitBubblingEvent("itemDestroyed")},_$getArea:function(t){var e=(t=t||this.element).offset(),n=t.width(),i=t.height();return{x1:e.left,y1:e.top,x2:e.left+n,y2:e.top+i,surface:n*i,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent("itemCreated"),this.emitBubblingEvent(this.type+"Created")},emitBubblingEvent:function(t){var e=new g.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,n;if(!(t.content instanceof Array))throw new g.errors.ConfigurationError("content must be an Array",t);for(n=0;n<t.content.length;n++)e=this.layoutManager.createContentItem(t.content[n],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in g.config.itemDefaultConfig)void 0===t[e]&&(t[e]=g.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof g.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===g.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,g.utils.animFrame(g.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),g.items.Component=function(t,e,n){g.items.AbstractContentItem.call(this,t,e,n);var i=t.getComponent(this.config.componentName),r=o.extend(!0,{},this.config.componentState||{});r.componentName=this.config.componentName,this.componentName=this.config.componentName,""===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new g.container.ItemContainer(this.config,this,t),this.instance=new i(this.container,r),this.element=this.container._element},g.utils.extend(g.items.Component,g.items.AbstractContentItem),g.utils.copy(g.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(":visible")&&this.container._$setSize(this.element.width(),this.element.height())},_$init:function(){g.items.AbstractContentItem.prototype._$init.call(this),this.container.emit("open")},_$hide:function(){this.container.hide(),g.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),g.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),g.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit("destroy",this),g.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),g.items.Root=function(t,e,n){g.items.AbstractContentItem.call(this,t,e,null),this.isRoot=!0,this.type="root",this.element=o('<div class="lm_goldenlayout lm_item lm_root"></div>'),this.childElementContainer=this.element,this._containerElement=n,this._containerElement.append(this.element)},g.utils.extend(g.items.Root,g.items.AbstractContentItem),g.utils.copy(g.items.Root.prototype,{addChild:function(t){if(this.contentItems.length>0)throw new Error("Root node can only have a single child");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),g.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},_$highlightDropZone:function(t,e,n){this.layoutManager.tabDropPlaceholder.remove(),g.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var n;if(t.isComponent&&((n=this.layoutManager.createContentItem({type:"stack",header:t.config.header||{}},this))._$init(),n.addChild(t),t=n),this.contentItems.length){var i="x"==e.side[0]?"row":"column",r="x"==e.side[0]?"width":"height",o="2"==e.side[1],s=this.contentItems[0];if(!s instanceof g.items.RowOrColumn||s.type!=i){var a=this.layoutManager.createContentItem({type:i},this);this.replaceChild(s,a),a.addChild(t,o?0:void 0,!0),a.addChild(s,o?void 0:0,!0),s.config[r]=50,t.config[r]=50,a.callDownwards("setSize")}else{var A=s.contentItems[o?0:s.contentItems.length-1];s.addChild(t,o?0:void 0,!0),A.config[r]*=.5,t.config[r]=A.config[r],s.callDownwards("setSize")}}else this.addChild(t)}}),g.items.RowOrColumn=function(t,e,n,i){g.items.AbstractContentItem.call(this,e,n,i),this.isRow=!t,this.isColumn=t,this.element=o('<div class="lm_item lm_'+(t?"column":"row")+'"></div>'),this.childElementContainer=this.element,this._splitterSize=e.config.dimensions.borderWidth,this._splitterGrabSize=e.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?"height":"width",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null},g.utils.extend(g.items.RowOrColumn,g.items.AbstractContentItem),g.utils.copy(g.items.RowOrColumn.prototype,{addChild:function(t,e,n){var i,r,o,s;if(t=this.layoutManager._$normalizeContentItem(t,this),void 0===e&&(e=this.contentItems.length),this.contentItems.length>0?(s=this._createSplitter(Math.max(0,e-1)).element,e>0?(this.contentItems[e-1].element.after(s),s.after(t.element)):(this.contentItems[0].element.before(s),s.before(t.element))):this.childElementContainer.append(t.element),g.items.AbstractContentItem.prototype.addChild.call(this,t,e),i=1/this.contentItems.length*100,!0!==n){for(o=0;o<this.contentItems.length;o++)this.contentItems[o]===t?t.config[this._dimension]=i:(r=this.contentItems[o].config[this._dimension]*=(100-i)/100,this.contentItems[o].config[this._dimension]=r);this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")}else this.emitBubblingEvent("stateChanged")},removeChild:function(t,e){var n,i,r=t.config[this._dimension],o=g.utils.indexOf(t,this.contentItems),s=Math.max(o-1,0);if(-1===o)throw new Error("Can't remove child. ContentItem is not child of this Row or Column");for(this._splitter[s]&&(this._splitter[s]._$destroy(),this._splitter.splice(s,1)),n=0;n<this.contentItems.length;n++)this.contentItems[n]!==t&&(this.contentItems[n].config[this._dimension]+=r/(this.contentItems.length-1));g.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(i=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,i,!0)):(this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged"))},replaceChild:function(t,e){var n=t.config[this._dimension];g.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),e.config[this._dimension]=n,this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent("stateChanged"),this.emit("resize")},_$init:function(){var t;if(!0!==this.isInitialised)for(g.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();for(t=0;t<this.contentItems.length;t++)e.additionalPixel-t>0&&e.itemSizes[t]++,this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight))},_calculateAbsoluteSizes:function(){var t,e,n=(this.contentItems.length-1)*this._splitterSize,i=this.element.width(),r=this.element.height(),o=0,g=[];for(this._isColumn?r-=n:i-=n,t=0;t<this.contentItems.length;t++)o+=e=this._isColumn?Math.floor(r*(this.contentItems[t].config.height/100)):Math.floor(i*(this.contentItems[t].config.width/100)),g.push(e);return{itemSizes:g,additionalPixel:Math.floor((this._isColumn?r:i)-o),totalWidth:i,totalHeight:r}},_calculateRelativeSizes:function(){var t,e=0,n=[],i=this._isColumn?"height":"width";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[i]?e+=this.contentItems[t].config[i]:n.push(this.contentItems[t]);if(100!==Math.round(e))if(Math.round(e)<100&&n.length>0){for(t=0;t<n.length;t++)n[t].config[i]=(100-e)/n.length;this._respectMinItemWidth()}else{if(Math.round(e)>100)for(t=0;t<n.length;t++)n[t].config[i]=50,e+=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[i]=this.contentItems[t].config[i]/e*100;this._respectMinItemWidth()}else this._respectMinItemWidth()},_respectMinItemWidth:function(){var t,e,n,i,r=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,o=[],g=0,s=0,a=0,A=0,C=[];if(!(this._isColumn||!r||this.contentItems.length<=1)){t=this._calculateAbsoluteSizes();for(var I=0;I<this.contentItems.length;I++)this.contentItems[I],(A=t.itemSizes[I])<r?(s+=r-A,i={width:r}):(g+=A-r,i={width:A},o.push(i)),C.push(i);if(!(0===s||s>g)){for(e=s/g,a=s,I=0;I<o.length;I++)i=o[I],a-=n=Math.round((i.width-r)*e),i.width-=n;for(0!==a&&(C[C.length-1].width-=a),I=0;I<this.contentItems.length;I++)this.contentItems[I].config.width=C[I].width/t.totalWidth*100}}},_createSplitter:function(t){var e;return(e=new g.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on("drag",g.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on("dragStop",g.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on("dragStart",g.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=g.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,n=0,i=0;i<t.length;++i)e=Math.max(t[i].minWidth||0,e),n=Math.max(t[i].minHeight||0,n);return{horizontal:e,vertical:n}},_onSplitterDragStart:function(t){var e=this._getItemsForSplitter(t),n=this.layoutManager.config.dimensions[this._isColumn?"minItemHeight":"minItemWidth"],i=this._getMinimumDimensions(e.before.config.content),r=this._isColumn?i.vertical:i.horizontal,o=this._getMinimumDimensions(e.after.config.content),g=this._isColumn?o.vertical:o.horizontal;this._splitterPosition=0,this._splitterMinPosition=-1*(e.before.element[this._dimension]()-(r||n)),this._splitterMaxPosition=e.after.element[this._dimension]()-(g||n)},_onSplitterDrag:function(t,e,n){var i=this._isColumn?n:e;i>this._splitterMinPosition&&i<this._splitterMaxPosition&&(this._splitterPosition=i,t.element.css(this._isColumn?"top":"left",i))},_onSplitterDragStop:function(t){var e=this._getItemsForSplitter(t),n=e.before.element[this._dimension](),i=e.after.element[this._dimension](),r=(this._splitterPosition+n)/(n+i),o=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=r*o,e.after.config[this._dimension]=(1-r)*o,t.element.css({top:0,left:0}),g.utils.animFrame(g.utils.fnBind(this.callDownwards,this,["setSize"]))}}),g.items.Stack=function(t,e,n){g.items.AbstractContentItem.call(this,t,e,n),this.element=o('<div class="lm_item lm_stack"></div>'),this._activeContentItem=null;var i=t.config;this._header={show:!0===i.settings.hasHeaders&&!1!==e.hasHeaders,popout:i.settings.showPopoutIcon&&i.labels.popout,maximise:i.settings.showMaximiseIcon&&i.labels.maximise,close:i.settings.showCloseIcon&&i.labels.close,minimise:i.labels.minimise},i.header&&g.utils.copy(this._header,i.header),e.header&&g.utils.copy(this._header,e.header),e.content&&e.content[0]&&e.content[0].header&&g.utils.copy(this._header,e.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=o('<div class="lm_items"></div>'),this.header=new g.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},g.utils.extend(g.items.Stack,g.items.AbstractContentItem),g.utils.copy(g.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.layoutManager.config.dimensions.headerHeight:0,n=this.element.width()-(this._sided?e:0),i=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(n),this.childElementContainer.height(i),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(n).height(i);this.emit("resize"),this.emitBubblingEvent("stateChanged")},_$init:function(){var t,e;if(!0!==this.isInitialised){for(g.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(this.contentItems.length>0){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error("Configured activeItemIndex out of bounds");this.setActiveContentItem(e)}}},setActiveContentItem:function(t){if(-1===g.utils.indexOf(t,this.contentItems))throw new Error("contentItem is not a child of this stack");null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit("activeContentItemChanged",t),this.layoutManager.emit("activeContentItemChanged",t),this.emitBubblingEvent("stateChanged")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,e){t=this.layoutManager._$normalizeContentItem(t,this),g.items.AbstractContentItem.prototype.addChild.call(this,t,e),this.childElementContainer.append(t.element),this.header.createTab(t,e),this.setActiveContentItem(t),this.callDownwards("setSize"),this._$validateClosability(),this.emitBubblingEvent("stateChanged")},removeChild:function(t,e){var n=g.utils.indexOf(t,this.contentItems);g.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t&&(this.contentItems.length>0?this.setActiveContentItem(this.contentItems[Math.max(n-1,0)]):this._activeContentItem=null),this._$validateClosability(),this.emitBubblingEvent("stateChanged")},_$validateClosability:function(){var t,e,n;for(t=this.header._isClosable(),n=0,e=this.contentItems.length;n<e&&t;n++)t=this.contentItems[n].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){g.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if("header"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if("body"!==this._dropSegment){var e,n,i,r="top"===this._dropSegment||"bottom"===this._dropSegment,o="left"===this._dropSegment||"right"===this._dropSegment,s="top"===this._dropSegment||"left"===this._dropSegment,a=r&&this.parent.isColumn||o&&this.parent.isRow,A=r?"column":"row",C=r?"height":"width";t.isComponent&&((n=this.layoutManager.createContentItem({type:"stack",header:t.config.header||{}},this))._$init(),n.addChild(t),t=n),a?(e=g.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,s?e:e+1,!0),this.config[C]*=.5,t.config[C]=this.config[C],this.parent.callDownwards("setSize")):(A=r?"column":"row",i=this.layoutManager.createContentItem({type:A},this),this.parent.replaceChild(this,i),i.addChild(t,s?0:void 0,!0),i.addChild(this,s?void 0:0,!0),this.config[C]=50,t.config[C]=50,i.callDownwards("setSize"))}else this.addChild(t)},_$highlightDropZone:function(t,e){var n,i;for(n in this._contentAreaDimensions)if((i=this._contentAreaDimensions[n].hoverArea).x1<t&&i.x2>t&&i.y1<e&&i.y2>e)return void("header"===n?(this._dropSegment="header",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(n)))},_$getArea:function(){if(!1===this.element.is(":visible"))return null;var t=g.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),n=t.call(this,this.childElementContainer),i=n.x2-n.x1,r=n.y2-n.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2}},t.call(this,this.element)):(this._contentAreaDimensions.left={hoverArea:{x1:n.x1,y1:n.y1,x2:n.x1+.25*i,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x1+.5*i,y2:n.y2}},this._contentAreaDimensions.top={hoverArea:{x1:n.x1+.25*i,y1:n.y1,x2:n.x1+.75*i,y2:n.y1+.5*r},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y1+.5*r}},this._contentAreaDimensions.right={hoverArea:{x1:n.x1+.75*i,y1:n.y1,x2:n.x2,y2:n.y2},highlightArea:{x1:n.x1+.5*i,y1:n.y1,x2:n.x2,y2:n.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:n.x1+.25*i,y1:n.y1+.5*r,x2:n.x1+.75*i,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1+.5*r,x2:n.x2,y2:n.y2}},t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,n,i,r,o,g,s,a,A=this.header.tabs.length,C=!1;if(0===A)return s=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:s.left,x2:s.left+100,y1:s.top+this.header.element.height()-20,y2:s.top+this.header.element.height()});for(e=0;e<A;e++)if(o=(n=this.header.tabs[e].element).offset(),this._sided?(r=o.top,i=o.left,a=n.height()):(r=o.left,i=o.top,a=n.width()),t>r&&t<r+a){C=!0;break}if(!(!1===C&&t<r)){if(t<r+a/2?(this._dropIndex=e,n.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,A),n.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:i,x2:i+n.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});g=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:g,x2:g+this.layoutManager.tabDropPlaceholder.width(),y1:i,y2:i+n.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=["right","left","bottom"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=["right","left"].indexOf(this._side)>=0,this.element.removeClass("lm_left lm_right lm_bottom"),this._side&&this.element.addClass("lm_"+this._side),this.element.find(".lm_header").length&&this.childElementContainer){var e=["right","bottom"].indexOf(this._side)>=0?"before":"after";this.header.element[e](this.childElementContainer),this.callDownwards("setSize")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t}}),g.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},g.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},g.utils.ConfigMinifier=function(){if(this._keys=["settings","hasHeaders","constrainDragToContainer","selectionEnabled","dimensions","borderWidth","minItemHeight","minItemWidth","headerHeight","dragProxyWidth","dragProxyHeight","labels","close","maximise","minimise","popout","content","componentName","componentState","id","width","type","height","isClosable","title","popoutWholeStack","openPopouts","parentId","activeItemIndex","reorderEnabled","borderGrabWidth"],this._keys.length>36)throw new Error("Too many keys in config minifier map");this._values=[!0,!1,"row","column","stack","component","close","maximise","minimise","open in new window"]},g.utils.copy(g.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,"_min"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,"_max"),e},_nextLevel:function(t,e,n){var i,r;for(i in t)t instanceof Array&&(i=parseInt(i,10)),t.hasOwnProperty(i)&&(r=this[n](i,this._keys),"object"==typeof t[i]?(e[r]=t[i]instanceof Array?[]:{},this._nextLevel(t[i],e[r],n)):e[r]=this[n](t[i],this._values))},_min:function(t,e){if("string"==typeof t&&1===t.length)return"___"+t;var n=g.utils.indexOf(t,e);return-1===n?t:n.toString(36)},_max:function(t,e){return"string"==typeof t&&1===t.length?e[parseInt(t,36)]:"string"==typeof t&&"___"===t.substr(0,3)?t[3]:t}}),g.utils.EventHub=function(t){g.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(g.utils.EventEmitter.ALL_EVENT,g.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=g.utils.fnBind(this._onEventFromChild,this),o(window).on("gl_child_event",this._boundOnEventFromChild)},g.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},g.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},g.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},g.utils.EventHub.prototype._propagateToParent=function(t){var e,n="gl_child_event";document.createEvent?(e=window.opener.document.createEvent("HTMLEvents")).initEvent(n,!0,!0):(e=window.opener.document.createEventObject()).eventType=n,e.eventName=n,e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent("on"+e.eventType,e)},g.utils.EventHub.prototype._propagateToChildren=function(t){var e,n;for(n=0;n<this._layoutManager.openPopouts.length;n++)(e=this._layoutManager.openPopouts[n].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},g.utils.EventHub.prototype.destroy=function(){o(window).off("gl_child_event",this._boundOnEventFromChild)},g.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on("open",this._render,this),this._container.on("destroy",this._destroy,this)},g.utils.copy(g.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off("open",this._render,this),this._container.off("destroy",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error("No react component name. type: react-component needs a field `component`");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component "'+e+'" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},e=o.extend(t,this._container._config.props);return React.createElement(this._reactClass,e)}})},8483:function(t,e){var n;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(i,r){"use strict";var o=[],g=Object.getPrototypeOf,s=o.slice,a=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},A=o.push,C=o.indexOf,I={},c=I.toString,l=I.hasOwnProperty,u=l.toString,h=u.call(Object),d={},p=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},f=function(t){return null!=t&&t===t.window},m=i.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function y(t,e,n){var i,r,o=(n=n||m).createElement("script");if(o.text=t,e)for(i in v)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function b(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?I[c.call(t)]||"object":typeof t}var _="3.5.1",w=function(t,e){return new w.fn.init(t,e)};function x(t){var e=!!t&&"length"in t&&t.length,n=b(t);return!p(t)&&!f(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}w.fn=w.prototype={jquery:_,constructor:w,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:A,sort:o.sort,splice:o.splice},w.extend=w.fn.extend=function(){var t,e,n,i,r,o,g=arguments[0]||{},s=1,a=arguments.length,A=!1;for("boolean"==typeof g&&(A=g,g=arguments[s]||{},s++),"object"==typeof g||p(g)||(g={}),s===a&&(g=this,s--);s<a;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&g!==i&&(A&&i&&(w.isPlainObject(i)||(r=Array.isArray(i)))?(n=g[e],o=r&&!Array.isArray(n)?[]:r||w.isPlainObject(n)?n:{},r=!1,g[e]=w.extend(A,o,i)):void 0!==i&&(g[e]=i));return g},w.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==c.call(t)||(e=g(t))&&("function"!=typeof(n=l.call(e,"constructor")&&e.constructor)||u.call(n)!==h))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){y(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(x(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(x(Object(t))?w.merge(n,"string"==typeof t?[t]:t):A.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:C.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,g=!n;r<o;r++)!e(t[r],r)!==g&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,g=[];if(x(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&g.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&g.push(r);return a(g)},guid:1,support:d}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=o[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){I["[object "+e+"]"]=e.toLowerCase()}));var S=function(t){var e,n,i,r,o,g,s,a,A,C,I,c,l,u,h,d,p,f,m,v="sizzle"+1*new Date,y=t.document,b=0,_=0,w=at(),x=at(),S=at(),E=at(),M=function(t,e){return t===e&&(I=!0),0},T={}.hasOwnProperty,R=[],O=R.pop,L=R.push,P=R.push,N=R.slice,D=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},k="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\[[\\x20\\t\\r\\n\\f]*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+j+"*\\]",z=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",U=new RegExp(j+"+","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),G=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),W=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),V=new RegExp(j+"|>"),Z=new RegExp(z),Y=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+k+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},J=/HTML$/i,q=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){c()},gt=vt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{P.apply(R=N.call(y.childNodes),y.childNodes),R[y.childNodes.length].nodeType}catch(t){P={apply:R.length?function(t,e){L.apply(t,N.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function st(t,e,i,r){var o,s,A,C,I,u,p,f=e&&e.ownerDocument,y=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==y&&9!==y&&11!==y)return i;if(!r&&(c(e),e=e||l,h)){if(11!==y&&(I=$.exec(t)))if(o=I[1]){if(9===y){if(!(A=e.getElementById(o)))return i;if(A.id===o)return i.push(A),i}else if(f&&(A=f.getElementById(o))&&m(e,A)&&A.id===o)return i.push(A),i}else{if(I[2])return P.apply(i,e.getElementsByTagName(t)),i;if((o=I[3])&&n.getElementsByClassName&&e.getElementsByClassName)return P.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!E[t+" "]&&(!d||!d.test(t))&&(1!==y||"object"!==e.nodeName.toLowerCase())){if(p=t,f=e,1===y&&(V.test(t)||W.test(t))){for((f=tt.test(t)&&pt(e.parentNode)||e)===e&&n.scope||((C=e.getAttribute("id"))?C=C.replace(it,rt):e.setAttribute("id",C=v)),s=(u=g(t)).length;s--;)u[s]=(C?"#"+C:":scope")+" "+mt(u[s]);p=u.join(",")}try{return P.apply(i,f.querySelectorAll(p)),i}catch(e){E(t,!0)}finally{C===v&&e.removeAttribute("id")}}}return a(t.replace(H,"$1"),e,i,r)}function at(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function At(t){return t[v]=!0,t}function Ct(t){var e=l.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function It(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function lt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ut(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function ht(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&gt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function dt(t){return At((function(e){return e=+e,At((function(n,i){for(var r,o=t([],n.length,e),g=o.length;g--;)n[r=o[g]]&&(n[r]=!(i[r]=n[r]))}))}))}function pt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},o=st.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!J.test(e||n&&n.nodeName||"HTML")},c=st.setDocument=function(t){var e,r,g=t?t.ownerDocument||t:y;return g!=l&&9===g.nodeType&&g.documentElement?(u=(l=g).documentElement,h=!o(l),y!=l&&(r=l.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),n.scope=Ct((function(t){return u.appendChild(t).appendChild(l.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=Ct((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=Ct((function(t){return t.appendChild(l.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(l.getElementsByClassName),n.getById=Ct((function(t){return u.appendChild(t).id=v,!l.getElementsByName||!l.getElementsByName(v).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&h)return e.getElementsByClassName(t)},p=[],d=[],(n.qsa=Q.test(l.querySelectorAll))&&(Ct((function(t){var e;u.appendChild(t).innerHTML="<a id='"+v+"'></a><select id='"+v+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&d.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||d.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+k+")"),t.querySelectorAll("[id~="+v+"-]").length||d.push("~="),(e=l.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||d.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||d.push(":checked"),t.querySelectorAll("a#"+v+"+*").length||d.push(".#.+[+~]"),t.querySelectorAll("\\\f"),d.push("[\\r\\n\\f]")})),Ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=l.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&d.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&d.push(":enabled",":disabled"),u.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),d.push(",.*:")}))),(n.matchesSelector=Q.test(f=u.matches||u.webkitMatchesSelector||u.mozMatchesSelector||u.oMatchesSelector||u.msMatchesSelector))&&Ct((function(t){n.disconnectedMatch=f.call(t,"*"),f.call(t,"[s!='']:x"),p.push("!=",z)})),d=d.length&&new RegExp(d.join("|")),p=p.length&&new RegExp(p.join("|")),e=Q.test(u.compareDocumentPosition),m=e||Q.test(u.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},M=e?function(t,e){if(t===e)return I=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==l||t.ownerDocument==y&&m(y,t)?-1:e==l||e.ownerDocument==y&&m(y,e)?1:C?D(C,t)-D(C,e):0:4&i?-1:1)}:function(t,e){if(t===e)return I=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,g=[t],s=[e];if(!r||!o)return t==l?-1:e==l?1:r?-1:o?1:C?D(C,t)-D(C,e):0;if(r===o)return ct(t,e);for(n=t;n=n.parentNode;)g.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;g[i]===s[i];)i++;return i?ct(g[i],s[i]):g[i]==y?-1:s[i]==y?1:0},l):l},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(c(t),n.matchesSelector&&h&&!E[e+" "]&&(!p||!p.test(e))&&(!d||!d.test(e)))try{var i=f.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){E(e,!0)}return st(e,l,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=l&&c(t),m(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=l&&c(t);var r=i.attrHandle[e.toLowerCase()],o=r&&T.call(i.attrHandle,e.toLowerCase())?r(t,e,!h):void 0;return void 0!==o?o:n.attributes||!h?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},st.escape=function(t){return(t+"").replace(it,rt)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,i=[],r=0,o=0;if(I=!n.detectDuplicates,C=!n.sortStable&&t.slice(0),t.sort(M),I){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return C=null,t},r=st.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},i=st.selectors={cacheLength:50,createPseudo:At,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Z.test(n)&&(e=g(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=w[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+j+"|$)"))&&w(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=st.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(U," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),g="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,a){var A,C,I,c,l,u,h=o!==g?"nextSibling":"previousSibling",d=e.parentNode,p=s&&e.nodeName.toLowerCase(),f=!a&&!s,m=!1;if(d){if(o){for(;h;){for(c=e;c=c[h];)if(s?c.nodeName.toLowerCase()===p:1===c.nodeType)return!1;u=h="only"===t&&!u&&"nextSibling"}return!0}if(u=[g?d.firstChild:d.lastChild],g&&f){for(m=(l=(A=(C=(I=(c=d)[v]||(c[v]={}))[c.uniqueID]||(I[c.uniqueID]={}))[t]||[])[0]===b&&A[1])&&A[2],c=l&&d.childNodes[l];c=++l&&c&&c[h]||(m=l=0)||u.pop();)if(1===c.nodeType&&++m&&c===e){C[t]=[b,l,m];break}}else if(f&&(m=l=(A=(C=(I=(c=e)[v]||(c[v]={}))[c.uniqueID]||(I[c.uniqueID]={}))[t]||[])[0]===b&&A[1]),!1===m)for(;(c=++l&&c&&c[h]||(m=l=0)||u.pop())&&((s?c.nodeName.toLowerCase()!==p:1!==c.nodeType)||!++m||(f&&((C=(I=c[v]||(c[v]={}))[c.uniqueID]||(I[c.uniqueID]={}))[t]=[b,m]),c!==e)););return(m-=r)===i||m%i==0&&m/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return r[v]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?At((function(t,n){for(var i,o=r(t,e),g=o.length;g--;)t[i=D(t,o[g])]=!(n[i]=o[g])})):function(t){return r(t,0,n)}):r}},pseudos:{not:At((function(t){var e=[],n=[],i=s(t.replace(H,"$1"));return i[v]?At((function(t,e,n,r){for(var o,g=i(t,null,r,[]),s=t.length;s--;)(o=g[s])&&(t[s]=!(e[s]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:At((function(t){return function(e){return st(t,e).length>0}})),contains:At((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:At((function(t){return Y.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=h?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===u},focus:function(t){return t===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ht(!1),disabled:ht(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt((function(){return[0]})),last:dt((function(t,e){return[e-1]})),eq:dt((function(t,e,n){return[n<0?n+e:n]})),even:dt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:dt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:dt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:dt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=lt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ut(e);function ft(){}function mt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function vt(t,e,n){var i=e.dir,r=e.next,o=r||i,g=n&&"parentNode"===o,s=_++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||g)return t(e,n,r);return!1}:function(e,n,a){var A,C,I,c=[b,s];if(a){for(;e=e[i];)if((1===e.nodeType||g)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||g)if(C=(I=e[v]||(e[v]={}))[e.uniqueID]||(I[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((A=C[o])&&A[0]===b&&A[1]===s)return c[2]=A[2];if(C[o]=c,c[2]=t(e,n,a))return!0}return!1}}function yt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function bt(t,e,n,i,r){for(var o,g=[],s=0,a=t.length,A=null!=e;s<a;s++)(o=t[s])&&(n&&!n(o,i,r)||(g.push(o),A&&e.push(s)));return g}function _t(t,e,n,i,r,o){return i&&!i[v]&&(i=_t(i)),r&&!r[v]&&(r=_t(r,o)),At((function(o,g,s,a){var A,C,I,c=[],l=[],u=g.length,h=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)st(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),d=!t||!o&&e?h:bt(h,c,t,s,a),p=n?r||(o?t:u||i)?[]:g:d;if(n&&n(d,p,s,a),i)for(A=bt(p,l),i(A,[],s,a),C=A.length;C--;)(I=A[C])&&(p[l[C]]=!(d[l[C]]=I));if(o){if(r||t){if(r){for(A=[],C=p.length;C--;)(I=p[C])&&A.push(d[C]=I);r(null,p=[],A,a)}for(C=p.length;C--;)(I=p[C])&&(A=r?D(o,I):c[C])>-1&&(o[A]=!(g[A]=I))}}else p=bt(p===g?p.splice(u,p.length):p),r?r(null,g,p,a):P.apply(g,p)}))}function wt(t){for(var e,n,r,o=t.length,g=i.relative[t[0].type],s=g||i.relative[" "],a=g?1:0,C=vt((function(t){return t===e}),s,!0),I=vt((function(t){return D(e,t)>-1}),s,!0),c=[function(t,n,i){var r=!g&&(i||n!==A)||((e=n).nodeType?C(t,n,i):I(t,n,i));return e=null,r}];a<o;a++)if(n=i.relative[t[a].type])c=[vt(yt(c),n)];else{if((n=i.filter[t[a].type].apply(null,t[a].matches))[v]){for(r=++a;r<o&&!i.relative[t[r].type];r++);return _t(a>1&&yt(c),a>1&&mt(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(H,"$1"),n,a<r&&wt(t.slice(a,r)),r<o&&wt(t=t.slice(r)),r<o&&mt(t))}c.push(n)}return yt(c)}return ft.prototype=i.filters=i.pseudos,i.setFilters=new ft,g=st.tokenize=function(t,e){var n,r,o,g,s,a,A,C=x[t+" "];if(C)return e?0:C.slice(0);for(s=t,a=[],A=i.preFilter;s;){for(g in n&&!(r=G.exec(s))||(r&&(s=s.slice(r[0].length)||s),a.push(o=[])),n=!1,(r=W.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(H," ")}),s=s.slice(n.length)),i.filter)!(r=X[g].exec(s))||A[g]&&!(r=A[g](r))||(n=r.shift(),o.push({value:n,type:g,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):x(t,a).slice(0)},s=st.compile=function(t,e){var n,r=[],o=[],s=S[t+" "];if(!s){for(e||(e=g(t)),n=e.length;n--;)(s=wt(e[n]))[v]?r.push(s):o.push(s);s=S(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,g,s,a,C){var I,u,d,p=0,f="0",m=o&&[],v=[],y=A,_=o||r&&i.find.TAG("*",C),w=b+=null==y?1:Math.random()||.1,x=_.length;for(C&&(A=g==l||g||C);f!==x&&null!=(I=_[f]);f++){if(r&&I){for(u=0,g||I.ownerDocument==l||(c(I),s=!h);d=t[u++];)if(d(I,g||l,s)){a.push(I);break}C&&(b=w)}n&&((I=!d&&I)&&p--,o&&m.push(I))}if(p+=f,n&&f!==p){for(u=0;d=e[u++];)d(m,v,g,s);if(o){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=O.call(a));v=bt(v)}P.apply(a,v),C&&!o&&v.length>0&&p+e.length>1&&st.uniqueSort(a)}return C&&(b=w,A=y),m};return n?At(o):o}(o,r)),s.selector=t}return s},a=st.select=function(t,e,n,r){var o,a,A,C,I,c="function"==typeof t&&t,l=!r&&g(t=c.selector||t);if(n=n||[],1===l.length){if((a=l[0]=l[0].slice(0)).length>2&&"ID"===(A=a[0]).type&&9===e.nodeType&&h&&i.relative[a[1].type]){if(!(e=(i.find.ID(A.matches[0].replace(et,nt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(o=X.needsContext.test(t)?0:a.length;o--&&(A=a[o],!i.relative[C=A.type]);)if((I=i.find[C])&&(r=I(A.matches[0].replace(et,nt),tt.test(a[0].type)&&pt(e.parentNode)||e))){if(a.splice(o,1),!(t=r.length&&mt(a)))return P.apply(n,r),n;break}}return(c||s(t,l))(r,e,!h,n,!e||tt.test(t)&&pt(e.parentNode)||e),n},n.sortStable=v.split("").sort(M).join("")===v,n.detectDuplicates=!!I,c(),n.sortDetached=Ct((function(t){return 1&t.compareDocumentPosition(l.createElement("fieldset"))})),Ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||It("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&Ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||It("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),Ct((function(t){return null==t.getAttribute("disabled")}))||It(k,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),st}(i);w.find=S,w.expr=S.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=S.uniqueSort,w.text=S.getText,w.isXMLDoc=S.isXML,w.contains=S.contains,w.escapeSelector=S.escape;var E=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&w(t).is(n))break;i.push(t)}return i},M=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},T=w.expr.match.needsContext;function R(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(t,e,n){return p(e)?w.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?w.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?w.grep(t,(function(t){return C.call(e,t)>-1!==n})):w.filter(e,t,n)}w.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?w.find.matchesSelector(i,t)?[i]:[]:w.find.matches(t,w.grep(e,(function(t){return 1===t.nodeType})))},w.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(w(t).filter((function(){for(e=0;e<i;e++)if(w.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)w.find(t,r[e],n);return i>1?w.uniqueSort(n):n},filter:function(t){return this.pushStack(L(this,t||[],!1))},not:function(t){return this.pushStack(L(this,t||[],!0))},is:function(t){return!!L(this,"string"==typeof t&&T.test(t)?w(t):t||[],!1).length}});var P,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||P,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:N.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof w?e[0]:e,w.merge(this,w.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:m,!0)),O.test(i[1])&&w.isPlainObject(e))for(i in e)p(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=m.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):p(t)?void 0!==n.ready?n.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,P=w(m);var D=/^(?:parents|prev(?:Until|All))/,k={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(w.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,o=[],g="string"!=typeof t&&w(t);if(!T.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(g?g.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?C.call(w(t),this[0]):C.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E(t,"parentNode")},parentsUntil:function(t,e,n){return E(t,"parentNode",n)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return E(t,"nextSibling")},prevAll:function(t){return E(t,"previousSibling")},nextUntil:function(t,e,n){return E(t,"nextSibling",n)},prevUntil:function(t,e,n){return E(t,"previousSibling",n)},siblings:function(t){return M((t.parentNode||{}).firstChild,t)},children:function(t){return M(t.firstChild)},contents:function(t){return null!=t.contentDocument&&g(t.contentDocument)?t.contentDocument:(R(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},(function(t,e){w.fn[t]=function(n,i){var r=w.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=w.filter(i,r)),this.length>1&&(k[t]||w.uniqueSort(r),D.test(t)&&r.reverse()),this.pushStack(r)}}));var F=/[^\x20\t\r\n\f]+/g;function B(t){return t}function z(t){throw t}function U(t,e,n,i){var r;try{t&&p(r=t.promise)?r.call(t).done(e).fail(n):t&&p(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}w.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return w.each(t.match(F)||[],(function(t,n){e[n]=!0})),e}(t):w.extend({},t);var e,n,i,r,o=[],g=[],s=-1,a=function(){for(r=r||t.once,i=e=!0;g.length;s=-1)for(n=g.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},A={add:function(){return o&&(n&&!e&&(s=o.length-1,g.push(n)),function e(n){w.each(n,(function(n,i){p(i)?t.unique&&A.has(i)||o.push(i):i&&i.length&&"string"!==b(i)&&e(i)}))}(arguments),n&&!e&&a()),this},remove:function(){return w.each(arguments,(function(t,e){for(var n;(n=w.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(t){return t?w.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=g=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=g=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],g.push(n),e||a()),this},fire:function(){return A.fireWith(this,arguments),this},fired:function(){return!!i}};return A},w.extend({Deferred:function(t){var e=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return w.Deferred((function(n){w.each(e,(function(e,i){var r=p(t[i[4]])&&t[i[4]];o[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&p(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,r){var o=0;function g(t,e,n,r){return function(){var s=this,a=arguments,A=function(){var i,A;if(!(t<o)){if((i=n.apply(s,a))===e.promise())throw new TypeError("Thenable self-resolution");A=i&&("object"==typeof i||"function"==typeof i)&&i.then,p(A)?r?A.call(i,g(o,e,B,r),g(o,e,z,r)):(o++,A.call(i,g(o,e,B,r),g(o,e,z,r),g(o,e,B,e.notifyWith))):(n!==B&&(s=void 0,a=[i]),(r||e.resolveWith)(s,a))}},C=r?A:function(){try{A()}catch(i){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(i,C.stackTrace),t+1>=o&&(n!==z&&(s=void 0,a=[i]),e.rejectWith(s,a))}};t?C():(w.Deferred.getStackHook&&(C.stackTrace=w.Deferred.getStackHook()),i.setTimeout(C))}}return w.Deferred((function(i){e[0][3].add(g(0,i,p(r)?r:B,i.notifyWith)),e[1][3].add(g(0,i,p(t)?t:B)),e[2][3].add(g(0,i,p(n)?n:z))})).promise()},promise:function(t){return null!=t?w.extend(t,r):r}},o={};return w.each(e,(function(t,i){var g=i[2],s=i[5];r[i[1]]=g.add,s&&g.add((function(){n=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),g.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=g.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=s.call(arguments),o=w.Deferred(),g=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?s.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(U(t,o.done(g(n)).resolve,o.reject,!e),"pending"===o.state()||p(r[n]&&r[n].then)))return o.then();for(;n--;)U(r[n],g(n),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&H.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},w.readyException=function(t){i.setTimeout((function(){throw t}))};var G=w.Deferred();function W(){m.removeEventListener("DOMContentLoaded",W),i.removeEventListener("load",W),w.ready()}w.fn.ready=function(t){return G.then(t).catch((function(t){w.readyException(t)})),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==t&&--w.readyWait>0||G.resolveWith(m,[w]))}}),w.ready.then=G.then,"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?i.setTimeout(w.ready):(m.addEventListener("DOMContentLoaded",W),i.addEventListener("load",W));var V=function(t,e,n,i,r,o,g){var s=0,a=t.length,A=null==n;if("object"===b(n))for(s in r=!0,n)V(t,e,s,n[s],!0,o,g);else if(void 0!==i&&(r=!0,p(i)||(g=!0),A&&(g?(e.call(t,i),e=null):(A=e,e=function(t,e,n){return A.call(w(t),n)})),e))for(;s<a;s++)e(t[s],n,g?i:i.call(t[s],s,e(t[s],n)));return r?t:A?e.call(t):a?e(t[0],n):o},Z=/^-ms-/,Y=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function J(t){return t.replace(Z,"ms-").replace(Y,X)}var q=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=w.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},q(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[J(e)]=n;else for(i in e)r[J(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][J(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(J):(e=J(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||w.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var Q=new K,$=new K,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}$.set(t,e,n)}else n=void 0;return n}w.extend({hasData:function(t){return $.hasData(t)||Q.hasData(t)},data:function(t,e,n){return $.access(t,e,n)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,n){return Q.access(t,e,n)},_removeData:function(t,e){Q.remove(t,e)}}),w.fn.extend({data:function(t,e){var n,i,r,o=this[0],g=o&&o.attributes;if(void 0===t){if(this.length&&(r=$.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(n=g.length;n--;)g[n]&&0===(i=g[n].name).indexOf("data-")&&(i=J(i.slice(5)),nt(o,i,r[i]));Q.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){$.set(this,t)})):V(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=$.get(o,t))||void 0!==(n=nt(o,t))?n:void 0;this.each((function(){$.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){$.remove(this,t)}))}}),w.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Q.get(t,e),n&&(!i||Array.isArray(n)?i=Q.access(t,e,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=w.queue(t,e),i=n.length,r=n.shift(),o=w._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,(function(){w.dequeue(t,e)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Q.get(t,n)||Q.access(t,n,{empty:w.Callbacks("once memory").add((function(){Q.remove(t,[e+"queue",n])}))})}}),w.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?w.queue(this[0],t):void 0===e?this:this.each((function(){var n=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&w.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){w.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=w.Deferred(),o=this,g=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";g--;)(n=Q.get(o[g],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],gt=m.documentElement,st=function(t){return w.contains(t.ownerDocument,t)},at={composed:!0};gt.getRootNode&&(st=function(t){return w.contains(t.ownerDocument,t)||t.getRootNode(at)===t.ownerDocument});var At=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===w.css(t,"display")};function Ct(t,e,n,i){var r,o,g=20,s=i?function(){return i.cur()}:function(){return w.css(t,e,"")},a=s(),A=n&&n[3]||(w.cssNumber[e]?"":"px"),C=t.nodeType&&(w.cssNumber[e]||"px"!==A&&+a)&&rt.exec(w.css(t,e));if(C&&C[3]!==A){for(a/=2,A=A||C[3],C=+a||1;g--;)w.style(t,e,C+A),(1-o)*(1-(o=s()/a||.5))<=0&&(g=0),C/=o;C*=2,w.style(t,e,C+A),n=n||[]}return n&&(C=+C||+a||0,r=n[1]?C+(n[1]+1)*n[2]:+n[2],i&&(i.unit=A,i.start=C,i.end=r)),r}var It={};function ct(t){var e,n=t.ownerDocument,i=t.nodeName,r=It[i];return r||(e=n.body.appendChild(n.createElement(i)),r=w.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),It[i]=r,r)}function lt(t,e){for(var n,i,r=[],o=0,g=t.length;o<g;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=Q.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&At(i)&&(r[o]=ct(i))):"none"!==n&&(r[o]="none",Q.set(i,"display",n)));for(o=0;o<g;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}w.fn.extend({show:function(){return lt(this,!0)},hide:function(){return lt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){At(this)?w(this).show():w(this).hide()}))}});var ut,ht,dt=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ft=/^$|^module$|\/(?:java|ecma)script/i;ut=m.createDocumentFragment().appendChild(m.createElement("div")),(ht=m.createElement("input")).setAttribute("type","radio"),ht.setAttribute("checked","checked"),ht.setAttribute("name","t"),ut.appendChild(ht),d.checkClone=ut.cloneNode(!0).cloneNode(!0).lastChild.checked,ut.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!ut.cloneNode(!0).lastChild.defaultValue,ut.innerHTML="<option></option>",d.option=!!ut.lastChild;var mt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function vt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&R(t,e)?w.merge([t],n):n}function yt(t,e){for(var n=0,i=t.length;n<i;n++)Q.set(t[n],"globalEval",!e||Q.get(e[n],"globalEval"))}mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td,d.option||(mt.optgroup=mt.option=[1,"<select multiple='multiple'>","</select>"]);var bt=/<|&#?\w+;/;function _t(t,e,n,i,r){for(var o,g,s,a,A,C,I=e.createDocumentFragment(),c=[],l=0,u=t.length;l<u;l++)if((o=t[l])||0===o)if("object"===b(o))w.merge(c,o.nodeType?[o]:o);else if(bt.test(o)){for(g=g||I.appendChild(e.createElement("div")),s=(pt.exec(o)||["",""])[1].toLowerCase(),a=mt[s]||mt._default,g.innerHTML=a[1]+w.htmlPrefilter(o)+a[2],C=a[0];C--;)g=g.lastChild;w.merge(c,g.childNodes),(g=I.firstChild).textContent=""}else c.push(e.createTextNode(o));for(I.textContent="",l=0;o=c[l++];)if(i&&w.inArray(o,i)>-1)r&&r.push(o);else if(A=st(o),g=vt(I.appendChild(o),"script"),A&&yt(g),n)for(C=0;o=g[C++];)ft.test(o.type||"")&&n.push(o);return I}var wt=/^key/,xt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,St=/^([^.]*)(?:\.(.+)|)/;function Et(){return!0}function Mt(){return!1}function Tt(t,e){return t===function(){try{return m.activeElement}catch(t){}}()==("focus"===e)}function Rt(t,e,n,i,r,o){var g,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)Rt(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Mt;else if(!r)return t;return 1===o&&(g=r,r=function(t){return w().off(t),g.apply(this,arguments)},r.guid=g.guid||(g.guid=w.guid++)),t.each((function(){w.event.add(this,e,r,i,n)}))}function Ot(t,e,n){n?(Q.set(t,e,!1),w.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=Q.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(w.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=s.call(arguments),Q.set(this,e,o),i=n(this,e),this[e](),o!==(r=Q.get(this,e))||i?Q.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(Q.set(this,e,{value:w.event.trigger(w.extend(o[0],w.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Q.get(t,e)&&w.event.add(t,e,Et)}w.event={global:{},add:function(t,e,n,i,r){var o,g,s,a,A,C,I,c,l,u,h,d=Q.get(t);if(q(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&w.find.matchesSelector(gt,r),n.guid||(n.guid=w.guid++),(a=d.events)||(a=d.events=Object.create(null)),(g=d.handle)||(g=d.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),A=(e=(e||"").match(F)||[""]).length;A--;)l=h=(s=St.exec(e[A])||[])[1],u=(s[2]||"").split(".").sort(),l&&(I=w.event.special[l]||{},l=(r?I.delegateType:I.bindType)||l,I=w.event.special[l]||{},C=w.extend({type:l,origType:h,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:u.join(".")},o),(c=a[l])||((c=a[l]=[]).delegateCount=0,I.setup&&!1!==I.setup.call(t,i,u,g)||t.addEventListener&&t.addEventListener(l,g)),I.add&&(I.add.call(t,C),C.handler.guid||(C.handler.guid=n.guid)),r?c.splice(c.delegateCount++,0,C):c.push(C),w.event.global[l]=!0)},remove:function(t,e,n,i,r){var o,g,s,a,A,C,I,c,l,u,h,d=Q.hasData(t)&&Q.get(t);if(d&&(a=d.events)){for(A=(e=(e||"").match(F)||[""]).length;A--;)if(l=h=(s=St.exec(e[A])||[])[1],u=(s[2]||"").split(".").sort(),l){for(I=w.event.special[l]||{},c=a[l=(i?I.delegateType:I.bindType)||l]||[],s=s[2]&&new RegExp("(^|\\.)"+u.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=o=c.length;o--;)C=c[o],!r&&h!==C.origType||n&&n.guid!==C.guid||s&&!s.test(C.namespace)||i&&i!==C.selector&&("**"!==i||!C.selector)||(c.splice(o,1),C.selector&&c.delegateCount--,I.remove&&I.remove.call(t,C));g&&!c.length&&(I.teardown&&!1!==I.teardown.call(t,u,d.handle)||w.removeEvent(t,l,d.handle),delete a[l])}else for(l in a)w.event.remove(t,l+e[A],n,i,!0);w.isEmptyObject(a)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,g,s=new Array(arguments.length),a=w.event.fix(t),A=(Q.get(this,"events")||Object.create(null))[a.type]||[],C=w.event.special[a.type]||{};for(s[0]=a,e=1;e<arguments.length;e++)s[e]=arguments[e];if(a.delegateTarget=this,!C.preDispatch||!1!==C.preDispatch.call(this,a)){for(g=w.event.handlers.call(this,a,A),e=0;(r=g[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((w.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return C.postDispatch&&C.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,g,s=[],a=e.delegateCount,A=t.target;if(a&&A.nodeType&&!("click"===t.type&&t.button>=1))for(;A!==this;A=A.parentNode||this)if(1===A.nodeType&&("click"!==t.type||!0!==A.disabled)){for(o=[],g={},n=0;n<a;n++)void 0===g[r=(i=e[n]).selector+" "]&&(g[r]=i.needsContext?w(r,this).index(A)>-1:w.find(r,this,null,[A]).length),g[r]&&o.push(i);o.length&&s.push({elem:A,handlers:o})}return A=this,a<e.length&&s.push({elem:A,handlers:e.slice(a)}),s},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:p(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return dt.test(e.type)&&e.click&&R(e,"input")&&Ot(e,"click",Et),!1},trigger:function(t){var e=this||t;return dt.test(e.type)&&e.click&&R(e,"input")&&Ot(e,"click"),!0},_default:function(t){var e=t.target;return dt.test(e.type)&&e.click&&R(e,"input")&&Q.get(e,"click")||R(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Et:Mt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Mt,isPropagationStopped:Mt,isImmediatePropagationStopped:Mt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Et,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Et,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Et,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&wt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&xt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(t,e){w.event.special[t]={setup:function(){return Ot(this,t,Tt),!1},trigger:function(){return Ot(this,t),!0},delegateType:e}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||w.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),w.fn.extend({on:function(t,e,n,i){return Rt(this,t,e,n,i)},one:function(t,e,n,i){return Rt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,w(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Mt),this.each((function(){w.event.remove(this,t,n,e)}))}});var Lt=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Dt(t,e){return R(t,"table")&&R(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function kt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function jt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ft(t,e){var n,i,r,o,g,s;if(1===e.nodeType){if(Q.hasData(t)&&(s=Q.get(t).events))for(r in Q.remove(e,"handle events"),s)for(n=0,i=s[r].length;n<i;n++)w.event.add(e,r,s[r][n]);$.hasData(t)&&(o=$.access(t),g=w.extend({},o),$.set(e,g))}}function Bt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&dt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function zt(t,e,n,i){e=a(e);var r,o,g,s,A,C,I=0,c=t.length,l=c-1,u=e[0],h=p(u);if(h||c>1&&"string"==typeof u&&!d.checkClone&&Pt.test(u))return t.each((function(r){var o=t.eq(r);h&&(e[0]=u.call(this,r,o.html())),zt(o,e,n,i)}));if(c&&(o=(r=_t(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(g=w.map(vt(r,"script"),kt)).length;I<c;I++)A=r,I!==l&&(A=w.clone(A,!0,!0),s&&w.merge(g,vt(A,"script"))),n.call(t[I],A,I);if(s)for(C=g[g.length-1].ownerDocument,w.map(g,jt),I=0;I<s;I++)A=g[I],ft.test(A.type||"")&&!Q.access(A,"globalEval")&&w.contains(C,A)&&(A.src&&"module"!==(A.type||"").toLowerCase()?w._evalUrl&&!A.noModule&&w._evalUrl(A.src,{nonce:A.nonce||A.getAttribute("nonce")},C):y(A.textContent.replace(Nt,""),A,C))}return t}function Ut(t,e,n){for(var i,r=e?w.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||w.cleanData(vt(i)),i.parentNode&&(n&&st(i)&&yt(vt(i,"script")),i.parentNode.removeChild(i));return t}w.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,o,g,s=t.cloneNode(!0),a=st(t);if(!(d.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(g=vt(s),i=0,r=(o=vt(t)).length;i<r;i++)Bt(o[i],g[i]);if(e)if(n)for(o=o||vt(t),g=g||vt(s),i=0,r=o.length;i<r;i++)Ft(o[i],g[i]);else Ft(t,s);return(g=vt(s,"script")).length>0&&yt(g,!a&&vt(t,"script")),s},cleanData:function(t){for(var e,n,i,r=w.event.special,o=0;void 0!==(n=t[o]);o++)if(q(n)){if(e=n[Q.expando]){if(e.events)for(i in e.events)r[i]?w.event.remove(n,i):w.removeEvent(n,i,e.handle);n[Q.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Ut(this,t,!0)},remove:function(t){return Ut(this,t)},text:function(t){return V(this,(function(t){return void 0===t?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return zt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Dt(this,t).appendChild(t)}))},prepend:function(){return zt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Dt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return zt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return zt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(vt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return w.clone(this,t,e)}))},html:function(t){return V(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Lt.test(t)&&!mt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(w.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return zt(this,arguments,(function(e){var n=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(vt(this)),n&&n.replaceChild(e,this))}),t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){w.fn[t]=function(t){for(var n,i=[],r=w(t),o=r.length-1,g=0;g<=o;g++)n=g===o?this:this.clone(!0),w(r[g])[e](n),A.apply(i,n.get());return this.pushStack(i)}}));var Ht=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Gt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Wt=function(t,e,n){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=o[r];return i},Vt=new RegExp(ot.join("|"),"i");function Zt(t,e,n){var i,r,o,g,s=t.style;return(n=n||Gt(t))&&(""!==(g=n.getPropertyValue(e)||n[e])||st(t)||(g=w.style(t,e)),!d.pixelBoxStyles()&&Ht.test(g)&&Vt.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=g,g=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==g?g+"":g}function Yt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(C){A.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",C.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",gt.appendChild(A).appendChild(C);var t=i.getComputedStyle(C);n="1%"!==t.top,a=12===e(t.marginLeft),C.style.right="60%",g=36===e(t.right),r=36===e(t.width),C.style.position="absolute",o=12===e(C.offsetWidth/3),gt.removeChild(A),C=null}}function e(t){return Math.round(parseFloat(t))}var n,r,o,g,s,a,A=m.createElement("div"),C=m.createElement("div");C.style&&(C.style.backgroundClip="content-box",C.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===C.style.backgroundClip,w.extend(d,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),g},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),a},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,n,r;return null==s&&(t=m.createElement("table"),e=m.createElement("tr"),n=m.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",n.style.height="9px",gt.appendChild(t).appendChild(e).appendChild(n),r=i.getComputedStyle(e),s=parseInt(r.height)>3,gt.removeChild(t)),s}}))}();var Xt=["Webkit","Moz","ms"],Jt=m.createElement("div").style,qt={};function Kt(t){return w.cssProps[t]||qt[t]||(t in Jt?t:qt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Xt.length;n--;)if((t=Xt[n]+e)in Jt)return t}(t)||t)}var Qt=/^(none|table(?!-c[ea]).+)/,$t=/^--/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ne(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ie(t,e,n,i,r,o){var g="width"===e?1:0,s=0,a=0;if(n===(i?"border":"content"))return 0;for(;g<4;g+=2)"margin"===n&&(a+=w.css(t,n+ot[g],!0,r)),i?("content"===n&&(a-=w.css(t,"padding"+ot[g],!0,r)),"margin"!==n&&(a-=w.css(t,"border"+ot[g]+"Width",!0,r))):(a+=w.css(t,"padding"+ot[g],!0,r),"padding"!==n?a+=w.css(t,"border"+ot[g]+"Width",!0,r):s+=w.css(t,"border"+ot[g]+"Width",!0,r));return!i&&o>=0&&(a+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-a-s-.5))||0),a}function re(t,e,n){var i=Gt(t),r=(!d.boxSizingReliable()||n)&&"border-box"===w.css(t,"boxSizing",!1,i),o=r,g=Zt(t,e,i),s="offset"+e[0].toUpperCase()+e.slice(1);if(Ht.test(g)){if(!n)return g;g="auto"}return(!d.boxSizingReliable()&&r||!d.reliableTrDimensions()&&R(t,"tr")||"auto"===g||!parseFloat(g)&&"inline"===w.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===w.css(t,"boxSizing",!1,i),(o=s in t)&&(g=t[s])),(g=parseFloat(g)||0)+ie(t,e,n||(r?"border":"content"),o,i,g)+"px"}function oe(t,e,n,i,r){return new oe.prototype.init(t,e,n,i,r)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Zt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,g,s=J(e),a=$t.test(e),A=t.style;if(a||(e=Kt(s)),g=w.cssHooks[e]||w.cssHooks[s],void 0===n)return g&&"get"in g&&void 0!==(r=g.get(t,!1,i))?r:A[e];"string"==(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=Ct(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||a||(n+=r&&r[3]||(w.cssNumber[s]?"":"px")),d.clearCloneStyle||""!==n||0!==e.indexOf("background")||(A[e]="inherit"),g&&"set"in g&&void 0===(n=g.set(t,n,i))||(a?A.setProperty(e,n):A[e]=n))}},css:function(t,e,n,i){var r,o,g,s=J(e);return $t.test(e)||(e=Kt(s)),(g=w.cssHooks[e]||w.cssHooks[s])&&"get"in g&&(r=g.get(t,!0,n)),void 0===r&&(r=Zt(t,e,i)),"normal"===r&&e in ee&&(r=ee[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),w.each(["height","width"],(function(t,e){w.cssHooks[e]={get:function(t,n,i){if(n)return!Qt.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?re(t,e,i):Wt(t,te,(function(){return re(t,e,i)}))},set:function(t,n,i){var r,o=Gt(t),g=!d.scrollboxSize()&&"absolute"===o.position,s=(g||i)&&"border-box"===w.css(t,"boxSizing",!1,o),a=i?ie(t,e,i,s,o):0;return s&&g&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ie(t,e,"border",!1,o)-.5)),a&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=w.css(t,e)),ne(0,n,a)}}})),w.cssHooks.marginLeft=Yt(d.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Zt(t,"marginLeft"))||t.getBoundingClientRect().left-Wt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(t,e){w.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(w.cssHooks[t+e].set=ne)})),w.fn.extend({css:function(t,e){return V(this,(function(t,e,n){var i,r,o={},g=0;if(Array.isArray(e)){for(i=Gt(t),r=e.length;g<r;g++)o[e[g]]=w.css(t,e[g],!1,i);return o}return void 0!==n?w.style(t,e,n):w.css(t,e)}),t,e,arguments.length>1)}}),w.Tween=oe,oe.prototype={constructor:oe,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var t=oe.propHooks[this.prop];return t&&t.get?t.get(this):oe.propHooks._default.get(this)},run:function(t){var e,n=oe.propHooks[this.prop];return this.options.duration?this.pos=e=w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):oe.propHooks._default.set(this),this}},oe.prototype.init.prototype=oe.prototype,oe.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||!w.cssHooks[t.prop]&&null==t.elem.style[Kt(t.prop)]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}},oe.propHooks.scrollTop=oe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=oe.prototype.init,w.fx.step={};var ge,se,ae=/^(?:toggle|show|hide)$/,Ae=/queueHooks$/;function Ce(){se&&(!1===m.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(Ce):i.setTimeout(Ce,w.fx.interval),w.fx.tick())}function Ie(){return i.setTimeout((function(){ge=void 0})),ge=Date.now()}function ce(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function le(t,e,n){for(var i,r=(ue.tweeners[e]||[]).concat(ue.tweeners["*"]),o=0,g=r.length;o<g;o++)if(i=r[o].call(n,e,t))return i}function ue(t,e,n){var i,r,o=0,g=ue.prefilters.length,s=w.Deferred().always((function(){delete a.elem})),a=function(){if(r)return!1;for(var e=ge||Ie(),n=Math.max(0,A.startTime+A.duration-e),i=1-(n/A.duration||0),o=0,g=A.tweens.length;o<g;o++)A.tweens[o].run(i);return s.notifyWith(t,[A,i,n]),i<1&&g?n:(g||s.notifyWith(t,[A,1,0]),s.resolveWith(t,[A]),!1)},A=s.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:e,originalOptions:n,startTime:ge||Ie(),duration:n.duration,tweens:[],createTween:function(e,n){var i=w.Tween(t,A.opts,e,n,A.opts.specialEasing[e]||A.opts.easing);return A.tweens.push(i),i},stop:function(e){var n=0,i=e?A.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)A.tweens[n].run(1);return e?(s.notifyWith(t,[A,1,0]),s.resolveWith(t,[A,e])):s.rejectWith(t,[A,e]),this}}),C=A.props;for(function(t,e){var n,i,r,o,g;for(n in t)if(r=e[i=J(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(g=w.cssHooks[i])&&"expand"in g)for(n in o=g.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(C,A.opts.specialEasing);o<g;o++)if(i=ue.prefilters[o].call(A,t,C,A.opts))return p(i.stop)&&(w._queueHooks(A.elem,A.opts.queue).stop=i.stop.bind(i)),i;return w.map(C,le,A),p(A.opts.start)&&A.opts.start.call(t,A),A.progress(A.opts.progress).done(A.opts.done,A.opts.complete).fail(A.opts.fail).always(A.opts.always),w.fx.timer(w.extend(a,{elem:t,anim:A,queue:A.opts.queue})),A}w.Animation=w.extend(ue,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return Ct(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){p(t)?(e=t,t=["*"]):t=t.match(F);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ue.tweeners[n]=ue.tweeners[n]||[],ue.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,g,s,a,A,C,I="width"in e||"height"in e,c=this,l={},u=t.style,h=t.nodeType&&At(t),d=Q.get(t,"fxshow");for(i in n.queue||(null==(g=w._queueHooks(t,"fx")).unqueued&&(g.unqueued=0,s=g.empty.fire,g.empty.fire=function(){g.unqueued||s()}),g.unqueued++,c.always((function(){c.always((function(){g.unqueued--,w.queue(t,"fx").length||g.empty.fire()}))}))),e)if(r=e[i],ae.test(r)){if(delete e[i],o=o||"toggle"===r,r===(h?"hide":"show")){if("show"!==r||!d||void 0===d[i])continue;h=!0}l[i]=d&&d[i]||w.style(t,i)}if((a=!w.isEmptyObject(e))||!w.isEmptyObject(l))for(i in I&&1===t.nodeType&&(n.overflow=[u.overflow,u.overflowX,u.overflowY],null==(A=d&&d.display)&&(A=Q.get(t,"display")),"none"===(C=w.css(t,"display"))&&(A?C=A:(lt([t],!0),A=t.style.display||A,C=w.css(t,"display"),lt([t]))),("inline"===C||"inline-block"===C&&null!=A)&&"none"===w.css(t,"float")&&(a||(c.done((function(){u.display=A})),null==A&&(C=u.display,A="none"===C?"":C)),u.display="inline-block")),n.overflow&&(u.overflow="hidden",c.always((function(){u.overflow=n.overflow[0],u.overflowX=n.overflow[1],u.overflowY=n.overflow[2]}))),a=!1,l)a||(d?"hidden"in d&&(h=d.hidden):d=Q.access(t,"fxshow",{display:A}),o&&(d.hidden=!h),h&&lt([t],!0),c.done((function(){for(i in h||lt([t]),Q.remove(t,"fxshow"),l)w.style(t,i,l[i])}))),a=le(h?d[i]:0,i,c),i in d||(d[i]=a.start,h&&(a.end=a.start,a.start=0))}],prefilter:function(t,e){e?ue.prefilters.unshift(t):ue.prefilters.push(t)}}),w.speed=function(t,e,n){var i=t&&"object"==typeof t?w.extend({},t):{complete:n||!n&&e||p(t)&&t,duration:t,easing:n&&e||e&&!p(e)&&e};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in w.fx.speeds?i.duration=w.fx.speeds[i.duration]:i.duration=w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){p(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(t,e,n,i){return this.filter(At).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=w.isEmptyObject(t),o=w.speed(e,n,i),g=function(){var e=ue(this,w.extend({},t),o);(r||Q.get(this,"finish"))&&e.stop(!0)};return g.finish=g,r||!1===o.queue?this.each(g):this.queue(o.queue,g)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=w.timers,g=Q.get(this);if(r)g[r]&&g[r].stop&&i(g[r]);else for(r in g)g[r]&&g[r].stop&&Ae.test(r)&&i(g[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||w.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Q.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=w.timers,g=i?i.length:0;for(n.finish=!0,w.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<g;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),w.each(["toggle","show","hide"],(function(t,e){var n=w.fn[e];w.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ce(e,!0),t,i,r)}})),w.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){w.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),w.timers=[],w.fx.tick=function(){var t,e=0,n=w.timers;for(ge=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||w.fx.stop(),ge=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){se||(se=!0,Ce())},w.fx.stop=function(){se=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,e){return t=w.fx&&w.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}}))},function(){var t=m.createElement("input"),e=m.createElement("select").appendChild(m.createElement("option"));t.type="checkbox",d.checkOn=""!==t.value,d.optSelected=e.selected,(t=m.createElement("input")).value="t",t.type="radio",d.radioValue="t"===t.value}();var he,de=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return V(this,w.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){w.removeAttr(this,t)}))}}),w.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?w.prop(t,e,n):(1===o&&w.isXMLDoc(t)||(r=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?he:void 0)),void 0!==n?null===n?void w.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=w.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!d.radioValue&&"radio"===e&&R(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(F);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),he={set:function(t,e,n){return!1===e?w.removeAttr(t,n):t.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=de[e]||w.find.attr;de[e]=function(t,e,i){var r,o,g=e.toLowerCase();return i||(o=de[g],de[g]=r,r=null!=n(t,e,i)?g:null,de[g]=o),r}}));var pe=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;function me(t){return(t.match(F)||[]).join(" ")}function ve(t){return t.getAttribute&&t.getAttribute("class")||""}function ye(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}w.fn.extend({prop:function(t,e){return V(this,w.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[w.propFix[t]||t]}))}}),w.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(t)||(e=w.propFix[e]||e,r=w.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(w.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(t){var e,n,i,r,o,g,s,a=0;if(p(t))return this.each((function(e){w(this).addClass(t.call(this,e,ve(this)))}));if((e=ye(t)).length)for(;n=this[a++];)if(r=ve(n),i=1===n.nodeType&&" "+me(r)+" "){for(g=0;o=e[g++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=me(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,g,s,a=0;if(p(t))return this.each((function(e){w(this).removeClass(t.call(this,e,ve(this)))}));if(!arguments.length)return this.attr("class","");if((e=ye(t)).length)for(;n=this[a++];)if(r=ve(n),i=1===n.nodeType&&" "+me(r)+" "){for(g=0;o=e[g++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=me(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):p(t)?this.each((function(n){w(this).toggleClass(t.call(this,n,ve(this),e),e)})):this.each((function(){var e,r,o,g;if(i)for(r=0,o=w(this),g=ye(t);e=g[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ve(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+me(ve(n))+" ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g;w.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=p(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,w(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=w.map(r,(function(t){return null==t?"":t+""}))),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(be,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:me(w.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,g="select-one"===t.type,s=g?null:[],a=g?o+1:r.length;for(i=o<0?a:g?o:0;i<a;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!R(n.parentNode,"optgroup"))){if(e=w(n).val(),g)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=w.makeArray(e),g=r.length;g--;)((i=r[g]).selected=w.inArray(w.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=w.inArray(w(t).val(),e)>-1}},d.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),d.focusin="onfocusin"in i;var _e=/^(?:focusinfocus|focusoutblur)$/,we=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(t,e,n,r){var o,g,s,a,A,C,I,c,u=[n||m],h=l.call(t,"type")?t.type:t,d=l.call(t,"namespace")?t.namespace.split("."):[];if(g=c=s=n=n||m,3!==n.nodeType&&8!==n.nodeType&&!_e.test(h+w.event.triggered)&&(h.indexOf(".")>-1&&(d=h.split("."),h=d.shift(),d.sort()),A=h.indexOf(":")<0&&"on"+h,(t=t[w.expando]?t:new w.Event(h,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:w.makeArray(e,[t]),I=w.event.special[h]||{},r||!I.trigger||!1!==I.trigger.apply(n,e))){if(!r&&!I.noBubble&&!f(n)){for(a=I.delegateType||h,_e.test(a+h)||(g=g.parentNode);g;g=g.parentNode)u.push(g),s=g;s===(n.ownerDocument||m)&&u.push(s.defaultView||s.parentWindow||i)}for(o=0;(g=u[o++])&&!t.isPropagationStopped();)c=g,t.type=o>1?a:I.bindType||h,(C=(Q.get(g,"events")||Object.create(null))[t.type]&&Q.get(g,"handle"))&&C.apply(g,e),(C=A&&g[A])&&C.apply&&q(g)&&(t.result=C.apply(g,e),!1===t.result&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||I._default&&!1!==I._default.apply(u.pop(),e)||!q(n)||A&&p(n[h])&&!f(n)&&((s=n[A])&&(n[A]=null),w.event.triggered=h,t.isPropagationStopped()&&c.addEventListener(h,we),n[h](),t.isPropagationStopped()&&c.removeEventListener(h,we),w.event.triggered=void 0,s&&(n[A]=s)),t.result}},simulate:function(t,e,n){var i=w.extend(new w.Event,n,{type:t,isSimulated:!0});w.event.trigger(i,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each((function(){w.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return w.event.trigger(t,e,n,!0)}}),d.focusin||w.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=Q.access(i,e);r||i.addEventListener(t,n,!0),Q.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=Q.access(i,e)-1;r?Q.access(i,e,r):(i.removeEventListener(t,n,!0),Q.remove(i,e))}}}));var xe=i.location,Se={guid:Date.now()},Ee=/\?/;w.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),e};var Me=/\[\]$/,Te=/\r?\n/g,Re=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;function Le(t,e,n,i){var r;if(Array.isArray(e))w.each(e,(function(e,r){n||Me.test(t)?i(t,r):Le(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==b(e))i(t,e);else for(r in e)Le(t+"["+r+"]",e[r],n,i)}w.param=function(t,e){var n,i=[],r=function(t,e){var n=p(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,(function(){r(this.name,this.value)}));else for(n in t)Le(n,t[n],e,r);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Oe.test(this.nodeName)&&!Re.test(t)&&(this.checked||!dt.test(t))})).map((function(t,e){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,(function(t){return{name:e.name,value:t.replace(Te,"\r\n")}})):{name:e.name,value:n.replace(Te,"\r\n")}})).get()}});var Pe=/%20/g,Ne=/#.*$/,De=/([?&])_=[^&]*/,ke=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:GET|HEAD)$/,Fe=/^\/\//,Be={},ze={},Ue="*/".concat("*"),He=m.createElement("a");function Ge(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(F)||[];if(p(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function We(t,e,n,i){var r={},o=t===ze;function g(s){var a;return r[s]=!0,w.each(t[s]||[],(function(t,s){var A=s(e,n,i);return"string"!=typeof A||o||r[A]?o?!(a=A):void 0:(e.dataTypes.unshift(A),g(A),!1)})),a}return g(e.dataTypes[0])||!r["*"]&&g("*")}function Ve(t,e){var n,i,r=w.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&w.extend(!0,t,i),t}He.href=xe.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ve(Ve(t,w.ajaxSettings),e):Ve(w.ajaxSettings,t)},ajaxPrefilter:Ge(Be),ajaxTransport:Ge(ze),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,o,g,s,a,A,C,I,c,l=w.ajaxSetup({},e),u=l.context||l,h=l.context&&(u.nodeType||u.jquery)?w(u):w.event,d=w.Deferred(),p=w.Callbacks("once memory"),f=l.statusCode||{},v={},y={},b="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(A){if(!g)for(g={};e=ke.exec(o);)g[e[1].toLowerCase()+" "]=(g[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=g[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return A?o:null},setRequestHeader:function(t,e){return null==A&&(t=y[t.toLowerCase()]=y[t.toLowerCase()]||t,v[t]=e),this},overrideMimeType:function(t){return null==A&&(l.mimeType=t),this},statusCode:function(t){var e;if(t)if(A)_.always(t[_.status]);else for(e in t)f[e]=[f[e],t[e]];return this},abort:function(t){var e=t||b;return n&&n.abort(e),x(0,e),this}};if(d.promise(_),l.url=((t||l.url||xe.href)+"").replace(Fe,xe.protocol+"//"),l.type=e.method||e.type||l.method||l.type,l.dataTypes=(l.dataType||"*").toLowerCase().match(F)||[""],null==l.crossDomain){a=m.createElement("a");try{a.href=l.url,a.href=a.href,l.crossDomain=He.protocol+"//"+He.host!=a.protocol+"//"+a.host}catch(t){l.crossDomain=!0}}if(l.data&&l.processData&&"string"!=typeof l.data&&(l.data=w.param(l.data,l.traditional)),We(Be,l,e,_),A)return _;for(I in(C=w.event&&l.global)&&0==w.active++&&w.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!je.test(l.type),r=l.url.replace(Ne,""),l.hasContent?l.data&&l.processData&&0===(l.contentType||"").indexOf("application/x-www-form-urlencoded")&&(l.data=l.data.replace(Pe,"+")):(c=l.url.slice(r.length),l.data&&(l.processData||"string"==typeof l.data)&&(r+=(Ee.test(r)?"&":"?")+l.data,delete l.data),!1===l.cache&&(r=r.replace(De,"$1"),c=(Ee.test(r)?"&":"?")+"_="+Se.guid+++c),l.url=r+c),l.ifModified&&(w.lastModified[r]&&_.setRequestHeader("If-Modified-Since",w.lastModified[r]),w.etag[r]&&_.setRequestHeader("If-None-Match",w.etag[r])),(l.data&&l.hasContent&&!1!==l.contentType||e.contentType)&&_.setRequestHeader("Content-Type",l.contentType),_.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Ue+"; q=0.01":""):l.accepts["*"]),l.headers)_.setRequestHeader(I,l.headers[I]);if(l.beforeSend&&(!1===l.beforeSend.call(u,_,l)||A))return _.abort();if(b="abort",p.add(l.complete),_.done(l.success),_.fail(l.error),n=We(ze,l,e,_)){if(_.readyState=1,C&&h.trigger("ajaxSend",[_,l]),A)return _;l.async&&l.timeout>0&&(s=i.setTimeout((function(){_.abort("timeout")}),l.timeout));try{A=!1,n.send(v,x)}catch(t){if(A)throw t;x(-1,t)}}else x(-1,"No Transport");function x(t,e,g,a){var I,c,m,v,y,b=e;A||(A=!0,s&&i.clearTimeout(s),n=void 0,o=a||"",_.readyState=t>0?4:0,I=t>=200&&t<300||304===t,g&&(v=function(t,e,n){for(var i,r,o,g,s=t.contents,a=t.dataTypes;"*"===a[0];)a.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){a.unshift(r);break}if(a[0]in n)o=a[0];else{for(r in n){if(!a[0]||t.converters[r+" "+a[0]]){o=r;break}g||(g=r)}o=o||g}if(o)return o!==a[0]&&a.unshift(o),n[o]}(l,_,g)),!I&&w.inArray("script",l.dataTypes)>-1&&(l.converters["text script"]=function(){}),v=function(t,e,n,i){var r,o,g,s,a,A={},C=t.dataTypes.slice();if(C[1])for(g in t.converters)A[g.toLowerCase()]=t.converters[g];for(o=C.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!a&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),a=o,o=C.shift())if("*"===o)o=a;else if("*"!==a&&a!==o){if(!(g=A[a+" "+o]||A["* "+o]))for(r in A)if((s=r.split(" "))[1]===o&&(g=A[a+" "+s[0]]||A["* "+s[0]])){!0===g?g=A[r]:!0!==A[r]&&(o=s[0],C.unshift(s[1]));break}if(!0!==g)if(g&&t.throws)e=g(e);else try{e=g(e)}catch(t){return{state:"parsererror",error:g?t:"No conversion from "+a+" to "+o}}}return{state:"success",data:e}}(l,v,_,I),I?(l.ifModified&&((y=_.getResponseHeader("Last-Modified"))&&(w.lastModified[r]=y),(y=_.getResponseHeader("etag"))&&(w.etag[r]=y)),204===t||"HEAD"===l.type?b="nocontent":304===t?b="notmodified":(b=v.state,c=v.data,I=!(m=v.error))):(m=b,!t&&b||(b="error",t<0&&(t=0))),_.status=t,_.statusText=(e||b)+"",I?d.resolveWith(u,[c,b,_]):d.rejectWith(u,[_,b,m]),_.statusCode(f),f=void 0,C&&h.trigger(I?"ajaxSuccess":"ajaxError",[_,l,I?c:m]),p.fireWith(u,[_,b]),C&&(h.trigger("ajaxComplete",[_,l]),--w.active||w.event.trigger("ajaxStop")))}return _},getJSON:function(t,e,n){return w.get(t,e,n,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],(function(t,e){w[e]=function(t,n,i,r){return p(n)&&(r=r||i,i=n,n=void 0),w.ajax(w.extend({url:t,type:e,dataType:r,data:n,success:i},w.isPlainObject(t)&&t))}})),w.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),w._evalUrl=function(t,e,n){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){w.globalEval(t,e,n)}})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(p(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return p(t)?this.each((function(e){w(this).wrapInner(t.call(this,e))})):this.each((function(){var e=w(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=p(t);return this.each((function(n){w(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Ze={0:200,1223:204},Ye=w.ajaxSettings.xhr();d.cors=!!Ye&&"withCredentials"in Ye,d.ajax=Ye=!!Ye,w.ajaxTransport((function(t){var e,n;if(d.cors||Ye&&!t.crossDomain)return{send:function(r,o){var g,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(g in t.xhrFields)s[g]=t.xhrFields[g];for(g in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(g,r[g]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ze[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout((function(){e&&n()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),w.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),w.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=w("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),m.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Xe,Je=[],qe=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Je.pop()||w.expando+"_"+Se.guid++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",(function(t,e,n){var r,o,g,s=!1!==t.jsonp&&(qe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&qe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=p(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(qe,"$1"+r):!1!==t.jsonp&&(t.url+=(Ee.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return g||w.error(r+" was not called"),g[0]},t.dataTypes[0]="json",o=i[r],i[r]=function(){g=arguments},n.always((function(){void 0===o?w(i).removeProp(r):i[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Je.push(r)),g&&p(o)&&o(g[0]),g=o=void 0})),"script"})),d.createHTMLDocument=((Xe=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Xe.childNodes.length),w.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(d.createHTMLDocument?((i=(e=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,e.head.appendChild(i)):e=m),o=!n&&[],(r=O.exec(t))?[e.createElement(r[1])]:(r=_t([t],e,o),o&&o.length&&w(o).remove(),w.merge([],r.childNodes)));var i,r,o},w.fn.load=function(t,e,n){var i,r,o,g=this,s=t.indexOf(" ");return s>-1&&(i=me(t.slice(s)),t=t.slice(0,s)),p(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),g.length>0&&w.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,g.html(i?w("<div>").append(w.parseHTML(t)).find(i):t)})).always(n&&function(t,e){g.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},w.expr.pseudos.animated=function(t){return w.grep(w.timers,(function(e){return t===e.elem})).length},w.offset={setOffset:function(t,e,n){var i,r,o,g,s,a,A=w.css(t,"position"),C=w(t),I={};"static"===A&&(t.style.position="relative"),s=C.offset(),o=w.css(t,"top"),a=w.css(t,"left"),("absolute"===A||"fixed"===A)&&(o+a).indexOf("auto")>-1?(g=(i=C.position()).top,r=i.left):(g=parseFloat(o)||0,r=parseFloat(a)||0),p(e)&&(e=e.call(t,n,w.extend({},s))),null!=e.top&&(I.top=e.top-s.top+g),null!=e.left&&(I.left=e.left-s.left+r),"using"in e?e.using.call(t,I):("number"==typeof I.top&&(I.top+="px"),"number"==typeof I.left&&(I.left+="px"),C.css(I))}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){w.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===w.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),r.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-w.css(i,"marginTop",!0),left:e.left-r.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||gt}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;w.fn[t]=function(i){return V(this,(function(t,i,r){var o;if(f(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r}),t,i,arguments.length)}})),w.each(["top","left"],(function(t,e){w.cssHooks[e]=Yt(d.pixelPosition,(function(t,n){if(n)return n=Zt(t,e),Ht.test(n)?w(t).position()[e]+"px":n}))})),w.each({Height:"height",Width:"width"},(function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){w.fn[i]=function(r,o){var g=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return V(this,(function(e,n,r){var o;return f(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?w.css(e,n,s):w.style(e,n,r,s)}),e,g?r:void 0,g)}}))})),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){w.fn[e]=function(t){return this.on(e,t)}})),w.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){w.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Ke=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),p(t))return i=s.call(arguments,2),r=function(){return t.apply(e||this,i.concat(s.call(arguments)))},r.guid=t.guid=t.guid||w.guid++,r},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=R,w.isFunction=p,w.isWindow=f,w.camelCase=J,w.type=b,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},w.trim=function(t){return null==t?"":(t+"").replace(Ke,"")},void 0===(n=function(){return w}.apply(e,[]))||(t.exports=n);var Qe=i.jQuery,$e=i.$;return w.noConflict=function(t){return i.$===w&&(i.$=$e),t&&i.jQuery===w&&(i.jQuery=Qe),w},void 0===r&&(i.jQuery=i.$=w),w}))},8651:(t,e,n)=>{t.exports=function t(e,n,i){function r(g,s){if(!n[g]){if(!e[g]){if(o)return o(g,!0);var a=new Error("Cannot find module '"+g+"'");throw a.code="MODULE_NOT_FOUND",a}var A=n[g]={exports:{}};e[g][0].call(A.exports,(function(t){return r(e[g][1][t]||t)}),A,A.exports,t,e,n,i)}return n[g].exports}for(var o=void 0,g=0;g<i.length;g++)r(i[g]);return r}({1:[function(t,e,i){(function(t){"use strict";var n,i,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var o=0,g=new r(C),s=t.document.createTextNode("");g.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){C(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(C,0)};else{var a=new t.MessageChannel;a.port1.onmessage=C,n=function(){a.port2.postMessage(0)}}var A=[];function C(){var t,e;i=!0;for(var n=A.length;n;){for(e=A,A=[],t=-1;++t<n;)e[t]();n=A.length}i=!1}e.exports=function(t){1!==A.push(t)||i||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var i=t(1);function r(){}var o={},g=["REJECTED"],s=["FULFILLED"],a=["PENDING"];function A(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=a,this.queue=[],this.outcome=void 0,t!==r&&l(this,t)}function C(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function I(t,e,n){i((function(){var i;try{i=e(n)}catch(e){return o.reject(t,e)}i===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,i)}))}function c(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function l(t,e){var n=!1;function i(e){n||(n=!0,o.reject(t,e))}function r(e){n||(n=!0,o.resolve(t,e))}var g=u((function(){e(r,i)}));"error"===g.status&&i(g.value)}function u(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}e.exports=A,A.prototype.catch=function(t){return this.then(null,t)},A.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===g)return this;var n=new this.constructor(r);return this.state!==a?I(n,this.state===s?t:e,this.outcome):this.queue.push(new C(n,t,e)),n},C.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},C.prototype.otherCallFulfilled=function(t){I(this.promise,this.onFulfilled,t)},C.prototype.callRejected=function(t){o.reject(this.promise,t)},C.prototype.otherCallRejected=function(t){I(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=u(c,e);if("error"===n.status)return o.reject(t,n.value);var i=n.value;if(i)l(t,i);else{t.state=s,t.outcome=e;for(var r=-1,g=t.queue.length;++r<g;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=g,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},A.resolve=function(t){return t instanceof this?t:o.resolve(new this(r),t)},A.reject=function(t){var e=new this(r);return o.reject(e,t)},A.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var g=new Array(n),s=0,a=-1,A=new this(r);++a<n;)C(t[a],a);return A;function C(t,r){e.resolve(t).then((function(t){g[r]=t,++s!==n||i||(i=!0,o.resolve(A,g))}),(function(t){i||(i=!0,o.reject(A,t))}))}},A.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n,i=t.length,g=!1;if(!i)return this.resolve([]);for(var s=-1,a=new this(r);++s<i;)n=t[s],e.resolve(n).then((function(t){g||(g=!0,o.resolve(a,t))}),(function(t){g||(g=!0,o.reject(a,t))}));return a}},{1:1}],3:[function(t,e,i){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<t.length;i+=1)n.append(t[i]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var g=Promise;function s(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function a(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function A(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function C(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var I="local-forage-detect-blob-support",c=void 0,l={},u=Object.prototype.toString,h="readonly",d="readwrite";function p(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n),r=0;r<e;r++)i[r]=t.charCodeAt(r);return n}function f(t){return"boolean"==typeof c?g.resolve(c):function(t){return new g((function(e){var n=t.transaction(I,d),i=o([""]);n.objectStore(I).put(i,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return c=t}))}function m(t){var e=l[t.name],n={};n.promise=new g((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then((function(){return n.promise})):e.dbReady=n.promise}function v(t){var e=l[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function y(t,e){var n=l[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function b(t,e){return new g((function(n,i){if(l[t.name]=l[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);m(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var g=r.open.apply(r,o);e&&(g.onupgradeneeded=function(e){var n=g.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(I)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),g.onerror=function(t){t.preventDefault(),i(g.error)},g.onsuccess=function(){n(g.result),v(t)}}))}function _(t){return b(t,!1)}function w(t){return b(t,!0)}function x(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),i=t.version<t.db.version,r=t.version>t.db.version;if(i&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),r||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function S(t){return o([p(atob(t.data))],{type:t.type})}function E(t){return t&&t.__local_forage_encoded_blob}function M(t){var e=this,n=e._initReady().then((function(){var t=l[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return a(n,t,t),n}function T(t,e,n,i){void 0===i&&(i=1);try{var r=t.db.transaction(t.storeName,e);n(null,r)}catch(r){if(i>0&&(!t.db||"InvalidStateError"===r.name||"NotFoundError"===r.name))return g.resolve().then((function(){if(!t.db||"NotFoundError"===r.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),w(t)})).then((function(){return function(t){m(t);for(var e=l[t.name],n=e.forages,i=0;i<n.length;i++){var r=n[i];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return t.db=null,_(t).then((function(e){return t.db=e,x(t)?w(t):e})).then((function(i){t.db=e.db=i;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=i})).catch((function(e){throw y(t,e),e}))}(t).then((function(){T(t,e,n,i-1)}))})).catch(n);n(r)}}var R={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]=t[i];var r=l[n.name];r||(r={forages:[],db:null,dbReady:null,deferredOperations:[]},l[n.name]=r),r.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=M);var o=[];function s(){return g.resolve()}for(var a=0;a<r.forages.length;a++){var A=r.forages[a];A!==e&&o.push(A._initReady().catch(s))}var C=r.forages.slice(0);return g.all(o).then((function(){return n.db=r.db,_(n)})).then((function(t){return n.db=t,x(n,e._defaultConfig.version)?w(n):t})).then((function(t){n.db=r.db=t,e._dbInfo=n;for(var i=0;i<C.length;i++){var o=C[i];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!r||!r.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=new g((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;g.onsuccess=function(){var n=g.result;if(n){var i=n.value;E(i)&&(i=S(i));var r=t(i,n.key,s++);void 0!==r?e(r):n.continue()}else e()},g.onerror=function(){i(g.error)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName).get(t);g.onsuccess=function(){var t=g.result;void 0===t&&(t=null),E(t)&&(t=S(t)),e(t)},g.onerror=function(){i(g.error)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=new g((function(n,r){var o;i.ready().then((function(){return o=i._dbInfo,"[object Blob]"===u.call(e)?f(o.db).then((function(t){return t?e:(n=e,new g((function(t,e){var i=new FileReader;i.onerror=e,i.onloadend=function(e){var i=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:n.type})},i.readAsBinaryString(n)})));var n})):e})).then((function(e){T(i._dbInfo,d,(function(o,g){if(o)return r(o);try{var s=g.objectStore(i._dbInfo.storeName);null===e&&(e=void 0);var a=s.put(e,t);g.oncomplete=function(){void 0===e&&(e=null),n(e)},g.onabort=g.onerror=function(){var t=a.error?a.error:a.transaction.error;r(t)}}catch(t){r(t)}}))})).catch(r)}));return s(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){T(n._dbInfo,d,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){i(g.error)},o.onabort=function(){var t=g.error?g.error:g.transaction.error;i(t)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},clear:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){T(e._dbInfo,d,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).clear();r.oncomplete=function(){t()},r.onabort=r.onerror=function(){var t=o.error?o.error:o.transaction.error;n(t)}}catch(t){n(t)}}))})).catch(n)}));return s(n,t),n},length:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return s(n,t),n},key:function(t,e){var n=this,i=new g((function(e,i){t<0?e(null):n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName),s=!1,a=g.openKeyCursor();a.onsuccess=function(){var n=a.result;n?0===t||s?e(n.key):(s=!0,n.advance(t)):e(null)},a.onerror=function(){i(a.error)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},keys:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).openKeyCursor(),g=[];o.onsuccess=function(){var e=o.result;e?(g.push(e.key),e.continue()):t(g)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return s(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,o=this;if(t.name){var a=t.name===n.name&&o._dbInfo.db?g.resolve(o._dbInfo.db):_(t).then((function(e){var n=l[t.name],i=n.forages;n.db=e;for(var r=0;r<i.length;r++)i[r]._dbInfo.db=e;return e}));i=t.storeName?a.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;m(t);var i=l[t.name],o=i.forages;e.close();for(var s=0;s<o.length;s++){var a=o[s];a._dbInfo.db=null,a._dbInfo.version=n}var A=new g((function(e,i){var o=r.open(t.name,n);o.onerror=function(t){o.result.close(),i(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}}));return A.then((function(t){i.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,v(n._dbInfo)}})).catch((function(e){throw(y(t,e)||g.resolve()).catch((function(){})),e}))}})):a.then((function(e){m(t);var n=l[t.name],i=n.forages;e.close();for(var o=0;o<i.length;o++)i[o]._dbInfo.db=null;var s=new g((function(e,n){var i=r.deleteDatabase(t.name);i.onerror=i.onblocked=function(t){var e=i.result;e&&e.close(),n(t)},i.onsuccess=function(){var t=i.result;t&&t.close(),e(t)}}));return s.then((function(t){n.db=t;for(var e=0;e<i.length;e++)v(i[e]._dbInfo)})).catch((function(e){throw(y(t,e)||g.resolve()).catch((function(){})),e}))}))}else i=g.reject("Invalid arguments");return s(i,e),i}};var O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=/^~~local_forage_type~([^~]+)~/,P="__lfsc__:",N=P.length,D="arbf",k="blob",j="si08",F="ui08",B="uic8",z="si16",U="si32",H="ur16",G="ui32",W="fl32",V="fl64",Z=N+D.length,Y=Object.prototype.toString;function X(t){var e,n,i,r,o,g=.75*t.length,s=t.length,a=0;"="===t[t.length-1]&&(g--,"="===t[t.length-2]&&g--);var A=new ArrayBuffer(g),C=new Uint8Array(A);for(e=0;e<s;e+=4)n=O.indexOf(t[e]),i=O.indexOf(t[e+1]),r=O.indexOf(t[e+2]),o=O.indexOf(t[e+3]),C[a++]=n<<2|i>>4,C[a++]=(15&i)<<4|r>>2,C[a++]=(3&r)<<6|63&o;return A}function J(t){var e,n=new Uint8Array(t),i="";for(e=0;e<n.length;e+=3)i+=O[n[e]>>2],i+=O[(3&n[e])<<4|n[e+1]>>4],i+=O[(15&n[e+1])<<2|n[e+2]>>6],i+=O[63&n[e+2]];return n.length%3==2?i=i.substring(0,i.length-1)+"=":n.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}var q={serialize:function(t,e){var n="";if(t&&(n=Y.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===Y.call(t.buffer))){var i,r=P;t instanceof ArrayBuffer?(i=t,r+=D):(i=t.buffer,"[object Int8Array]"===n?r+=j:"[object Uint8Array]"===n?r+=F:"[object Uint8ClampedArray]"===n?r+=B:"[object Int16Array]"===n?r+=z:"[object Uint16Array]"===n?r+=H:"[object Int32Array]"===n?r+=U:"[object Uint32Array]"===n?r+=G:"[object Float32Array]"===n?r+=W:"[object Float64Array]"===n?r+=V:e(new Error("Failed to get type for BinaryArray"))),e(r+J(i))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+t.type+"~"+J(this.result);e("__lfsc__:blob"+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}},deserialize:function(t){if(t.substring(0,N)!==P)return JSON.parse(t);var e,n=t.substring(Z),i=t.substring(N,Z);if(i===k&&L.test(n)){var r=n.match(L);e=r[1],n=n.substring(r[0].length)}var g=X(n);switch(i){case D:return g;case k:return o([g],{type:e});case j:return new Int8Array(g);case F:return new Uint8Array(g);case B:return new Uint8ClampedArray(g);case z:return new Int16Array(g);case H:return new Uint16Array(g);case U:return new Int32Array(g);case G:return new Uint32Array(g);case W:return new Float32Array(g);case V:return new Float64Array(g);default:throw new Error("Unkown type: "+i)}},stringToBuffer:X,bufferToString:J};function K(t,e,n,i){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function Q(t,e,n,i,r,o){t.executeSql(n,i,r,(function(t,g){g.code===g.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,s){s.rows.length?o(t,g):K(t,e,(function(){t.executeSql(n,i,r,o)}),o)}),o):o(t,g)}),o)}function $(t,e,n,i){var r=this;t=A(t);var o=new g((function(o,g){r.ready().then((function(){void 0===e&&(e=null);var s=e,a=r._dbInfo;a.serializer.serialize(e,(function(e,A){A?g(A):a.db.transaction((function(n){Q(n,a,"INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){o(s)}),(function(t,e){g(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(i>0)return void o($.apply(r,[t,s,n,i-1]));g(e)}}))}))})).catch(g)}));return s(o,n),o}function tt(t){return new g((function(e,n){t.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,i){for(var r=[],o=0;o<i.rows.length;o++)r.push(i.rows.item(o).name);e({db:t,storeNames:r})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}var et={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]="string"!=typeof t[i]?t[i].toString():t[i];var r=new g((function(t,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return i(t)}n.db.transaction((function(r){K(r,n,(function(){e._dbInfo=n,t()}),(function(t,e){i(e)}))}),i)}));return n.serializer=q,r},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName,[],(function(n,i){for(var o=i.rows,g=o.length,s=0;s<g;s++){var a=o.item(s),A=a.value;if(A&&(A=r.serializer.deserialize(A)),void 0!==(A=t(A,a.key,s+1)))return void e(A)}e()}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},setItem:function(t,e,n){return $.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},clear:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"DELETE FROM "+i.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,t),n},length:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(e,n){var i=n.rows.item(0).c;t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,t),n},key:function(t,e){var n=this,i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var i=n.rows.length?n.rows.item(0).key:null;e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},keys:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT key FROM "+i.storeName,[],(function(e,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,r=this;return s(i=t.name?new g((function(e){var i;i=t.name===n.name?r._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:i,storeNames:[t.storeName]}):e(tt(i))})).then((function(t){return new g((function(e,n){t.db.transaction((function(i){function r(t){return new g((function(e,n){i.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var o=[],s=0,a=t.storeNames.length;s<a;s++)o.push(r(t.storeNames[s]));g.all(o).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):g.reject("Invalid arguments"),e),i}};function nt(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function it(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||localStorage.length>0}var rt={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=nt(t,this._defaultConfig),it()?(this._dbInfo=e,e.serializer=q,g.resolve()):g.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=n.ready().then((function(){for(var e=n._dbInfo,i=e.keyPrefix,r=i.length,o=localStorage.length,g=1,s=0;s<o;s++){var a=localStorage.key(s);if(0===a.indexOf(i)){var A=localStorage.getItem(a);if(A&&(A=e.serializer.deserialize(A)),void 0!==(A=t(A,a.substring(r),g++)))return A}}}));return s(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo,i=localStorage.getItem(e.keyPrefix+t);return i&&(i=e.serializer.deserialize(i)),i}));return s(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=i.ready().then((function(){void 0===e&&(e=null);var n=e;return new g((function(r,o){var g=i._dbInfo;g.serializer.serialize(e,(function(e,i){if(i)o(i);else try{localStorage.setItem(g.keyPrefix+t,e),r(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||o(t),o(t)}}))}))}));return s(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return s(i,e),i},clear:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);0===i.indexOf(t)&&localStorage.removeItem(i)}}));return s(n,t),n},length:function(t){var e=this.keys().then((function(t){return t.length}));return s(e,t),e},key:function(t,e){var n=this,i=n.ready().then((function(){var e,i=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(i.keyPrefix.length)),e}));return s(i,e),i},keys:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,i=[],r=0;r<n;r++){var o=localStorage.key(r);0===o.indexOf(t.keyPrefix)&&i.push(o.substring(t.keyPrefix.length))}return i}));return s(n,t),n},dropInstance:function(t,e){if(e=C.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var i,r=this;return i=t.name?new g((function(e){t.storeName?e(nt(t,r._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):g.reject("Invalid arguments"),s(i,e),i}},ot=function(t,e){for(var n=t.length,i=0;i<n;){if((r=t[i])===(o=e)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;i++}var r,o;return!1},gt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},st={},at={},At={INDEXEDDB:R,WEBSQL:et,LOCALSTORAGE:rt},Ct=[At.INDEXEDDB._driver,At.WEBSQL._driver,At.LOCALSTORAGE._driver],It=["dropInstance"],ct=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(It),lt={description:"",driver:Ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ut(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function ht(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(gt(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var dt=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),At)if(At.hasOwnProperty(n)){var i=At[n],r=i._driver;this[n]=r,st[r]||this.defineDriver(i)}this._defaultConfig=ht({},lt),this._config=ht({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":i(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var i=new g((function(e,n){try{var i=t._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(r);for(var o=ct.concat("_initStorage"),a=0,A=o.length;a<A;a++){var C=o[a];if((!ot(It,C)||t[C])&&"function"!=typeof t[C])return void n(r)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=g.reject(e);return s(n,arguments[arguments.length-1]),n}},n=0,i=It.length;n<i;n++){var r=It[n];t[r]||(t[r]=e(r))}}();var I=function(n){st[i]&&console.info("Redefining LocalForage driver: "+i),st[i]=t,at[i]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(I,n):I(!!t._support):I(!0)}catch(t){n(t)}}));return a(i,e,n),i},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var i=st[t]?g.resolve(st[t]):g.reject(new Error("Driver not found."));return a(i,e,n),i},t.prototype.getSerializer=function(t){var e=g.resolve(q);return a(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return a(n,t,t),n},t.prototype.setDriver=function(t,e,n){var i=this;gt(t)||(t=[t]);var r=this._getSupportedDrivers(t);function o(){i._config.driver=i.driver()}function s(t){return i._extend(t),o(),i._ready=i._initStorage(i._config),i._ready}var A=null!==this._driverSet?this._driverSet.catch((function(){return g.resolve()})):g.resolve();return this._driverSet=A.then((function(){var t=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(t).then((function(t){i._driver=t._driver,o(),i._wrapLibraryMethodsWithReady(),i._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var r=t[e];return e++,i._dbInfo=null,i._ready=null,i.getDriver(r).then(s).catch(n)}o();var a=new Error("No available storage method found.");return i._driverSet=g.reject(a),i._driverSet}()}}(r)}))})).catch((function(){o();var t=new Error("No available storage method found.");return i._driverSet=g.reject(t),i._driverSet})),a(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!at[t]},t.prototype._extend=function(t){ht(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];this.supports(r)&&e.push(r)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ct.length;t<e;t++)ut(this,ct[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),pt=new dt;e.exports=pt},{3:3}]},{},[4])(4)},352:()=>{var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(){if("undefined"!=typeof window){var n=Array.prototype.slice,i=Element.prototype.matches||Element.prototype.msMatchesSelector,r=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","details","summary","iframe","object","embed","[contenteditable]"].join(","),o=function(){function o(t,n){e(this,o),this._inertManager=n,this._rootElement=t,this._managedNodes=new Set,this._rootElement.hasAttribute("aria-hidden")?this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"):this._savedAriaHidden=null,this._rootElement.setAttribute("aria-hidden","true"),this._makeSubtreeUnfocusable(this._rootElement),this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this._rootElement,{attributes:!0,childList:!0,subtree:!0})}return t(o,[{key:"destructor",value:function(){this._observer.disconnect(),this._rootElement&&(null!==this._savedAriaHidden?this._rootElement.setAttribute("aria-hidden",this._savedAriaHidden):this._rootElement.removeAttribute("aria-hidden")),this._managedNodes.forEach((function(t){this._unmanageNode(t.node)}),this),this._observer=null,this._rootElement=null,this._managedNodes=null,this._inertManager=null}},{key:"_makeSubtreeUnfocusable",value:function(t){var e=this;a(t,(function(t){return e._visitNode(t)}));var n=document.activeElement;if(!document.body.contains(t)){for(var i=t,r=void 0;i;){if(i.nodeType===Node.DOCUMENT_FRAGMENT_NODE){r=i;break}i=i.parentNode}r&&(n=r.activeElement)}t.contains(n)&&(n.blur(),n===document.activeElement&&document.body.focus())}},{key:"_visitNode",value:function(t){if(t.nodeType===Node.ELEMENT_NODE){var e=t;e!==this._rootElement&&e.hasAttribute("inert")&&this._adoptInertRoot(e),(i.call(e,r)||e.hasAttribute("tabindex"))&&this._manageNode(e)}}},{key:"_manageNode",value:function(t){var e=this._inertManager.register(t,this);this._managedNodes.add(e)}},{key:"_unmanageNode",value:function(t){var e=this._inertManager.deregister(t,this);e&&this._managedNodes.delete(e)}},{key:"_unmanageSubtree",value:function(t){var e=this;a(t,(function(t){return e._unmanageNode(t)}))}},{key:"_adoptInertRoot",value:function(t){var e=this._inertManager.getInertRoot(t);e||(this._inertManager.setInert(t,!0),e=this._inertManager.getInertRoot(t)),e.managedNodes.forEach((function(t){this._manageNode(t.node)}),this)}},{key:"_onMutation",value:function(t,e){t.forEach((function(t){var e=t.target;if("childList"===t.type)n.call(t.addedNodes).forEach((function(t){this._makeSubtreeUnfocusable(t)}),this),n.call(t.removedNodes).forEach((function(t){this._unmanageSubtree(t)}),this);else if("attributes"===t.type)if("tabindex"===t.attributeName)this._manageNode(e);else if(e!==this._rootElement&&"inert"===t.attributeName&&e.hasAttribute("inert")){this._adoptInertRoot(e);var i=this._inertManager.getInertRoot(e);this._managedNodes.forEach((function(t){e.contains(t.node)&&i._manageNode(t.node)}))}}),this)}},{key:"managedNodes",get:function(){return new Set(this._managedNodes)}},{key:"hasSavedAriaHidden",get:function(){return null!==this._savedAriaHidden}},{key:"savedAriaHidden",set:function(t){this._savedAriaHidden=t},get:function(){return this._savedAriaHidden}}]),o}(),g=function(){function n(t,i){e(this,n),this._node=t,this._overrodeFocusMethod=!1,this._inertRoots=new Set([i]),this._savedTabIndex=null,this._destroyed=!1,this.ensureUntabbable()}return t(n,[{key:"destructor",value:function(){if(this._throwIfDestroyed(),this._node&&this._node.nodeType===Node.ELEMENT_NODE){var t=this._node;null!==this._savedTabIndex?t.setAttribute("tabindex",this._savedTabIndex):t.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete t.focus}this._node=null,this._inertRoots=null,this._destroyed=!0}},{key:"_throwIfDestroyed",value:function(){if(this.destroyed)throw new Error("Trying to access destroyed InertNode")}},{key:"ensureUntabbable",value:function(){if(this.node.nodeType===Node.ELEMENT_NODE){var t=this.node;if(i.call(t,r)){if(-1===t.tabIndex&&this.hasSavedTabIndex)return;t.hasAttribute("tabindex")&&(this._savedTabIndex=t.tabIndex),t.setAttribute("tabindex","-1"),t.nodeType===Node.ELEMENT_NODE&&(t.focus=function(){},this._overrodeFocusMethod=!0)}else t.hasAttribute("tabindex")&&(this._savedTabIndex=t.tabIndex,t.removeAttribute("tabindex"))}}},{key:"addInertRoot",value:function(t){this._throwIfDestroyed(),this._inertRoots.add(t)}},{key:"removeInertRoot",value:function(t){this._throwIfDestroyed(),this._inertRoots.delete(t),0===this._inertRoots.size&&this.destructor()}},{key:"destroyed",get:function(){return this._destroyed}},{key:"hasSavedTabIndex",get:function(){return null!==this._savedTabIndex}},{key:"node",get:function(){return this._throwIfDestroyed(),this._node}},{key:"savedTabIndex",set:function(t){this._throwIfDestroyed(),this._savedTabIndex=t},get:function(){return this._throwIfDestroyed(),this._savedTabIndex}}]),n}(),s=new(function(){function r(t){if(e(this,r),!t)throw new Error("Missing required argument; InertManager needs to wrap a document.");this._document=t,this._managedNodes=new Map,this._inertRoots=new Map,this._observer=new MutationObserver(this._watchForInert.bind(this)),A(t.head||t.body||t.documentElement),"loading"===t.readyState?t.addEventListener("DOMContentLoaded",this._onDocumentLoaded.bind(this)):this._onDocumentLoaded()}return t(r,[{key:"setInert",value:function(t,e){if(e){if(this._inertRoots.has(t))return;var n=new o(t,this);if(t.setAttribute("inert",""),this._inertRoots.set(t,n),!this._document.body.contains(t))for(var i=t.parentNode;i;)11===i.nodeType&&A(i),i=i.parentNode}else{if(!this._inertRoots.has(t))return;this._inertRoots.get(t).destructor(),this._inertRoots.delete(t),t.removeAttribute("inert")}}},{key:"getInertRoot",value:function(t){return this._inertRoots.get(t)}},{key:"register",value:function(t,e){var n=this._managedNodes.get(t);return void 0!==n?n.addInertRoot(e):n=new g(t,e),this._managedNodes.set(t,n),n}},{key:"deregister",value:function(t,e){var n=this._managedNodes.get(t);return n?(n.removeInertRoot(e),n.destroyed&&this._managedNodes.delete(t),n):null}},{key:"_onDocumentLoaded",value:function(){n.call(this._document.querySelectorAll("[inert]")).forEach((function(t){this.setInert(t,!0)}),this),this._observer.observe(this._document.body||this._document.documentElement,{attributes:!0,subtree:!0,childList:!0})}},{key:"_watchForInert",value:function(t,e){var r=this;t.forEach((function(t){switch(t.type){case"childList":n.call(t.addedNodes).forEach((function(t){if(t.nodeType===Node.ELEMENT_NODE){var e=n.call(t.querySelectorAll("[inert]"));i.call(t,"[inert]")&&e.unshift(t),e.forEach((function(t){this.setInert(t,!0)}),r)}}),r);break;case"attributes":if("inert"!==t.attributeName)return;var e=t.target,o=e.hasAttribute("inert");r.setInert(e,o)}}),this)}}]),r}())(document);Element.prototype.hasOwnProperty("inert")||Object.defineProperty(Element.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(t){s.setInert(this,t)}})}function a(t,e,n){if(t.nodeType==Node.ELEMENT_NODE){var i=t;e&&e(i);var r=i.shadowRoot;if(r)return void a(r,e,r);if("content"==i.localName){for(var o=i,g=o.getDistributedNodes?o.getDistributedNodes():[],s=0;s<g.length;s++)a(g[s],e,n);return}if("slot"==i.localName){for(var A=i,C=A.assignedNodes?A.assignedNodes({flatten:!0}):[],I=0;I<C.length;I++)a(C[I],e,n);return}}for(var c=t.firstChild;null!=c;)a(c,e,n),c=c.nextSibling}function A(t){if(!t.querySelector("style#inert-style, link#inert-style")){var e=document.createElement("style");e.setAttribute("id","inert-style"),e.textContent="\n[inert] {\n  pointer-events: none;\n  cursor: default;\n}\n\n[inert], [inert] * {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n",t.appendChild(e)}}}()},6290:(t,e,n)=>{t.exports=function t(e,n,i){function r(g,s){if(!n[g]){if(!e[g]){if(o)return o(g,!0);var a=new Error("Cannot find module '"+g+"'");throw a.code="MODULE_NOT_FOUND",a}var A=n[g]={exports:{}};e[g][0].call(A.exports,(function(t){return r(e[g][1][t]||t)}),A,A.exports,t,e,n,i)}return n[g].exports}for(var o=void 0,g=0;g<i.length;g++)r(i[g]);return r}({1:[function(t,e,i){(function(t){"use strict";var n,i,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var o=0,g=new r(C),s=t.document.createTextNode("");g.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){C(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(C,0)};else{var a=new t.MessageChannel;a.port1.onmessage=C,n=function(){a.port2.postMessage(0)}}var A=[];function C(){var t,e;i=!0;for(var n=A.length;n;){for(e=A,A=[],t=-1;++t<n;)e[t]();n=A.length}i=!1}e.exports=function(t){1!==A.push(t)||i||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var i=t(1);function r(){}var o={},g=["REJECTED"],s=["FULFILLED"],a=["PENDING"];function A(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=a,this.queue=[],this.outcome=void 0,t!==r&&l(this,t)}function C(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function I(t,e,n){i((function(){var i;try{i=e(n)}catch(e){return o.reject(t,e)}i===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,i)}))}function c(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function l(t,e){var n=!1;function i(e){n||(n=!0,o.reject(t,e))}function r(e){n||(n=!0,o.resolve(t,e))}var g=u((function(){e(r,i)}));"error"===g.status&&i(g.value)}function u(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}e.exports=A,A.prototype.catch=function(t){return this.then(null,t)},A.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===g)return this;var n=new this.constructor(r);return this.state!==a?I(n,this.state===s?t:e,this.outcome):this.queue.push(new C(n,t,e)),n},C.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},C.prototype.otherCallFulfilled=function(t){I(this.promise,this.onFulfilled,t)},C.prototype.callRejected=function(t){o.reject(this.promise,t)},C.prototype.otherCallRejected=function(t){I(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=u(c,e);if("error"===n.status)return o.reject(t,n.value);var i=n.value;if(i)l(t,i);else{t.state=s,t.outcome=e;for(var r=-1,g=t.queue.length;++r<g;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=g,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},A.resolve=function(t){return t instanceof this?t:o.resolve(new this(r),t)},A.reject=function(t){var e=new this(r);return o.reject(e,t)},A.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var g=new Array(n),s=0,a=-1,A=new this(r);++a<n;)C(t[a],a);return A;function C(t,r){e.resolve(t).then((function(t){g[r]=t,++s!==n||i||(i=!0,o.resolve(A,g))}),(function(t){i||(i=!0,o.reject(A,t))}))}},A.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n,i=t.length,g=!1;if(!i)return this.resolve([]);for(var s=-1,a=new this(r);++s<i;)n=t[s],e.resolve(n).then((function(t){g||(g=!0,o.resolve(a,t))}),(function(t){g||(g=!0,o.reject(a,t))}));return a}},{1:1}],3:[function(t,e,i){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<t.length;i+=1)n.append(t[i]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var g=Promise;function s(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function a(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function A(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function C(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var I="local-forage-detect-blob-support",c=void 0,l={},u=Object.prototype.toString,h="readonly",d="readwrite";function p(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n),r=0;r<e;r++)i[r]=t.charCodeAt(r);return n}function f(t){return"boolean"==typeof c?g.resolve(c):function(t){return new g((function(e){var n=t.transaction(I,d),i=o([""]);n.objectStore(I).put(i,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return c=t}))}function m(t){var e=l[t.name],n={};n.promise=new g((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then((function(){return n.promise})):e.dbReady=n.promise}function v(t){var e=l[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function y(t,e){var n=l[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function b(t,e){return new g((function(n,i){if(l[t.name]=l[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);m(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var g=r.open.apply(r,o);e&&(g.onupgradeneeded=function(e){var n=g.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(I)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),g.onerror=function(t){t.preventDefault(),i(g.error)},g.onsuccess=function(){n(g.result),v(t)}}))}function _(t){return b(t,!1)}function w(t){return b(t,!0)}function x(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),i=t.version<t.db.version,r=t.version>t.db.version;if(i&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),r||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function S(t){return o([p(atob(t.data))],{type:t.type})}function E(t){return t&&t.__local_forage_encoded_blob}function M(t){var e=this,n=e._initReady().then((function(){var t=l[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return a(n,t,t),n}function T(t,e,n,i){void 0===i&&(i=1);try{var r=t.db.transaction(t.storeName,e);n(null,r)}catch(r){if(i>0&&(!t.db||"InvalidStateError"===r.name||"NotFoundError"===r.name))return g.resolve().then((function(){if(!t.db||"NotFoundError"===r.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),w(t)})).then((function(){return function(t){m(t);for(var e=l[t.name],n=e.forages,i=0;i<n.length;i++){var r=n[i];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return t.db=null,_(t).then((function(e){return t.db=e,x(t)?w(t):e})).then((function(i){t.db=e.db=i;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=i})).catch((function(e){throw y(t,e),e}))}(t).then((function(){T(t,e,n,i-1)}))})).catch(n);n(r)}}var R={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]=t[i];var r=l[n.name];r||(r={forages:[],db:null,dbReady:null,deferredOperations:[]},l[n.name]=r),r.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=M);var o=[];function s(){return g.resolve()}for(var a=0;a<r.forages.length;a++){var A=r.forages[a];A!==e&&o.push(A._initReady().catch(s))}var C=r.forages.slice(0);return g.all(o).then((function(){return n.db=r.db,_(n)})).then((function(t){return n.db=t,x(n,e._defaultConfig.version)?w(n):t})).then((function(t){n.db=r.db=t,e._dbInfo=n;for(var i=0;i<C.length;i++){var o=C[i];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!r||!r.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=new g((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;g.onsuccess=function(){var n=g.result;if(n){var i=n.value;E(i)&&(i=S(i));var r=t(i,n.key,s++);void 0!==r?e(r):n.continue()}else e()},g.onerror=function(){i(g.error)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName).get(t);g.onsuccess=function(){var t=g.result;void 0===t&&(t=null),E(t)&&(t=S(t)),e(t)},g.onerror=function(){i(g.error)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=new g((function(n,r){var o;i.ready().then((function(){return o=i._dbInfo,"[object Blob]"===u.call(e)?f(o.db).then((function(t){return t?e:(n=e,new g((function(t,e){var i=new FileReader;i.onerror=e,i.onloadend=function(e){var i=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:n.type})},i.readAsBinaryString(n)})));var n})):e})).then((function(e){T(i._dbInfo,d,(function(o,g){if(o)return r(o);try{var s=g.objectStore(i._dbInfo.storeName);null===e&&(e=void 0);var a=s.put(e,t);g.oncomplete=function(){void 0===e&&(e=null),n(e)},g.onabort=g.onerror=function(){var t=a.error?a.error:a.transaction.error;r(t)}}catch(t){r(t)}}))})).catch(r)}));return s(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){T(n._dbInfo,d,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){i(g.error)},o.onabort=function(){var t=g.error?g.error:g.transaction.error;i(t)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},clear:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){T(e._dbInfo,d,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).clear();r.oncomplete=function(){t()},r.onabort=r.onerror=function(){var t=o.error?o.error:o.transaction.error;n(t)}}catch(t){n(t)}}))})).catch(n)}));return s(n,t),n},length:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return s(n,t),n},key:function(t,e){var n=this,i=new g((function(e,i){t<0?e(null):n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var g=o.objectStore(n._dbInfo.storeName),s=!1,a=g.openKeyCursor();a.onsuccess=function(){var n=a.result;n?0===t||s?e(n.key):(s=!0,n.advance(t)):e(null)},a.onerror=function(){i(a.error)}}catch(t){i(t)}}))})).catch(i)}));return s(i,e),i},keys:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).openKeyCursor(),g=[];o.onsuccess=function(){var e=o.result;e?(g.push(e.key),e.continue()):t(g)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return s(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,o=this;if(t.name){var a=t.name===n.name&&o._dbInfo.db?g.resolve(o._dbInfo.db):_(t).then((function(e){var n=l[t.name],i=n.forages;n.db=e;for(var r=0;r<i.length;r++)i[r]._dbInfo.db=e;return e}));i=t.storeName?a.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;m(t);var i=l[t.name],o=i.forages;e.close();for(var s=0;s<o.length;s++){var a=o[s];a._dbInfo.db=null,a._dbInfo.version=n}var A=new g((function(e,i){var o=r.open(t.name,n);o.onerror=function(t){o.result.close(),i(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}}));return A.then((function(t){i.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,v(n._dbInfo)}})).catch((function(e){throw(y(t,e)||g.resolve()).catch((function(){})),e}))}})):a.then((function(e){m(t);var n=l[t.name],i=n.forages;e.close();for(var o=0;o<i.length;o++)i[o]._dbInfo.db=null;var s=new g((function(e,n){var i=r.deleteDatabase(t.name);i.onerror=i.onblocked=function(t){var e=i.result;e&&e.close(),n(t)},i.onsuccess=function(){var t=i.result;t&&t.close(),e(t)}}));return s.then((function(t){n.db=t;for(var e=0;e<i.length;e++)v(i[e]._dbInfo)})).catch((function(e){throw(y(t,e)||g.resolve()).catch((function(){})),e}))}))}else i=g.reject("Invalid arguments");return s(i,e),i}};var O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=/^~~local_forage_type~([^~]+)~/,P="__lfsc__:",N=P.length,D="arbf",k="blob",j="si08",F="ui08",B="uic8",z="si16",U="si32",H="ur16",G="ui32",W="fl32",V="fl64",Z=N+D.length,Y=Object.prototype.toString;function X(t){var e,n,i,r,o,g=.75*t.length,s=t.length,a=0;"="===t[t.length-1]&&(g--,"="===t[t.length-2]&&g--);var A=new ArrayBuffer(g),C=new Uint8Array(A);for(e=0;e<s;e+=4)n=O.indexOf(t[e]),i=O.indexOf(t[e+1]),r=O.indexOf(t[e+2]),o=O.indexOf(t[e+3]),C[a++]=n<<2|i>>4,C[a++]=(15&i)<<4|r>>2,C[a++]=(3&r)<<6|63&o;return A}function J(t){var e,n=new Uint8Array(t),i="";for(e=0;e<n.length;e+=3)i+=O[n[e]>>2],i+=O[(3&n[e])<<4|n[e+1]>>4],i+=O[(15&n[e+1])<<2|n[e+2]>>6],i+=O[63&n[e+2]];return n.length%3==2?i=i.substring(0,i.length-1)+"=":n.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}var q={serialize:function(t,e){var n="";if(t&&(n=Y.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===Y.call(t.buffer))){var i,r=P;t instanceof ArrayBuffer?(i=t,r+=D):(i=t.buffer,"[object Int8Array]"===n?r+=j:"[object Uint8Array]"===n?r+=F:"[object Uint8ClampedArray]"===n?r+=B:"[object Int16Array]"===n?r+=z:"[object Uint16Array]"===n?r+=H:"[object Int32Array]"===n?r+=U:"[object Uint32Array]"===n?r+=G:"[object Float32Array]"===n?r+=W:"[object Float64Array]"===n?r+=V:e(new Error("Failed to get type for BinaryArray"))),e(r+J(i))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+t.type+"~"+J(this.result);e("__lfsc__:blob"+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}},deserialize:function(t){if(t.substring(0,N)!==P)return JSON.parse(t);var e,n=t.substring(Z),i=t.substring(N,Z);if(i===k&&L.test(n)){var r=n.match(L);e=r[1],n=n.substring(r[0].length)}var g=X(n);switch(i){case D:return g;case k:return o([g],{type:e});case j:return new Int8Array(g);case F:return new Uint8Array(g);case B:return new Uint8ClampedArray(g);case z:return new Int16Array(g);case H:return new Uint16Array(g);case U:return new Int32Array(g);case G:return new Uint32Array(g);case W:return new Float32Array(g);case V:return new Float64Array(g);default:throw new Error("Unkown type: "+i)}},stringToBuffer:X,bufferToString:J};function K(t,e,n,i){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function Q(t,e,n,i,r,o){t.executeSql(n,i,r,(function(t,g){g.code===g.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,s){s.rows.length?o(t,g):K(t,e,(function(){t.executeSql(n,i,r,o)}),o)}),o):o(t,g)}),o)}function $(t,e,n,i){var r=this;t=A(t);var o=new g((function(o,g){r.ready().then((function(){void 0===e&&(e=null);var s=e,a=r._dbInfo;a.serializer.serialize(e,(function(e,A){A?g(A):a.db.transaction((function(n){Q(n,a,"INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){o(s)}),(function(t,e){g(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(i>0)return void o($.apply(r,[t,s,n,i-1]));g(e)}}))}))})).catch(g)}));return s(o,n),o}function tt(t){return new g((function(e,n){t.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,i){for(var r=[],o=0;o<i.rows.length;o++)r.push(i.rows.item(o).name);e({db:t,storeNames:r})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}var et={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]="string"!=typeof t[i]?t[i].toString():t[i];var r=new g((function(t,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return i(t)}n.db.transaction((function(r){K(r,n,(function(){e._dbInfo=n,t()}),(function(t,e){i(e)}))}),i)}));return n.serializer=q,r},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName,[],(function(n,i){for(var o=i.rows,g=o.length,s=0;s<g;s++){var a=o.item(s),A=a.value;if(A&&(A=r.serializer.deserialize(A)),void 0!==(A=t(A,a.key,s+1)))return void e(A)}e()}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},setItem:function(t,e,n){return $.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=A(t);var i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},clear:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"DELETE FROM "+i.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,t),n},length:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(e,n){var i=n.rows.item(0).c;t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,t),n},key:function(t,e){var n=this,i=new g((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var i=n.rows.length?n.rows.item(0).key:null;e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return s(i,e),i},keys:function(t){var e=this,n=new g((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT key FROM "+i.storeName,[],(function(e,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return s(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,r=this;return s(i=t.name?new g((function(e){var i;i=t.name===n.name?r._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:i,storeNames:[t.storeName]}):e(tt(i))})).then((function(t){return new g((function(e,n){t.db.transaction((function(i){function r(t){return new g((function(e,n){i.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var o=[],s=0,a=t.storeNames.length;s<a;s++)o.push(r(t.storeNames[s]));g.all(o).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):g.reject("Invalid arguments"),e),i}};function nt(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function it(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||localStorage.length>0}var rt={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=nt(t,this._defaultConfig),it()?(this._dbInfo=e,e.serializer=q,g.resolve()):g.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=n.ready().then((function(){for(var e=n._dbInfo,i=e.keyPrefix,r=i.length,o=localStorage.length,g=1,s=0;s<o;s++){var a=localStorage.key(s);if(0===a.indexOf(i)){var A=localStorage.getItem(a);if(A&&(A=e.serializer.deserialize(A)),void 0!==(A=t(A,a.substring(r),g++)))return A}}}));return s(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo,i=localStorage.getItem(e.keyPrefix+t);return i&&(i=e.serializer.deserialize(i)),i}));return s(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=i.ready().then((function(){void 0===e&&(e=null);var n=e;return new g((function(r,o){var g=i._dbInfo;g.serializer.serialize(e,(function(e,i){if(i)o(i);else try{localStorage.setItem(g.keyPrefix+t,e),r(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||o(t),o(t)}}))}))}));return s(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return s(i,e),i},clear:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);0===i.indexOf(t)&&localStorage.removeItem(i)}}));return s(n,t),n},length:function(t){var e=this.keys().then((function(t){return t.length}));return s(e,t),e},key:function(t,e){var n=this,i=n.ready().then((function(){var e,i=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(i.keyPrefix.length)),e}));return s(i,e),i},keys:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,i=[],r=0;r<n;r++){var o=localStorage.key(r);0===o.indexOf(t.keyPrefix)&&i.push(o.substring(t.keyPrefix.length))}return i}));return s(n,t),n},dropInstance:function(t,e){if(e=C.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var i,r=this;return i=t.name?new g((function(e){t.storeName?e(nt(t,r._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):g.reject("Invalid arguments"),s(i,e),i}},ot=function(t,e){for(var n=t.length,i=0;i<n;){if((r=t[i])===(o=e)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;i++}var r,o;return!1},gt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},st={},at={},At={INDEXEDDB:R,WEBSQL:et,LOCALSTORAGE:rt},Ct=[At.INDEXEDDB._driver,At.WEBSQL._driver,At.LOCALSTORAGE._driver],It=["dropInstance"],ct=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(It),lt={description:"",driver:Ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ut(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function ht(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(gt(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var dt=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),At)if(At.hasOwnProperty(n)){var i=At[n],r=i._driver;this[n]=r,st[r]||this.defineDriver(i)}this._defaultConfig=ht({},lt),this._config=ht({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":i(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var i=new g((function(e,n){try{var i=t._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(r);for(var o=ct.concat("_initStorage"),a=0,A=o.length;a<A;a++){var C=o[a];if((!ot(It,C)||t[C])&&"function"!=typeof t[C])return void n(r)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=g.reject(e);return s(n,arguments[arguments.length-1]),n}},n=0,i=It.length;n<i;n++){var r=It[n];t[r]||(t[r]=e(r))}}();var I=function(n){st[i]&&console.info("Redefining LocalForage driver: "+i),st[i]=t,at[i]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(I,n):I(!!t._support):I(!0)}catch(t){n(t)}}));return a(i,e,n),i},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var i=st[t]?g.resolve(st[t]):g.reject(new Error("Driver not found."));return a(i,e,n),i},t.prototype.getSerializer=function(t){var e=g.resolve(q);return a(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return a(n,t,t),n},t.prototype.setDriver=function(t,e,n){var i=this;gt(t)||(t=[t]);var r=this._getSupportedDrivers(t);function o(){i._config.driver=i.driver()}function s(t){return i._extend(t),o(),i._ready=i._initStorage(i._config),i._ready}var A=null!==this._driverSet?this._driverSet.catch((function(){return g.resolve()})):g.resolve();return this._driverSet=A.then((function(){var t=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(t).then((function(t){i._driver=t._driver,o(),i._wrapLibraryMethodsWithReady(),i._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var r=t[e];return e++,i._dbInfo=null,i._ready=null,i.getDriver(r).then(s).catch(n)}o();var a=new Error("No available storage method found.");return i._driverSet=g.reject(a),i._driverSet}()}}(r)}))})).catch((function(){o();var t=new Error("No available storage method found.");return i._driverSet=g.reject(t),i._driverSet})),a(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!at[t]},t.prototype._extend=function(t){ht(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];this.supports(r)&&e.push(r)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ct.length;t<e;t++)ut(this,ct[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),pt=new dt;e.exports=pt},{3:3}]},{},[4])(4)},5635:(t,e,n)=>{n.g,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"EventEmitter",(function(){return a}));var i=n(0),r=n.n(i),o=n(1),g=n.n(o),s=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";r()(this,t),this.name=e,this.events={}}return g()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i=i||{},"function"!=typeof e)throw new TypeError("Invalid callback");return s(t).forEach((function(t){n.events[t]||(n.events[t]=[]),n.events[t].push({callback:e,options:i})})),this}},{key:"once",value:function(t,e){return this.on(t,e,{once:!0})}},{key:"off",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(t).filter((function(t){return!!e.events[t]})).forEach((function(t){if(n)for(var r=e.events[t].length;r--;){var o=e.events[t][r];(!o.options.persist||i)&&o.callback===n&&e.events[t].splice(r,1)}else e.events[t]=i?[]:e.events[t].filter((function(t){return!0===t.options.persist}))})),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return s(t).forEach((function(t){if(e.events[t])for(var n=e.events[t].length;n--;){var r=e.events[t][n],o=r.options,g=r.callback;try{g.apply(void 0,i)}catch(t){console.warn(t)}o&&o.once&&e.events[t].splice(n,1)}})),this}}]),t}()}])}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={id:i,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(6981),n(5618)})()}));