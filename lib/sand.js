/*! For license information please see sand.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.sand=e():t.sand=e()}(self,(function(){return(()=>{var t={6981:(t,e,n)=>{"use strict";n(1983);var i,r=(i=n(115))&&i.__esModule?i:{default:i};r.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),r.default._babelPolyfill=!0},1983:(t,e,n)=>{"use strict";n(6266),n(990),n(911),n(4160),n(6197),n(6728),n(4039),n(3568),n(8051),n(8250),n(5434),n(4952),n(6337),n(5666)},5873:(t,e,n)=>{n.g,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"EventEmitter",(function(){return g}));var i=n(0),r=n.n(i),o=n(1),s=n.n(o),a=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";r()(this,t),this.name=e,this.events={}}return s()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i=i||{},"function"!=typeof e)throw new TypeError("Invalid callback");return a(t).forEach((function(t){n.events[t]||(n.events[t]=[]),n.events[t].push({callback:e,options:i})})),this}},{key:"once",value:function(t,e){return this.on(t,e,{once:!0})}},{key:"off",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(t).filter((function(t){return!!e.events[t]})).forEach((function(t){if(n)for(var r=e.events[t].length;r--;){var o=e.events[t][r];(!o.options.persist||i)&&o.callback===n&&e.events[t].splice(r,1)}else e.events[t]=i?[]:e.events[t].filter((function(t){return!0===t.options.persist}))})),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return a(t).forEach((function(t){if(e.events[t])for(var n=e.events[t].length;n--;){var r=e.events[t][n],o=r.options,s=r.callback;try{s.apply(void 0,i)}catch(t){console.warn(t)}o&&o.once&&e.events[t].splice(n,1)}})),this}}]),t}()}])},9970:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Center:()=>sR,getUrlPara:()=>aR});var i=n(5873);function r(t){var e,n;return(n="getElement"in t&&"function"==typeof t.getElement?t.getElement():t).nodeType?e=n:n.jquery?e=n.get(0):"node"in n&&(e=n.node()),e}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map={}}var e,n;return e=t,n=[{key:"Get",value:function(t){return this.map[t]||null}},{key:"Add",value:function(){return this.Register.apply(this,arguments)}},{key:"Register",value:function(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof t&&null!==i?(e=t,n=i):"name"in t&&(e=t.name,n=t),!(e in this.map)&&(this.map[e]=n,!0)}},{key:"Remove",value:function(t){return this.Deregister(t)}},{key:"Deregister",value:function(t){return t in this.map&&(delete this.map[t],!0)}},{key:"ListKeys",value:function(){return Object.keys(this.map).sort()}},{key:"List",value:function(){var t=this;return Object.keys(this.map).sort().map((function(e){return t.map[e]}))}},{key:"Map",value:function(){return this.map}}],n&&o(e.prototype,n),t}();const a=s;function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function A(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function C(t,e){return C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},C(t,e)}function I(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var l={name:"example",render:function(t){return function(t,e){t.setState(e),t.getElement().html("<h2>"+e.text+"</h2>")}},initState:{text:"Example1 Init State"}},u={name:"example2",render:function(t){return function(t,e){t.setState(e),t.getElement().html("<h3>"+e.text+"</h3>")}},initState:{text:"Example2 Init State"}},h={name:"example3",render:function(t,e){return function(t,e){t.setState(e);var n=r(t.getElement());n.innerHTML="";var i=document.createElement("input");i.setAttribute("value",e.text),n.appendChild(i),i.addEventListener("keyup",(function(t){"Enter"===t.key&&i.blur()})),i.onblur=function(){var n=i.value;e.text=n,t.setState(e)}}},initState:{text:"Example3 Init State"}};const f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(i);if(r){var n=c(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return I(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this)}return e=s,(n=[{key:"initDemo",value:function(){return this.Register(l),this.Register(u),this.Register(h),this}}])&&A(e.prototype,n),s}(a);var p=n(6001),m=n.n(p);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){var e="function"==typeof Map?new Map:void 0;return w=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return x(t,arguments,M(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),E(n,t)},w(t)}function x(t,e,n){return x=S()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&E(r,n.prototype),r},x.apply(null,arguments)}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function E(t,e){return E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},E(t,e)}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(s,t);var e,n,i,r,o=(e=s,n=S(),function(){var t,i=M(e);if(n){var r=M(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return b(this,t)});function s(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this))._core={},t._packages=new f;var e=_(t);return t.panelDb=m().createInstance({name:e.namespace+"_paneldb"}),t}return i=s,(r=[{key:"core",get:function(){return this._core},set:function(t){this._core=t}},{key:"namespace",get:function(){return this.getAttribute("namespace")||"sand"},set:function(t){"panelDb"in this&&(this.panelDb=m().createInstance({name:this.namespace+"_paneldb"})),this.setAttribute("namespace",t)}},{key:"packages",get:function(){return this._packages},set:function(t){this._packages=t}}])&&y(i.prototype,r),s}(w(HTMLElement));const R=T;function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}const L=function(t){"function"==typeof t&&t(),"object"==O(t)&&"emit"in t&&t.emit("close")};var k,D=new Uint8Array(16);function N(){if(!k&&!(k="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return k(D)}const P=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,j=function(t){return"string"==typeof t&&P.test(t)};for(var F=[],z=0;z<256;++z)F.push((z+256).toString(16).substr(1));const B=function(t,e,n){var i=(t=t||{}).random||(t.rng||N)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(F[t[e+0]]+F[t[e+1]]+F[t[e+2]]+F[t[e+3]]+"-"+F[t[e+4]]+F[t[e+5]]+"-"+F[t[e+6]]+F[t[e+7]]+"-"+F[t[e+8]]+F[t[e+9]]+"-"+F[t[e+10]]+F[t[e+11]]+F[t[e+12]]+F[t[e+13]]+F[t[e+14]]+F[t[e+15]]).toLowerCase();if(!j(n))throw TypeError("Stringified UUID is invalid");return n}(i)};function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){W(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function W(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Z(t,e){return Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Z(t,e)}function Y(t,e){if(e&&("object"===U(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=X(i);if(r){var n=X(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Y(this,t)});function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this))._el=t,n._uuid=B(),n.state=e||{},n}return e=s,n=[{key:"uuid",get:function(){return this._uuid},set:function(t){this._uuid=t}},{key:"el",get:function(){return this._el},set:function(t){this._el=t}},{key:"height",get:function(){return this._height||void 0},set:function(t){this._height=t}},{key:"width",get:function(){return this._width||void 0},set:function(t){this._width=t}},{key:"getElement",value:function(){return this._el}},{key:"getNode",value:function(){return this._el}},{key:"updateSize",value:function(){}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(t){this.state=t}},{key:"extendState",value:function(t){this.state=G(G({},this.state),t)}}],n&&V(e.prototype,n),s}(n(9801).EventEmitter);const K=J;function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var $=function(){function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];q(this,t),this.name=e,this.version=n,this.render=i,this.initState=r,this.dependencies=o}var e,n;return e=t,(n=[{key:"name",get:function(){return this._name},set:function(t){this._name=t}},{key:"version",get:function(){return this._version},set:function(t){this._version=t}}])&&Q(e.prototype,n),t}();const tt=$;function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function nt(t,e){return nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nt(t,e)}function it(t,e){if(e&&("object"===et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rt(t)}const ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rt(e);if(n){var r=rt(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return it(this,t)});function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),i.call(this)}return r}(a),st=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"string"!=typeof t&&"is"in t&&(t=(e=t).is);var n=customElements.get(t);return void 0===n?customElements.define(t,e):e=n,e};var at,gt=new Uint8Array(16);function At(){if(!at&&!(at="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return at(gt)}const Ct=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,It=function(t){return"string"==typeof t&&Ct.test(t)};for(var ct=[],lt=0;lt<256;++lt)ct.push((lt+256).toString(16).substr(1));const ut=function(t,e,n){var i=(t=t||{}).random||(t.rng||At)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ct[t[e+0]]+ct[t[e+1]]+ct[t[e+2]]+ct[t[e+3]]+"-"+ct[t[e+4]]+ct[t[e+5]]+"-"+ct[t[e+6]]+ct[t[e+7]]+"-"+ct[t[e+8]]+ct[t[e+9]]+"-"+ct[t[e+10]]+ct[t[e+11]]+ct[t[e+12]]+ct[t[e+13]]+ct[t[e+14]]+ct[t[e+15]]).toLowerCase();if(!It(n))throw TypeError("Stringified UUID is invalid");return n}(i)};var ht=n(5183);function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function ft(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function pt(t,e){return pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},pt(t,e)}function mt(t,e){if(e&&("object"===dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vt(t){return vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vt(t)}var yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vt(i);if(r){var n=vt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return mt(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this))._uuid=ut(),t}return e=s,(n=[{key:"onMessage",value:function(t,e){}},{key:"uuid",get:function(){return this._uuid},set:function(t){this._uuid=t}}])&&ft(e.prototype,n),s}(ht.EventEmitter);function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function _t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function wt(t,e){return wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wt(t,e)}function xt(t,e){if(e&&("object"===bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}var Et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(a,t);var e,n,i,r,o,s=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(r);if(o){var n=St(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return xt(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this)).outputs={},t.inputs={},t._onMessage=t._onMessage_,t._process=function(t){return t},t._effect=!1,t.history=Array(10).fill(""),t.hi=0,t.postMessage=function(){},t.onMessage=function(){},t}return e=a,n=[{key:"name",get:function(){return this._name||this.uuid},set:function(t){this._name=t}},{key:"process",get:function(){return this._process},set:function(t){this._process=t}},{key:"effect",get:function(){return this._effect},set:function(t){this._effect=t}},{key:"onMessage",get:function(){return this._onMessage},set:function(t){var e=this;this._onMessage=function(n,i){var r=e._onMessage_(n,i);return r&&("_onMessageEffect_"in e&&e.effect&&e._onMessageEffect_(n,i),t(n,i)),r}}},{key:"postMessage",get:function(){return this._postMessage},set:function(t){var e=this;this._postMessage=function(n){if("string"==typeof n){var i={};i.text=n,n=i}"_uuid_"in n||(n._uuid_=ut()),e._postMessage_(n),"_postMessageEffect_"in e&&e.effect&&e._postMessageEffect_(n),t(n)}}},{key:"_onMessage_",value:function(t,e){var n=this;if(e=e||t._from_,void 0===t)return!1;if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}if(!("_uuid_"in t))return console.log("Warning: without _uuid_",n.name),!1;for(var i=0;i<10;i++)if(t._uuid_===n.history[i])return console.log("a.uuid equal history",t._uuid_),!1;if("string"==typeof e){var r={};r[e]=1,e=r}var o=n.uuid,s=JSON.parse(JSON.stringify(e)),a=0;Object.keys(s).forEach((function(t){a<s[t]&&(a=s[t])})),s[o]=a+1,this.history[this.hi]=t._uuid_;var g=n.process(t);return Object.keys(this.outputs).forEach((function(t){t in e||n.outputs[t].onMessage(g,s)})),!0}},{key:"_postMessage_",value:function(t){var e=this;this.history[this.hi]=t._uuid_,this.hi=(this.hi+1)%10;var n={};n[e.uuid]=1,Object.keys(this.outputs).forEach((function(i){e.outputs[i].onMessage(t,n)}))}},{key:"register",value:function(t,e){var n=e||t.uuid;this.outputs[n]=t,t.inputs[this.uuid]=this}},{key:"linkto",value:function(t,e){this.register(t,e)}},{key:"deregister",value:function(t){var e;null!=t&&("string"==typeof t?e=t:"string"==typeof t.uuid&&(e=t.uuid),delete this.outputs[e].inputs[this.uuid],delete this.outputs[e])}},{key:"unlink",value:function(t){this.deregister(t)}},{key:"size",value:function(){return Object.keys(this.outputs).length}},{key:"inputSize",value:function(){return Object.keys(this.inputs).length}},{key:"close",value:function(){var t=this;Object.keys(this.outputs).forEach((function(e){t.deregister(e)})),Object.keys(this.inputs).forEach((function(e){t.inputs[e].deregister(t.uuid)})),this.emit("close")}}],i=[{key:"is",get:function(){return"node"}}],n&&_t(e.prototype,n),i&&_t(e,i),a}(yt);const Mt=Et;function Tt(t){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tt(t)}function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Lt(t,e,n){return Lt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pt(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},Lt(t,e,n||t)}function kt(t,e){return kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},kt(t,e)}function Dt(t,e){if(e&&("object"===Tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Nt(t)}function Nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pt(t){return Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pt(t)}var jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kt(t,e)}(a,t);var e,n,i,r,o,s=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pt(r);if(o){var n=Pt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Dt(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Rt(this,a);var n=Nt(t=s.call(this));return t.data={},t.listener={},t.state={},t.localDef=!0,n.setState(e),t.ready=!0,t}return e=a,n=[{key:"_onMessage_",value:function(t,e){var n,i=this,r=Lt(Pt(a.prototype),"_onMessage_",this).call(this,t,e);if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return r&&("code"in t&&"set"==t.code&&"data"in t&&("key"in(n=t.data)&&"value"in n?(i.ready=!1,i._update_(n.key,n.value)):console.warn("error set value",n)),"code"in t&&"delete"==t.code&&"data"in t&&("key"in(n=t.data)?(i.ready=!1,i._delete_(n.key)):console.warn("error delete",n.key))),r}},{key:"setState",value:function(t){var e=this;Object.keys(this.data).forEach((function(n){n in t||e._delete_(n)})),e.extendState(t),e.emit("setState",t)}},{key:"extendState",value:function(t){var e=this;Object.keys(t).forEach((function(n){e.define(n),e.set(n,t[n])}))}},{key:"getState",value:function(){return this.state}},{key:"_update_",value:function(t,e){var n;this.data&&t in this.data&&(n=this.data[t]),t in this.state||this.define(t),this.data[t]=e,this.listener&&t in this.listener&&this.listener[t](e,n),e!==n&&this.emit("change",{key:t,old:n,new:e})}},{key:"set",value:function(t,e){this.state[t]=e}},{key:"get",value:function(t){return this.state[t]}},{key:"onChange",value:function(t,e){this.listener[t]=e}},{key:"define",value:function(t,e){var n=this;return t in n.state?0:(Object.defineProperty(this.state,t,{configurable:!0,get:function(){return n.data[t]},set:function(e){n._update_(t,e),n.postMessage({code:"set",data:{key:t,value:e}}),n.ready=!0}}),n.data[t]=n.data[t]||void 0,void 0!==e&&(n.listener[t]=e),!0)}},{key:"global",value:function(t,e){return this.define(t,e)}},{key:"add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(!(t in this.state)){if(this.define(t,e),"_getValueFromBridge_"in this){var n=this._getValueFromBridge_(t);void 0!==n&&this.set(t,n)}return!0}return!1}},{key:"_delete_",value:function(t){var e=this.data[t];if(t in this.state){delete this.state[t];var n=this.data[t];delete this.data[t],t in this.listener&&(this.listener[t](void 0,n),delete this.listener[t])}this.emit("change",{key:t,old:e,new:void 0})}},{key:"delete",value:function(t){this._delete_(t),this.postMessage({code:"delete",data:{key:t}}),this.ready=!0}},{key:"remove",value:function(t){this._delete_(t)}},{key:"close",value:function(){Lt(Pt(a.prototype),"close",this).call(this),this.listener=null,this.data=null,this.state=null}}],i=[{key:"is",get:function(){return"state"}}],n&&Ot(e.prototype,n),i&&Ot(e,i),a}(Mt);const Ft=jt;function zt(t){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(t)}function Bt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ut(t,e){return Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ut(t,e)}function Ht(t,e){if(e&&("object"===zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gt(t)}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(a,t);var e,n,i,r,o,s=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gt(r);if(o){var n=Gt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ht(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=s.call(this,e)).storageId=t,n.fetchStorage(),n}return e=a,n=[{key:"saveToStorage",value:function(){localStorage.setItem(this.storageId,JSON.stringify(this.data))}},{key:"fetchStorage",value:function(){var t=localStorage.getItem(this.storageId),e=!1;try{if(t&&void 0!==t){var n=JSON.parse(t);this.setState(n),e=!0}}catch(t){console.warn(t)}return e}}],i=[{key:"is",get:function(){return"storage"}}],n&&Bt(e.prototype,n),i&&Bt(e,i),a}(Ft);function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function Zt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Yt(t,e,n){return Yt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qt(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},Yt(t,e,n||t)}function Xt(t,e){return Xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Xt(t,e)}function Jt(t,e){if(e&&("object"===Vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Kt(t)}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qt(t){return qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qt(t)}var Qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xt(t,e)}(a,t);var e,n,i,r,o,s=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qt(r);if(o){var n=qt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Jt(this,t)});function a(t,e,n){var i,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),r=0==t.length?e:t+"/"+e,(i=s.call(this,r,n)).namespace=t,i.chan=new BroadcastChannel(r),console.log("connect to broadcast channel",r),i.chanId=e,i.fetchStorage(),i._name=e;var o=r+"-"+ut(),g=Kt(i);return i.chanUuid=o,i.chan.onmessage=function(t){var e=t.data,n={};n[o]=1,g.onMessage(e,n)},i}return e=a,i=[{key:"is",get:function(){return"broadcast"}}],(n=[{key:"_postMessage_",value:function(t){Yt(qt(a.prototype),"_postMessage_",this).call(this,t),this.chan&&this.chan.postMessage(t)}},{key:"_onMessage_",value:function(t,e){var n=Yt(qt(a.prototype),"_onMessage_",this).call(this,t,e);if(n){if("string"==typeof e){var i={};i[e]=1,e=i}this.chanUuid in e||this.chan.postMessage(t)}return n}},{key:"close",value:function(){console.log("broadcast channel close",this.namespace,this.chanId),this.chan.close(),Yt(qt(a.prototype),"close",this).call(this)}}])&&Zt(e.prototype,n),i&&Zt(e,i),a}(Wt);const $t=Qt;function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e,n,i,r,o,s){try{var a=t[o](s),g=a.value}catch(t){return void n(t)}a.done?e(g):Promise.resolve(g).then(i,r)}function ne(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ie(t,e){return ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ie(t,e)}function re(t,e){if(e&&("object"===te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return oe(t)}function oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function se(t){return se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},se(t)}var ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ie(t,e)}(g,t);var e,n,i,r,o,s,a=(o=g,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=se(o);if(s){var n=se(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return re(this,t)});function g(t,e,n,i){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g);var o=oe(r=a.call(this,i));return t.length>0?o.chanId=t+"-"+e||"reflex-bridge-01":o.chanId=e||"reflex-bridge-01",o.extId=n||"fdkkfkobdhkphjaafbiaekmkfeenajfk",o.bridgeUuid=o.chanId+"-"+ut(),r}return e=g,n=[{key:"connect",value:(r=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function s(t){ee(o,i,r,s,a,"next",t)}function a(t){ee(o,i,r,s,a,"throw",t)}s(void 0)}))}}(regeneratorRuntime.mark((function t(){var e,n,i,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(e=this).chanId,i=e.bridgeUuid,r=e.extId,o=new Promise((function(t,o){try{window.chrome.runtime.sendMessage(r,{message:"version"},(function o(s){var a;s&&s.version?(s.version,(a=window.chrome.runtime.connect(r)).postMessage({chanId:n}),a.onDisconnect.addListener((function(n){console.log("disconnect to extension ",r),console.log("reconnect",r);try{window.chrome.runtime.sendMessage(r,{message:"version"},o)}catch(n){e.ready=!1,t("not connect")}})),e.onMessage=function(t,e){if("string"==typeof e){var n={};n[e]=1,e=n}i in e||a.postMessage(t)},e.port=a,e.ready=!0,e.on("close",(function(t){a.disconnect()})),a.onMessage.addListener((function(n){"_code_"in n?("state"==n._code_&&e.setState(n.data),t(a)):(n._from_=i,e.postMessage(n))})),a.postMessage({_code_:"getState"})):(e.ready=!1,t("not connect"))}))}catch(n){e.ready=!1,t("not connect")}})),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],i=[{key:"is",get:function(){return"bridge"}}],n&&ne(e.prototype,n),i&&ne(e,i),g}(Ft);const ge=ae;function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Ce(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ie(t,e,n){return Ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ue(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},Ie(t,e,n||t)}function ce(t,e){return ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ce(t,e)}function le(t,e){if(e&&("object"===Ae(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ue(t){return ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ue(t)}var he=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}(a,t);var e,n,i,r,o,s=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ue(r);if(o){var n=ue(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return le(this,t)});function a(t,e,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(i=s.call(this,t,e)).worker=n,"error"!==i.worker.status&&void 0!==i.worker.worker&&(i.worker.worker.port.onmessage=function(t){var n=t.data;"getStateResult"==n.code&&(n.data&&Object.keys(n.data).length>0?i.setState(n.data):Object.keys(i.data).length>0&&i.worker.worker.port.postMessage({code:"setState",channel:e,data:i.data}))},i.worker.worker.port.postMessage({code:"getState",channel:e})),i}return e=a,i=[{key:"is",get:function(){return"worker"}}],(n=[{key:"_onMessage_",value:function(t,e){var n,i=Ie(ue(a.prototype),"_onMessage_",this).call(this,t,e);return"error"!==this.worker.status&&i&&!(this.chanUuid in e)&&("code"in t&&"set"==t.code&&"data"in t&&"key"in(n=t.data)&&"value"in n&&this.worker.worker.port.postMessage({code:"set",channel:this.chanId,key:n.key,value:n.value}),"code"in t&&"delete"==t.code&&"data"in t&&"key"in(n=t.data)&&this.worker.worker.port.postMessage({code:"delete",channel:this.chanId,key:n.key})),i}},{key:"close",value:function(){Ie(ue(a.prototype),"close",this).call(this),"error"!==this.worker.status&&this.worker.worker.port.postMessage({code:"close",channel:this.chanId})}}])&&Ce(e.prototype,n),i&&Ce(e,i),a}($t);const de=he;function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function me(t,e){return me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},me(t,e)}function ve(t,e){if(e&&("object"===fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ye(t){return ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ye(t)}var be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&me(t,e)}(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=ye(e);if(n){var r=ye(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return ve(this,t)});function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reflexiv",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"./bridge-worker.js";if(pe(this,r),(t=i.call(this,e)).namespace=e,t.status="inited",t.WorkerURL=n,window.SharedWorker)try{var o=new SharedWorker(t.WorkerURL,t.namespace);o.onerror=function(e){console.log("error",e),t.status="error",t.emit("error")},t.worker=o}catch(t){}return t}return r}(ht.EventEmitter);const _e=be;function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Se(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ee(t,e){if(e&&("object"===we(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Me(t){var e="function"==typeof Map?new Map:void 0;return Me=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Te(t,arguments,Le(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Oe(n,t)},Me(t)}function Te(t,e,n){return Te=Re()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Oe(r,n.prototype),r},Te.apply(null,arguments)}function Re(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Oe(t,e){return Oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Oe(t,e)}function Le(t){return Le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Le(t)}function ke(t,e,n,i,r,o,s){try{var a=t[o](s),g=a.value}catch(t){return void n(t)}a.done?e(g):Promise.resolve(g).then(i,r)}function De(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function s(t){ke(o,i,r,s,a,"next",t)}function a(t){ke(o,i,r,s,a,"throw",t)}s(void 0)}))}}var Ne="nkmanppanbngccejhelchmlnjgldmajb",Pe=function(){var t=De(regeneratorRuntime.mark((function t(e,n,i,r,o,s,a,g){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n in e){t.next=7;break}if(e[n]=o(),!("connect"in e[n])){t.next=6;break}return t.next=5,e[n].connect();case 5:0==e[n].ready&&(e[n].close(),delete e[n],console.log("not connect bridge"),console.log("downgrade to worker broadcast node"),e[n]=new de(g,s,a));case 6:e[n].name=s;case 7:return i?r.uuid in e[n].outputs||e[n].register(r):r.uuid in e[n].inputs||r.register(e[n]),t.abrupt("return",e[n]);case 9:case"end":return t.stop()}}),t)})));return function(e,n,i,r,o,s,a,g){return t.apply(this,arguments)}}(),je=function(t,e,n,i){n?t[e].deregister(i):i.deregister(t[e]),"_getValueFromBridge_"in i&&delete i._getValueFromBridge_;var r=t[e].size()+t[e].inputSize();return 0==t[e].size()&&0==t[e].inputSize()&&(t[e].close(),console.log("close channel",e),delete t[e]),r},Fe=function(t){Object.keys(t).forEach((function(e){t[e].close()}))},ze=function(t,e){var n,i,r=!0;return"string"==typeof t?(n=t,i=e):"string"==typeof e&&(n=e,i=t,r=!1),{n,node:i,forward:r}},Be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oe(t,e)}(a,t);var e,n,i,r,o,s=(e=a,n=Re(),function(){var t,i=Le(e);if(n){var r=Le(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return Ee(this,t)});function a(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return xe(this,a),(e=s.call(this)).A={},e.B={},e.C={},e._ns=t||"reflexiv",e.extId=n.extId||Ne,e.worker=new _e(e.namespace,n.WorkerURL),e}return i=a,r=[{key:"namespace",get:function(){return this._ns},set:function(t){this._ns=t}},{key:"generateChanId",value:function(t){return this.namespace+"/"+t}},{key:"link",value:(o=De(regeneratorRuntime.mark((function t(e,n){var i,r,o,s,a,g,A,C,I;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this,r=ze(e,n),o=r.n,s=r.node,a=r.forward,g=o.split("-"),A=o,C=this.extId,2!=g.length){t.next=28;break}if("a"!=g[0]){t.next=13;break}return t.next=12,Pe(this.A,o,a,s,(function(){return new Ft}),A);case 12:I=t.sent;case 13:if("b"!=g[0]){t.next=17;break}return t.next=16,Pe(this.B,o,a,s,(function(){return new de(i.namespace,A,i.worker)}),A);case 16:I=t.sent;case 17:if("c"!=g[0]){t.next=21;break}return t.next=20,Pe(this.C,o,a,s,(function(){return new ge(i.namespace,A,C)}),A,i.worker,i.namespace);case 20:I=t.sent;case 21:if("N"!=g[0]){t.next=26;break}return A=g[1],t.next=25,Pe(this.C,g[1],a,s,(function(){return new ge("",g[1],C)}),g[1],i.worker);case 25:I=t.sent;case 26:t.next=31;break;case 28:return t.next=30,Pe(this.A,o,a,s,(function(){return new Mt}),A);case 30:I=t.sent;case 31:return t.abrupt("return",I);case 32:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:"unlink",value:function(t,e){var n=ze(t,e),i=n.n,r=n.node,o=n.forward;if(void 0===i)return!1;var s,a=i.split("-");return 2==a.length?("a"==a[0]&&(s=je(this.A,i,o,r)),"b"==a[0]&&(s=je(this.B,i,o,r)),"c"==a[0]&&(s=je(this.C,i,o,r)),"N"==a[0]&&(s=je(this.C,a[1],o,r))):s=je(this.A,i,o,r),s}},{key:"getNode",value:function(t){var e,n=t.split("-");return 2==n.length?("a"==n[0]&&(e=this.A[t]||void 0),"b"==n[0]&&(e=this.B[t]||void 0),"c"==n[0]&&(e=this.C[t]||void 0),"N"==n[0]&&(e=this.C[n[1]]||void 0)):e=this.A[t]||void 0,e}},{key:"close",value:function(){Fe(this.A),Fe(this.B),Fe(this.C)}}],r&&Se(i.prototype,r),a}(Me(Object));function Ue(t){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(t)}function He(t,e,n,i,r,o,s){try{var a=t[o](s),g=a.value}catch(t){return void n(t)}a.done?e(g):Promise.resolve(g).then(i,r)}function Ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function We(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ve(t,e,n){return Ve="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xe(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},Ve(t,e,n||t)}function Ze(t,e){return Ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ze(t,e)}function Ye(t,e){if(e&&("object"===Ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xe(t){return Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xe(t)}var Je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ze(t,e)}(a,t);var e,n,i,r,o,s=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xe(r);if(o){var n=Xe(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ye(this,t)});function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reflexiv",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ge(this,a),(t=s.call(this,e,n)).worker=new _e(t.namespace,n.WorkerURL),t}return e=a,n=[{key:"link",value:(i=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function s(t){He(o,i,r,s,a,"next",t)}function a(t){He(o,i,r,s,a,"throw",t)}s(void 0)}))}}(regeneratorRuntime.mark((function t(e,n){var i,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ve(Xe(a.prototype),"link",this).call(this,e,n);case 2:return i=t.sent,(r=ze(e,n)).n,o=r.node,r.forward&&"state"in o&&"node"!==i.constructor.is&&(o.localDef?(Object.keys(o.data).forEach((function(t){var e,n=o.data[t];t in i.data&&(e=i.data[t]),o.data[t]=e,t in o.listener&&o.listener[t](e,n)})),o._getValueFromBridge_=function(t){if(t in i.data)return i.data[t]}):o.setState(i.data)),t.abrupt("return",i);case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})}],n&&We(e.prototype,n),a}(Be);const Ke=Je;HTMLElement,n(5635);var qe=function(t,e){return qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},qe(t,e)};function Qe(t,e){function n(){this.constructor=t}qe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var $e=function(){return $e=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},$e.apply(this,arguments)};function tn(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}const en="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,nn=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}},rn=`{{lit-${String(Math.random()).slice(2)}}}`,on=`\x3c!--${rn}--\x3e`,sn=new RegExp(`${rn}|${on}`),an="$lit$";class gn{constructor(t,e){this.parts=[],this.element=e;const n=[],i=[],r=document.createTreeWalker(e.content,133,null,!1);let o=0,s=-1,a=0;const{strings:g,values:{length:A}}=t;for(;a<A;){const t=r.nextNode();if(null!==t){if(s++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let i=0;for(let t=0;t<n;t++)An(e[t].name,an)&&i++;for(;i-- >0;){const e=g[a],n=cn.exec(e)[2],i=n.toLowerCase()+an,r=t.getAttribute(i);t.removeAttribute(i);const o=r.split(sn);this.parts.push({type:"attribute",index:s,name:n,strings:o}),a+=o.length-1}}"TEMPLATE"===t.tagName&&(i.push(t),r.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(rn)>=0){const i=t.parentNode,r=e.split(sn),o=r.length-1;for(let e=0;e<o;e++){let n,o=r[e];if(""===o)n=In();else{const t=cn.exec(o);null!==t&&An(t[2],an)&&(o=o.slice(0,t.index)+t[1]+t[2].slice(0,-an.length)+t[3]),n=document.createTextNode(o)}i.insertBefore(n,t),this.parts.push({type:"node",index:++s})}""===r[o]?(i.insertBefore(In(),t),n.push(t)):t.data=r[o],a+=o}}else if(8===t.nodeType)if(t.data===rn){const e=t.parentNode;null!==t.previousSibling&&s!==o||(s++,e.insertBefore(In(),t)),o=s,this.parts.push({type:"node",index:s}),null===t.nextSibling?t.data="":(n.push(t),s--),a++}else{let e=-1;for(;-1!==(e=t.data.indexOf(rn,e+1));)this.parts.push({type:"node",index:-1}),a++}}else r.currentNode=i.pop()}for(const t of n)t.parentNode.removeChild(t)}}const An=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},Cn=t=>-1!==t.index,In=()=>document.createComment(""),cn=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function ln(t,e){const{element:{content:n},parts:i}=t,r=document.createTreeWalker(n,133,null,!1);let o=hn(i),s=i[o],a=-1,g=0;const A=[];let C=null;for(;r.nextNode();){a++;const t=r.currentNode;for(t.previousSibling===C&&(C=null),e.has(t)&&(A.push(t),null===C&&(C=t)),null!==C&&g++;void 0!==s&&s.index===a;)s.index=null!==C?-1:s.index-g,o=hn(i,o),s=i[o]}A.forEach((t=>t.parentNode.removeChild(t)))}const un=t=>{let e=11===t.nodeType?0:1;const n=document.createTreeWalker(t,133,null,!1);for(;n.nextNode();)e++;return e},hn=(t,e=-1)=>{for(let n=e+1;n<t.length;n++){const e=t[n];if(Cn(e))return n}return-1},dn=new WeakMap,fn=t=>(...e)=>{const n=t(...e);return dn.set(n,!0),n},pn=t=>"function"==typeof t&&dn.has(t),mn={},vn={};class yn{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=en?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,i=document.createTreeWalker(t,133,null,!1);let r,o=0,s=0,a=i.nextNode();for(;o<n.length;)if(r=n[o],Cn(r)){for(;s<r.index;)s++,"TEMPLATE"===a.nodeName&&(e.push(a),i.currentNode=a.content),null===(a=i.nextNode())&&(i.currentNode=e.pop(),a=i.nextNode());if("node"===r.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(a.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(a,r.name,r.strings,this.options));o++}else this.__parts.push(void 0),o++;return en&&(document.adoptNode(t),customElements.upgrade(t)),t}}const bn=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),_n=` ${rn} `;class wn{constructor(t,e,n,i){this.strings=t,this.values=e,this.type=n,this.processor=i}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let i=0;i<t;i++){const t=this.strings[i],r=t.lastIndexOf("\x3c!--");n=(r>-1||n)&&-1===t.indexOf("--\x3e",r+1);const o=cn.exec(t);e+=null===o?t+(n?_n:on):t.substr(0,o.index)+o[1]+o[2]+an+o[3]+rn}return e+=this.strings[t],e}getTemplateElement(){const t=document.createElement("template");let e=this.getHTML();return void 0!==bn&&(e=bn.createHTML(e)),t.innerHTML=e,t}}const xn=t=>null===t||!("object"==typeof t||"function"==typeof t),Sn=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class En{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new Mn(this)}_getValue(){const t=this.strings,e=t.length-1,n=this.parts;if(1===e&&""===t[0]&&""===t[1]){const t=n[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!Sn(t))return t}let i="";for(let r=0;r<e;r++){i+=t[r];const e=n[r];if(void 0!==e){const t=e.value;if(xn(t)||!Sn(t))i+="string"==typeof t?t:String(t);else for(const e of t)i+="string"==typeof e?e:String(e)}}return i+=t[e],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Mn{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===mn||xn(t)&&t===this.value||(this.value=t,pn(t)||(this.committer.dirty=!0))}commit(){for(;pn(this.value);){const t=this.value;this.value=mn,t(this)}this.value!==mn&&this.committer.commit()}}class Tn{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(In()),this.endNode=t.appendChild(In())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=In()),t.__insert(this.endNode=In())}insertAfterPart(t){t.__insert(this.startNode=In()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;pn(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=mn,t(this)}const t=this.__pendingValue;t!==mn&&(xn(t)?t!==this.value&&this.__commitText(t):t instanceof wn?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):Sn(t)?this.__commitIterable(t):t===vn?(this.value=vn,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof yn&&this.value.template===e)this.value.update(t.values);else{const n=new yn(e,t.processor,this.options),i=n._clone();n.update(t.values),this.__commitNode(i),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,i=0;for(const r of t)n=e[i],void 0===n&&(n=new Tn(this.options),e.push(n),0===i?n.appendIntoPart(this):n.insertAfterPart(e[i-1])),n.setValue(r),n.commit(),i++;i<e.length&&(e.length=i,this.clear(n&&n.endNode))}clear(t=this.startNode){nn(this.startNode.parentNode,t.nextSibling,this.endNode)}}class Rn{constructor(t,e,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.__pendingValue=t}commit(){for(;pn(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=mn,t(this)}if(this.__pendingValue===mn)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=mn}}class On extends En{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new Ln(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class Ln extends Mn{}let kn=!1;(()=>{try{const t={get capture(){return kn=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class Dn{constructor(t,e,n){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;pn(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=mn,t(this)}if(this.__pendingValue===mn)return;const t=this.__pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),i=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=Nn(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=mn}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const Nn=t=>t&&(kn?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);function Pn(t){let e=jn.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},jn.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const i=t.strings.join(rn);return n=e.keyString.get(i),void 0===n&&(n=new gn(t,t.getTemplateElement()),e.keyString.set(i,n)),e.stringsArray.set(t.strings,n),n}const jn=new Map,Fn=new WeakMap,zn=new class{handleAttributeExpressions(t,e,n,i){const r=e[0];return"."===r?new On(t,e.slice(1),n).parts:"@"===r?[new Dn(t,e.slice(1),i.eventContext)]:"?"===r?[new Rn(t,e.slice(1),n)]:new En(t,e,n).parts}handleTextExpression(t){return new Tn(t)}};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const Bn=(t,...e)=>new wn(t,e,"html",zn),Un=(t,e)=>`${t}--${e}`;let Hn=!0;void 0===window.ShadyCSS?Hn=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Hn=!1);const Gn=t=>e=>{const n=Un(e.type,t);let i=jn.get(n);void 0===i&&(i={stringsArray:new WeakMap,keyString:new Map},jn.set(n,i));let r=i.stringsArray.get(e.strings);if(void 0!==r)return r;const o=e.strings.join(rn);if(r=i.keyString.get(o),void 0===r){const n=e.getTemplateElement();Hn&&window.ShadyCSS.prepareTemplateDom(n,t),r=new gn(e,n),i.keyString.set(o,r)}return i.stringsArray.set(e.strings,r),r},Wn=["html","svg"],Vn=new Set;window.JSCompiler_renameProperty=(t,e)=>t;const Zn={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},Yn=(t,e)=>e!==t&&(e==e||t==t),Xn={attribute:!0,type:String,converter:Zn,reflect:!1,hasChanged:Yn};class Jn extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach(((e,n)=>{const i=this._attributeNameForProperty(n,e);void 0!==i&&(this._attributeToPropertyMap.set(i,n),t.push(i))})),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach(((t,e)=>this._classProperties.set(e,t)))}}static createProperty(t,e=Xn){if(this._ensureClassProperties(),this._classProperties.set(t,e),e.noAccessor||this.prototype.hasOwnProperty(t))return;const n="symbol"==typeof t?Symbol():`__${t}`,i=this.getPropertyDescriptor(t,n,e);void 0!==i&&Object.defineProperty(this.prototype,t,i)}static getPropertyDescriptor(t,e,n){return{get(){return this[e]},set(i){const r=this[t];this[e]=i,this.requestUpdateInternal(t,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this._classProperties&&this._classProperties.get(t)||Xn}static finalize(){const t=Object.getPrototypeOf(this);if(t.hasOwnProperty("finalized")||t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,e=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const n of e)this.createProperty(n,t[n])}}static _attributeNameForProperty(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,e,n=Yn){return n(t,e)}static _propertyValueFromAttribute(t,e){const n=e.type,i=e.converter||Zn,r="function"==typeof i?i:i.fromAttribute;return r?r(t,n):t}static _propertyValueToAttribute(t,e){if(void 0===e.reflect)return;const n=e.type,i=e.converter;return(i&&i.toAttribute||Zn.toAttribute)(t,n)}initialize(){this._updateState=0,this._updatePromise=new Promise((t=>this._enableUpdatingResolver=t)),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach(((t,e)=>{if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}}))}_applyInstanceProperties(){this._instanceProperties.forEach(((t,e)=>this[e]=t)),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,e,n){e!==n&&this._attributeToProperty(t,n)}_propertyToAttribute(t,e,n=Xn){const i=this.constructor,r=i._attributeNameForProperty(t,n);if(void 0!==r){const t=i._propertyValueToAttribute(e,n);if(void 0===t)return;this._updateState=8|this._updateState,null==t?this.removeAttribute(r):this.setAttribute(r,t),this._updateState=-9&this._updateState}}_attributeToProperty(t,e){if(8&this._updateState)return;const n=this.constructor,i=n._attributeToPropertyMap.get(t);if(void 0!==i){const t=n.getPropertyOptions(i);this._updateState=16|this._updateState,this[i]=n._propertyValueFromAttribute(e,t),this._updateState=-17&this._updateState}}requestUpdateInternal(t,e,n){let i=!0;if(void 0!==t){const r=this.constructor;n=n||r.getPropertyOptions(t),r._valueHasChanged(this[t],e,n.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==n.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,n))):i=!1}!this._hasRequestedUpdate&&i&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(t,e){return this.requestUpdateInternal(t,e),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(t){}const t=this.performUpdate();return null!=t&&await t,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let t=!1;const e=this._changedProperties;try{t=this.shouldUpdate(e),t?this.update(e):this._markUpdated()}catch(e){throw t=!1,this._markUpdated(),e}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach(((t,e)=>this._propertyToAttribute(e,this[e],t))),this._reflectingProperties=void 0),this._markUpdated()}updated(t){}firstUpdated(t){}}Jn.finalized=!0;const Kn=t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:n,elements:i}=e;return{kind:n,elements:i,finisher(e){window.customElements.define(t,e)}}})(t,e),qn=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?Object.assign(Object.assign({},e),{finisher(n){n.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}};function Qn(t){return(e,n)=>void 0!==n?((t,e,n)=>{e.constructor.createProperty(n,t)})(t,e,n):qn(t,e)}function $n(t){return Qn({attribute:!1,hasChanged:null==t?void 0:t.hasChanged})}function ti(t,e){return(n,i)=>{const r={get(){return this.renderRoot.querySelector(t)},enumerable:!0,configurable:!0};if(e){const e="symbol"==typeof i?Symbol():`__${i}`;r.get=function(){return void 0===this[e]&&(this[e]=this.renderRoot.querySelector(t)),this[e]}}return void 0!==i?ni(r,n,i):ii(r,n)}}function ei(t){return(e,n)=>{const i={async get(){return await this.updateComplete,this.renderRoot.querySelector(t)},enumerable:!0,configurable:!0};return void 0!==n?ni(i,e,n):ii(i,e)}}const ni=(t,e,n)=>{Object.defineProperty(e,n,t)},ii=(t,e)=>({kind:"method",placement:"prototype",key:e.key,descriptor:t});function ri(t){return(e,n)=>void 0!==n?((t,e,n)=>{Object.assign(e[n],t)})(t,e,n):((t,e)=>Object.assign(Object.assign({},e),{finisher(n){Object.assign(n.prototype[e.key],t)}}))(t,e)}const oi=Element.prototype;oi.msMatchesSelector||oi.webkitMatchesSelector;const si=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ai=Symbol();class gi{constructor(t,e){if(e!==ai)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){return void 0===this._styleSheet&&(si?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const Ai=(t,...e)=>{const n=e.reduce(((e,n,i)=>e+(t=>{if(t instanceof gi)return t.cssText;if("number"==typeof t)return t;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${t}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(n)+t[i+1]),t[0]);return new gi(n,ai)};(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");const Ci={};class Ii extends Jn{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const t=this.getStyles();if(Array.isArray(t)){const e=(t,n)=>t.reduceRight(((t,n)=>Array.isArray(n)?e(n,t):(t.add(n),t)),n),n=e(t,new Set),i=[];n.forEach((t=>i.unshift(t))),this._styles=i}else this._styles=void 0===t?[]:[t];this._styles=this._styles.map((t=>{if(t instanceof CSSStyleSheet&&!si){const e=Array.prototype.slice.call(t.cssRules).reduce(((t,e)=>t+e.cssText),"");return new gi(String(e),ai)}return t}))}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?si?this.renderRoot.adoptedStyleSheets=t.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map((t=>t.cssText)),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){const e=this.render();super.update(t),e!==Ci&&this.constructor.render(e,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach((t=>{const e=document.createElement("style");e.textContent=t.cssText,this.renderRoot.appendChild(e)})))}render(){return Ci}}Ii.finalized=!0,Ii.render=(t,e,n)=>{if(!n||"object"!=typeof n||!n.scopeName)throw new Error("The `scopeName` option is required.");const i=n.scopeName,r=Fn.has(e),o=Hn&&11===e.nodeType&&!!e.host,s=o&&!Vn.has(i),a=s?document.createDocumentFragment():e;if(((t,e,n)=>{let i=Fn.get(e);void 0===i&&(nn(e,e.firstChild),Fn.set(e,i=new Tn(Object.assign({templateFactory:Pn},n))),i.appendInto(e)),i.setValue(t),i.commit()})(t,a,Object.assign({templateFactory:Gn(i)},n)),s){const t=Fn.get(a);Fn.delete(a);((t,e,n)=>{Vn.add(t);const i=n?n.element:document.createElement("template"),r=e.querySelectorAll("style"),{length:o}=r;if(0===o)return void window.ShadyCSS.prepareTemplateStyles(i,t);const s=document.createElement("style");for(let t=0;t<o;t++){const e=r[t];e.parentNode.removeChild(e),s.textContent+=e.textContent}(t=>{Wn.forEach((e=>{const n=jn.get(Un(e,t));void 0!==n&&n.keyString.forEach((t=>{const{element:{content:e}}=t,n=new Set;Array.from(e.querySelectorAll("style")).forEach((t=>{n.add(t)})),ln(t,n)}))}))})(t);const a=i.content;n?function(t,e,n=null){const{element:{content:i},parts:r}=t;if(null==n)return void i.appendChild(e);const o=document.createTreeWalker(i,133,null,!1);let s=hn(r),a=0,g=-1;for(;o.nextNode();)for(g++,o.currentNode===n&&(a=un(e),n.parentNode.insertBefore(e,n));-1!==s&&r[s].index===g;){if(a>0){for(;-1!==s;)r[s].index+=a,s=hn(r,s);return}s=hn(r,s)}}(n,s,a.firstChild):a.insertBefore(s,a.firstChild),window.ShadyCSS.prepareTemplateStyles(i,t);const g=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==g)e.insertBefore(g.cloneNode(!0),e.firstChild);else if(n){a.insertBefore(s,a.firstChild);const t=new Set;t.add(s),ln(n,t)}})(i,a,t.value instanceof yn?t.value.template:void 0),nn(e,e.firstChild),e.appendChild(a),Fn.set(e,t)}!r&&o&&window.ShadyCSS.styleElement(e.host)};var ci={FIXED_CLASS:"mdc-top-app-bar--fixed",FIXED_SCROLLED_CLASS:"mdc-top-app-bar--fixed-scrolled",SHORT_CLASS:"mdc-top-app-bar--short",SHORT_COLLAPSED_CLASS:"mdc-top-app-bar--short-collapsed",SHORT_HAS_ACTION_ITEM_CLASS:"mdc-top-app-bar--short-has-action-item"},li={DEBOUNCE_THROTTLE_RESIZE_TIME_MS:100,MAX_TOP_APP_BAR_HEIGHT:128},ui={ACTION_ITEM_SELECTOR:".mdc-top-app-bar__action-item",NAVIGATION_EVENT:"MDCTopAppBar:nav",NAVIGATION_ICON_SELECTOR:".mdc-top-app-bar__navigation-icon",ROOT_SELECTOR:".mdc-top-app-bar",TITLE_SELECTOR:".mdc-top-app-bar__title"},hi=function(){function t(t){void 0===t&&(t={}),this.adapter=t}return Object.defineProperty(t,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),t.prototype.init=function(){},t.prototype.destroy=function(){},t}(),di=function(t){function e(n){return t.call(this,$e($e({},e.defaultAdapter),n))||this}return Qe(e,t),Object.defineProperty(e,"strings",{get:function(){return ui},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cssClasses",{get:function(){return ci},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return li},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},getTopAppBarHeight:function(){return 0},notifyNavigationIconClicked:function(){},getViewportScrollY:function(){return 0},getTotalActionItems:function(){return 0}}},enumerable:!0,configurable:!0}),e.prototype.handleTargetScroll=function(){},e.prototype.handleWindowResize=function(){},e.prototype.handleNavigationClick=function(){this.adapter.notifyNavigationIconClicked()},e}(hi);const fi=di;var pi=function(t){function e(e){var n=t.call(this,e)||this;return n.wasDocked_=!0,n.isDockedShowing_=!0,n.currentAppBarOffsetTop_=0,n.isCurrentlyBeingResized_=!1,n.resizeThrottleId_=0,n.resizeDebounceId_=0,n.lastScrollPosition_=n.adapter.getViewportScrollY(),n.topAppBarHeight_=n.adapter.getTopAppBarHeight(),n}return Qe(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.adapter.setStyle("top","")},e.prototype.handleTargetScroll=function(){var t=Math.max(this.adapter.getViewportScrollY(),0),e=t-this.lastScrollPosition_;this.lastScrollPosition_=t,this.isCurrentlyBeingResized_||(this.currentAppBarOffsetTop_-=e,this.currentAppBarOffsetTop_>0?this.currentAppBarOffsetTop_=0:Math.abs(this.currentAppBarOffsetTop_)>this.topAppBarHeight_&&(this.currentAppBarOffsetTop_=-this.topAppBarHeight_),this.moveTopAppBar_())},e.prototype.handleWindowResize=function(){var t=this;this.resizeThrottleId_||(this.resizeThrottleId_=setTimeout((function(){t.resizeThrottleId_=0,t.throttledResizeHandler_()}),li.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)),this.isCurrentlyBeingResized_=!0,this.resizeDebounceId_&&clearTimeout(this.resizeDebounceId_),this.resizeDebounceId_=setTimeout((function(){t.handleTargetScroll(),t.isCurrentlyBeingResized_=!1,t.resizeDebounceId_=0}),li.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)},e.prototype.checkForUpdate_=function(){var t=-this.topAppBarHeight_,e=this.currentAppBarOffsetTop_<0,n=this.currentAppBarOffsetTop_>t,i=e&&n;if(i)this.wasDocked_=!1;else{if(!this.wasDocked_)return this.wasDocked_=!0,!0;if(this.isDockedShowing_!==n)return this.isDockedShowing_=n,!0}return i},e.prototype.moveTopAppBar_=function(){if(this.checkForUpdate_()){var t=this.currentAppBarOffsetTop_;Math.abs(t)>=this.topAppBarHeight_&&(t=-li.MAX_TOP_APP_BAR_HEIGHT),this.adapter.setStyle("top",t+"px")}},e.prototype.throttledResizeHandler_=function(){var t=this.adapter.getTopAppBarHeight();this.topAppBarHeight_!==t&&(this.wasDocked_=!1,this.currentAppBarOffsetTop_-=this.topAppBarHeight_-t,this.topAppBarHeight_=t),this.handleTargetScroll()},e}(di);const mi=pi;function vi(t,e){return(t.matches||t.webkitMatchesSelector||t.msMatchesSelector).call(t,e)}const yi=t=>t.nodeType===Node.ELEMENT_NODE;function bi(t){return{addClass:e=>{t.classList.add(e)},removeClass:e=>{t.classList.remove(e)},hasClass:e=>t.classList.contains(e)}}let _i=!1;const wi=()=>{},xi={get passive(){return _i=!0,!1}};document.addEventListener("x",wi,xi),document.removeEventListener("x",wi);const Si=_i,Ei=(t=window.document)=>{let e=t.activeElement;const n=[];if(!e)return n;for(;e&&(n.push(e),e.shadowRoot);)e=e.shadowRoot.activeElement;return n},Mi=t=>{const e=Ei();if(!e.length)return!1;const n=e[e.length-1],i=new Event("check-if-focused",{bubbles:!0,composed:!0});let r=[];const o=t=>{r=t.composedPath()};return document.body.addEventListener("check-if-focused",o),n.dispatchEvent(i),document.body.removeEventListener("check-if-focused",o),-1!==r.indexOf(t)};class Ti extends Ii{click(){if(this.mdcRoot)return this.mdcRoot.focus(),void this.mdcRoot.click();super.click()}createFoundation(){void 0!==this.mdcFoundation&&this.mdcFoundation.destroy(),this.mdcFoundationClass&&(this.mdcFoundation=new this.mdcFoundationClass(this.createAdapter()),this.mdcFoundation.init())}firstUpdated(){this.createFoundation()}}class Ri{constructor(t){this.classes=new Set,this.changed=!1,this.element=t;const e=(t.getAttribute("class")||"").split(/\s+/);for(const t of e)this.classes.add(t)}add(t){this.classes.add(t),this.changed=!0}remove(t){this.classes.delete(t),this.changed=!0}commit(){if(this.changed){let t="";this.classes.forEach((e=>t+=e+" ")),this.element.setAttribute("class",t)}}}const Oi=new WeakMap,Li=fn((t=>e=>{if(!(e instanceof Mn)||e instanceof Ln||"class"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:n}=e,{element:i}=n;let r=Oi.get(e);void 0===r&&(i.setAttribute("class",n.strings.join(" ")),Oi.set(e,r=new Set));const o=i.classList||new Ri(i);r.forEach((e=>{e in t||(o.remove(e),r.delete(e))}));for(const e in t){const n=t[e];n!=r.has(e)&&(n?(o.add(e),r.add(e)):(o.remove(e),r.delete(e)))}"function"==typeof o.commit&&o.commit()})),ki=Si?{passive:!0}:void 0;class Di extends Ti{constructor(){super(...arguments),this.mdcFoundationClass=fi,this.centerTitle=!1,this.handleTargetScroll=()=>{this.mdcFoundation.handleTargetScroll()},this.handleNavigationClick=()=>{this.mdcFoundation.handleNavigationClick()}}get scrollTarget(){return this._scrollTarget||window}set scrollTarget(t){this.unregisterScrollListener();const e=this.scrollTarget;this._scrollTarget=t,this.updateRootPosition(),this.requestUpdate("scrollTarget",e),this.registerScrollListener()}updateRootPosition(){if(this.mdcRoot){const t=this.scrollTarget===window;this.mdcRoot.style.position=t?"":"absolute"}}render(){let t=Bn`<span class="mdc-top-app-bar__title"><slot name="title"></slot></span>`;return this.centerTitle&&(t=Bn`<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-center">${t}</section>`),Bn`
      <header class="mdc-top-app-bar ${Li(this.barClasses())}">
      <div class="mdc-top-app-bar__row">
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start" id="navigation">
          <slot name="navigationIcon"
            @click=${this.handleNavigationClick}></slot>
          ${this.centerTitle?null:t}
        </section>
        ${this.centerTitle?t:null}
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" id="actions" role="toolbar">
          <slot name="actionItems"></slot>
        </section>
      </div>
    </header>
    <div class="${Li(this.contentClasses())}">
      <slot></slot>
    </div>
    `}createAdapter(){return Object.assign(Object.assign({},bi(this.mdcRoot)),{setStyle:(t,e)=>this.mdcRoot.style.setProperty(t,e),getTopAppBarHeight:()=>this.mdcRoot.clientHeight,notifyNavigationIconClicked:()=>{this.dispatchEvent(new Event(ui.NAVIGATION_EVENT,{bubbles:!0,cancelable:!0}))},getViewportScrollY:()=>this.scrollTarget instanceof Window?this.scrollTarget.pageYOffset:this.scrollTarget.scrollTop,getTotalActionItems:()=>this._actionItemsSlot.assignedNodes({flatten:!0}).length})}registerListeners(){this.registerScrollListener()}unregisterListeners(){this.unregisterScrollListener()}registerScrollListener(){this.scrollTarget.addEventListener("scroll",this.handleTargetScroll,ki)}unregisterScrollListener(){this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll)}firstUpdated(){super.firstUpdated(),this.updateRootPosition(),this.registerListeners()}disconnectedCallback(){super.disconnectedCallback(),this.unregisterListeners()}}tn([ti(".mdc-top-app-bar")],Di.prototype,"mdcRoot",void 0),tn([ti('slot[name="actionItems"]')],Di.prototype,"_actionItemsSlot",void 0),tn([Qn({type:Boolean})],Di.prototype,"centerTitle",void 0),tn([Qn()],Di.prototype,"scrollTarget",null);class Ni extends Di{constructor(){super(...arguments),this.mdcFoundationClass=mi,this.prominent=!1,this.dense=!1,this.handleResize=()=>{this.mdcFoundation.handleWindowResize()}}barClasses(){return{"mdc-top-app-bar--dense":this.dense,"mdc-top-app-bar--prominent":this.prominent,"center-title":this.centerTitle}}contentClasses(){return{"mdc-top-app-bar--fixed-adjust":!this.dense&&!this.prominent,"mdc-top-app-bar--dense-fixed-adjust":this.dense&&!this.prominent,"mdc-top-app-bar--prominent-fixed-adjust":!this.dense&&this.prominent,"mdc-top-app-bar--dense-prominent-fixed-adjust":this.dense&&this.prominent}}registerListeners(){super.registerListeners(),window.addEventListener("resize",this.handleResize,ki)}unregisterListeners(){super.unregisterListeners(),window.removeEventListener("resize",this.handleResize)}}tn([Qn({type:Boolean,reflect:!0})],Ni.prototype,"prominent",void 0),tn([Qn({type:Boolean,reflect:!0})],Ni.prototype,"dense",void 0);const Pi=Ai`.mdc-top-app-bar{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee);color:white;display:flex;position:fixed;flex-direction:column;justify-content:space-between;box-sizing:border-box;width:100%;z-index:4}.mdc-top-app-bar .mdc-top-app-bar__action-item,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon{color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-top-app-bar .mdc-top-app-bar__action-item::before,.mdc-top-app-bar .mdc-top-app-bar__action-item::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon::after{background-color:#fff;background-color:var(--mdc-theme-on-primary, #fff)}.mdc-top-app-bar .mdc-top-app-bar__action-item:hover::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:hover::before{opacity:.08}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):focus::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded--background-focused::before,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:.24}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded)::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-top-app-bar .mdc-top-app-bar__action-item:not(.mdc-ripple-upgraded):active::after,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:.24}.mdc-top-app-bar .mdc-top-app-bar__action-item.mdc-ripple-upgraded,.mdc-top-app-bar .mdc-top-app-bar__navigation-icon.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.24}.mdc-top-app-bar__row{display:flex;position:relative;box-sizing:border-box;width:100%;height:64px}.mdc-top-app-bar__section{display:inline-flex;flex:1 1 auto;align-items:center;min-width:0;padding:8px 12px;z-index:1}.mdc-top-app-bar__section--align-start{justify-content:flex-start;order:-1}.mdc-top-app-bar__section--align-end{justify-content:flex-end;order:1}.mdc-top-app-bar__title{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);padding-left:20px;padding-right:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;z-index:1}[dir=rtl] .mdc-top-app-bar__title,.mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--short-collapsed{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:24px;border-bottom-left-radius:0}[dir=rtl] .mdc-top-app-bar--short-collapsed,.mdc-top-app-bar--short-collapsed[dir=rtl]{border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:24px}.mdc-top-app-bar--short{top:0;right:auto;left:0;width:100%;transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}[dir=rtl] .mdc-top-app-bar--short,.mdc-top-app-bar--short[dir=rtl]{right:0;left:auto}.mdc-top-app-bar--short .mdc-top-app-bar__row{height:56px}.mdc-top-app-bar--short .mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short .mdc-top-app-bar__title{transition:opacity 200ms cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.mdc-top-app-bar--short-collapsed{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);width:56px;transition:width 300ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__title{display:none}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__action-item{transition:padding 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item{width:112px}.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed.mdc-top-app-bar--short-has-action-item .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--dense .mdc-top-app-bar__row{height:48px}.mdc-top-app-bar--dense .mdc-top-app-bar__section{padding:0 4px}.mdc-top-app-bar--dense .mdc-top-app-bar__title{padding-left:12px;padding-right:0}[dir=rtl] .mdc-top-app-bar--dense .mdc-top-app-bar__title,.mdc-top-app-bar--dense .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:12px}.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:128px}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{align-self:flex-end;padding-bottom:2px}.mdc-top-app-bar--prominent .mdc-top-app-bar__action-item,.mdc-top-app-bar--prominent .mdc-top-app-bar__navigation-icon{align-self:flex-start}.mdc-top-app-bar--fixed{transition:box-shadow 200ms linear}.mdc-top-app-bar--fixed-scrolled{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12);transition:box-shadow 200ms linear}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__row{height:96px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section{padding:0 12px}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-left:20px;padding-right:0;padding-bottom:9px}[dir=rtl] .mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title,.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__title[dir=rtl]{padding-left:0;padding-right:20px}.mdc-top-app-bar--fixed-adjust{padding-top:64px}.mdc-top-app-bar--dense-fixed-adjust{padding-top:48px}.mdc-top-app-bar--short-fixed-adjust{padding-top:56px}.mdc-top-app-bar--prominent-fixed-adjust{padding-top:128px}.mdc-top-app-bar--dense-prominent-fixed-adjust{padding-top:96px}@media(max-width: 599px){.mdc-top-app-bar__row{height:56px}.mdc-top-app-bar__section{padding:4px}.mdc-top-app-bar--short{transition:width 200ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed{transition:width 250ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end{padding-left:0;padding-right:12px}[dir=rtl] .mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end,.mdc-top-app-bar--short-collapsed .mdc-top-app-bar__section--align-end[dir=rtl]{padding-left:12px;padding-right:0}.mdc-top-app-bar--prominent .mdc-top-app-bar__title{padding-bottom:6px}.mdc-top-app-bar--fixed-adjust{padding-top:56px}}:host{display:block}.mdc-top-app-bar{color:#fff;color:var(--mdc-theme-on-primary, #fff);width:100%;width:var(--mdc-top-app-bar-width, 100%)}.mdc-top-app-bar--prominent #navigation ::slotted(*),.mdc-top-app-bar--prominent #actions ::slotted(*){align-self:flex-start}#navigation ::slotted(*),#actions ::slotted(*){--mdc-icon-button-ripple-opacity: 0.24}.mdc-top-app-bar--short-collapsed #actions ::slotted(*){transition:padding 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-top-app-bar__section--align-center{justify-content:center}.mdc-top-app-bar__section--align-center .mdc-top-app-bar__title{padding-left:0;padding-right:0}.center-title .mdc-top-app-bar__section--align-start,.center-title .mdc-top-app-bar__section--align-end{flex-basis:0}.mdc-top-app-bar--dense.mdc-top-app-bar--prominent .mdc-top-app-bar__section--align-center .mdc-top-app-bar__title{padding-left:0;padding-right:0}.mdc-top-app-bar--fixed-scrolled{box-shadow:var(--mdc-top-app-bar-fixed-box-shadow, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}`;let ji=class extends Ni{};ji.styles=Pi,ji=tn([Kn("mwc-top-app-bar")],ji);var Fi={},zi="function"==typeof Map?new Map:null,Bi="swap",Ui="move",Hi="layoutStart",Gi="layoutEnd",Wi="layoutAbort",Vi="remove",Zi="hideStart",Yi="filter",Xi="sort",Ji="move",Ki="send",qi="beforeSend",Qi="receive",$i="beforeReceive",tr="dragReleaseEnd",er="ontouchstart"in window,nr=!!window.PointerEvent,ir=!!window.navigator.msPointerEnabled;function rr(){this._events={},this._queue=[],this._counter=0,this._clearOnEmit=!1}rr.prototype.on=function(t,e){if(!this._events||!t||!e)return this;var n=this._events[t];return n||(n=this._events[t]=[]),n.push(e),this},rr.prototype.off=function(t,e){if(!this._events||!t||!e)return this;var n,i=this._events[t];if(!i||!i.length)return this;for(;-1!==(n=i.indexOf(e));)i.splice(n,1);return this},rr.prototype.clear=function(t){if(!this._events||!t)return this;var e=this._events[t];return e&&(e.length=0,delete this._events[t]),this},rr.prototype.emit=function(t){if(!this._events||!t)return this._clearOnEmit=!1,this;var e=this._events[t];if(!e||!e.length)return this._clearOnEmit=!1,this;var n,i=this._queue,r=i.length,o=arguments.length-1;o>3&&((n=[]).push.apply(n,arguments),n.shift()),i.push.apply(i,e),this._clearOnEmit&&(e.length=0,this._clearOnEmit=!1),++this._counter;for(var s=r,a=i.length;s<a;s++)if(0===o?i[s]():1===o?i[s](arguments[1]):2===o?i[s](arguments[1],arguments[2]):3===o?i[s](arguments[1],arguments[2],arguments[3]):i[s].apply(null,n),!this._events)return this;return--this._counter,this._counter||(i.length=0),this},rr.prototype.burst=function(){return this._events?(this._clearOnEmit=!0,this.emit.apply(this,arguments),this):this},rr.prototype.countListeners=function(t){if(!this._events)return 0;var e=this._events[t];return e?e.length:0},rr.prototype.destroy=function(){return this._events?(this._queue.length=this._counter=0,this._events=null,this):this};var or=nr?"pointerout":ir?"MSPointerOut":"";function sr(t){or&&(this._dragger=t,this._timeout=null,this._outEvent=null,this._isActive=!1,this._addBehaviour=this._addBehaviour.bind(this),this._removeBehaviour=this._removeBehaviour.bind(this),this._onTimeout=this._onTimeout.bind(this),this._resetData=this._resetData.bind(this),this._onStart=this._onStart.bind(this),this._onOut=this._onOut.bind(this),this._dragger.on("start",this._onStart))}sr.prototype._addBehaviour=function(){this._isActive||(this._isActive=!0,this._dragger.on("move",this._resetData),this._dragger.on("cancel",this._removeBehaviour),this._dragger.on("end",this._removeBehaviour),window.addEventListener(or,this._onOut))},sr.prototype._removeBehaviour=function(){this._isActive&&(this._dragger.off("move",this._resetData),this._dragger.off("cancel",this._removeBehaviour),this._dragger.off("end",this._removeBehaviour),window.removeEventListener(or,this._onOut),this._resetData(),this._isActive=!1)},sr.prototype._resetData=function(){window.clearTimeout(this._timeout),this._timeout=null,this._outEvent=null},sr.prototype._onStart=function(t){"mouse"!==t.pointerType&&this._addBehaviour()},sr.prototype._onOut=function(t){this._dragger._getTrackedTouch(t)&&(this._resetData(),this._outEvent=t,this._timeout=window.setTimeout(this._onTimeout,100))},sr.prototype._onTimeout=function(){var t=this._outEvent;this._resetData(),this._dragger.isActive()&&this._dragger._onCancel(t)},sr.prototype.destroy=function(){or&&(this._dragger.off("start",this._onStart),this._removeBehaviour())};var ar=["","webkit","moz","ms","o","Webkit","Moz","MS","O"],gr={};function Ar(t,e){var n=gr[e]||"";if(n)return n;for(var i=e[0].toUpperCase()+e.slice(1),r=0;r<ar.length;){if((n=ar[r]?ar[r]+i:e)in t)return gr[e]=n,n;++r}return""}function Cr(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return t}var Ir=window.navigator.userAgent.toLowerCase(),cr=Ir.indexOf("edge")>-1,lr=Ir.indexOf("trident")>-1,ur=Ir.indexOf("firefox")>-1,hr=Ir.indexOf("android")>-1,dr=!!Cr()&&{passive:!0},fr="touchAction",pr=Ar(document.documentElement.style,fr);function mr(t,e){this._element=t,this._emitter=new rr,this._isDestroyed=!1,this._cssProps={},this._touchAction="",this._isActive=!1,this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onCancel=this._onCancel.bind(this),this._onEnd=this._onEnd.bind(this),this._edgeHack=null,(cr||lr)&&(nr||ir)&&(this._edgeHack=new sr(this)),this.setCssProps(e),this._touchAction||this.setTouchAction("auto"),t.addEventListener("dragstart",mr._preventDefault,!1),t.addEventListener(mr._inputEvents.start,this._onStart,dr)}mr._pointerEvents={start:"pointerdown",move:"pointermove",cancel:"pointercancel",end:"pointerup"},mr._msPointerEvents={start:"MSPointerDown",move:"MSPointerMove",cancel:"MSPointerCancel",end:"MSPointerUp"},mr._touchEvents={start:"touchstart",move:"touchmove",cancel:"touchcancel",end:"touchend"},mr._mouseEvents={start:"mousedown",move:"mousemove",cancel:"",end:"mouseup"},mr._inputEvents=er?mr._touchEvents:nr?mr._pointerEvents:ir?mr._msPointerEvents:mr._mouseEvents,mr._emitter=new rr,mr._emitterEvents={start:"start",move:"move",end:"end",cancel:"cancel"},mr._activeInstances=[],mr._preventDefault=function(t){t.preventDefault&&!1!==t.cancelable&&t.preventDefault()},mr._activateInstance=function(t){mr._activeInstances.indexOf(t)>-1||(mr._activeInstances.push(t),mr._emitter.on(mr._emitterEvents.move,t._onMove),mr._emitter.on(mr._emitterEvents.cancel,t._onCancel),mr._emitter.on(mr._emitterEvents.end,t._onEnd),1===mr._activeInstances.length&&mr._bindListeners())},mr._deactivateInstance=function(t){var e=mr._activeInstances.indexOf(t);-1!==e&&(mr._activeInstances.splice(e,1),mr._emitter.off(mr._emitterEvents.move,t._onMove),mr._emitter.off(mr._emitterEvents.cancel,t._onCancel),mr._emitter.off(mr._emitterEvents.end,t._onEnd),mr._activeInstances.length||mr._unbindListeners())},mr._bindListeners=function(){window.addEventListener(mr._inputEvents.move,mr._onMove,dr),window.addEventListener(mr._inputEvents.end,mr._onEnd,dr),mr._inputEvents.cancel&&window.addEventListener(mr._inputEvents.cancel,mr._onCancel,dr)},mr._unbindListeners=function(){window.removeEventListener(mr._inputEvents.move,mr._onMove,dr),window.removeEventListener(mr._inputEvents.end,mr._onEnd,dr),mr._inputEvents.cancel&&window.removeEventListener(mr._inputEvents.cancel,mr._onCancel,dr)},mr._getEventPointerId=function(t){return"number"==typeof t.pointerId?t.pointerId:t.changedTouches?t.changedTouches[0]?t.changedTouches[0].identifier:null:1},mr._getTouchById=function(t,e){if("number"==typeof t.pointerId)return t.pointerId===e?t:null;if(t.changedTouches){for(var n=0;n<t.changedTouches.length;n++)if(t.changedTouches[n].identifier===e)return t.changedTouches[n];return null}return t},mr._onMove=function(t){mr._emitter.emit(mr._emitterEvents.move,t)},mr._onCancel=function(t){mr._emitter.emit(mr._emitterEvents.cancel,t)},mr._onEnd=function(t){mr._emitter.emit(mr._emitterEvents.end,t)},mr.prototype._reset=function(){this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._isActive=!1,mr._deactivateInstance(this)},mr.prototype._createEvent=function(t,e){var n=this._getTrackedTouch(e);return{type:t,srcEvent:e,distance:this.getDistance(),deltaX:this.getDeltaX(),deltaY:this.getDeltaY(),deltaTime:t===mr._emitterEvents.start?0:this.getDeltaTime(),isFirst:t===mr._emitterEvents.start,isFinal:t===mr._emitterEvents.end||t===mr._emitterEvents.cancel,pointerType:e.pointerType||(e.touches?"touch":"mouse"),identifier:this._pointerId,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,target:n.target}},mr.prototype._emit=function(t,e){this._emitter.emit(t,this._createEvent(t,e))},mr.prototype._getTrackedTouch=function(t){return null===this._pointerId?null:mr._getTouchById(t,this._pointerId)},mr.prototype._onStart=function(t){if(!this._isDestroyed&&null===this._pointerId&&(this._pointerId=mr._getEventPointerId(t),null!==this._pointerId)){var e=this._getTrackedTouch(t);this._startX=this._currentX=e.clientX,this._startY=this._currentY=e.clientY,this._startTime=Date.now(),this._isActive=!0,this._emit(mr._emitterEvents.start,t),this._isActive&&mr._activateInstance(this)}},mr.prototype._onMove=function(t){var e=this._getTrackedTouch(t);e&&(this._currentX=e.clientX,this._currentY=e.clientY,this._emit(mr._emitterEvents.move,t))},mr.prototype._onCancel=function(t){this._getTrackedTouch(t)&&(this._emit(mr._emitterEvents.cancel,t),this._reset())},mr.prototype._onEnd=function(t){this._getTrackedTouch(t)&&(this._emit(mr._emitterEvents.end,t),this._reset())},mr.prototype.isActive=function(){return this._isActive},mr.prototype.setTouchAction=function(t){this._touchAction=t,pr&&(this._cssProps[pr]="",this._element.style[pr]=t),er&&(this._element.removeEventListener(mr._touchEvents.start,mr._preventDefault,!0),(this._element.style[pr]!==t||ur&&hr)&&this._element.addEventListener(mr._touchEvents.start,mr._preventDefault,!0))},mr.prototype.setCssProps=function(t){if(t){var e,n,i=this._cssProps,r=this._element;for(e in i)r.style[e]=i[e],delete i[e];for(e in t)t[e]&&(e!==fr?(n=Ar(r.style,e))&&(i[n]="",r.style[n]=t[e]):this.setTouchAction(t[e]))}},mr.prototype.getDeltaX=function(){return this._currentX-this._startX},mr.prototype.getDeltaY=function(){return this._currentY-this._startY},mr.prototype.getDistance=function(){var t=this.getDeltaX(),e=this.getDeltaY();return Math.sqrt(t*t+e*e)},mr.prototype.getDeltaTime=function(){return this._startTime?Date.now()-this._startTime:0},mr.prototype.on=function(t,e){this._emitter.on(t,e)},mr.prototype.off=function(t,e){this._emitter.off(t,e)},mr.prototype.destroy=function(){if(!this._isDestroyed){var t=this._element;for(var e in this._edgeHack&&this._edgeHack.destroy(),this._reset(),this._emitter.destroy(),t.removeEventListener(mr._inputEvents.start,this._onStart,dr),t.removeEventListener("dragstart",mr._preventDefault,!1),t.removeEventListener(mr._touchEvents.start,mr._preventDefault,!0),this._cssProps)t.style[e]=this._cssProps[e],delete this._cssProps[e];this._element=null,this._isDestroyed=!0}};var vr=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return this.setTimeout((function(){t(Date.now())}),16.666666666666668)}).bind(window);function yr(t){this._nextStep=null,this._lanes=[],this._stepQueue=[],this._stepCallbacks={},this._step=this._step.bind(this);for(var e=0;e<t;e++)this._lanes.push(new br)}function br(){this.queue=[],this.indices={},this.callbacks={}}yr.prototype._step=function(t){var e,n,i,r,o,s,a=this._lanes,g=this._stepQueue,A=this._stepCallbacks;for(this._nextStep=null,e=0;e<a.length;e++){for(r=a[e].queue,o=a[e].callbacks,s=a[e].indices,n=0;n<r.length;n++)(i=r[n])&&(g.push(i),A[i]=o[i],delete o[i],delete s[i]);r.length=0}for(e=0;e<g.length;e++)A[i=g[e]]&&A[i](t),delete A[i];g.length=0},yr.prototype.add=function(t,e,n){this._lanes[t].add(e,n),this._nextStep||(this._nextStep=vr(this._step))},yr.prototype.remove=function(t,e){this._lanes[t].remove(e)},br.prototype.add=function(t,e){var n=this.indices[t];void 0!==n&&(this.queue[n]=void 0),this.queue.push(t),this.callbacks[t]=e,this.indices[t]=this.queue.length-1},br.prototype.remove=function(t){var e=this.indices[t];void 0!==e&&(this.queue[e]=void 0,delete this.callbacks[t],delete this.indices[t])};var _r="layoutRead",wr="layoutWrite",xr="visibilityRead",Sr="visibilityWrite",Er="dragStartRead",Mr="dragStartWrite",Tr="dragMoveRead",Rr="dragMoveWrite",Or="dragScrollRead",Lr="dragScrollWrite",kr="dragSortRead",Dr="placeholderLayoutRead",Nr="placeholderLayoutWrite",Pr="placeholderResizeWrite",jr="autoScrollRead",Fr="autoScrollWrite",zr="debounceRead",Br=new yr(3);function Ur(t){Br.remove(0,_r+t),Br.remove(2,wr+t)}function Hr(t){Br.remove(0,xr+t),Br.remove(2,Sr+t)}function Gr(t){Br.remove(0,Er+t),Br.remove(2,Mr+t)}function Wr(t){Br.remove(0,Tr+t),Br.remove(2,Rr+t)}function Vr(t){Br.remove(0,Or+t),Br.remove(2,Lr+t)}function Zr(t,e){Br.add(1,kr+t,e)}function Yr(t){Br.remove(0,Dr+t),Br.remove(2,Nr+t)}function Xr(t,e){Br.add(0,jr,t),Br.add(2,Fr,e)}function Jr(t){return"function"==typeof t}var Kr,qr="function"==typeof WeakMap,Qr=qr?new WeakMap:null,$r=!0,to=function(){$r?(Kr=window.clearInterval(Kr),Qr=qr?new WeakMap:null):$r=!0};function eo(t,e){var n=Qr&&Qr.get(t);return n||(n=window.getComputedStyle(t,null),Qr&&Qr.set(t,n)),Qr&&(Kr?$r=!1:Kr=window.setInterval(to,3e3)),n.getPropertyValue(e)}function no(t,e){return parseFloat(eo(t,e))||0}var io,ro=document.documentElement,oo=document.body,so={value:0,offset:0};function ao(t){return t===window||t===ro||t===oo?window:t}function go(t){return t===window?t.pageXOffset:t.scrollLeft}function Ao(t){return t===window?t.pageYOffset:t.scrollTop}function Co(t){return t===window?ro.scrollWidth-ro.clientWidth:t.scrollWidth-t.clientWidth}function Io(t){return t===window?ro.scrollHeight-ro.clientHeight:t.scrollHeight-t.clientHeight}function co(t,e){if(e=e||{},t===window)e.width=ro.clientWidth,e.height=ro.clientHeight,e.left=0,e.right=e.width,e.top=0,e.bottom=e.height;else{var n=t.getBoundingClientRect(),i=t.clientLeft||no(t,"border-left-width"),r=t.clientTop||no(t,"border-top-width");e.width=t.clientWidth,e.height=t.clientHeight,e.left=n.left+i,e.right=e.left+e.width,e.top=n.top+r,e.bottom=e.top+e.height}return e}function lo(t){return t._drag._getGrid()._settings.dragAutoScroll}function uo(t){t._drag&&t._drag._prepareScroll()}function ho(t){if(t._drag&&t._isActive){var e=t._drag;e._scrollDiffX=e._scrollDiffY=0,t._setTranslate(e._left,e._top)}}function fo(t,e,n,i){return so.value=Math.min(i/2,t),so.offset=Math.max(0,n+2*so.value+i*e-i)/2,so}function po(){this.reset()}function mo(){this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0}function vo(t,e){this.pool=[],this.createItem=t,this.releaseItem=e}function yo(t,e){var n=function(t,e){return function(t,e){return!(t.left+t.width<=e.left||e.left+e.width<=t.left||t.top+t.height<=e.top||e.top+e.height<=t.top)}(t,e)?(Math.min(t.left+t.width,e.left+e.width)-Math.max(t.left,e.left))*(Math.min(t.top+t.height,e.top+e.height)-Math.max(t.top,e.top)):0}(t,e);return n?n/(Math.min(t.width,e.width)*Math.min(t.height,e.height))*100:0}po.prototype.reset=function(){this.isActive&&this.onStop(),this.item=null,this.element=null,this.isActive=!1,this.isEnding=!1,this.direction=null,this.value=null,this.maxValue=0,this.threshold=0,this.distance=0,this.speed=0,this.duration=0,this.action=null},po.prototype.hasReachedEnd=function(){return 4&this.direction?this.value>=this.maxValue:this.value<=0},po.prototype.computeCurrentScrollValue=function(){return null===this.value?1&this.direction?go(this.element):Ao(this.element):Math.max(0,Math.min(this.value,this.maxValue))},po.prototype.computeNextScrollValue=function(t){var e=this.speed*(t/1e3),n=4&this.direction?this.value+e:this.value-e;return Math.max(0,Math.min(n,this.maxValue))},po.prototype.computeSpeed=(io={direction:null,threshold:0,distance:0,value:0,maxValue:0,deltaTime:0,duration:0,isEnding:!1},function(t){var e=this.item,n=lo(e).speed;return Jr(n)?(io.direction=this.direction,io.threshold=this.threshold,io.distance=this.distance,io.value=this.value,io.maxValue=this.maxValue,io.duration=this.duration,io.speed=this.speed,io.deltaTime=t,io.isEnding=this.isEnding,n(e,this.element,io)):n}),po.prototype.tick=function(t){return this.isActive||(this.isActive=!0,this.onStart()),this.value=this.computeCurrentScrollValue(),this.speed=this.computeSpeed(t),this.value=this.computeNextScrollValue(t),this.duration+=t,this.value},po.prototype.onStart=function(){var t=this.item,e=lo(t).onStart;Jr(e)&&e(t,this.element,this.direction)},po.prototype.onStop=function(){var t=this.item,e=lo(t).onStop;Jr(e)&&e(t,this.element,this.direction),t._drag&&t._drag.sort()},mo.prototype.reset=function(){this.requestX&&(this.requestX.action=null),this.requestY&&(this.requestY.action=null),this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0},mo.prototype.addRequest=function(t){1&t.direction?(this.removeRequest(this.requestX),this.requestX=t):(this.removeRequest(this.requestY),this.requestY=t),t.action=this},mo.prototype.removeRequest=function(t){t&&(this.requestX===t?(this.requestX=null,t.action=null):this.requestY===t&&(this.requestY=null,t.action=null))},mo.prototype.computeScrollValues=function(){this.scrollLeft=this.requestX?this.requestX.value:go(this.element),this.scrollTop=this.requestY?this.requestY.value:Ao(this.element)},mo.prototype.scroll=function(){var t=this.element;t&&(t.scrollTo?t.scrollTo(this.scrollLeft,this.scrollTop):(t.scrollLeft=this.scrollLeft,t.scrollTop=this.scrollTop))},vo.prototype.pick=function(){return this.pool.pop()||this.createItem()},vo.prototype.release=function(t){this.releaseItem(t),-1===this.pool.indexOf(t)&&this.pool.push(t)},vo.prototype.reset=function(){this.pool.length=0};var bo={width:0,height:0,left:0,right:0,top:0,bottom:0},_o={width:0,height:0,left:0,right:0,top:0,bottom:0};function wo(){this._isDestroyed=!1,this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,this._items=[],this._actions=[],this._requests={},this._requests[1]={},this._requests[2]={},this._requestOverlapCheck={},this._dragPositions={},this._dragDirections={},this._overlapCheckInterval=150,this._requestPool=new vo((function(){return new po}),(function(t){t.reset()})),this._actionPool=new vo((function(){return new mo}),(function(t){t.reset()})),this._readTick=this._readTick.bind(this),this._writeTick=this._writeTick.bind(this)}wo.AXIS_X=1,wo.AXIS_Y=2,wo.FORWARD=4,wo.BACKWARD=8,wo.LEFT=9,wo.RIGHT=5,wo.UP=10,wo.DOWN=6,wo.smoothSpeed=function(t,e,n){return function(i,r,o){var s=0;if(!o.isEnding)if(o.threshold>0){var a=o.threshold-Math.max(0,o.distance);s=t/o.threshold*a}else s=t;var g=o.speed,A=s;return g===s?A:g<s?(A=g+e*(o.deltaTime/1e3),Math.min(s,A)):(A=g-n*(o.deltaTime/1e3),Math.max(s,A))}},wo.pointerHandle=function(t){var e={left:0,top:0,width:0,height:0},n=t||1;return function(t,i,r,o,s,a,g){return e.left=a-.5*n,e.top=g-.5*n,e.width=n,e.height=n,e}},wo.prototype._readTick=function(t){this._isDestroyed||(t&&this._tickTime?(this._tickDeltaTime=t-this._tickTime,this._tickTime=t,this._updateRequests(),this._updateActions()):(this._tickTime=t,this._tickDeltaTime=0))},wo.prototype._writeTick=function(){this._isDestroyed||(this._applyActions(),Xr(this._readTick,this._writeTick))},wo.prototype._startTicking=function(){this._isTicking=!0,Xr(this._readTick,this._writeTick)},wo.prototype._stopTicking=function(){this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,Br.remove(0,jr),Br.remove(2,Fr)},wo.prototype._getItemHandleRect=function(t,e,n){var i=t._drag;if(e){var r=i._dragMoveEvent||i._dragStartEvent,o=e(t,i._clientX,i._clientY,t._width,t._height,r.clientX,r.clientY);n.left=o.left,n.top=o.top,n.width=o.width,n.height=o.height}else n.left=i._clientX,n.top=i._clientY,n.width=t._width,n.height=t._height;return n.right=n.left+n.width,n.bottom=n.top+n.height,n},wo.prototype._requestItemScroll=function(t,e,n,i,r,o,s){var a=this._requests[e],g=a[t._id];g?g.element===n&&g.direction===i||g.reset():g=this._requestPool.pick(),g.item=t,g.element=n,g.direction=i,g.threshold=r,g.distance=o,g.maxValue=s,a[t._id]=g},wo.prototype._cancelItemScroll=function(t,e){var n=this._requests[e],i=n[t._id];i&&(i.action&&i.action.removeRequest(i),this._requestPool.release(i),delete n[t._id])},wo.prototype._checkItemOverlap=function(t,e,n){var i=lo(t),r=Jr(i.targets)?i.targets(t):i.targets,o=i.threshold,s=i.safeZone;if(!r||!r.length)return e&&this._cancelItemScroll(t,1),void(n&&this._cancelItemScroll(t,2));var a=this._dragDirections[t._id],g=a[0],A=a[1];if(!g&&!A)return e&&this._cancelItemScroll(t,1),void(n&&this._cancelItemScroll(t,2));for(var C=this._getItemHandleRect(t,i.handle,bo),I=_o,c=null,l=null,u=!0,h=!0,d=0,f=0,p=null,m=null,v=0,y=0,b=0,_=null,w=-1/0,x=0,S=0,E=null,M=0,T=0,R=null,O=-1/0,L=0,k=0,D=null,N=0,P=0,j=0;j<r.length;j++)c=r[j],u=e&&g&&2!==c.axis,h=n&&A&&1!==c.axis,f=c.priority||0,(!u||f<w)&&(!h||f<O)||(l=ao(c.element||c),y=u?Co(l):-1,b=h?Io(l):-1,(y||b)&&((d=yo(C,I=co(l,I)))<=0||(u&&f>=w&&y>0&&(f>w||d>S)&&(m=null,p=fo("number"==typeof c.threshold?c.threshold:o,s,C.width,I.width),5===g?(v=I.right+p.offset-C.right)<=p.value&&go(l)<y&&(m=5):9===g&&(v=C.left-(I.left-p.offset))<=p.value&&go(l)>0&&(m=9),null!==m&&(_=l,w=f,x=p.value,S=d,E=m,M=v,T=y)),h&&f>=O&&b>0&&(f>O||d>k)&&(m=null,p=fo("number"==typeof c.threshold?c.threshold:o,s,C.height,I.height),6===A?(v=I.bottom+p.offset-C.bottom)<=p.value&&Ao(l)<b&&(m=6):10===A&&(v=C.top-(I.top-p.offset))<=p.value&&Ao(l)>0&&(m=10),null!==m&&(R=l,O=f,L=p.value,k=d,D=m,N=v,P=b)))));e&&(_?this._requestItemScroll(t,1,_,E,x,M,T):this._cancelItemScroll(t,1)),n&&(R?this._requestItemScroll(t,2,R,D,L,N,P):this._cancelItemScroll(t,2))},wo.prototype._updateScrollRequest=function(t){for(var e=t.item,n=lo(e),i=Jr(n.targets)?n.targets(e):n.targets,r=i&&i.length||0,o=n.threshold,s=n.safeZone,a=this._getItemHandleRect(e,n.handle,bo),g=_o,A=null,C=null,I=!1,c=null,l=null,u=null,h=null,d=null,f=0;f<r;f++)if((C=ao((A=i[f]).element||A))===t.element){if(I=!!(1&t.direction)){if(2===A.axis)continue}else if(1===A.axis)continue;if((h=I?Co(C):Io(C))<=0)break;if(yo(a,g=co(C,g))<=0)break;if(c=fo("number"==typeof A.threshold?A.threshold:o,s,I?a.width:a.height,I?g.width:g.height),(l=9===t.direction?a.left-(g.left-c.offset):5===t.direction?g.right+c.offset-a.right:10===t.direction?a.top-(g.top-c.offset):g.bottom+c.offset-a.bottom)>c.value)break;if(u=I?go(C):Ao(C),d=4&t.direction?u>=h:u<=0)break;return t.maxValue=h,t.threshold=c.value,t.distance=l,t.isEnding=!1,!0}return!0===n.smoothStop&&t.speed>0?(null===d&&(d=t.hasReachedEnd()),t.isEnding=!d):t.isEnding=!1,t.isEnding},wo.prototype._updateRequests=function(){for(var t,e,n,i,r,o,s,a=this._items,g=this._requests[1],A=this._requests[2],C=0;C<a.length;C++)t=a[C],r=(i=this._requestOverlapCheck[t._id])>0&&this._tickTime-i>this._overlapCheckInterval,o=!0,(e=g[t._id])&&e.isActive&&(o=!this._updateScrollRequest(e))&&(r=!0,this._cancelItemScroll(t,1)),s=!0,(n=A[t._id])&&n.isActive&&(s=!this._updateScrollRequest(n))&&(r=!0,this._cancelItemScroll(t,2)),r&&(this._requestOverlapCheck[t._id]=0,this._checkItemOverlap(t,o,s))},wo.prototype._requestAction=function(t,e){for(var n=this._actions,i=1===e,r=null,o=0;o<n.length;o++){if(r=n[o],t.element===r.element){if(i?r.requestX:r.requestY)return void this._cancelItemScroll(t.item,e);break}r=null}r||(r=this._actionPool.pick()),r.element=t.element,r.addRequest(t),t.tick(this._tickDeltaTime),n.push(r)},wo.prototype._updateActions=function(){var t,e,n,i,r=this._items,o=this._requests,s=this._actions;for(i=0;i<r.length;i++)t=r[i]._id,e=o[1][t],n=o[2][t],e&&this._requestAction(e,1),n&&this._requestAction(n,2);for(i=0;i<s.length;i++)s[i].computeScrollValues()},wo.prototype._applyActions=function(){var t,e=this._actions,n=this._items;if(e.length){for(t=0;t<e.length;t++)e[t].scroll(),this._actionPool.release(e[t]);for(e.length=0,t=0;t<n.length;t++)uo(n[t]);for(t=0;t<n.length;t++)ho(n[t])}},wo.prototype._updateDragDirection=function(t){var e=this._dragPositions[t._id],n=this._dragDirections[t._id],i=t._drag._left,r=t._drag._top;if(e.length){var o=e[0],s=e[1];n[0]=i>o?5:i<o?9:n[0]||0,n[1]=r>s?6:r<s?10:n[1]||0}e[0]=i,e[1]=r},wo.prototype.addItem=function(t){this._isDestroyed||-1===this._items.indexOf(t)&&(this._items.push(t),this._requestOverlapCheck[t._id]=this._tickTime,this._dragDirections[t._id]=[0,0],this._dragPositions[t._id]=[],this._isTicking||this._startTicking())},wo.prototype.updateItem=function(t){this._isDestroyed||this._dragDirections[t._id]&&(this._updateDragDirection(t),this._requestOverlapCheck[t._id]||(this._requestOverlapCheck[t._id]=this._tickTime))},wo.prototype.removeItem=function(t){if(!this._isDestroyed){var e=this._items.indexOf(t);if(-1!==e){var n=t._id;this._requests[1][n]&&(this._cancelItemScroll(t,1),delete this._requests[1][n]),this._requests[2][n]&&(this._cancelItemScroll(t,2),delete this._requests[2][n]),delete this._requestOverlapCheck[n],delete this._dragPositions[n],delete this._dragDirections[n],this._items.splice(e,1),this._isTicking&&!this._items.length&&this._stopTicking()}}},wo.prototype.isItemScrollingX=function(t){var e=this._requests[1][t._id];return!(!e||!e.isActive)},wo.prototype.isItemScrollingY=function(t){var e=this._requests[2][t._id];return!(!e||!e.isActive)},wo.prototype.isItemScrolling=function(t){return this.isItemScrollingX(t)||this.isItemScrollingY(t)},wo.prototype.destroy=function(){if(!this._isDestroyed){for(var t=this._items.slice(0),e=0;e<t.length;e++)this.removeItem(t[e]);this._actions.length=0,this._requestPool.reset(),this._actionPool.reset(),this._isDestroyed=!0}};var xo=window.Element.prototype,So=xo.matches||xo.matchesSelector||xo.webkitMatchesSelector||xo.mozMatchesSelector||xo.msMatchesSelector||xo.oMatchesSelector||function(){return!1};function Eo(t,e){return So.call(t,e)}function Mo(t,e){e&&(t.classList?t.classList.add(e):Eo(t,"."+e)||(t.className+=" "+e))}var To=[];function Ro(t,e,n){var i="number"==typeof n?n:-1;i<0&&(i=t.length-i+1),t.splice.apply(t,To.concat(i,0,e)),To.length=0}function Oo(t,e,n){var i=Math.max(0,t.length-1+(n||0));return e>i?i:e<0?Math.max(i+e+1,0):e}function Lo(t,e,n){if(!(t.length<2)){var i=Oo(t,e),r=Oo(t,n);i!==r&&t.splice(r,0,t.splice(i,1)[0])}}function ko(t,e,n){if(!(t.length<2)){var i,r=Oo(t,e),o=Oo(t,n);r!==o&&(i=t[r],t[r]=t[o],t[o]=i)}}var Do=Ar(document.documentElement.style,"transform")||"transform",No=/([A-Z])/g,Po=/^(webkit-|moz-|ms-|o-)/,jo=/^(-m-s-)/;function Fo(t){var e=t.replace(No,"-$1").toLowerCase();return(e=e.replace(Po,"-$1")).replace(jo,"-ms-")}var zo=Fo(Do);function Bo(t){var e=eo(t,zo);if(!e||"none"===e)return!1;var n=eo(t,"display");return"inline"!==n&&"none"!==n}function Uo(t){for(var e=document,n=t||e;n&&n!==e&&"static"===eo(n,"position")&&!Bo(n);)n=n.parentElement||e;return n}var Ho={},Go={},Wo={};function Vo(t,e){var n,i=e||{};return i.left=0,i.top=0,t===document||(i.left=window.pageXOffset||0,i.top=window.pageYOffset||0,t.self===window.self||(n=t.getBoundingClientRect(),i.left+=n.left,i.top+=n.top,i.left+=no(t,"border-left-width"),i.top+=no(t,"border-top-width"))),i}function Zo(t,e,n){return Wo.left=0,Wo.top=0,t===e||n&&(t=Uo(t))===(e=Uo(e))||(Vo(t,Ho),Vo(e,Go),Wo.left=Go.left-Ho.left,Wo.top=Go.top-Ho.top),Wo}function Yo(t){return"auto"===t||"scroll"===t||"overlay"===t}function Xo(t){return Yo(eo(t,"overflow"))||Yo(eo(t,"overflow-x"))||Yo(eo(t,"overflow-y"))}function Jo(t,e){for(e=e||[];t&&t!==document;)t.getRootNode&&t instanceof DocumentFragment?t=t.getRootNode().host:(Xo(t)&&e.push(t),t=t.parentNode);return e.push(window),e}var Ko={},qo=/^matrix3d/,Qo=/([^,]*,){4}/,$o=/([^,]*,){12}/,ts=/[^,]*,/;function es(t){Ko.x=0,Ko.y=0;var e=eo(t,zo);if(!e||"none"===e)return Ko;var n=qo.test(e),i=e.replace(n?$o:Qo,""),r=i.replace(ts,"");return Ko.x=parseFloat(i)||0,Ko.y=parseFloat(r)||0,Ko}function ns(t,e){e&&(t.classList?t.classList.remove(e):Eo(t,"."+e)&&(t.className=(" "+t.className+" ").replace(" "+e+" "," ").trim()))}var is,rs,os,ss,as=/^(iPad|iPhone|iPod)/.test(window.navigator.platform)||/^Mac/.test(window.navigator.platform)&&window.navigator.maxTouchPoints>1,gs=!!Cr()&&{passive:!0};function As(t){var e=t._element,n=t.getGrid(),i=n._settings;this._item=t,this._gridId=n._id,this._isDestroyed=!1,this._isMigrating=!1,this._startPredicate=Jr(i.dragStartPredicate)?i.dragStartPredicate:As.defaultStartPredicate,this._startPredicateState=0,this._startPredicateResult=void 0,this._isSortNeeded=!1,this._sortTimer=void 0,this._blockedSortIndex=null,this._sortX1=0,this._sortX2=0,this._sortY1=0,this._sortY2=0,this._reset(),this._preStartCheck=this._preStartCheck.bind(this),this._preEndCheck=this._preEndCheck.bind(this),this._onScroll=this._onScroll.bind(this),this._prepareStart=this._prepareStart.bind(this),this._applyStart=this._applyStart.bind(this),this._prepareMove=this._prepareMove.bind(this),this._applyMove=this._applyMove.bind(this),this._prepareScroll=this._prepareScroll.bind(this),this._applyScroll=this._applyScroll.bind(this),this._handleSort=this._handleSort.bind(this),this._handleSortDelayed=this._handleSortDelayed.bind(this),this._handle=i.dragHandle&&e.querySelector(i.dragHandle)||e,this._dragger=new mr(this._handle,i.dragCssProps),this._dragger.on("start",this._preStartCheck),this._dragger.on("move",this._preStartCheck),this._dragger.on("cancel",this._preEndCheck),this._dragger.on("end",this._preEndCheck)}function Cs(t,e){var n,i,r={};if(Array.isArray(e))for(i=0;i<e.length;i++)r[n=e[i]]=eo(t,Fo(n));else for(n in e)r[n]=eo(t,Fo(n));return r}As.autoScroller=new wo,As.defaultStartPredicate=function(t,e,n){var i=t._drag;if(e.isFirst&&e.srcEvent.button)return!1;if(!as&&e.isFirst&&!0===e.srcEvent.isTrusted&&!1===e.srcEvent.defaultPrevented&&!1===e.srcEvent.cancelable)return!1;if(!e.isFinal){var r=i._startPredicateData;if(!r){var o=n||i._getGrid()._settings.dragStartPredicate||{};i._startPredicateData=r={distance:Math.max(o.distance,0)||0,delay:Math.max(o.delay,0)||0}}return r.delay&&(r.event=e,r.delayTimer||(r.delayTimer=window.setTimeout((function(){r.delay=0,i._resolveStartPredicate(r.event)&&(i._forceResolveStartPredicate(r.event),i._resetStartPredicate())}),r.delay))),i._resolveStartPredicate(e)}i._finishStartPredicate(e)},As.defaultSortPredicate=(is={},rs={},os={},ss=[],function(t,e){var n=t._drag,i=n._getGrid(),r=e&&"number"==typeof e.threshold?e.threshold:50,o=e&&e.action===Bi?Bi:Ui,s=e&&e.migrateAction===Bi?Bi:Ui;r=Math.min(Math.max(r,1),100),is.width=t._width,is.height=t._height,is.left=n._clientX,is.top=n._clientY;var a=function(t,e,n){var i,r,o,s,a,g,A,C,I,c,l=null,u=e._settings.dragSort,h=-1;if(!0===u?(ss[0]=e,r=ss):Jr(u)&&(r=u.call(e,t)),!r||!Array.isArray(r)||!r.length)return l;for(c=0;c<r.length;c++)if(!(o=r[c])._isDestroyed){for(o._updateBoundingRect(),g=Math.max(0,o._left),A=Math.max(0,o._top),C=Math.min(window.innerWidth,o._right),I=Math.min(window.innerHeight,o._bottom),s=o._element.parentNode;s&&s!==document&&s!==document.documentElement&&s!==document.body;)if(s.getRootNode&&s instanceof DocumentFragment)s=s.getRootNode().host;else{if("visible"!==eo(s,"overflow")&&(a=s.getBoundingClientRect(),g=Math.max(g,a.left),A=Math.max(A,a.top),C=Math.min(C,a.right),I=Math.min(I,a.bottom)),"fixed"===eo(s,"position"))break;s=s.parentNode}g>=C||A>=I||(rs.left=g,rs.top=A,rs.width=C-g,rs.height=I-A,(i=yo(is,rs))>n&&i>h&&(h=i,l=o))}return ss.length=0,l}(t,i,r);if(!a)return null;var g,A,C,I=t.getGrid()!==a,c=0,l=0,u=0,h=-1,d=!1;for(a===i?(is.left=n._gridX+t._marginLeft,is.top=n._gridY+t._marginTop):(a._updateBorders(1,0,1,0),c=a._left+a._borderLeft,l=a._top+a._borderTop),C=0;C<a._items.length;C++)(g=a._items[C])._isActive&&g!==t&&(d=!0,rs.width=g._width,rs.height=g._height,rs.left=g._left+g._marginLeft+c,rs.top=g._top+g._marginTop+l,(A=yo(is,rs))>u&&(h=C,u=A));return I&&u<r&&(h=d?h:0,u=r),u>=r?(os.grid=a,os.index=h,os.action=I?s:o,os):null}),As.prototype.stop=function(){if(this._isActive)if(this._isMigrating)this._finishMigration();else{As.autoScroller.removeItem(this._item);var t=this._item._id;if(Gr(t),Wr(t),Vr(t),this._cancelSort(),this._isStarted){this._unbindScrollListeners();var e=item._element,n=this._getGrid(),i=n._settings.itemDraggingClass;e.parentNode!==n._element&&(n._element.appendChild(e),item._setTranslate(this._gridX,this._gridY),i&&e.clientWidth),ns(e,i)}this._reset()}},As.prototype.sort=function(t){var e=this._item;this._isActive&&e._isActive&&this._dragMoveEvent&&(!0===t?this._handleSort():Zr(e._id,this._handleSort))},As.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._dragger.destroy(),As.autoScroller.removeItem(this._item),this._isDestroyed=!0)},As.prototype._getGrid=function(){return Fi[this._gridId]||null},As.prototype._reset=function(){this._isActive=!1,this._isStarted=!1,this._container=null,this._containingBlock=null,this._dragStartEvent=null,this._dragMoveEvent=null,this._dragPrevMoveEvent=null,this._scrollEvent=null,this._scrollers=[],this._left=0,this._top=0,this._gridX=0,this._gridY=0,this._clientX=0,this._clientY=0,this._scrollDiffX=0,this._scrollDiffY=0,this._moveDiffX=0,this._moveDiffY=0,this._containerDiffX=0,this._containerDiffY=0},As.prototype._bindScrollListeners=function(){var t,e,n=this._getGrid()._element,i=this._container,r=this._scrollers;if(r.length=0,Jo(this._item._element.parentNode,r),i!==n)for(Jo(n,t=[]),e=0;e<t.length;e++)r.indexOf(t[e])<0&&r.push(t[e]);for(e=0;e<r.length;e++)r[e].addEventListener("scroll",this._onScroll,gs)},As.prototype._unbindScrollListeners=function(){var t,e=this._scrollers;for(t=0;t<e.length;t++)e[t].removeEventListener("scroll",this._onScroll,gs);e.length=0},As.prototype._resolveStartPredicate=function(t){var e=this._startPredicateData;if(!(t.distance<e.distance||e.delay))return this._resetStartPredicate(),!0},As.prototype._forceResolveStartPredicate=function(t){this._isDestroyed||1!==this._startPredicateState||(this._startPredicateState=2,this._onStart(t))},As.prototype._finishStartPredicate=function(t){var e=this._item._element,n=Math.abs(t.deltaX)<2&&Math.abs(t.deltaY)<2&&t.deltaTime<200;this._resetStartPredicate(),n&&function(t){if("a"===t.tagName.toLowerCase()){var e=t.getAttribute("href");if(e){var n=t.getAttribute("target");n&&"_self"!==n?window.open(e,n):window.location.href=e}}}(e)},As.prototype._resetHeuristics=function(t,e){this._blockedSortIndex=null,this._sortX1=this._sortX2=t,this._sortY1=this._sortY2=e},As.prototype._checkHeuristics=function(t,e){var n=this._getGrid()._settings.dragSortHeuristics,i=n.minDragDistance;if(i<=0)return this._blockedSortIndex=null,!0;var r=t-this._sortX2,o=e-this._sortY2,s=i>3&&n.minBounceBackAngle>0;if(s||(this._blockedSortIndex=null),Math.abs(r)>i||Math.abs(o)>i){if(s){var a=Math.atan2(r,o),g=Math.atan2(this._sortX2-this._sortX1,this._sortY2-this._sortY1),A=Math.atan2(Math.sin(a-g),Math.cos(a-g));Math.abs(A)>n.minBounceBackAngle&&(this._blockedSortIndex=null)}return this._sortX1=this._sortX2,this._sortY1=this._sortY2,this._sortX2=t,this._sortY2=e,!0}return!1},As.prototype._resetStartPredicate=function(){var t=this._startPredicateData;t&&(t.delayTimer&&(t.delayTimer=window.clearTimeout(t.delayTimer)),this._startPredicateData=null)},As.prototype._handleSort=function(){if(this._isActive){var t=this._getGrid()._settings;if(!t.dragSort||!t.dragAutoScroll.sortDuringScroll&&As.autoScroller.isItemScrolling(this._item))return this._sortX1=this._sortX2=this._gridX,this._sortY1=this._sortY2=this._gridY,this._isSortNeeded=!0,void(void 0!==this._sortTimer&&(this._sortTimer=window.clearTimeout(this._sortTimer)));var e=this._checkHeuristics(this._gridX,this._gridY);if(this._isSortNeeded||e){var n=t.dragSortHeuristics.sortInterval;n<=0||this._isSortNeeded?(this._isSortNeeded=!1,void 0!==this._sortTimer&&(this._sortTimer=window.clearTimeout(this._sortTimer)),this._checkOverlap()):void 0===this._sortTimer&&(this._sortTimer=window.setTimeout(this._handleSortDelayed,n))}}},As.prototype._handleSortDelayed=function(){this._isSortNeeded=!0,this._sortTimer=void 0,Zr(this._item._id,this._handleSort)},As.prototype._cancelSort=function(){var t;this._isSortNeeded=!1,void 0!==this._sortTimer&&(this._sortTimer=window.clearTimeout(this._sortTimer)),t=this._item._id,Br.remove(1,kr+t)},As.prototype._finishSort=function(){var t=this._getGrid()._settings.dragSort&&(this._isSortNeeded||void 0!==this._sortTimer);this._cancelSort(),t&&this._checkOverlap()},As.prototype._checkOverlap=function(){if(this._isActive){var t,e,n,i,r,o,s,a,g=this._item,A=this._getGrid()._settings;(t=Jr(A.dragSortPredicate)?A.dragSortPredicate(g,this._dragMoveEvent):As.defaultSortPredicate(g,A.dragSortPredicate))&&"number"==typeof t.index&&(s=t.action===Bi?Bi:Ui,a=(e=g.getGrid())!==(i=t.grid||e),n=e._items.indexOf(g),r=Oo(i._items,t.index,a&&s===Ui?1:0),(a||r!==this._blockedSortIndex)&&(a?(this._blockedSortIndex=null,o=i._items[r],e._hasListeners(qi)&&e._emit(qi,{item:g,fromGrid:e,fromIndex:n,toGrid:i,toIndex:r}),i._hasListeners($i)&&i._emit($i,{item:g,fromGrid:e,fromIndex:n,toGrid:i,toIndex:r}),g._gridId=i._id,this._isMigrating=g._gridId!==this._gridId,e._items.splice(n,1),Ro(i._items,g,r),g._sortData=null,e._hasListeners(Ki)&&e._emit(Ki,{item:g,fromGrid:e,fromIndex:n,toGrid:i,toIndex:r}),i._hasListeners(Qi)&&i._emit(Qi,{item:g,fromGrid:e,fromIndex:n,toGrid:i,toIndex:r}),s===Bi&&o&&o.isActive()&&i._items.indexOf(o)>-1&&i.send(o,e,n,{appendTo:this._container||document.body,layoutSender:!1,layoutReceiver:!1}),e.layout(),i.layout()):n!==r&&(this._blockedSortIndex=n,(s===Bi?ko:Lo)(e._items,n,r),e._hasListeners(Ji)&&e._emit(Ji,{item:g,fromIndex:n,toIndex:r,action:s}),e.layout())))}},As.prototype._finishMigration=function(){var t,e,n=this._item,i=n._dragRelease,r=n._element,o=n._isActive,s=n.getGrid(),a=s._element,g=s._settings,A=g.dragContainer||a,C=this._getGrid()._settings,I=r.parentNode,c=o?C.itemVisibleClass:C.itemHiddenClass,l=o?g.itemVisibleClass:g.itemHiddenClass;this._isMigrating=!1,this.destroy(),C.itemClass!==g.itemClass&&(ns(r,C.itemClass),Mo(r,g.itemClass)),c!==l&&(ns(r,c),Mo(r,l)),A!==I&&(A.appendChild(r),e=Zo(I,A,!0),(t=es(r)).x-=e.left,t.y-=e.top),n._refreshDimensions(),e=Zo(A,a,!0),i._containerDiffX=e.left,i._containerDiffY=e.top,n._drag=g.dragEnabled?new As(n):null,A!==I&&n._setTranslate(t.x,t.y),n._visibility.setStyles(o?g.visibleStyles:g.hiddenStyles),i.start()},As.prototype._preStartCheck=function(t){0===this._startPredicateState&&(this._startPredicateState=1),1===this._startPredicateState?(this._startPredicateResult=this._startPredicate(this._item,t),!0===this._startPredicateResult?(this._startPredicateState=2,this._onStart(t)):!1===this._startPredicateResult&&(this._resetStartPredicate(t),this._dragger._reset(),this._startPredicateState=0)):2===this._startPredicateState&&this._isActive&&this._onMove(t)},As.prototype._preEndCheck=function(t){var e=2===this._startPredicateState;this._startPredicate(this._item,t),this._startPredicateState=0,e&&this._isActive&&(this._isStarted?this._onEnd(t):this.stop())},As.prototype._onStart=function(t){var e,n,i,r=this._item;r._isActive&&(this._isActive=!0,this._dragStartEvent=t,As.autoScroller.addItem(r),e=r._id,n=this._prepareStart,i=this._applyStart,Br.add(0,Er+e,n),Br.add(2,Mr+e,i))},As.prototype._prepareStart=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=t._element,n=this._getGrid(),i=n._settings,r=n._element,o=i.dragContainer||r,s=Uo(o),a=es(e),g=e.getBoundingClientRect(),A=o!==r;if(this._container=o,this._containingBlock=s,this._clientX=g.left,this._clientY=g.top,this._left=this._gridX=a.x,this._top=this._gridY=a.y,this._scrollDiffX=this._scrollDiffY=0,this._moveDiffX=this._moveDiffY=0,this._resetHeuristics(this._gridX,this._gridY),A){var C=Zo(s,r);this._containerDiffX=C.left,this._containerDiffY=C.top}}}},As.prototype._applyStart=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=this._getGrid(),n=t._element,i=t._dragRelease,r=t._migrate,o=this._container!==e._element;t.isPositioning()&&t._layout.stop(!0,this._left,this._top),r._isActive&&(this._left-=r._containerDiffX,this._top-=r._containerDiffY,this._gridX-=r._containerDiffX,this._gridY-=r._containerDiffY,r.stop(!0,this._left,this._top)),t.isReleasing()&&i._reset(),e._settings.dragPlaceholder.enabled&&t._dragPlaceholder.create(),this._isStarted=!0,e._emit("dragInit",t,this._dragStartEvent),o&&(n.parentNode===this._container?(this._gridX-=this._containerDiffX,this._gridY-=this._containerDiffY):(this._left+=this._containerDiffX,this._top+=this._containerDiffY,this._container.appendChild(n),t._setTranslate(this._left,this._top))),Mo(n,e._settings.itemDraggingClass),this._bindScrollListeners(),e._emit("dragStart",t,this._dragStartEvent)}}},As.prototype._onMove=function(t){var e,n,i,r=this._item;r._isActive?(this._dragMoveEvent=t,e=r._id,n=this._prepareMove,i=this._applyMove,Br.add(0,Tr+e,n),Br.add(2,Rr+e,i),Zr(r._id,this._handleSort)):this.stop()},As.prototype._prepareMove=function(){if(this._isActive&&this._item._isActive){var t=this._getGrid()._settings.dragAxis,e=this._dragMoveEvent,n=this._dragPrevMoveEvent||this._dragStartEvent||e;if("y"!==t){var i=e.clientX-n.clientX;this._left=this._left-this._moveDiffX+i,this._gridX=this._gridX-this._moveDiffX+i,this._clientX=this._clientX-this._moveDiffX+i,this._moveDiffX=i}if("x"!==t){var r=e.clientY-n.clientY;this._top=this._top-this._moveDiffY+r,this._gridY=this._gridY-this._moveDiffY+r,this._clientY=this._clientY-this._moveDiffY+r,this._moveDiffY=r}this._dragPrevMoveEvent=e}},As.prototype._applyMove=function(){if(this._isActive){var t=this._item;t._isActive&&(this._moveDiffX=this._moveDiffY=0,t._setTranslate(this._left,this._top),this._getGrid()._emit("dragMove",t,this._dragMoveEvent),As.autoScroller.updateItem(t))}},As.prototype._onScroll=function(t){var e,n,i,r=this._item;r._isActive?(this._scrollEvent=t,e=r._id,n=this._prepareScroll,i=this._applyScroll,Br.add(0,Or+e,n),Br.add(2,Lr+e,i),Zr(r._id,this._handleSort)):this.stop()},As.prototype._prepareScroll=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=t._element,n=this._getGrid(),i=n._element,r=n._settings.dragAxis,o="y"!==r,s="x"!==r,a=e.getBoundingClientRect();if(this._container!==i){var g=Zo(this._containingBlock,i);this._containerDiffX=g.left,this._containerDiffY=g.top}if(o){var A=this._clientX-this._moveDiffX-this._scrollDiffX-a.left;this._left=this._left-this._scrollDiffX+A,this._scrollDiffX=A}if(s){var C=this._clientY-this._moveDiffY-this._scrollDiffY-a.top;this._top=this._top-this._scrollDiffY+C,this._scrollDiffY=C}this._gridX=this._left-this._containerDiffX,this._gridY=this._top-this._containerDiffY}}},As.prototype._applyScroll=function(){if(this._isActive){var t=this._item;t._isActive&&(this._scrollDiffX=this._scrollDiffY=0,t._setTranslate(this._left,this._top),this._getGrid()._emit("dragScroll",t,this._scrollEvent))}},As.prototype._onEnd=function(t){var e=this._item,n=e._element,i=this._getGrid(),r=i._settings,o=e._dragRelease;e._isActive?(Gr(e._id),Wr(e._id),Vr(e._id),this._finishSort(),this._unbindScrollListeners(),o._containerDiffX=this._containerDiffX,o._containerDiffY=this._containerDiffY,this._reset(),ns(n,r.itemDraggingClass),As.autoScroller.removeItem(e),i._emit("dragEnd",e,t),this._isMigrating?this._finishMigration():o.start()):this.stop()};var Is=/^(webkit|moz|ms|o|Webkit|Moz|MS|O)(?=[A-Z])/,cs={};function ls(t){var e=cs[t];return e||((e=t.replace(Is,""))!==t&&(e=e[0].toLowerCase()+e.slice(1)),cs[t]=e,e)}function us(t,e){for(var n in e)t.style[n]=e[n]}var hs,ds,fs=!(!Element||!Jr(Element.prototype.animate)),ps=!!(Element&&(hs=Element.prototype.animate,ds=window.Symbol,hs&&Jr(ds)&&Jr(ds.toString)&&ds(hs).toString().indexOf("[native code]")>-1));function ms(t){this._element=t,this._animation=null,this._duration=0,this._easing="",this._callback=null,this._props=[],this._values=[],this._isDestroyed=!1,this._onFinish=this._onFinish.bind(this)}function vs(t,e){var n={};for(var i in t)n[e?i:ls(i)]=t[i];return n}function ys(t,e){return"translateX("+t+"px) translateY("+e+"px)"}function bs(t){this._item=t,this._animation=new ms,this._element=null,this._className="",this._didMigrate=!1,this._resetAfterLayout=!1,this._left=0,this._top=0,this._transX=0,this._transY=0,this._nextTransX=0,this._nextTransY=0,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this),this._updateDimensions=this._updateDimensions.bind(this),this._onLayoutStart=this._onLayoutStart.bind(this),this._onLayoutEnd=this._onLayoutEnd.bind(this),this._onReleaseEnd=this._onReleaseEnd.bind(this),this._onMigrate=this._onMigrate.bind(this),this._onHide=this._onHide.bind(this)}function _s(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0}function ws(t){var e=t._element,n=e.style;this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isInterrupted=!1,this._currentStyles={},this._targetStyles={},this._nextLeft=0,this._nextTop=0,this._offsetLeft=0,this._offsetTop=0,this._skipNextAnimation=!1,this._animOptions={onFinish:this._finish.bind(this),duration:0,easing:0},n.left="0px",n.top="0px",t._setTranslate(0,0),this._animation=new ms(e),this._queue="layout-"+t._id,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this)}function xs(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._container=!1,this._containerDiffX=0,this._containerDiffY=0}function Ss(t){var e=t._isActive,n=t._element,i=n.children[0],r=t.getGrid()._settings;if(!i)throw new Error("No valid child element found within item element.");this._item=t,this._isDestroyed=!1,this._isHidden=!e,this._isHiding=!1,this._isShowing=!1,this._childElement=i,this._currentStyleProps=[],this._animation=new ms(i),this._queue="visibility-"+t._id,this._finishShow=this._finishShow.bind(this),this._finishHide=this._finishHide.bind(this),n.style.display=e?"":"none",Mo(n,e?r.itemVisibleClass:r.itemHiddenClass),this.setStyles(e?r.visibleStyles:r.hiddenStyles)}ms.prototype.start=function(t,e,n){if(!this._isDestroyed){var i=this._element,r=n||{};if(!fs)return us(i,e),this._callback=Jr(r.onFinish)?r.onFinish:null,void this._onFinish();var o,s,a,g=this._animation,A=this._props,C=this._values,I=r.duration||300,c=r.easing||"ease",l=!1;if(g&&(s=0,I===this._duration&&c===this._easing||(l=!0),!l)){for(o in e)if(++s,-1===(a=A.indexOf(o))||e[o]!==C[a]){l=!0;break}s!==A.length&&(l=!0)}if(l&&g.cancel(),this._callback=Jr(r.onFinish)?r.onFinish:null,!g||l){for(o in A.length=C.length=0,e)A.push(o),C.push(e[o]);this._duration=I,this._easing=c,this._animation=i.animate([vs(t,ps),vs(e,ps)],{duration:I,easing:c}),this._animation.onfinish=this._onFinish,us(i,e)}}},ms.prototype.stop=function(){!this._isDestroyed&&this._animation&&(this._animation.cancel(),this._animation=this._callback=null,this._props.length=this._values.length=0)},ms.prototype.getCurrentStyles=function(){return Cs(element,currentProps)},ms.prototype.isAnimating=function(){return!!this._animation},ms.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._element=null,this._isDestroyed=!0)},ms.prototype._onFinish=function(){var t=this._callback;this._animation=this._callback=null,this._props.length=this._values.length=0,t&&t()},bs.prototype._updateDimensions=function(){this.isActive()&&us(this._element,{width:this._item._width+"px",height:this._item._height+"px"})},bs.prototype._onLayoutStart=function(t,e){var n=this._item;if(-1!==t.indexOf(n)){var i=n._left,r=n._top,o=this._left,s=this._top;if(this._left=i,this._top=r,e||this._didMigrate||o!==i||s!==r){var a,g,A,C=i+n._marginLeft,I=r+n._marginTop,c=n.getGrid();if(e||!(c._settings.layoutDuration>0)||this._didMigrate)return Yr(n._id),this._element.style[Do]=ys(C,I),this._animation.stop(),void(this._didMigrate&&(c.getElement().appendChild(this._element),this._didMigrate=!1));this._nextTransX=C,this._nextTransY=I,a=n._id,g=this._setupAnimation,A=this._startAnimation,Br.add(0,Dr+a,g),Br.add(2,Nr+a,A)}}else this.reset()},bs.prototype._setupAnimation=function(){if(this.isActive()){var t=es(this._element);this._transX=t.x,this._transY=t.y}},bs.prototype._startAnimation=function(){if(this.isActive()){var t=this._animation,e=this._transX,n=this._transY,i=this._nextTransX,r=this._nextTransY;if(e!==i||n!==r){var o=this._item.getGrid()._settings,s={},a={};s[Do]=ys(e,n),a[Do]=ys(i,r),t.start(s,a,{duration:o.layoutDuration,easing:o.layoutEasing,onFinish:this._onLayoutEnd})}else t.isAnimating()&&(this._element.style[Do]=ys(i,r),t.stop())}},bs.prototype._onLayoutEnd=function(){this._resetAfterLayout&&this.reset()},bs.prototype._onReleaseEnd=function(t){if(t._id===this._item._id){if(!this._animation.isAnimating())return void this.reset();this._resetAfterLayout=!0}},bs.prototype._onMigrate=function(t){if(t.item===this._item){var e=this._item.getGrid(),n=t.toGrid;e.off(tr,this._onReleaseEnd),e.off(Hi,this._onLayoutStart),e.off(qi,this._onMigrate),e.off(Zi,this._onHide),n.on(tr,this._onReleaseEnd),n.on(Hi,this._onLayoutStart),n.on(qi,this._onMigrate),n.on(Zi,this._onHide),this._didMigrate=!0}},bs.prototype._onHide=function(t){t.indexOf(this._item)>-1&&this.reset()},bs.prototype.create=function(){if(this.isActive())this._resetAfterLayout=!1;else{var t,e=this._item,n=e.getGrid(),i=n._settings,r=this._animation;this._left=e._left,this._top=e._top,t=Jr(i.dragPlaceholder.createElement)?i.dragPlaceholder.createElement(e):document.createElement("div"),this._element=t,r._element=t,this._className=i.itemPlaceholderClass||"",this._className&&Mo(t,this._className),us(t,{position:"absolute",left:"0px",top:"0px",width:e._width+"px",height:e._height+"px"}),t.style[Do]=ys(e._left+e._marginLeft,e._top+e._marginTop),n.on(Hi,this._onLayoutStart),n.on(tr,this._onReleaseEnd),n.on(qi,this._onMigrate),n.on(Zi,this._onHide),Jr(i.dragPlaceholder.onCreate)&&i.dragPlaceholder.onCreate(e,t),n.getElement().appendChild(t)}},bs.prototype.reset=function(){if(this.isActive()){var t,e=this._element,n=this._item,i=n.getGrid(),r=i._settings,o=this._animation;this._resetAfterLayout=!1,Yr(n._id),t=n._id,Br.remove(2,Pr+t),o.stop(),o._element=null,i.off(tr,this._onReleaseEnd),i.off(Hi,this._onLayoutStart),i.off(qi,this._onMigrate),i.off(Zi,this._onHide),this._className&&(ns(e,this._className),this._className=""),e.parentNode.removeChild(e),this._element=null,Jr(r.dragPlaceholder.onRemove)&&r.dragPlaceholder.onRemove(n,e)}},bs.prototype.isActive=function(){return!!this._element},bs.prototype.getElement=function(){return this._element},bs.prototype.updateDimensions=function(){var t,e;this.isActive()&&(t=this._item._id,e=this._updateDimensions,Br.add(2,Pr+t,e))},bs.prototype.destroy=function(){this.reset(),this._animation.destroy(),this._item=this._animation=null},_s.prototype.start=function(){if(!this._isDestroyed&&!this._isActive){var t=this._item,e=t.getGrid(),n=e._settings;this._isActive=!0,Mo(t._element,n.itemReleasingClass),n.dragRelease.useDragContainer||this._placeToGrid(),e._emit("dragReleaseStart",t),e._nextLayoutData||t._layout.start(!1)}},_s.prototype.stop=function(t,e,n){if(!this._isDestroyed&&this._isActive){var i=this._item,r=i.getGrid();t||void 0!==e&&void 0!==n||(e=i._left,n=i._top);var o=this._placeToGrid(e,n);this._reset(o),t||r._emit(tr,i)}},_s.prototype.isJustReleased=function(){return this._isActive&&!1===this._isPositioningStarted},_s.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)},_s.prototype._placeToGrid=function(t,e){if(!this._isDestroyed){var n=this._item,i=n._element,r=n.getGrid()._element,o=!1;if(i.parentNode!==r){if(void 0===t||void 0===e){var s=es(i);t=s.x-this._containerDiffX,e=s.y-this._containerDiffY}r.appendChild(i),n._setTranslate(t,e),o=!0}return this._containerDiffX=0,this._containerDiffY=0,o}},_s.prototype._reset=function(t){if(!this._isDestroyed){var e=this._item,n=e.getGrid()._settings.itemReleasingClass;this._isActive=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0,n&&(t&&e._element.clientWidth,ns(e._element,n))}},ws.prototype.start=function(t,e){if(!this._isDestroyed){var n,i,r,o=this._item,s=o._dragRelease,a=o.getGrid()._settings,g=this._isActive,A=s.isJustReleased(),C=A?a.dragRelease.duration:a.layoutDuration,I=A?a.dragRelease.easing:a.layoutEasing,c=!t&&!this._skipNextAnimation&&C>0;if(g&&(Ur(o._id),o._emitter.burst(this._queue,!0,o)),A&&(s._isPositioningStarted=!0),Jr(e)&&o._emitter.on(this._queue,e),this._skipNextAnimation=!1,!c)return this._updateOffsets(),o._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),void this._finish();this._animation.isAnimating()&&(this._animation._animation.onfinish=null),this._isActive=!0,this._animOptions.easing=I,this._animOptions.duration=C,this._isInterrupted=g,n=o._id,i=this._setupAnimation,r=this._startAnimation,Br.add(0,_r+n,i),Br.add(2,wr+n,r)}},ws.prototype.stop=function(t,e,n){if(!this._isDestroyed&&this._isActive){var i=this._item;if(Ur(i._id),this._animation.isAnimating()){if(void 0===e||void 0===n){var r=es(i._element);e=r.x,n=r.y}i._setTranslate(e,n),this._animation.stop()}ns(i._element,i.getGrid()._settings.itemPositioningClass),this._isActive=!1,t&&i._emitter.burst(this._queue,!0,i)}},ws.prototype.destroy=function(){if(!this._isDestroyed){var t=this._item._element.style;this.stop(!0,0,0),this._item._emitter.clear(this._queue),this._animation.destroy(),t[Do]="",t.left="",t.top="",this._item=null,this._currentStyles=null,this._targetStyles=null,this._animOptions=null,this._isDestroyed=!0}},ws.prototype._updateOffsets=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,n=t._dragRelease;this._offsetLeft=n._isActive?n._containerDiffX:e._isActive?e._containerDiffX:0,this._offsetTop=n._isActive?n._containerDiffY:e._isActive?e._containerDiffY:0,this._nextLeft=this._item._left+this._offsetLeft,this._nextTop=this._item._top+this._offsetTop}},ws.prototype._finish=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,n=t._dragRelease;t._tX=this._nextLeft,t._tY=this._nextTop,this._isActive&&(this._isActive=!1,ns(t._element,t.getGrid()._settings.itemPositioningClass)),n._isActive&&n.stop(),e._isActive&&e.stop(),t._emitter.burst(this._queue,!1,t)}},ws.prototype._setupAnimation=function(){var t=this._item;if(void 0===t._tX||void 0===t._tY){var e=es(t._element);t._tX=e.x,t._tY=e.y}},ws.prototype._startAnimation=function(){var t=this._item,e=t.getGrid()._settings,n=this._animOptions.duration<=0;this._updateOffsets();var i=Math.abs(t._left-(t._tX-this._offsetLeft)),r=Math.abs(t._top-(t._tY-this._offsetTop));if(n||i<2&&r<2)return(i||r||this._isInterrupted)&&t._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),void this._finish();this._isInterrupted||Mo(t._element,e.itemPositioningClass),this._currentStyles[Do]=ys(t._tX,t._tY),this._targetStyles[Do]=ys(this._nextLeft,this._nextTop),t._tX=t._tY=void 0,this._animation.start(this._currentStyles,this._targetStyles,this._animOptions)},xs.prototype.start=function(t,e,n){if(!this._isDestroyed){var i,r,o,s,a,g,A,C,I,c,l=this._item,u=l._element,h=l.isActive(),d=l.isVisible(),f=l.getGrid(),p=f._settings,m=t._settings,v=t._element,y=t._items,b=f._items.indexOf(l),_=n||document.body;if("number"==typeof e)i=Oo(y,e,1);else{if(!(r=t.getItem(e)))return;i=y.indexOf(r)}(l.isPositioning()||this._isActive||l.isReleasing())&&(A=(g=es(u)).x,C=g.y),l.isPositioning()&&l._layout.stop(!0,A,C),this._isActive&&(A-=this._containerDiffX,C-=this._containerDiffY,this.stop(!0,A,C)),l.isReleasing()&&(A-=l._dragRelease._containerDiffX,C-=l._dragRelease._containerDiffY,l._dragRelease.stop(!0,A,C)),l._visibility.stop(!0),l._drag&&l._drag.destroy(),f._hasListeners(qi)&&f._emit(qi,{item:l,fromGrid:f,fromIndex:b,toGrid:t,toIndex:i}),t._hasListeners($i)&&t._emit($i,{item:l,fromGrid:f,fromIndex:b,toGrid:t,toIndex:i}),p.itemClass!==m.itemClass&&(ns(u,p.itemClass),Mo(u,m.itemClass)),(I=d?p.itemVisibleClass:p.itemHiddenClass)!==(c=d?m.itemVisibleClass:m.itemHiddenClass)&&(ns(u,I),Mo(u,c)),f._items.splice(b,1),Ro(y,l,i),l._gridId=t._id,h?_!==(o=u.parentNode)&&(_.appendChild(u),s=Zo(_,o,!0),g||(A=(g=es(u)).x,C=g.y),l._setTranslate(A+s.left,C+s.top)):v.appendChild(u),l._visibility.setStyles(d?m.visibleStyles:m.hiddenStyles),h&&(a=Zo(_,v,!0)),l._refreshDimensions(),l._sortData=null,l._drag=m.dragEnabled?new As(l):null,h?(this._isActive=!0,this._container=_,this._containerDiffX=a.left,this._containerDiffY=a.top):(this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0),f._hasListeners(Ki)&&f._emit(Ki,{item:l,fromGrid:f,fromIndex:b,toGrid:t,toIndex:i}),t._hasListeners(Qi)&&t._emit(Qi,{item:l,fromGrid:f,fromIndex:b,toGrid:t,toIndex:i})}},xs.prototype.stop=function(t,e,n){if(!this._isDestroyed&&this._isActive){var i,r=this._item,o=r._element,s=r.getGrid()._element;this._container!==s&&(void 0!==e&&void 0!==n||(t?(e=(i=es(o)).x-this._containerDiffX,n=i.y-this._containerDiffY):(e=r._left,n=r._top)),s.appendChild(o),r._setTranslate(e,n)),this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0}},xs.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)},Ss.prototype.show=function(t,e){if(!this._isDestroyed){var n=this._item,i=n._element,r=Jr(e)?e:null,o=n.getGrid()._settings;this._isShowing||this._isHidden?!this._isShowing||t?(this._isShowing||(n._emitter.burst(this._queue,!0,n),ns(i,o.itemHiddenClass),Mo(i,o.itemVisibleClass),this._isHiding||(i.style.display="")),r&&n._emitter.on(this._queue,r),this._isShowing=!0,this._isHiding=this._isHidden=!1,this._startAnimation(!0,t,this._finishShow)):r&&n._emitter.on(this._queue,r):r&&r(!1,n)}},Ss.prototype.hide=function(t,e){if(!this._isDestroyed){var n=this._item,i=n._element,r=Jr(e)?e:null,o=n.getGrid()._settings;this._isHiding||!this._isHidden?!this._isHiding||t?(this._isHiding||(n._emitter.burst(this._queue,!0,n),Mo(i,o.itemHiddenClass),ns(i,o.itemVisibleClass)),r&&n._emitter.on(this._queue,r),this._isHidden=this._isHiding=!0,this._isShowing=!1,this._startAnimation(!1,t,this._finishHide)):r&&n._emitter.on(this._queue,r):r&&r(!1,n)}},Ss.prototype.stop=function(t){if(!this._isDestroyed&&(this._isHiding||this._isShowing)){var e=this._item;Hr(e._id),this._animation.stop(),t&&e._emitter.burst(this._queue,!0,e)}},Ss.prototype.setStyles=function(t){var e=this._childElement,n=this._currentStyleProps;for(var i in this._removeCurrentStyles(),t)n.push(i),e.style[i]=t[i]},Ss.prototype.destroy=function(){if(!this._isDestroyed){var t=this._item,e=t._element,n=t.getGrid()._settings;this.stop(!0),t._emitter.clear(this._queue),this._animation.destroy(),this._removeCurrentStyles(),ns(e,n.itemVisibleClass),ns(e,n.itemHiddenClass),e.style.display="",this._isHiding=this._isShowing=!1,this._isDestroyed=this._isHidden=!0}},Ss.prototype._startAnimation=function(t,e,n){if(!this._isDestroyed){var i,r=this._item,o=this._animation,s=this._childElement,a=r.getGrid()._settings,g=t?a.visibleStyles:a.hiddenStyles,A=t?a.showDuration:a.hideDuration,C=t?a.showEasing:a.hideEasing,I=e||A<=0;if(g){if(Hr(r._id),I)return us(s,g),o.stop(),void(n&&n());var c,l,u;o.isAnimating()&&(o._animation.onfinish=null),c=r._id,l=function(){i=Cs(s,g)},u=function(){o.start(i,g,{duration:A,easing:C,onFinish:n})},Br.add(0,xr+c,l),Br.add(2,Sr+c,u)}else n&&n()}},Ss.prototype._finishShow=function(){this._isHidden||(this._isShowing=!1,this._item._emitter.burst(this._queue,!1,this._item))},Ss.prototype._finishHide=function(){if(this._isHidden){var t=this._item;this._isHiding=!1,t._layout.stop(!0,0,0),t._element.style.display="none",t._emitter.burst(this._queue,!1,t)}},Ss.prototype._removeCurrentStyles=function(){for(var t=this._childElement,e=this._currentStyleProps,n=0;n<e.length;n++)t.style[e[n]]="";e.length=0};var Es=0;function Ms(){return++Es}function Ts(t,e,n){var i=t._settings;if(zi){if(zi.has(e))throw new Error("You can only create one Muuri Item per element!");zi.set(e,this)}this._id=Ms(),this._gridId=t._id,this._element=e,this._isDestroyed=!1,this._left=0,this._top=0,this._width=0,this._height=0,this._marginLeft=0,this._marginRight=0,this._marginTop=0,this._marginBottom=0,this._tX=void 0,this._tY=void 0,this._sortData=null,this._emitter=new rr,e.parentNode!==t._element&&t._element.appendChild(e),Mo(e,i.itemClass),"boolean"!=typeof n&&(n="none"!==eo(e,"display")),this._isActive=n,this._visibility=new Ss(this),this._layout=new ws(this),this._migrate=new xs(this),this._drag=i.dragEnabled?new As(this):null,this._dragRelease=new _s(this),this._dragPlaceholder=new bs(this)}function Rs(t){var e,n,i,r,o,s=.001,a=.5;function g(t){return((1e3*t+.5<<0)/10<<0)/100}function A(){this.currentRects=[],this.nextRects=[],this.rectTarget={},this.rectStore=[],this.slotSizes=[],this.rectId=0,this.slotIndex=-1,this.slotData={left:0,top:0,width:0,height:0},this.sortRectsLeftTop=this.sortRectsLeftTop.bind(this),this.sortRectsTopLeft=this.sortRectsTopLeft.bind(this)}if(A.prototype.computeLayout=function(t,e){var n,i,r,o,s,a,A=t.items,C=t.slots,I=!!(1&e),c=!!(2&e),l=!!(4&e),u=!!(8&e),h=!!(16&e),d="number"==typeof A[0];if(!A.length)return t;for(i=d?2:1,n=0;n<A.length;n+=i)d?(o=A[n],s=A[n+1]):(o=(r=A[n])._width+r._marginLeft+r._marginRight,s=r._height+r._marginTop+r._marginBottom),h&&(o=g(o),s=g(s)),a=this.computeNextSlot(t,o,s,I,c),c?a.left+a.width>t.width&&(t.width=a.left+a.width):a.top+a.height>t.height&&(t.height=a.top+a.height),C[++this.slotIndex]=a.left,C[++this.slotIndex]=a.top,(l||u)&&this.slotSizes.push(a.width,a.height);if(l)for(n=0;n<C.length;n+=2)C[n]=t.width-(C[n]+this.slotSizes[n]);if(u)for(n=1;n<C.length;n+=2)C[n]=t.height-(C[n]+this.slotSizes[n]);return this.slotSizes.length=0,this.currentRects.length=0,this.nextRects.length=0,this.rectId=0,this.slotIndex=-1,t},A.prototype.computeNextSlot=function(t,e,n,i,r){var o,g,A,C,I,c=this.slotData,l=this.currentRects,u=this.nextRects,h=!1;for(u.length=0,c.left=null,c.top=null,c.width=e,c.height=n,C=0;C<l.length;C++)if((g=l[C])&&(o=this.getRect(g),c.width<=o.width+s&&c.height<=o.height+s)){c.left=o.left,c.top=o.top;break}if(null===c.left&&(r?(c.left=t.width,c.top=0):(c.left=0,c.top=t.height),i||(h=!0)),!r&&c.top+c.height>t.height+s&&(c.left>a&&u.push(this.addRect(0,t.height,c.left,1/0)),c.left+c.width<t.width-a&&u.push(this.addRect(c.left+c.width,t.height,t.width-c.left-c.width,1/0)),t.height=c.top+c.height),r&&c.left+c.width>t.width+s&&(c.top>a&&u.push(this.addRect(t.width,0,1/0,c.top)),c.top+c.height<t.height-a&&u.push(this.addRect(t.width,c.top+c.height,1/0,t.height-c.top-c.height)),t.width=c.left+c.width),!h)for(i&&(C=0);C<l.length;C++)if(g=l[C])for(o=this.getRect(g),A=this.splitRect(o,c),I=0;I<A.length;I++)g=A[I],o=this.getRect(g),(r?o.left+s<t.width-s:o.top+s<t.height-s)&&u.push(g);return u.length>1&&this.purgeRects(u).sort(r?this.sortRectsLeftTop:this.sortRectsTopLeft),this.currentRects=u,this.nextRects=l,c},A.prototype.addRect=function(t,e,n,i){var r=++this.rectId;return this.rectStore[r]=t||0,this.rectStore[++this.rectId]=e||0,this.rectStore[++this.rectId]=n||0,this.rectStore[++this.rectId]=i||0,r},A.prototype.getRect=function(t,e){return e||(e=this.rectTarget),e.left=this.rectStore[t]||0,e.top=this.rectStore[++t]||0,e.width=this.rectStore[++t]||0,e.height=this.rectStore[++t]||0,e},A.prototype.splitRect=(e=[],n=0,i=0,function(t,r){return e.length=0,t.left+t.width<=r.left+s||r.left+r.width<=t.left+s||t.top+t.height<=r.top+s||r.top+r.height<=t.top+s?(e.push(this.addRect(t.left,t.top,t.width,t.height)),e):((n=r.left-t.left)>=a&&e.push(this.addRect(t.left,t.top,n,t.height)),(n=t.left+t.width-(r.left+r.width))>=a&&e.push(this.addRect(r.left+r.width,t.top,n,t.height)),(i=r.top-t.top)>=a&&e.push(this.addRect(t.left,t.top,t.width,i)),(i=t.top+t.height-(r.top+r.height))>=a&&e.push(this.addRect(t.left,r.top+r.height,t.width,i)),e)}),A.prototype.isRectAWithinRectB=function(t,e){return t.left+s>=e.left&&t.top+s>=e.top&&t.left+t.width-s<=e.left+e.width&&t.top+t.height-s<=e.top+e.height},A.prototype.purgeRects=(r={},o={},function(t){for(var e,n=t.length;n--;)if(e=t.length,t[n])for(this.getRect(t[n],r);e--;)if(t[e]&&n!==e&&(this.getRect(t[e],o),this.isRectAWithinRectB(r,o))){t[n]=0;break}return t}),A.prototype.sortRectsTopLeft=function(){var t={},e={};return function(n,i){return this.getRect(n,t),this.getRect(i,e),t.top<e.top&&t.top+s<e.top?-1:t.top>e.top&&t.top-s>e.top?1:t.left<e.left&&t.left+s<e.left?-1:t.left>e.left&&t.left-s>e.left?1:0}}(),A.prototype.sortRectsLeftTop=function(){var t={},e={};return function(n,i){return this.getRect(n,t),this.getRect(i,e),t.left<e.left&&t.left+s<e.left?-1:t.left>e.left&&t.left-s<e.left?1:t.top<e.top&&t.top+s<e.top?-1:t.top>e.top&&t.top-s>e.top?1:0}}(),t){var C=new A;self.onmessage=function(t){var e=new Float32Array(t.data),n=e.subarray(4,e.length),i=new Float32Array(n.length),r=e[3],o={items:n,slots:i,width:e[1],height:e[2]};C.computeLayout(o,r),e[1]=o.width,e[2]=o.height,e.set(o.slots,4),postMessage(e.buffer,[e.buffer])}}return A}Ts.prototype.getGrid=function(){return Fi[this._gridId]},Ts.prototype.getElement=function(){return this._element},Ts.prototype.getWidth=function(){return this._width},Ts.prototype.getHeight=function(){return this._height},Ts.prototype.getMargin=function(){return{left:this._marginLeft,right:this._marginRight,top:this._marginTop,bottom:this._marginBottom}},Ts.prototype.getPosition=function(){return{left:this._left,top:this._top}},Ts.prototype.isActive=function(){return this._isActive},Ts.prototype.isVisible=function(){return!!this._visibility&&!this._visibility._isHidden},Ts.prototype.isShowing=function(){return!(!this._visibility||!this._visibility._isShowing)},Ts.prototype.isHiding=function(){return!(!this._visibility||!this._visibility._isHiding)},Ts.prototype.isPositioning=function(){return!(!this._layout||!this._layout._isActive)},Ts.prototype.isDragging=function(){return!(!this._drag||!this._drag._isActive)},Ts.prototype.isReleasing=function(){return!(!this._dragRelease||!this._dragRelease._isActive)},Ts.prototype.isDestroyed=function(){return this._isDestroyed},Ts.prototype._refreshDimensions=function(t){if(!(this._isDestroyed||!0!==t&&this._visibility._isHidden)){var e=this._element,n=this._dragPlaceholder,i=e.getBoundingClientRect();this._width=i.width,this._height=i.height,this._marginLeft=Math.max(0,no(e,"margin-left")),this._marginRight=Math.max(0,no(e,"margin-right")),this._marginTop=Math.max(0,no(e,"margin-top")),this._marginBottom=Math.max(0,no(e,"margin-bottom")),n&&n.updateDimensions()}},Ts.prototype._refreshSortData=function(){if(!this._isDestroyed){var t,e=this._sortData={},n=this.getGrid()._settings.sortData;for(t in n)e[t]=n[t](this,this._element)}},Ts.prototype._addToLayout=function(t,e){!0!==this._isActive&&(this._isActive=!0,this._left=t||0,this._top=e||0)},Ts.prototype._removeFromLayout=function(){!1!==this._isActive&&(this._isActive=!1,this._left=0,this._top=0)},Ts.prototype._canSkipLayout=function(t,e){return this._left===t&&this._top===e&&!this._migrate._isActive&&!this._layout._skipNextAnimation&&!this._dragRelease.isJustReleased()},Ts.prototype._setTranslate=function(t,e){return(this._tX!==t||this._tY!==e)&&(this._tX=t,this._tY=e,this._element.style[Do]=ys(t,e),!0)},Ts.prototype._destroy=function(t){if(!this._isDestroyed){var e=this._element,n=this.getGrid()._settings;this._dragPlaceholder.destroy(),this._dragRelease.destroy(),this._migrate.destroy(),this._layout.destroy(),this._visibility.destroy(),this._drag&&this._drag.destroy(),this._emitter.destroy(),ns(e,n.itemClass),t&&e.parentNode.removeChild(e),zi&&zi.delete(e),this._isActive=!1,this._isDestroyed=!0}};var Os=Rs(),Ls=null,ks=[];function Ds(t,e){if(this._options=0,this._processor=null,this._layoutQueue=[],this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={},this._workers=[],this._onWorkerMessage=this._onWorkerMessage.bind(this),this.setOptions(e),(t="number"==typeof t?Math.max(0,t):0)&&window.Worker&&window.URL&&window.Blob)try{this._workers=function(t,e){var n=[];if(t>0){Ls||(Ls=URL.createObjectURL(new Blob(["("+Rs.toString()+")(true)"],{type:"application/javascript"})));for(var i,r=0;r<t;r++)i=new Worker(Ls),e&&(i.onmessage=e),n.push(i),ks.push(i)}return n}(t,this._onWorkerMessage)}catch(t){this._processor=new Os}else this._processor=new Os}Ds.prototype._sendToWorker=function(){if(this._layoutQueue.length&&this._workers.length){var t=this._layoutQueue.shift(),e=this._workers.pop(),n=this._layoutWorkerData[t];delete this._layoutWorkerData[t],this._layoutWorkers[t]=e,e.postMessage(n.buffer,[n.buffer])}},Ds.prototype._onWorkerMessage=function(t){var e=new Float32Array(t.data),n=e[0],i=this._layouts[n],r=this._layoutCallbacks[n],o=this._layoutWorkers[n];i&&delete this._layoutCallbacks[n],r&&delete this._layoutCallbacks[n],o&&delete this._layoutWorkers[n],i&&r&&(i.width=e[1],i.height=e[2],i.slots=e.subarray(4,e.length),this._finalizeLayout(i),r(i)),o&&(this._workers.push(o),this._sendToWorker())},Ds.prototype._finalizeLayout=function(t){var e=t._grid,n=2&t._settings,i="border-box"===e._boxSizing;return delete t._grid,delete t._settings,t.styles={},n?t.styles.width=(i?t.width+e._borderLeft+e._borderRight:t.width)+"px":t.styles.height=(i?t.height+e._borderTop+e._borderBottom:t.height)+"px",t},Ds.prototype.setOptions=function(t){var e,n,i,r,o;t&&(e="boolean"==typeof t.fillGaps?t.fillGaps?1:0:1&this._options,n="boolean"==typeof t.horizontal?t.horizontal?2:0:2&this._options,i="boolean"==typeof t.alignRight?t.alignRight?4:0:4&this._options,r="boolean"==typeof t.alignBottom?t.alignBottom?8:0:8&this._options,o="boolean"==typeof t.rounding?t.rounding?16:0:16&this._options,this._options=e|n|i|r|o)},Ds.prototype.createLayout=function(t,e,n,i,r,o){if(this._layouts[e])throw new Error("A layout with the provided id is currently being processed.");var s=2&this._options,a={id:e,items:n,slots:null,width:s?0:i,height:s?r:0,_grid:t,_settings:this._options};if(!n.length)return a.slots=[],this._finalizeLayout(a),void o(a);if(this._processor)return a.slots=window.Float32Array?new Float32Array(2*n.length):new Array(2*n.length),this._processor.computeLayout(a,a._settings),this._finalizeLayout(a),void o(a);var g,A,C,I=new Float32Array(4+2*n.length);for(I[0]=e,I[1]=a.width,I[2]=a.height,I[3]=a._settings,g=0,A=3;g<n.length;g++)C=n[g],I[++A]=C._width+C._marginLeft+C._marginRight,I[++A]=C._height+C._marginTop+C._marginBottom;return this._layoutQueue.push(e),this._layouts[e]=a,this._layoutCallbacks[e]=o,this._layoutWorkerData[e]=I,this._sendToWorker(),this.cancelLayout.bind(this,e)},Ds.prototype.cancelLayout=function(t){if(this._layouts[t]&&(delete this._layouts[t],delete this._layoutCallbacks[t],this._layoutWorkerData[t])){delete this._layoutWorkerData[t];var e=this._layoutQueue.indexOf(t);e>-1&&this._layoutQueue.splice(e,1)}},Ds.prototype.destroy=function(){for(var t in this._layoutWorkers)this._workers.push(this._layoutWorkers[t]);!function(t){for(var e,n,i=0;i<t.length;i++)(e=t[i]).onmessage=null,e.onerror=null,e.onmessageerror=null,e.terminate(),(n=ks.indexOf(e))>-1&&ks.splice(n,1);Ls&&!ks.length&&(URL.revokeObjectURL(Ls),Ls=null)}(this._workers),this._workers.length=0,this._layoutQueue.length=0,this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={}};var Ns=0;function Ps(t){var e=Object.prototype.toString.call(t);return"[object HTMLCollection]"===e||"[object NodeList]"===e}var js=Object.prototype.toString;function Fs(t){return"object"==typeof t&&"[object Object]"===js.call(t)}function zs(){}var Bs,Us="number",Hs="string",Gs="instant",Ws=0;function Vs(t,e){if(typeof t===Hs&&(t=document.querySelector(t)),!(t.getRootNode?t.getRootNode({composed:!0})===document:document.body.contains(t))||t===document.documentElement)throw new Error("Container element must be an existing DOM element.");var n,i,r=function(t,e){var n=Zs({},t);return e&&(n=Zs(n,e)),e&&e.visibleStyles?n.visibleStyles=e.visibleStyles:t&&t.visibleStyles&&(n.visibleStyles=t.visibleStyles),e&&e.hiddenStyles?n.hiddenStyles=e.hiddenStyles:t&&t.hiddenStyles&&(n.hiddenStyles=t.hiddenStyles),n}(Vs.defaultOptions,e);r.visibleStyles=Ys(r.visibleStyles),r.hiddenStyles=Ys(r.hiddenStyles),Jr(r.dragSort)||(r.dragSort=!!r.dragSort),this._id=Ms(),this._element=t,this._settings=r,this._isDestroyed=!1,this._items=[],this._layout={id:0,items:[],slots:[]},this._isLayoutFinished=!0,this._nextLayoutData=null,this._emitter=new rr,this._onLayoutDataReceived=this._onLayoutDataReceived.bind(this),Fi[this._id]=this,Mo(t,r.containerClass),n=this,typeof(i=r.layoutOnResize)!==Us&&(i=!0===i?0:-1),i>=0&&(n._resizeHandler=function(t,e){var n=++Ns,i=0,r=0,o=!1,s=function(e){o||(r&&(i-=e-r),r=e,i>0?function(t,e){Br.add(0,zr+t,e)}(n,s):(i=r=0,t()))};return function(a){if(!o){if(!(e<=0))return!0===a?(o=!0,i=r=0,s=void 0,void function(t){Br.remove(0,zr+t)}(n)):void(i<=0?(i=e,s(0)):i=e);!0!==a&&t()}}}((function(){n.refreshItems().layout()}),i),window.addEventListener("resize",n._resizeHandler)),this.add(function(t,e){if("*"===e)return t.children;if(typeof e===Hs){for(var n=[],i=t.children,r=0;r<i.length;r++)Eo(i[r],e)&&n.push(i[r]);return n}return Array.isArray(e)||Ps(e)?e:[]}(t,r.items),{layout:!1}),r.layoutOnInit&&this.layout(!0)}function Zs(t,e){var n,i,r,o=Object.keys(e),s=o.length;for(r=0;r<s;r++)n=Fs(e[i=o[r]]),Fs(t[i])&&n?t[i]=Zs(Zs({},t[i]),e[i]):n?t[i]=Zs({},e[i]):Array.isArray(e[i])?t[i]=e[i].slice(0):t[i]=e[i];return t}function Ys(t){var e,n,i={},r=document.documentElement.style;for(e in t)t[e]&&(n=Ar(r,e))&&(i[n]=t[e]);return i}function Xs(t){for(var e={},n=0;n<t.length;n++)e[t[n]._id]=n;return e}function Js(t,e,n){return t[e._id]-t[n._id]}Vs.Item=Ts,Vs.ItemLayout=ws,Vs.ItemVisibility=Ss,Vs.ItemMigrate=xs,Vs.ItemDrag=As,Vs.ItemDragRelease=_s,Vs.ItemDragPlaceholder=bs,Vs.Emitter=rr,Vs.Animator=ms,Vs.Dragger=mr,Vs.Packer=Ds,Vs.AutoScroller=wo,Vs.defaultPacker=new Ds(2),Vs.defaultOptions={items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!1},layoutOnResize:150,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:!1,dragContainer:null,dragHandle:null,dragStartPredicate:{distance:0,delay:0},dragAxis:"xy",dragSort:!0,dragSortHeuristics:{sortInterval:100,minDragDistance:10,minBounceBackAngle:1},dragSortPredicate:{threshold:50,action:Ui,migrateAction:Ui},dragRelease:{duration:300,easing:"ease",useDragContainer:!0},dragCssProps:{touchAction:"none",userSelect:"none",userDrag:"none",tapHighlightColor:"rgba(0, 0, 0, 0)",touchCallout:"none",contentZooming:"none"},dragPlaceholder:{enabled:!1,createElement:null,onCreate:null,onRemove:null},dragAutoScroll:{targets:[],handle:null,threshold:50,safeZone:.2,speed:wo.smoothSpeed(1e3,2e3,2500),sortDuringScroll:!0,smoothStop:!1,onStart:null,onStop:null},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing",itemPlaceholderClass:"muuri-item-placeholder"},Vs.prototype.on=function(t,e){return this._emitter.on(t,e),this},Vs.prototype.off=function(t,e){return this._emitter.off(t,e),this},Vs.prototype.getElement=function(){return this._element},Vs.prototype.getItem=function(t){if(this._isDestroyed||!t&&0!==t)return null;if(typeof t===Us)return this._items[t>-1?t:this._items.length+t]||null;if(t instanceof Ts)return t._gridId===this._id?t:null;if(zi){var e=zi.get(t);return e&&e._gridId===this._id?e:null}for(var n=0;n<this._items.length;n++)if(this._items[n]._element===t)return this._items[n];return null},Vs.prototype.getItems=function(t){if(this._isDestroyed||void 0===t)return this._items.slice(0);var e,n,i=[];if(Array.isArray(t)||Ps(t))for(e=0;e<t.length;e++)(n=this.getItem(t[e]))&&i.push(n);else(n=this.getItem(t))&&i.push(n);return i},Vs.prototype.refreshItems=function(t,e){if(this._isDestroyed)return this;var n,i,r,o,s=t||this._items;if(!0===e)for(o=[],n=0;n<s.length;n++)(i=s[n]).isVisible()||i.isHiding()||((r=i.getElement().style).visibility="hidden",r.display="",o.push(r));for(n=0;n<s.length;n++)s[n]._refreshDimensions(e);if(!0===e){for(n=0;n<o.length;n++)(r=o[n]).visibility="",r.display="none";o.length=0}return this},Vs.prototype.refreshSortData=function(t){if(this._isDestroyed)return this;for(var e=t||this._items,n=0;n<e.length;n++)e[n]._refreshSortData();return this},Vs.prototype.synchronize=function(){if(this._isDestroyed)return this;var t,e,n=this._items;if(!n.length)return this;for(var i=0;i<n.length;i++)(e=n[i]._element).parentNode===this._element&&(t=t||document.createDocumentFragment()).appendChild(e);return t?(this._element.appendChild(t),this._emit("synchronize"),this):this},Vs.prototype.layout=function(t,e){if(this._isDestroyed)return this;var n=this._nextLayoutData;n&&Jr(n.cancel)&&n.cancel();var i=Ws=Ws%16777216+1;this._nextLayoutData={id:i,instant:t,onFinish:e,cancel:null};for(var r=this._items,o=[],s=0;s<r.length;s++)r[s]._isActive&&o.push(r[s]);this._refreshDimensions();var a,g=this._width-this._borderLeft-this._borderRight,A=this._height-this._borderTop-this._borderBottom,C=this._settings.layout;return Jr(C)?a=C(this,i,o,g,A,this._onLayoutDataReceived):(Vs.defaultPacker.setOptions(C),a=Vs.defaultPacker.createLayout(this,i,o,g,A,this._onLayoutDataReceived)),Jr(a)&&this._nextLayoutData&&this._nextLayoutData.id===i&&(this._nextLayoutData.cancel=a),this},Vs.prototype.add=function(t,e){if(this._isDestroyed||!t)return[];var n,i=Ps(n=t)?Array.prototype.slice.call(n):Array.prototype.concat(n);if(!i.length)return i;var r,o,s,a,g=e||{},A=g.layout?g.layout:void 0===g.layout,C=this._items,I=!1;for(a=0;a<i.length;a++)(o=i[a]).parentNode!==this._element&&(r=r||document.createDocumentFragment()).appendChild(o);for(r&&this._element.appendChild(r),a=0;a<i.length;a++)o=i[a],(s=i[a]=new Ts(this,o,g.active))._isActive&&(I=!0,s._layout._skipNextAnimation=!0);for(a=0;a<i.length;a++)(s=i[a])._refreshDimensions(),s._refreshSortData();return Ro(C,i,g.index),this._hasListeners("add")&&this._emit("add",i.slice(0)),I&&A&&this.layout(A===Gs,Jr(A)?A:void 0),i},Vs.prototype.remove=function(t,e){if(this._isDestroyed||!t.length)return[];var n,i,r,o=e||{},s=o.layout?o.layout:void 0===o.layout,a=!1,g=this.getItems(),A=[],C=[];for(r=0;r<t.length;r++)(i=t[r])._isDestroyed||-1!==(n=this._items.indexOf(i))&&(i._isActive&&(a=!0),A.push(i),C.push(g.indexOf(i)),i._destroy(o.removeElements),this._items.splice(n,1));return this._hasListeners(Vi)&&this._emit(Vi,A.slice(0),C),a&&s&&this.layout(s===Gs,Jr(s)?s:void 0),A},Vs.prototype.show=function(t,e){return!this._isDestroyed&&t.length&&this._setItemsVisibility(t,!0,e),this},Vs.prototype.hide=function(t,e){return!this._isDestroyed&&t.length&&this._setItemsVisibility(t,!1,e),this},Vs.prototype.filter=function(t,e){if(this._isDestroyed||!this._items.length)return this;var n,i,r=[],o=[],s=typeof t===Hs,a=Jr(t),g=e||{},A=!0===g.instant,C=g.syncWithLayout,I=g.layout?g.layout:void 0===g.layout,c=Jr(g.onFinish)?g.onFinish:null,l=-1,u=zs;if(c&&(u=function(){++l&&c(r.slice(0),o.slice(0))}),a||s)for(i=0;i<this._items.length;i++)n=this._items[i],(a?t(n):Eo(n._element,t))?r.push(n):o.push(n);return r.length?this.show(r,{instant:A,syncWithLayout:C,onFinish:u,layout:!1}):u(),o.length?this.hide(o,{instant:A,syncWithLayout:C,onFinish:u,layout:!1}):u(),(r.length||o.length)&&(this._hasListeners(Yi)&&this._emit(Yi,r.slice(0),o.slice(0)),I&&this.layout(I===Gs,Jr(I)?I:void 0)),this},Vs.prototype.sort=function(){var t,e,n,i;function r(r,o){for(var s,a,g,A,C=0,I=0;I<t.length;I++)if(s=t[I][0],a=t[I][1],g=(r._sortData?r:r._refreshSortData())._sortData[s],A=(o._sortData?o:o._refreshSortData())._sortData[s],C="desc"===a||!a&&e?A<g?-1:A>g?1:0:g<A?-1:g>A?1:0)return C;return C||(i||(i=Xs(n)),C=e?Js(i,o,r):Js(i,r,o)),C}function o(r,o){var s=e?-t(r,o):t(r,o);return s||(i||(i=Xs(n)),s=e?Js(i,o,r):Js(i,r,o)),s}return function(s,a){if(this._isDestroyed||this._items.length<2)return this;var g=this._items,A=a||{},C=A.layout?A.layout:void 0===A.layout;if(e=!!A.descending,n=g.slice(0),i=null,Jr(s))t=s,g.sort(o);else if(typeof s===Hs)t=s.trim().split(" ").filter((function(t){return t})).map((function(t){return t.split(":")})),g.sort(r);else{if(!Array.isArray(s))throw t=e=n=i=null,new Error("Invalid comparer argument provided.");g.length=0,g.push.apply(g,s)}return this._hasListeners(Xi)&&this._emit(Xi,g.slice(0),n),C&&this.layout(C===Gs,Jr(C)?C:void 0),t=e=n=i=null,this}}(),Vs.prototype.move=function(t,e,n){if(this._isDestroyed||this._items.length<2)return this;var i,r,o=this._items,s=n||{},a=s.layout?s.layout:void 0===s.layout,g=s.action===Bi,A=g?Bi:Ui,C=this.getItem(t),I=this.getItem(e);return C&&I&&C!==I&&(i=o.indexOf(C),r=o.indexOf(I),g?ko(o,i,r):Lo(o,i,r),this._hasListeners(Ji)&&this._emit(Ji,{item:C,fromIndex:i,toIndex:r,action:A}),a&&this.layout(a===Gs,Jr(a)?a:void 0)),this},Vs.prototype.send=function(t,e,n,i){if(this._isDestroyed||e._isDestroyed||this===e)return this;if(!(t=this.getItem(t)))return this;var r=i||{},o=r.appendTo||document.body,s=r.layoutSender?r.layoutSender:void 0===r.layoutSender,a=r.layoutReceiver?r.layoutReceiver:void 0===r.layoutReceiver;return t._migrate.start(e,n,o),t._migrate._isActive&&t._isActive&&(s&&this.layout(s===Gs,Jr(s)?s:void 0),a&&e.layout(a===Gs,Jr(a)?a:void 0)),this},Vs.prototype.destroy=function(t){if(this._isDestroyed)return this;var e,n,i,r=this._element,o=this._items.slice(0),s=this._layout&&this._layout.styles||{};for((i=this)._resizeHandler&&(i._resizeHandler(!0),window.removeEventListener("resize",i._resizeHandler),i._resizeHandler=null),e=0;e<o.length;e++)o[e]._destroy(t);for(n in this._items.length=0,ns(r,this._settings.containerClass),s)r.style[n]="";return this._emit("destroy"),this._emitter.destroy(),delete Fi[this._id],this._isDestroyed=!0,this},Vs.prototype._emit=function(){this._isDestroyed||this._emitter.emit.apply(this._emitter,arguments)},Vs.prototype._hasListeners=function(t){return!this._isDestroyed&&this._emitter.countListeners(t)>0},Vs.prototype._updateBoundingRect=function(){var t=this._element.getBoundingClientRect();this._width=t.width,this._height=t.height,this._left=t.left,this._top=t.top,this._right=t.right,this._bottom=t.bottom},Vs.prototype._updateBorders=function(t,e,n,i){var r=this._element;t&&(this._borderLeft=no(r,"border-left-width")),e&&(this._borderRight=no(r,"border-right-width")),n&&(this._borderTop=no(r,"border-top-width")),i&&(this._borderBottom=no(r,"border-bottom-width"))},Vs.prototype._refreshDimensions=function(){this._updateBoundingRect(),this._updateBorders(1,1,1,1),this._boxSizing=eo(this._element,"box-sizing")},Vs.prototype._onLayoutDataReceived=(Bs=[],function(t){if(!this._isDestroyed&&this._nextLayoutData&&this._nextLayoutData.id===t.id){var e,n,i,r,o=this,s=this._nextLayoutData.instant,a=this._nextLayoutData.onFinish,g=t.items.length,A=g;for(this._nextLayoutData=null,!this._isLayoutFinished&&this._hasListeners(Wi)&&this._emit(Wi,this._layout.items.slice(0)),this._layout=t,Bs.length=0,r=0;r<g;r++)(e=t.items[r])?(n=t.slots[2*r],i=t.slots[2*r+1],e._canSkipLayout(n,i)?--A:(e._left=n,e._top=i,e.isActive()&&!e.isDragging()?Bs.push(e):--A)):--A;if(t.styles&&us(this._element,t.styles),!this._hasListeners(Hi)||(this._emit(Hi,t.items.slice(0),!0===s),this._layout.id===t.id)){var C=function(){if(!(--A>0)){var e=o._layout.id!==t.id,n=Jr(s)?s:a;e||(o._isLayoutFinished=!0),Jr(n)&&n(t.items.slice(0),e),!e&&o._hasListeners(Gi)&&o._emit(Gi,t.items.slice(0))}};if(!Bs.length)return C(),this;for(this._isLayoutFinished=!1,r=0;r<Bs.length&&this._layout.id===t.id;r++)Bs[r]._layout.start(!0===s,C);return this._layout.id===t.id&&(Bs.length=0),this}}}),Vs.prototype._setItemsVisibility=function(t,e,n){var i,r,o=this,s=t.slice(0),a=n||{},g=!0===a.instant,A=a.onFinish,C=a.layout?a.layout:void 0===a.layout,I=s.length,c=e?"showStart":Zi,l=e?"showEnd":"hideEnd",u=e?"show":"hide",h=!1,d=[],f=[];if(I){for(r=0;r<s.length;r++)i=s[r],(e&&!i._isActive||!e&&i._isActive)&&(h=!0),i._layout._skipNextAnimation=!(!e||i._isActive),e&&i._visibility._isHidden&&f.push(i),e?i._addToLayout():i._removeFromLayout();f.length&&(this.refreshItems(f,!0),f.length=0),h&&!1!==a.syncWithLayout?this.on(Hi,p):p(),h&&C&&this.layout(C===Gs,Jr(C)?C:void 0)}else Jr(A)&&A(s);function p(){for(h&&!1!==a.syncWithLayout&&o.off(Hi,p),o._hasListeners(c)&&o._emit(c,s.slice(0)),r=0;r<s.length;r++)s[r]._gridId===o._id?s[r]._visibility[u](g,(function(t,e){t||d.push(e),--I<1&&(Jr(A)&&A(d.slice(0)),o._hasListeners(l)&&o._emit(l,d.slice(0)))})):--I<1&&(Jr(A)&&A(d.slice(0)),o._hasListeners(l)&&o._emit(l,d.slice(0)))}};const Ks=Vs;function qs(t){return qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(t)}function Qs(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function $s(t,e){if(e&&("object"===qs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ta(t){var e="function"==typeof Map?new Map:void 0;return ta=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return ea(t,arguments,ra(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ia(n,t)},ta(t)}function ea(t,e,n){return ea=na()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&ia(r,n.prototype),r},ea.apply(null,arguments)}function na(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ia(t,e){return ia=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ia(t,e)}function ra(t){return ra=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ra(t)}var oa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ia(t,e)}(s,t);var e,n,i,r,o=(e=s,n=na(),function(){var t,i=ra(e);if(n){var r=ra(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return $s(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).innerHTML="\n            <style>\n            :host {\n                all: inherit;\n            }\n          .grid {\n            position: relative;\n\n          }\n          .item {\n            display: block;\n            position: absolute;\n            min-width: 200px;\n            min-height: 168px;\n            margin: 5px;\n            z-index: 1;\n            background: #fff;\n            box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.3);\n            color: #555;\n          }\n          .item.muuri-item-dragging {\n            z-index: 3;\n\n          }\n          .item.muuri-item-releasing {\n            z-index: 2;\n\n          }\n          .item.muuri-item-hidden {\n            z-index: 0;\n\n          }\n          .item-content {\n            position: relative;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n\n          }\n          .item-header {\n            height: 23px;\n            background: #DFD;\n          }\n          </style>\n              ",t}return i=s,(r=[{key:"connectedCallback",value:function(){var t=document.createElement("div");t.style.position="relative",t.innerHTML="";var e=document.createElement("div");t.appendChild(e),this.appendChild(t),Ks.defaultOptions.dragEnabled=!0,this.grid=new Ks(e,{items:t.querySelectorAll(".item")}),this.i=0}},{key:"add",value:function(t,e){var n=this;this.i+=1;var i=document.createElement("div");i.setAttribute("class","item");var r=document.createElement("div");r.setAttribute("class","item-header");var o=document.createElement("div");o.setAttribute("class","item-content"),i.appendChild(r),i.appendChild(o),o.appendChild(t.getNode());var s=this.grid.add(i),a=document.createElement("input");a.style.position="absolute",a.style.top="2px",a.style.right="2px",a.setAttribute("type","button"),a.value="x",a.onclick=function(t){n.grid.remove(s,{removeElements:!0}),e()};var g=document.createElement("input");g.style.position="absolute",g.style.top="2px",g.style.right="32px",g.setAttribute("type","button"),g.value="save",g.onclick=function(e){console.log("TODO",t.getState())},r.appendChild(a),r.appendChild(g)}}])&&Qs(i.prototype,r),s}(ta(HTMLElement)),sa=customElements.get("muuri-layout");void 0===sa&&(sa=oa,customElements.define("muuri-layout",sa));const aa=sa;var ga={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},Aa={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},Ca={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},Ia=["touchstart","pointerdown","mousedown","keydown"],ca=["touchend","pointerup","mouseup","contextmenu"],la=[],ua=function(t){function e(n){var i=t.call(this,$e($e({},e.defaultAdapter),n))||this;return i.activationAnimationHasEnded_=!1,i.activationTimer_=0,i.fgDeactivationRemovalTimer_=0,i.fgScale_="0",i.frame_={width:0,height:0},i.initialSize_=0,i.layoutFrame_=0,i.maxRadius_=0,i.unboundedCoords_={left:0,top:0},i.activationState_=i.defaultActivationState_(),i.activationTimerCallback_=function(){i.activationAnimationHasEnded_=!0,i.runDeactivationUXLogicIfReady_()},i.activateHandler_=function(t){return i.activate_(t)},i.deactivateHandler_=function(){return i.deactivate_()},i.focusHandler_=function(){return i.handleFocus()},i.blurHandler_=function(){return i.handleBlur()},i.resizeHandler_=function(){return i.layout()},i}return Qe(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return ga},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Aa},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Ca},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this,n=this.supportsPressRipple_();if(this.registerRootHandlers_(n),n){var i=e.cssClasses,r=i.ROOT,o=i.UNBOUNDED;requestAnimationFrame((function(){t.adapter.addClass(r),t.adapter.isUnbounded()&&(t.adapter.addClass(o),t.layoutInternal_())}))}},e.prototype.destroy=function(){var t=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter.removeClass(e.cssClasses.FG_DEACTIVATION));var n=e.cssClasses,i=n.ROOT,r=n.UNBOUNDED;requestAnimationFrame((function(){t.adapter.removeClass(i),t.adapter.removeClass(r),t.removeCssVars_()}))}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},e.prototype.activate=function(t){this.activate_(t)},e.prototype.deactivate=function(){this.deactivate_()},e.prototype.layout=function(){var t=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){t.layoutInternal_(),t.layoutFrame_=0}))},e.prototype.setUnbounded=function(t){var n=e.cssClasses.UNBOUNDED;t?this.adapter.addClass(n):this.adapter.removeClass(n)},e.prototype.handleFocus=function(){var t=this;requestAnimationFrame((function(){return t.adapter.addClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.handleBlur=function(){var t=this;requestAnimationFrame((function(){return t.adapter.removeClass(e.cssClasses.BG_FOCUSED)}))},e.prototype.supportsPressRipple_=function(){return this.adapter.browserSupportsCssVars()},e.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers_=function(t){var e=this;t&&(Ia.forEach((function(t){e.adapter.registerInteractionHandler(t,e.activateHandler_)})),this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler_)),this.adapter.registerInteractionHandler("focus",this.focusHandler_),this.adapter.registerInteractionHandler("blur",this.blurHandler_)},e.prototype.registerDeactivationHandlers_=function(t){var e=this;"keydown"===t.type?this.adapter.registerInteractionHandler("keyup",this.deactivateHandler_):ca.forEach((function(t){e.adapter.registerDocumentInteractionHandler(t,e.deactivateHandler_)}))},e.prototype.deregisterRootHandlers_=function(){var t=this;Ia.forEach((function(e){t.adapter.deregisterInteractionHandler(e,t.activateHandler_)})),this.adapter.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler_)},e.prototype.deregisterDeactivationHandlers_=function(){var t=this;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler_),ca.forEach((function(e){t.adapter.deregisterDocumentInteractionHandler(e,t.deactivateHandler_)}))},e.prototype.removeCssVars_=function(){var t=this,n=e.strings;Object.keys(n).forEach((function(e){0===e.indexOf("VAR_")&&t.adapter.updateCssVariable(n[e],null)}))},e.prototype.activate_=function(t){var e=this;if(!this.adapter.isSurfaceDisabled()){var n=this.activationState_;if(!n.isActivated){var i=this.previousActivationEvent_;i&&void 0!==t&&i.type!==t.type||(n.isActivated=!0,n.isProgrammatic=void 0===t,n.activationEvent=t,n.wasActivatedByPointer=!n.isProgrammatic&&void 0!==t&&("mousedown"===t.type||"touchstart"===t.type||"pointerdown"===t.type),void 0!==t&&la.length>0&&la.some((function(t){return e.adapter.containsEventTarget(t)}))?this.resetActivationState_():(void 0!==t&&(la.push(t.target),this.registerDeactivationHandlers_(t)),n.wasElementMadeActive=this.checkElementMadeActive_(t),n.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame((function(){la=[],n.wasElementMadeActive||void 0===t||" "!==t.key&&32!==t.keyCode||(n.wasElementMadeActive=e.checkElementMadeActive_(t),n.wasElementMadeActive&&e.animateActivation_()),n.wasElementMadeActive||(e.activationState_=e.defaultActivationState_())}))))}}},e.prototype.checkElementMadeActive_=function(t){return void 0===t||"keydown"!==t.type||this.adapter.isSurfaceActive()},e.prototype.animateActivation_=function(){var t=this,n=e.strings,i=n.VAR_FG_TRANSLATE_START,r=n.VAR_FG_TRANSLATE_END,o=e.cssClasses,s=o.FG_DEACTIVATION,a=o.FG_ACTIVATION,g=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var A="",C="";if(!this.adapter.isUnbounded()){var I=this.getFgTranslationCoordinates_(),c=I.startPoint,l=I.endPoint;A=c.x+"px, "+c.y+"px",C=l.x+"px, "+l.y+"px"}this.adapter.updateCssVariable(i,A),this.adapter.updateCssVariable(r,C),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter.removeClass(s),this.adapter.computeBoundingRect(),this.adapter.addClass(a),this.activationTimer_=setTimeout((function(){return t.activationTimerCallback_()}),g)},e.prototype.getFgTranslationCoordinates_=function(){var t,e=this.activationState_,n=e.activationEvent;return{startPoint:t={x:(t=e.wasActivatedByPointer?function(t,e,n){if(!t)return{x:0,y:0};var i,r,o=e.x,s=e.y,a=o+n.left,g=s+n.top;if("touchstart"===t.type){var A=t;i=A.changedTouches[0].pageX-a,r=A.changedTouches[0].pageY-g}else{var C=t;i=C.pageX-a,r=C.pageY-g}return{x:i,y:r}}(n,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2}).x-this.initialSize_/2,y:t.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},e.prototype.runDeactivationUXLogicIfReady_=function(){var t=this,n=e.cssClasses.FG_DEACTIVATION,i=this.activationState_,r=i.hasDeactivationUXRun,o=i.isActivated;(r||!o)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter.addClass(n),this.fgDeactivationRemovalTimer_=setTimeout((function(){t.adapter.removeClass(n)}),Ca.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses_=function(){var t=e.cssClasses.FG_ACTIVATION;this.adapter.removeClass(t),this.activationAnimationHasEnded_=!1,this.adapter.computeBoundingRect()},e.prototype.resetActivationState_=function(){var t=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout((function(){return t.previousActivationEvent_=void 0}),e.numbers.TAP_DELAY_MS)},e.prototype.deactivate_=function(){var t=this,e=this.activationState_;if(e.isActivated){var n=$e({},e);e.isProgrammatic?(requestAnimationFrame((function(){return t.animateDeactivation_(n)})),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame((function(){t.activationState_.hasDeactivationUXRun=!0,t.animateDeactivation_(n),t.resetActivationState_()})))}},e.prototype.animateDeactivation_=function(t){var e=t.wasActivatedByPointer,n=t.wasElementMadeActive;(e||n)&&this.runDeactivationUXLogicIfReady_()},e.prototype.layoutInternal_=function(){this.frame_=this.adapter.computeBoundingRect();var t=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter.isUnbounded()?t:Math.sqrt(Math.pow(this.frame_.width,2)+Math.pow(this.frame_.height,2))+e.numbers.PADDING;var n=Math.floor(t*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&n%2!=0?this.initialSize_=n-1:this.initialSize_=n,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},e.prototype.updateLayoutCssVars_=function(){var t=e.strings,n=t.VAR_FG_SIZE,i=t.VAR_LEFT,r=t.VAR_TOP,o=t.VAR_FG_SCALE;this.adapter.updateCssVariable(n,this.initialSize_+"px"),this.adapter.updateCssVariable(o,this.fgScale_),this.adapter.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter.updateCssVariable(i,this.unboundedCoords_.left+"px"),this.adapter.updateCssVariable(r,this.unboundedCoords_.top+"px"))},e}(hi);const ha=ua,da=new WeakMap,fa=fn((t=>e=>{if(!(e instanceof Mn)||e instanceof Ln||"style"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");const{committer:n}=e,{style:i}=n.element;let r=da.get(e);void 0===r&&(i.cssText=n.strings.join(" "),da.set(e,r=new Set)),r.forEach((e=>{e in t||(r.delete(e),-1===e.indexOf("-")?i[e]=null:i.removeProperty(e))}));for(const e in t)r.add(e),-1===e.indexOf("-")?i[e]=t[e]:i.setProperty(e,t[e])}));class pa extends Ti{constructor(){super(...arguments),this.primary=!1,this.accent=!1,this.unbounded=!1,this.disabled=!1,this.activated=!1,this.selected=!1,this.hovering=!1,this.bgFocused=!1,this.fgActivation=!1,this.fgDeactivation=!1,this.fgScale="",this.fgSize="",this.translateStart="",this.translateEnd="",this.leftPos="",this.topPos="",this.mdcFoundationClass=ha}get isActive(){return(this.parentElement||this).matches(":active")}createAdapter(){return{browserSupportsCssVars:()=>!0,isUnbounded:()=>this.unbounded,isSurfaceActive:()=>this.isActive,isSurfaceDisabled:()=>this.disabled,addClass:t=>{switch(t){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!0;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!0;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!0}},removeClass:t=>{switch(t){case"mdc-ripple-upgraded--background-focused":this.bgFocused=!1;break;case"mdc-ripple-upgraded--foreground-activation":this.fgActivation=!1;break;case"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation=!1}},containsEventTarget:()=>!0,registerInteractionHandler:()=>{},deregisterInteractionHandler:()=>{},registerDocumentInteractionHandler:()=>{},deregisterDocumentInteractionHandler:()=>{},registerResizeHandler:()=>{},deregisterResizeHandler:()=>{},updateCssVariable:(t,e)=>{switch(t){case"--mdc-ripple-fg-scale":this.fgScale=e;break;case"--mdc-ripple-fg-size":this.fgSize=e;break;case"--mdc-ripple-fg-translate-end":this.translateEnd=e;break;case"--mdc-ripple-fg-translate-start":this.translateStart=e;break;case"--mdc-ripple-left":this.leftPos=e;break;case"--mdc-ripple-top":this.topPos=e}},computeBoundingRect:()=>(this.parentElement||this).getBoundingClientRect(),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset})}}startPress(t){this.waitForFoundation((()=>{this.mdcFoundation.activate(t)}))}endPress(){this.waitForFoundation((()=>{this.mdcFoundation.deactivate()}))}startFocus(){this.waitForFoundation((()=>{this.mdcFoundation.handleFocus()}))}endFocus(){this.waitForFoundation((()=>{this.mdcFoundation.handleBlur()}))}startHover(){this.hovering=!0}endHover(){this.hovering=!1}waitForFoundation(t){this.mdcFoundation?t():this.updateComplete.then(t)}render(){const t={"mdc-ripple-upgraded--unbounded":this.unbounded,"mdc-ripple-upgraded--background-focused":this.bgFocused,"mdc-ripple-upgraded--foreground-activation":this.fgActivation,"mdc-ripple-upgraded--foreground-deactivation":this.fgDeactivation,hover:this.hovering,primary:this.primary,accent:this.accent,disabled:this.disabled,activated:this.activated,selected:this.selected};return Bn`
        <div class="mdc-ripple-surface mdc-ripple-upgraded ${Li(t)}"
          style="${fa({"--mdc-ripple-fg-scale":this.fgScale,"--mdc-ripple-fg-size":this.fgSize,"--mdc-ripple-fg-translate-end":this.translateEnd,"--mdc-ripple-fg-translate-start":this.translateStart,"--mdc-ripple-left":this.leftPos,"--mdc-ripple-top":this.topPos})}"></div>`}}tn([ti(".mdc-ripple-surface")],pa.prototype,"mdcRoot",void 0),tn([Qn({type:Boolean})],pa.prototype,"primary",void 0),tn([Qn({type:Boolean})],pa.prototype,"accent",void 0),tn([Qn({type:Boolean})],pa.prototype,"unbounded",void 0),tn([Qn({type:Boolean})],pa.prototype,"disabled",void 0),tn([Qn({type:Boolean})],pa.prototype,"activated",void 0),tn([Qn({type:Boolean})],pa.prototype,"selected",void 0),tn([$n()],pa.prototype,"hovering",void 0),tn([$n()],pa.prototype,"bgFocused",void 0),tn([$n()],pa.prototype,"fgActivation",void 0),tn([$n()],pa.prototype,"fgDeactivation",void 0),tn([$n()],pa.prototype,"fgScale",void 0),tn([$n()],pa.prototype,"fgSize",void 0),tn([$n()],pa.prototype,"translateStart",void 0),tn([$n()],pa.prototype,"translateEnd",void 0),tn([$n()],pa.prototype,"leftPos",void 0),tn([$n()],pa.prototype,"topPos",void 0);const ma=Ai`:host{display:block;position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;pointer-events:none}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host .primary{--mdc-ripple-color: var(--mdc-theme-primary, #6200ee)}:host .accent{--mdc-ripple-color: var( --mdc-theme-secondary, #018786 )}:host .mdc-ripple-surface{top:0;bottom:0;left:0;right:0;width:100%;height:100%;pointer-events:none;--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);will-change:transform,opacity;position:relative;outline:none;overflow:hidden;--mdc-ripple-fg-opacity: var( --mdc-ripple-press-opacity, 0.12 )}:host .mdc-ripple-surface::before,:host .mdc-ripple-surface::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:""}:host .mdc-ripple-surface::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}:host .mdc-ripple-surface.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}:host .mdc-ripple-surface.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}:host .mdc-ripple-surface.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}:host .mdc-ripple-surface.mdc-ripple-upgraded--foreground-activation::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:host .mdc-ripple-surface.mdc-ripple-upgraded--foreground-deactivation::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}:host .mdc-ripple-surface::before,:host .mdc-ripple-surface::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}:host .mdc-ripple-surface.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}:host .mdc-ripple-surface.mdc-ripple-upgraded--unbounded{overflow:visible}:host .mdc-ripple-surface.mdc-ripple-upgraded--unbounded::before,:host .mdc-ripple-surface.mdc-ripple-upgraded--unbounded::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}:host .mdc-ripple-surface.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::before,:host .mdc-ripple-surface.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}:host .mdc-ripple-surface.mdc-ripple-upgraded--unbounded.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}:host .mdc-ripple-surface.hover::before{opacity:0.04;opacity:var(--mdc-ripple-hover-opacity, 0.04)}:host .mdc-ripple-surface.mdc-ripple-upgraded--background-focused::before{opacity:0.12;opacity:var(--mdc-ripple-focus-opacity, 0.12)}:host .mdc-ripple-surface::before,:host .mdc-ripple-surface::after{background-color:#000;background-color:var(--mdc-ripple-color, #000)}:host .mdc-ripple-surface.activated{--mdc-ripple-press-opacity: calc( var(--mdc-ripple-press-opacity, 0.12) + 0.12 )}:host .mdc-ripple-surface.activated::before{opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12)}:host .mdc-ripple-surface.activated.hover::before{opacity:.16;opacity:calc( var(--mdc-ripple-hover-opacity, 0.04) + var(--mdc-ripple-activated-opacity, 0.12) )}:host .mdc-ripple-surface.activated.mdc-ripple-upgraded--background-focused::before{opacity:.24;opacity:calc( var(--mdc-ripple-focus-opacity, 0.12) + var(--mdc-ripple-activated-opacity, 0.12) )}:host .mdc-ripple-surface.selected{--mdc-ripple-press-opacity: calc( var(--mdc-ripple-press-opacity, 0.12) + 0.08 )}:host .mdc-ripple-surface.selected::before{opacity:0.08;opacity:var(--mdc-ripple-selected-opacity, 0.08)}:host .mdc-ripple-surface.selected.hover::before{opacity:.12;opacity:calc( var(--mdc-ripple-hover-opacity, 0.04) + var(--mdc-ripple-selected-opacity, 0.08) )}:host .mdc-ripple-surface.selected.mdc-ripple-upgraded--background-focused::before{opacity:.2;opacity:calc( var(--mdc-ripple-focus-opacity, 0.12) + var(--mdc-ripple-selected-opacity, 0.08) )}:host .mdc-ripple-surface.disabled{--mdc-ripple-color: transparent}:host .mdc-ripple-surface::before{z-index:1;z-index:var(--m-ripple-z-index, 1)}:host .mdc-ripple-surface::after{z-index:0;z-index:var(--m-ripple-z-index, 0)}`;let va=class extends pa{};va.styles=ma,va=tn([Kn("mwc-ripple")],va);class ya{constructor(t){this.startPress=e=>{t().then((t=>{t&&t.startPress(e)}))},this.endPress=()=>{t().then((t=>{t&&t.endPress()}))},this.startFocus=()=>{t().then((t=>{t&&t.startFocus()}))},this.endFocus=()=>{t().then((t=>{t&&t.endFocus()}))},this.startHover=()=>{t().then((t=>{t&&t.startHover()}))},this.endHover=()=>{t().then((t=>{t&&t.endHover()}))}}}class ba extends Ii{constructor(){super(...arguments),this.disabled=!1,this.icon="",this.label="",this.shouldRenderRipple=!1,this.rippleHandlers=new ya((()=>(this.shouldRenderRipple=!0,this.ripple)))}renderRipple(){return this.shouldRenderRipple?Bn`
            <mwc-ripple
                .disabled="${this.disabled}"
                unbounded>
            </mwc-ripple>`:""}focus(){const t=this.buttonElement;t&&(this.rippleHandlers.startFocus(),t.focus())}blur(){const t=this.buttonElement;t&&(this.rippleHandlers.endFocus(),t.blur())}render(){return Bn`<button
        class="mdc-icon-button"
        aria-label="${this.label||this.icon}"
        ?disabled="${this.disabled}"
        @focus="${this.handleRippleFocus}"
        @blur="${this.handleRippleBlur}"
        @mousedown="${this.handleRippleMouseDown}"
        @mouseenter="${this.handleRippleMouseEnter}"
        @mouseleave="${this.handleRippleMouseLeave}"
        @touchstart="${this.handleRippleTouchStart}"
        @touchend="${this.handleRippleDeactivate}"
        @touchcancel="${this.handleRippleDeactivate}">
      ${this.renderRipple()}
    <i class="material-icons">${this.icon}</i>
    <span class="default-slot-container">
        <slot></slot>
    </span>
  </button>`}handleRippleMouseDown(t){const e=()=>{window.removeEventListener("mouseup",e),this.handleRippleDeactivate()};window.addEventListener("mouseup",e),this.rippleHandlers.startPress(t)}handleRippleTouchStart(t){this.rippleHandlers.startPress(t)}handleRippleDeactivate(){this.rippleHandlers.endPress()}handleRippleMouseEnter(){this.rippleHandlers.startHover()}handleRippleMouseLeave(){this.rippleHandlers.endHover()}handleRippleFocus(){this.rippleHandlers.startFocus()}handleRippleBlur(){this.rippleHandlers.endFocus()}}tn([Qn({type:Boolean,reflect:!0})],ba.prototype,"disabled",void 0),tn([Qn({type:String})],ba.prototype,"icon",void 0),tn([Qn({type:String})],ba.prototype,"label",void 0),tn([ti("button")],ba.prototype,"buttonElement",void 0),tn([ei("mwc-ripple")],ba.prototype,"ripple",void 0),tn([$n()],ba.prototype,"shouldRenderRipple",void 0),tn([ri({passive:!0})],ba.prototype,"handleRippleMouseDown",null),tn([ri({passive:!0})],ba.prototype,"handleRippleTouchStart",null);const _a=Ai`.material-icons{font-family:var(--mdc-icon-font, "Material Icons");font-weight:normal;font-style:normal;font-size:var(--mdc-icon-size, 24px);line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:transparent;fill:currentColor;color:inherit;font-size:24px;text-decoration:none;cursor:pointer;user-select:none;width:48px;height:48px;padding:12px}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button:disabled{color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-disabled-on-light, rgba(0, 0, 0, 0.38))}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}:host{display:inline-block;outline:none;--mdc-ripple-color: currentcolor}:host([disabled]){pointer-events:none}:host,.mdc-icon-button{vertical-align:top}.mdc-icon-button{width:var(--mdc-icon-button-size, 48px);height:var(--mdc-icon-button-size, 48px);padding:calc((var(--mdc-icon-button-size, 48px) - var(--mdc-icon-size, 24px)) / 2)}.mdc-icon-button>i{position:absolute;top:0;padding-top:inherit}.mdc-icon-button i,.mdc-icon-button svg,.mdc-icon-button img,.mdc-icon-button ::slotted(*){display:block;width:var(--mdc-icon-size, 24px);height:var(--mdc-icon-size, 24px)}`;let wa=class extends ba{};wa.styles=_a,wa=tn([Kn("mwc-icon-button")],wa),n(5971),n(352);var xa={CLOSING:"mdc-dialog--closing",OPEN:"mdc-dialog--open",OPENING:"mdc-dialog--opening",SCROLLABLE:"mdc-dialog--scrollable",SCROLL_LOCK:"mdc-dialog-scroll-lock",STACKED:"mdc-dialog--stacked"},Sa={ACTION_ATTRIBUTE:"data-mdc-dialog-action",BUTTON_DEFAULT_ATTRIBUTE:"data-mdc-dialog-button-default",BUTTON_SELECTOR:".mdc-dialog__button",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",CONTAINER_SELECTOR:".mdc-dialog__container",CONTENT_SELECTOR:".mdc-dialog__content",DESTROY_ACTION:"destroy",INITIAL_FOCUS_ATTRIBUTE:"data-mdc-dialog-initial-focus",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".mdc-dialog__scrim",SUPPRESS_DEFAULT_PRESS_SELECTOR:["textarea",".mdc-menu .mdc-list-item"].join(", "),SURFACE_SELECTOR:".mdc-dialog__surface"},Ea={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150},Ma=function(t){function e(n){var i=t.call(this,$e($e({},e.defaultAdapter),n))||this;return i.isOpen_=!1,i.animationFrame_=0,i.animationTimer_=0,i.layoutFrame_=0,i.escapeKeyAction_=Sa.CLOSE_ACTION,i.scrimClickAction_=Sa.CLOSE_ACTION,i.autoStackButtons_=!0,i.areButtonsStacked_=!1,i.suppressDefaultPressSelector=Sa.SUPPRESS_DEFAULT_PRESS_SELECTOR,i}return Qe(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return xa},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Sa},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Ea},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},getInitialFocusEl:function(){return null},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.adapter.hasClass(xa.STACKED)&&this.setAutoStackButtons(!1)},e.prototype.destroy=function(){this.isOpen_&&this.close(Sa.DESTROY_ACTION),this.animationTimer_&&(clearTimeout(this.animationTimer_),this.handleAnimationTimerEnd_()),this.layoutFrame_&&(cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=0)},e.prototype.open=function(){var t=this;this.isOpen_=!0,this.adapter.notifyOpening(),this.adapter.addClass(xa.OPENING),this.runNextAnimationFrame_((function(){t.adapter.addClass(xa.OPEN),t.adapter.addBodyClass(xa.SCROLL_LOCK),t.layout(),t.animationTimer_=setTimeout((function(){t.handleAnimationTimerEnd_(),t.adapter.trapFocus(t.adapter.getInitialFocusEl()),t.adapter.notifyOpened()}),Ea.DIALOG_ANIMATION_OPEN_TIME_MS)}))},e.prototype.close=function(t){var e=this;void 0===t&&(t=""),this.isOpen_&&(this.isOpen_=!1,this.adapter.notifyClosing(t),this.adapter.addClass(xa.CLOSING),this.adapter.removeClass(xa.OPEN),this.adapter.removeBodyClass(xa.SCROLL_LOCK),cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,clearTimeout(this.animationTimer_),this.animationTimer_=setTimeout((function(){e.adapter.releaseFocus(),e.handleAnimationTimerEnd_(),e.adapter.notifyClosed(t)}),Ea.DIALOG_ANIMATION_CLOSE_TIME_MS))},e.prototype.isOpen=function(){return this.isOpen_},e.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction_},e.prototype.setEscapeKeyAction=function(t){this.escapeKeyAction_=t},e.prototype.getScrimClickAction=function(){return this.scrimClickAction_},e.prototype.setScrimClickAction=function(t){this.scrimClickAction_=t},e.prototype.getAutoStackButtons=function(){return this.autoStackButtons_},e.prototype.setAutoStackButtons=function(t){this.autoStackButtons_=t},e.prototype.getSuppressDefaultPressSelector=function(){return this.suppressDefaultPressSelector},e.prototype.setSuppressDefaultPressSelector=function(t){this.suppressDefaultPressSelector=t},e.prototype.layout=function(){var t=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame((function(){t.layoutInternal_(),t.layoutFrame_=0}))},e.prototype.handleClick=function(t){if(this.adapter.eventTargetMatches(t.target,Sa.SCRIM_SELECTOR)&&""!==this.scrimClickAction_)this.close(this.scrimClickAction_);else{var e=this.adapter.getActionFromEvent(t);e&&this.close(e)}},e.prototype.handleKeydown=function(t){var e="Enter"===t.key||13===t.keyCode;if(e&&!this.adapter.getActionFromEvent(t)){var n=t.composedPath?t.composedPath()[0]:t.target,i=!this.adapter.eventTargetMatches(n,this.suppressDefaultPressSelector);e&&i&&this.adapter.clickDefaultButton()}},e.prototype.handleDocumentKeydown=function(t){("Escape"===t.key||27===t.keyCode)&&""!==this.escapeKeyAction_&&this.close(this.escapeKeyAction_)},e.prototype.layoutInternal_=function(){this.autoStackButtons_&&this.detectStackedButtons_(),this.detectScrollableContent_()},e.prototype.handleAnimationTimerEnd_=function(){this.animationTimer_=0,this.adapter.removeClass(xa.OPENING),this.adapter.removeClass(xa.CLOSING)},e.prototype.runNextAnimationFrame_=function(t){var e=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame((function(){e.animationFrame_=0,clearTimeout(e.animationTimer_),e.animationTimer_=setTimeout(t,0)}))},e.prototype.detectStackedButtons_=function(){this.adapter.removeClass(xa.STACKED);var t=this.adapter.areButtonsStacked();t&&this.adapter.addClass(xa.STACKED),t!==this.areButtonsStacked_&&(this.adapter.reverseButtons(),this.areButtonsStacked_=t)},e.prototype.detectScrollableContent_=function(){this.adapter.removeClass(xa.SCROLLABLE),this.adapter.isContentScrollable()&&this.adapter.addClass(xa.SCROLLABLE)},e}(hi);const Ta=Ma;function Ra(t){return void 0===t&&(t=window),!!function(t){void 0===t&&(t=window);var e=!1;try{var n={get passive(){return e=!0,!1}},i=function(){};t.document.addEventListener("test",i,n),t.document.removeEventListener("test",i,n)}catch(t){e=!1}return e}(t)&&{passive:!0}}const Oa=t=>(e,n)=>{if(e.constructor._observers){if(!e.constructor.hasOwnProperty("_observers")){const t=e.constructor._observers;e.constructor._observers=new Map,t.forEach(((t,n)=>e.constructor._observers.set(n,t)))}}else{e.constructor._observers=new Map;const t=e.updated;e.updated=function(e){t.call(this,e),e.forEach(((t,e)=>{const n=this.constructor._observers.get(e);void 0!==n&&n.call(this,this[e],t)}))}}e.constructor._observers.set(n,t)},La=document.$blockingElements;class ka extends Ti{constructor(){super(...arguments),this.hideActions=!1,this.stacked=!1,this.heading="",this.scrimClickAction="close",this.escapeKeyAction="close",this.open=!1,this.defaultAction="close",this.actionAttribute="dialogAction",this.initialFocusAttribute="dialogInitialFocus",this.mdcFoundationClass=Ta,this.boundLayout=null,this.boundHandleClick=null,this.boundHandleKeydown=null,this.boundHandleDocumentKeydown=null}get primaryButton(){let t=this.primarySlot.assignedNodes();t=t.filter((t=>t instanceof HTMLElement));return t[0]||null}emitNotification(t,e){const n=new CustomEvent(t,{detail:e?{action:e}:{}});this.dispatchEvent(n)}getInitialFocusEl(){const t=`[${this.initialFocusAttribute}]`,e=this.querySelector(t);if(e)return e;const n=this.primarySlot.assignedNodes({flatten:!0}),i=this.searchNodeTreesForAttribute(n,this.initialFocusAttribute);if(i)return i;const r=this.secondarySlot.assignedNodes({flatten:!0}),o=this.searchNodeTreesForAttribute(r,this.initialFocusAttribute);if(o)return o;const s=this.contentSlot.assignedNodes({flatten:!0});return this.searchNodeTreesForAttribute(s,this.initialFocusAttribute)}searchNodeTreesForAttribute(t,e){for(const n of t)if(n instanceof HTMLElement){if(n.hasAttribute(e))return n;{const t=n.querySelector(`[${e}]`);if(t)return t}}return null}createAdapter(){return Object.assign(Object.assign({},bi(this.mdcRoot)),{addBodyClass:()=>document.body.style.overflow="hidden",removeBodyClass:()=>document.body.style.overflow="",areButtonsStacked:()=>this.stacked,clickDefaultButton:()=>{const t=this.primaryButton;t&&t.click()},eventTargetMatches:(t,e)=>!!t&&vi(t,e),getActionFromEvent:t=>{if(!t.target)return"";const e=function(t,e){if(t.closest)return t.closest(e);for(var n=t;n;){if(vi(n,e))return n;n=n.parentElement}return null}(t.target,`[${this.actionAttribute}]`);return e&&e.getAttribute(this.actionAttribute)},getInitialFocusEl:()=>this.getInitialFocusEl(),isContentScrollable:()=>{const t=this.contentElement;return!!t&&t.scrollHeight>t.offsetHeight},notifyClosed:t=>this.emitNotification("closed",t),notifyClosing:t=>{this.closingDueToDisconnect||(this.open=!1),this.emitNotification("closing",t)},notifyOpened:()=>this.emitNotification("opened"),notifyOpening:()=>{this.open=!0,this.emitNotification("opening")},reverseButtons:()=>{},releaseFocus:()=>{La.remove(this)},trapFocus:t=>{La.push(this),t&&t.focus()}})}render(){const t={[xa.STACKED]:this.stacked};let e=Bn``;this.heading&&(e=this.renderHeading());const n={"mdc-dialog__actions":!this.hideActions};return Bn`
    <div class="mdc-dialog ${Li(t)}"
        role="alertdialog"
        aria-modal="true"
        aria-labelledby="title"
        aria-describedby="content">
      <div class="mdc-dialog__container">
        <div class="mdc-dialog__surface">
          ${e}
          <div id="content" class="mdc-dialog__content">
            <slot id="contentSlot"></slot>
          </div>
          <footer
              id="actions"
              class="${Li(n)}">
            <span>
              <slot name="secondaryAction"></slot>
            </span>
            <span>
             <slot name="primaryAction"></slot>
            </span>
          </footer>
        </div>
      </div>
      <div class="mdc-dialog__scrim"></div>
    </div>`}renderHeading(){return Bn`
      <h2 id="title" class="mdc-dialog__title">${this.heading}</h2>`}firstUpdated(){super.firstUpdated(),this.mdcFoundation.setAutoStackButtons(!0)}connectedCallback(){super.connectedCallback(),this.open&&this.mdcFoundation&&!this.mdcFoundation.isOpen()&&(this.setEventListeners(),this.mdcFoundation.open())}disconnectedCallback(){super.disconnectedCallback(),this.open&&this.mdcFoundation&&(this.removeEventListeners(),this.closingDueToDisconnect=!0,this.mdcFoundation.close(this.currentAction||this.defaultAction),this.closingDueToDisconnect=!1,this.currentAction=void 0,La.remove(this))}forceLayout(){this.mdcFoundation.layout()}focus(){const t=this.getInitialFocusEl();t&&t.focus()}blur(){if(!this.shadowRoot)return;const t=this.shadowRoot.activeElement;if(t)t instanceof HTMLElement&&t.blur();else{const t=this.getRootNode(),e=t instanceof Document?t.activeElement:null;e instanceof HTMLElement&&e.blur()}}setEventListeners(){this.boundHandleClick=this.mdcFoundation.handleClick.bind(this.mdcFoundation),this.boundLayout=()=>{this.open&&this.mdcFoundation.layout.bind(this.mdcFoundation)},this.boundHandleKeydown=this.mdcFoundation.handleKeydown.bind(this.mdcFoundation),this.boundHandleDocumentKeydown=this.mdcFoundation.handleDocumentKeydown.bind(this.mdcFoundation),this.mdcRoot.addEventListener("click",this.boundHandleClick),window.addEventListener("resize",this.boundLayout,Ra()),window.addEventListener("orientationchange",this.boundLayout,Ra()),this.mdcRoot.addEventListener("keydown",this.boundHandleKeydown,Ra()),document.addEventListener("keydown",this.boundHandleDocumentKeydown,Ra())}removeEventListeners(){this.boundHandleClick&&this.mdcRoot.removeEventListener("click",this.boundHandleClick),this.boundLayout&&(window.removeEventListener("resize",this.boundLayout),window.removeEventListener("orientationchange",this.boundLayout)),this.boundHandleKeydown&&this.mdcRoot.removeEventListener("keydown",this.boundHandleKeydown),this.boundHandleDocumentKeydown&&this.mdcRoot.removeEventListener("keydown",this.boundHandleDocumentKeydown)}close(){this.open=!1}show(){this.open=!0}}tn([ti(".mdc-dialog")],ka.prototype,"mdcRoot",void 0),tn([ti('slot[name="primaryAction"]')],ka.prototype,"primarySlot",void 0),tn([ti('slot[name="secondaryAction"]')],ka.prototype,"secondarySlot",void 0),tn([ti("#contentSlot")],ka.prototype,"contentSlot",void 0),tn([ti(".mdc-dialog__content")],ka.prototype,"contentElement",void 0),tn([ti(".mdc-container")],ka.prototype,"conatinerElement",void 0),tn([Qn({type:Boolean})],ka.prototype,"hideActions",void 0),tn([Qn({type:Boolean}),Oa((function(){this.forceLayout()}))],ka.prototype,"stacked",void 0),tn([Qn({type:String})],ka.prototype,"heading",void 0),tn([Qn({type:String}),Oa((function(t){this.mdcFoundation.setScrimClickAction(t)}))],ka.prototype,"scrimClickAction",void 0),tn([Qn({type:String}),Oa((function(t){this.mdcFoundation.setEscapeKeyAction(t)}))],ka.prototype,"escapeKeyAction",void 0),tn([Qn({type:Boolean,reflect:!0}),Oa((function(t){this.mdcFoundation&&this.isConnected&&(t?(this.setEventListeners(),this.mdcFoundation.open()):(this.removeEventListeners(),this.mdcFoundation.close(this.currentAction||this.defaultAction),this.currentAction=void 0))}))],ka.prototype,"open",void 0),tn([Qn()],ka.prototype,"defaultAction",void 0),tn([Qn()],ka.prototype,"actionAttribute",void 0),tn([Qn()],ka.prototype,"initialFocusAttribute",void 0);const Da=Ai`.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:0;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:#fff;background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:7}.mdc-dialog .mdc-dialog__surface{background-color:#fff;background-color:var(--mdc-theme-surface, #fff)}.mdc-dialog .mdc-dialog__scrim{background-color:rgba(0,0,0,.32)}.mdc-dialog .mdc-dialog__title{color:rgba(0,0,0,.87)}.mdc-dialog .mdc-dialog__content{color:rgba(0,0,0,.6)}.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__title,.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__actions{border-color:rgba(0,0,0,.12)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog .mdc-dialog__surface{border-radius:4px;border-radius:var(--mdc-shape-medium, 4px)}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0,0,0,.12);display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-dialog[dir=rtl] .mdc-dialog__surface,[dir=rtl] .mdc-dialog .mdc-dialog__surface{text-align:right}.mdc-dialog__title{display:block;margin-top:0;line-height:normal;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);position:relative;flex-shrink:0;box-sizing:border-box;margin:0;padding:0 24px 9px;border-bottom:1px solid transparent}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-dialog[dir=rtl] .mdc-dialog__title,[dir=rtl] .mdc-dialog .mdc-dialog__title{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{padding-bottom:15px}.mdc-dialog__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-body1-font-size, 1rem);line-height:1.5rem;line-height:var(--mdc-typography-body1-line-height, 1.5rem);font-weight:400;font-weight:var(--mdc-typography-body1-font-weight, 400);letter-spacing:0.03125em;letter-spacing:var(--mdc-typography-body1-letter-spacing, 0.03125em);text-decoration:inherit;text-decoration:var(--mdc-typography-body1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body1-text-transform, inherit);flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;-webkit-overflow-scrolling:touch}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid transparent}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-dialog[dir=rtl] .mdc-dialog__button,[dir=rtl] .mdc-dialog .mdc-dialog__button{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog-scroll-lock{overflow:hidden}#actions:not(.mdc-dialog__actions){display:none}.mdc-dialog__surface{box-shadow:var(--mdc-dialog-box-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}@media(min-width: 560px){.mdc-dialog .mdc-dialog__surface{max-width:560px;max-width:var(--mdc-dialog-max-width, 560px)}}.mdc-dialog .mdc-dialog__scrim{background-color:rgba(0, 0, 0, 0.32);background-color:var(--mdc-dialog-scrim-color, rgba(0, 0, 0, 0.32))}.mdc-dialog .mdc-dialog__title{color:rgba(0, 0, 0, 0.87);color:var(--mdc-dialog-heading-ink-color, rgba(0, 0, 0, 0.87))}.mdc-dialog .mdc-dialog__content{color:rgba(0, 0, 0, 0.6);color:var(--mdc-dialog-content-ink-color, rgba(0, 0, 0, 0.6))}.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__title,.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__actions{border-color:rgba(0, 0, 0, 0.12);border-color:var(--mdc-dialog-scroll-divider-color, rgba(0, 0, 0, 0.12))}.mdc-dialog .mdc-dialog__surface{min-width:280px;min-width:var(--mdc-dialog-min-width, 280px)}.mdc-dialog .mdc-dialog__surface{max-height:var(--mdc-dialog-max-height, calc(100% - 32px))}#actions ::slotted(*){margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] #actions ::slotted(*),#actions ::slotted(*)[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog[dir=rtl] #actions ::slotted(*),[dir=rtl] .mdc-dialog #actions ::slotted(*){text-align:left}.mdc-dialog--stacked #actions{flex-direction:column-reverse}.mdc-dialog--stacked #actions *:not(:last-child) ::slotted(*){flex-basis:1e-9px;margin-top:12px}`;let Na=class extends ka{};Na.styles=Da,Na=tn([Kn("mwc-dialog")],Na);const Pa=new WeakMap,ja=fn((t=>e=>{const n=Pa.get(e);if(void 0===t&&e instanceof Mn){if(void 0!==n||!Pa.has(e)){const t=e.committer.name;e.committer.element.removeAttribute(t)}}else t!==n&&e.setValue(t);Pa.set(e,t)}));var Fa="Backspace",za="Enter",Ba="Spacebar",Ua="PageUp",Ha="PageDown",Ga="End",Wa="Home",Va="ArrowLeft",Za="ArrowUp",Ya="ArrowRight",Xa="ArrowDown",Ja="Delete",Ka="Escape",qa=new Set;qa.add(Fa),qa.add(za),qa.add(Ba),qa.add(Ua),qa.add(Ha),qa.add(Ga),qa.add(Wa),qa.add(Va),qa.add(Za),qa.add(Ya),qa.add(Xa),qa.add(Ja),qa.add(Ka);var Qa=new Map;Qa.set(8,Fa),Qa.set(13,za),Qa.set(32,Ba),Qa.set(33,Ua),Qa.set(34,Ha),Qa.set(35,Ga),Qa.set(36,Wa),Qa.set(37,Va),Qa.set(38,Za),Qa.set(39,Ya),Qa.set(40,Xa),Qa.set(46,Ja),Qa.set(27,Ka);var $a=new Set;function tg(t){var e=t.key;return qa.has(e)?e:Qa.get(t.keyCode)||"Unknown"}$a.add(Ua),$a.add(Ha),$a.add(Ga),$a.add(Wa),$a.add(Va),$a.add(Za),$a.add(Ya),$a.add(Xa);var eg="mdc-list-item--disabled",ng={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"], input[type="radio"]',CHECKBOX_SELECTOR:'input[type="checkbox"]',CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"\n    .mdc-list-item button:not(:disabled),\n    .mdc-list-item a\n  ",FOCUSABLE_CHILD_ELEMENTS:'\n    .mdc-list-item button:not(:disabled),\n    .mdc-list-item a,\n    .mdc-list-item input[type="radio"]:not(:disabled),\n    .mdc-list-item input[type="checkbox"]:not(:disabled)\n  ',RADIO_SELECTOR:'input[type="radio"]'},ig={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300};const rg=["input","button","textarea","select"];function og(t){return t instanceof Set}const sg=t=>{const e=t===ig.UNSET_INDEX?new Set:t;return og(e)?new Set(e):new Set([e])};class ag extends hi{constructor(t){super(Object.assign(Object.assign({},ag.defaultAdapter),t)),this.isMulti_=!1,this.wrapFocus_=!1,this.isVertical_=!0,this.selectedIndex_=ig.UNSET_INDEX,this.focusedItemIndex_=ig.UNSET_INDEX,this.useActivatedClass_=!1,this.ariaCurrentAttrValue_=null}static get strings(){return ng}static get numbers(){return ig}static get defaultAdapter(){return{focusItemAtIndex:()=>{},getFocusedElementIndex:()=>0,getListItemCount:()=>0,isFocusInsideList:()=>!1,isRootFocused:()=>!1,notifyAction:()=>{},notifySelected:()=>{},getSelectedStateForElementIndex:()=>!1,setDisabledStateForElementIndex:()=>{},getDisabledStateForElementIndex:()=>!1,setSelectedStateForElementIndex:()=>{},setActivatedStateForElementIndex:()=>{},setTabIndexForElementIndex:()=>{},setAttributeForElementIndex:()=>{},getAttributeForElementIndex:()=>null}}setWrapFocus(t){this.wrapFocus_=t}setMulti(t){this.isMulti_=t;const e=this.selectedIndex_;if(t){if(!og(e)){const t=e===ig.UNSET_INDEX;this.selectedIndex_=t?new Set:new Set([e])}}else if(og(e))if(e.size){const t=Array.from(e).sort();this.selectedIndex_=t[0]}else this.selectedIndex_=ig.UNSET_INDEX}setVerticalOrientation(t){this.isVertical_=t}setUseActivatedClass(t){this.useActivatedClass_=t}getSelectedIndex(){return this.selectedIndex_}setSelectedIndex(t){this.isIndexValid_(t)&&(this.isMulti_?this.setMultiSelectionAtIndex_(sg(t)):this.setSingleSelectionAtIndex_(t))}handleFocusIn(t,e){e>=0&&this.adapter.setTabIndexForElementIndex(e,0)}handleFocusOut(t,e){e>=0&&this.adapter.setTabIndexForElementIndex(e,-1),setTimeout((()=>{this.adapter.isFocusInsideList()||this.setTabindexToFirstSelectedItem_()}),0)}handleKeydown(t,e,n){const i="ArrowLeft"===tg(t),r="ArrowUp"===tg(t),o="ArrowRight"===tg(t),s="ArrowDown"===tg(t),a="Home"===tg(t),g="End"===tg(t),A="Enter"===tg(t),C="Spacebar"===tg(t);if(this.adapter.isRootFocused())return void(r||g?(t.preventDefault(),this.focusLastElement()):(s||a)&&(t.preventDefault(),this.focusFirstElement()));let I,c=this.adapter.getFocusedElementIndex();if(!(-1===c&&(c=n,c<0))){if(this.isVertical_&&s||!this.isVertical_&&o)this.preventDefaultEvent(t),I=this.focusNextElement(c);else if(this.isVertical_&&r||!this.isVertical_&&i)this.preventDefaultEvent(t),I=this.focusPrevElement(c);else if(a)this.preventDefaultEvent(t),I=this.focusFirstElement();else if(g)this.preventDefaultEvent(t),I=this.focusLastElement();else if((A||C)&&e){const e=t.target;if(e&&"A"===e.tagName&&A)return;this.preventDefaultEvent(t),this.setSelectedIndexOnAction_(c,!0)}this.focusedItemIndex_=c,void 0!==I&&(this.setTabindexAtIndex_(I),this.focusedItemIndex_=I)}}handleSingleSelection(t,e,n){t!==ig.UNSET_INDEX&&(this.setSelectedIndexOnAction_(t,e,n),this.setTabindexAtIndex_(t),this.focusedItemIndex_=t)}focusNextElement(t){let e=t+1;if(e>=this.adapter.getListItemCount()){if(!this.wrapFocus_)return t;e=0}return this.adapter.focusItemAtIndex(e),e}focusPrevElement(t){let e=t-1;if(e<0){if(!this.wrapFocus_)return t;e=this.adapter.getListItemCount()-1}return this.adapter.focusItemAtIndex(e),e}focusFirstElement(){return this.adapter.focusItemAtIndex(0),0}focusLastElement(){const t=this.adapter.getListItemCount()-1;return this.adapter.focusItemAtIndex(t),t}setEnabled(t,e){this.isIndexValid_(t)&&this.adapter.setDisabledStateForElementIndex(t,!e)}preventDefaultEvent(t){const e=`${t.target.tagName}`.toLowerCase();-1===rg.indexOf(e)&&t.preventDefault()}setSingleSelectionAtIndex_(t,e=!0){this.selectedIndex_!==t&&(this.selectedIndex_!==ig.UNSET_INDEX&&(this.adapter.setSelectedStateForElementIndex(this.selectedIndex_,!1),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(this.selectedIndex_,!1)),e&&this.adapter.setSelectedStateForElementIndex(t,!0),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(t,!0),this.setAriaForSingleSelectionAtIndex_(t),this.selectedIndex_=t,this.adapter.notifySelected(t))}setMultiSelectionAtIndex_(t,e=!0){const n=((t,e)=>{const n=Array.from(t),i=Array.from(e),r={added:[],removed:[]},o=n.sort(),s=i.sort();let a=0,g=0;for(;a<o.length||g<s.length;){const t=o[a],e=s[g];t!==e?void 0!==t&&(void 0===e||t<e)?(r.removed.push(t),a++):void 0!==e&&(void 0===t||e<t)&&(r.added.push(e),g++):(a++,g++)}return r})(sg(this.selectedIndex_),t);if(n.removed.length||n.added.length){for(const t of n.removed)e&&this.adapter.setSelectedStateForElementIndex(t,!1),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(t,!1);for(const t of n.added)e&&this.adapter.setSelectedStateForElementIndex(t,!0),this.useActivatedClass_&&this.adapter.setActivatedStateForElementIndex(t,!0);this.selectedIndex_=t,this.adapter.notifySelected(t,n)}}setAriaForSingleSelectionAtIndex_(t){this.selectedIndex_===ig.UNSET_INDEX&&(this.ariaCurrentAttrValue_=this.adapter.getAttributeForElementIndex(t,ng.ARIA_CURRENT));const e=null!==this.ariaCurrentAttrValue_,n=e?ng.ARIA_CURRENT:ng.ARIA_SELECTED;this.selectedIndex_!==ig.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex_,n,"false");const i=e?this.ariaCurrentAttrValue_:"true";this.adapter.setAttributeForElementIndex(t,n,i)}setTabindexAtIndex_(t){this.focusedItemIndex_===ig.UNSET_INDEX&&0!==t?this.adapter.setTabIndexForElementIndex(0,-1):this.focusedItemIndex_>=0&&this.focusedItemIndex_!==t&&this.adapter.setTabIndexForElementIndex(this.focusedItemIndex_,-1),this.adapter.setTabIndexForElementIndex(t,0)}setTabindexToFirstSelectedItem_(){let t=0;"number"==typeof this.selectedIndex_&&this.selectedIndex_!==ig.UNSET_INDEX?t=this.selectedIndex_:og(this.selectedIndex_)&&this.selectedIndex_.size>0&&(t=Math.min(...this.selectedIndex_)),this.setTabindexAtIndex_(t)}isIndexValid_(t){if(t instanceof Set){if(!this.isMulti_)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");if(0===t.size)return!0;{let e=!1;for(const n of t)if(e=this.isIndexInRange_(n),e)break;return e}}if("number"==typeof t){if(this.isMulti_)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+t);return t===ig.UNSET_INDEX||this.isIndexInRange_(t)}return!1}isIndexInRange_(t){const e=this.adapter.getListItemCount();return t>=0&&t<e}setSelectedIndexOnAction_(t,e,n){if(this.adapter.getDisabledStateForElementIndex(t))return;let i=t;this.isMulti_&&(i=new Set([t])),this.isIndexValid_(i)&&(this.isMulti_?this.toggleMultiAtIndex(t,n,e):e||n?this.setSingleSelectionAtIndex_(t,e):this.selectedIndex_===t&&this.setSingleSelectionAtIndex_(ig.UNSET_INDEX),e&&this.adapter.notifyAction(t))}toggleMultiAtIndex(t,e,n=!0){let i=!1;i=void 0===e?!this.adapter.getSelectedStateForElementIndex(t):e;const r=sg(this.selectedIndex_);i?r.add(t):r.delete(t),this.setMultiSelectionAtIndex_(r,n)}}const gg=ag,Ag=t=>t.hasAttribute("mwc-list-item");class Cg extends Ti{constructor(){super(...arguments),this.mdcAdapter=null,this.mdcFoundationClass=gg,this.activatable=!1,this.multi=!1,this.wrapFocus=!1,this.itemRoles=null,this.innerRole=null,this.innerAriaLabel=null,this.rootTabbable=!1,this.previousTabindex=null,this.noninteractive=!1,this.items_=[]}get assignedElements(){const t=this.slotElement;return t?t.assignedNodes({flatten:!0}).filter(yi):[]}get items(){return this.items_}updateItems(){const t=this.assignedElements,e=[];for(const n of t)Ag(n)&&(e.push(n),n._managingList=this),n.hasAttribute("divider")&&!n.hasAttribute("role")&&n.setAttribute("role","separator");this.items_=e;const n=new Set;if(this.items_.forEach(((t,e)=>{this.itemRoles?t.setAttribute("role",this.itemRoles):t.removeAttribute("role"),t.selected&&n.add(e)})),this.multi)this.select(n);else{const t=n.size?n.entries().next().value[1]:-1;this.select(t)}const i=new Event("items-updated",{bubbles:!0,composed:!0});this.dispatchEvent(i)}get selected(){const t=this.index;if(!og(t))return-1===t?null:this.items[t];const e=[];for(const n of t)e.push(this.items[n]);return e}get index(){return this.mdcFoundation?this.mdcFoundation.getSelectedIndex():-1}render(){const t=null===this.innerRole?void 0:this.innerRole,e=null===this.innerAriaLabel?void 0:this.innerAriaLabel,n=this.rootTabbable?"0":"-1";return Bn`
      <!-- @ts-ignore -->
      <ul
          tabindex=${n}
          role="${ja(t)}"
          aria-label="${ja(e)}"
          class="mdc-list"
          @keydown=${this.onKeydown}
          @focusin=${this.onFocusIn}
          @focusout=${this.onFocusOut}
          @request-selected=${this.onRequestSelected}
          @list-item-rendered=${this.onListItemConnected}>
        <slot></slot>
      </ul>
    `}firstUpdated(){super.firstUpdated(),this.items.length||(this.mdcFoundation.setMulti(this.multi),this.layout())}onFocusIn(t){if(this.mdcFoundation&&this.mdcRoot){const e=this.getIndexOfTarget(t);this.mdcFoundation.handleFocusIn(t,e)}}onFocusOut(t){if(this.mdcFoundation&&this.mdcRoot){const e=this.getIndexOfTarget(t);this.mdcFoundation.handleFocusOut(t,e)}}onKeydown(t){if(this.mdcFoundation&&this.mdcRoot){const e=this.getIndexOfTarget(t),n=t.target,i=Ag(n);this.mdcFoundation.handleKeydown(t,i,e)}}onRequestSelected(t){if(this.mdcFoundation){let e=this.getIndexOfTarget(t);if(-1===e&&(this.layout(),e=this.getIndexOfTarget(t),-1===e))return;if(this.items[e].disabled)return;const n=t.detail.selected,i=t.detail.source;this.mdcFoundation.handleSingleSelection(e,"interaction"===i,n),t.stopPropagation()}}getIndexOfTarget(t){const e=this.items,n=t.composedPath();for(const t of n){let n=-1;if(yi(t)&&Ag(t)&&(n=e.indexOf(t)),-1!==n)return n}return-1}createAdapter(){return this.mdcAdapter={getListItemCount:()=>this.mdcRoot?this.items.length:0,getFocusedElementIndex:this.getFocusedItemIndex,getAttributeForElementIndex:(t,e)=>{if(!this.mdcRoot)return"";const n=this.items[t];return n?n.getAttribute(e):""},setAttributeForElementIndex:(t,e,n)=>{if(!this.mdcRoot)return;const i=this.items[t];i&&i.setAttribute(e,n)},focusItemAtIndex:t=>{const e=this.items[t];e&&e.focus()},setTabIndexForElementIndex:(t,e)=>{const n=this.items[t];n&&(n.tabindex=e)},notifyAction:t=>{const e={bubbles:!0,composed:!0};e.detail={index:t};const n=new CustomEvent("action",e);this.dispatchEvent(n)},notifySelected:(t,e)=>{const n={bubbles:!0,composed:!0};n.detail={index:t,diff:e};const i=new CustomEvent("selected",n);this.dispatchEvent(i)},isFocusInsideList:()=>Mi(this),isRootFocused:()=>{const t=this.mdcRoot;return t.getRootNode().activeElement===t},setDisabledStateForElementIndex:(t,e)=>{const n=this.items[t];n&&(n.disabled=e)},getDisabledStateForElementIndex:t=>{const e=this.items[t];return!!e&&e.disabled},setSelectedStateForElementIndex:(t,e)=>{const n=this.items[t];n&&(n.selected=e)},getSelectedStateForElementIndex:t=>{const e=this.items[t];return!!e&&e.selected},setActivatedStateForElementIndex:(t,e)=>{const n=this.items[t];n&&(n.activated=e)}},this.mdcAdapter}selectUi(t,e=!1){const n=this.items[t];n&&(n.selected=!0,n.activated=e)}deselectUi(t){const e=this.items[t];e&&(e.selected=!1,e.activated=!1)}select(t){this.mdcFoundation&&this.mdcFoundation.setSelectedIndex(t)}toggle(t,e){this.multi&&this.mdcFoundation.toggleMultiAtIndex(t,e)}onListItemConnected(t){const e=t.target;this.layout(-1===this.items.indexOf(e))}layout(t=!0){t&&this.updateItems();const e=this.items[0];for(const t of this.items)t.tabindex=-1;e&&(this.noninteractive?this.previousTabindex||(this.previousTabindex=e):e.tabindex=0)}getFocusedItemIndex(){if(!this.mdcRoot)return-1;if(!this.items.length)return-1;const t=Ei();if(!t.length)return-1;for(let e=t.length-1;e>=0;e--){const n=t[e];if(Ag(n))return this.items.indexOf(n)}return-1}focusItemAtIndex(t){for(const t of this.items)if(0===t.tabindex){t.tabindex=-1;break}this.items[t].tabindex=0,this.items[t].focus()}focus(){const t=this.mdcRoot;t&&t.focus()}blur(){const t=this.mdcRoot;t&&t.blur()}}tn([ti(".mdc-list")],Cg.prototype,"mdcRoot",void 0),tn([ti("slot")],Cg.prototype,"slotElement",void 0),tn([Qn({type:Boolean}),Oa((function(t){this.mdcFoundation&&this.mdcFoundation.setUseActivatedClass(t)}))],Cg.prototype,"activatable",void 0),tn([Qn({type:Boolean}),Oa((function(t,e){this.mdcFoundation&&this.mdcFoundation.setMulti(t),void 0!==e&&this.layout()}))],Cg.prototype,"multi",void 0),tn([Qn({type:Boolean}),Oa((function(t){this.mdcFoundation&&this.mdcFoundation.setWrapFocus(t)}))],Cg.prototype,"wrapFocus",void 0),tn([Qn({type:String}),Oa((function(t,e){void 0!==e&&this.updateItems()}))],Cg.prototype,"itemRoles",void 0),tn([Qn({type:String})],Cg.prototype,"innerRole",void 0),tn([Qn({type:String})],Cg.prototype,"innerAriaLabel",void 0),tn([Qn({type:Boolean})],Cg.prototype,"rootTabbable",void 0),tn([Qn({type:Boolean,reflect:!0}),Oa((function(t){const e=this.slotElement;if(t&&e){const t=function(t,e){for(const e of t.assignedNodes({flatten:!0}))if(yi(e)){const t=e;if(vi(t,'[tabindex="0"]'))return t}return null}(e);this.previousTabindex=t,t&&t.setAttribute("tabindex","-1")}else!t&&this.previousTabindex&&(this.previousTabindex.setAttribute("tabindex","0"),this.previousTabindex=null)}))],Cg.prototype,"noninteractive",void 0);const Ig=Ai`@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:host{display:block}.mdc-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);line-height:1.5rem;margin:0;padding:8px 0;list-style-type:none;color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87));padding:var(--mdc-list-vertical-padding, 8px) 0}.mdc-list:focus{outline:none}.mdc-list-item{height:48px}.mdc-list--dense{padding-top:4px;padding-bottom:4px;font-size:.812rem}.mdc-list ::slotted([divider]){height:0;margin:0;border:none;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgba(0, 0, 0, 0.12)}.mdc-list ::slotted([divider][padded]){margin:0 var(--mdc-list-side-padding, 16px)}.mdc-list ::slotted([divider][inset]){margin-left:var(--mdc-list-inset-margin, 72px);margin-right:0;width:calc(100% - var(--mdc-list-inset-margin, 72px))}.mdc-list-group[dir=rtl] .mdc-list ::slotted([divider][inset]),[dir=rtl] .mdc-list-group .mdc-list ::slotted([divider][inset]){margin-left:0;margin-right:var(--mdc-list-inset-margin, 72px)}.mdc-list ::slotted([divider][inset][padded]){width:calc(100% - var(--mdc-list-inset-margin, 72px) - var(--mdc-list-side-padding, 16px))}.mdc-list--dense ::slotted([mwc-list-item]){height:40px}.mdc-list--dense ::slotted([mwc-list]){--mdc-list-item-graphic-size: 20px}.mdc-list--two-line.mdc-list--dense ::slotted([mwc-list-item]),.mdc-list--avatar-list.mdc-list--dense ::slotted([mwc-list-item]){height:60px}.mdc-list--avatar-list.mdc-list--dense ::slotted([mwc-list]){--mdc-list-item-graphic-size: 36px}:host([noninteractive]){pointer-events:none;cursor:default}.mdc-list--dense ::slotted(.mdc-list-item__primary-text){display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list--dense ::slotted(.mdc-list-item__primary-text)::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list--dense ::slotted(.mdc-list-item__primary-text)::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}`;let cg=class extends Cg{};cg.styles=Ig,cg=tn([Kn("mwc-list")],cg);class lg extends Ii{constructor(){super(...arguments),this.value="",this.group=null,this.tabindex=-1,this.disabled=!1,this.twoline=!1,this.activated=!1,this.graphic=null,this.multipleGraphics=!1,this.hasMeta=!1,this.noninteractive=!1,this.selected=!1,this.shouldRenderRipple=!1,this._managingList=null,this.boundOnClick=this.onClick.bind(this),this._firstChanged=!0,this._skipPropRequest=!1,this.rippleHandlers=new ya((()=>(this.shouldRenderRipple=!0,this.ripple))),this.listeners=[{target:this,eventNames:["click"],cb:()=>{this.onClick()}},{target:this,eventNames:["mouseenter"],cb:this.rippleHandlers.startHover},{target:this,eventNames:["mouseleave"],cb:this.rippleHandlers.endHover},{target:this,eventNames:["focus"],cb:this.rippleHandlers.startFocus},{target:this,eventNames:["blur"],cb:this.rippleHandlers.endFocus},{target:this,eventNames:["mousedown","touchstart"],cb:t=>{const e=t.type;this.onDown("mousedown"===e?"mouseup":"touchend",t)}}]}get text(){const t=this.textContent;return t?t.trim():""}render(){const t=this.renderText(),e=this.graphic?this.renderGraphic():Bn``,n=this.hasMeta?this.renderMeta():Bn``;return Bn`
      ${this.renderRipple()}
      ${e}
      ${t}
      ${n}`}renderRipple(){return this.shouldRenderRipple?Bn`
      <mwc-ripple
        .activated=${this.activated}>
      </mwc-ripple>`:this.activated?Bn`<div class="fake-activated-ripple"></div>`:""}renderGraphic(){const t={multi:this.multipleGraphics};return Bn`
      <span class="mdc-list-item__graphic material-icons ${Li(t)}">
        <slot name="graphic"></slot>
      </span>`}renderMeta(){return Bn`
      <span class="mdc-list-item__meta material-icons">
        <slot name="meta"></slot>
      </span>`}renderText(){const t=this.twoline?this.renderTwoline():this.renderSingleLine();return Bn`
      <span class="mdc-list-item__text">
        ${t}
      </span>`}renderSingleLine(){return Bn`<slot></slot>`}renderTwoline(){return Bn`
      <span class="mdc-list-item__primary-text">
        <slot></slot>
      </span>
      <span class="mdc-list-item__secondary-text">
        <slot name="secondary"></slot>
      </span>
    `}onClick(){this.fireRequestSelected(!this.selected,"interaction")}onDown(t,e){const n=()=>{window.removeEventListener(t,n),this.rippleHandlers.endPress()};window.addEventListener(t,n),this.rippleHandlers.startPress(e)}fireRequestSelected(t,e){if(this.noninteractive)return;const n=new CustomEvent("request-selected",{bubbles:!0,composed:!0,detail:{source:e,selected:t}});this.dispatchEvent(n)}connectedCallback(){super.connectedCallback(),this.noninteractive||this.setAttribute("mwc-list-item","");for(const t of this.listeners)for(const e of t.eventNames)t.target.addEventListener(e,t.cb,{passive:!0})}disconnectedCallback(){super.disconnectedCallback();for(const t of this.listeners)for(const e of t.eventNames)t.target.removeEventListener(e,t.cb);this._managingList&&this._managingList.layout(!0)}firstUpdated(){const t=new Event("list-item-rendered",{bubbles:!0,composed:!0});this.dispatchEvent(t)}}tn([ti("slot")],lg.prototype,"slotElement",void 0),tn([ei("mwc-ripple")],lg.prototype,"ripple",void 0),tn([Qn({type:String})],lg.prototype,"value",void 0),tn([Qn({type:String,reflect:!0})],lg.prototype,"group",void 0),tn([Qn({type:Number,reflect:!0})],lg.prototype,"tabindex",void 0),tn([Qn({type:Boolean,reflect:!0}),Oa((function(t){t?this.setAttribute("aria-disabled","true"):this.setAttribute("aria-disabled","false")}))],lg.prototype,"disabled",void 0),tn([Qn({type:Boolean,reflect:!0})],lg.prototype,"twoline",void 0),tn([Qn({type:Boolean,reflect:!0})],lg.prototype,"activated",void 0),tn([Qn({type:String,reflect:!0})],lg.prototype,"graphic",void 0),tn([Qn({type:Boolean})],lg.prototype,"multipleGraphics",void 0),tn([Qn({type:Boolean})],lg.prototype,"hasMeta",void 0),tn([Qn({type:Boolean,reflect:!0}),Oa((function(t){t?(this.removeAttribute("aria-checked"),this.removeAttribute("mwc-list-item"),this.selected=!1,this.activated=!1,this.tabIndex=-1):this.setAttribute("mwc-list-item","")}))],lg.prototype,"noninteractive",void 0),tn([Qn({type:Boolean,reflect:!0}),Oa((function(t){const e=this.getAttribute("role"),n="gridcell"===e||"option"===e||"row"===e||"tab"===e;n&&t?this.setAttribute("aria-selected","true"):n&&this.setAttribute("aria-selected","false"),this._firstChanged?this._firstChanged=!1:this._skipPropRequest||this.fireRequestSelected(t,"property")}))],lg.prototype,"selected",void 0),tn([$n()],lg.prototype,"shouldRenderRipple",void 0),tn([$n()],lg.prototype,"_managingList",void 0);const ug=Ai`:host{cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;height:48px;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mdc-list-side-padding, 16px);padding-right:var(--mdc-list-side-padding, 16px);outline:none;height:48px;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host:focus{outline:none}:host([activated]){color:#6200ee;color:var(--mdc-theme-primary, #6200ee);--mdc-ripple-color: var(--mdc-theme-primary, #6200ee)}:host([activated]) .mdc-list-item__graphic{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}:host([activated]) .fake-activated-ripple::before{position:absolute;display:block;top:0;bottom:0;left:0;right:0;width:100%;height:100%;pointer-events:none;z-index:1;content:"";opacity:0.12;opacity:var(--mdc-ripple-activated-opacity, 0.12);background-color:#6200ee;background-color:var(--mdc-ripple-color, var(--mdc-theme-primary, #6200ee))}.mdc-list-item__graphic{flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;display:inline-flex}.mdc-list-item__graphic ::slotted(*){flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;width:100%;height:100%;text-align:center}.mdc-list-item__meta{width:var(--mdc-list-item-meta-size, 24px);height:var(--mdc-list-item-meta-size, 24px);margin-left:auto;margin-right:0;color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-hint-on-background, rgba(0, 0, 0, 0.38))}.mdc-list-item__meta.multi{width:auto}.mdc-list-item__meta ::slotted(*){width:var(--mdc-list-item-meta-size, 24px);line-height:var(--mdc-list-item-meta-size, 24px)}.mdc-list-item__meta ::slotted(.material-icons),.mdc-list-item__meta ::slotted(mwc-icon){line-height:var(--mdc-list-item-meta-size, 24px) !important}.mdc-list-item__meta ::slotted(:not(.material-icons):not(mwc-icon)){-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit)}:host[dir=rtl] .mdc-list-item__meta,[dir=rtl] :host .mdc-list-item__meta{margin-left:0;margin-right:auto}.mdc-list-item__meta ::slotted(*){width:100%;height:100%}.mdc-list-item__text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item__text ::slotted([for]),.mdc-list-item__text[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;margin-bottom:-20px;display:block}.mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;display:block}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list--dense .mdc-list-item__secondary-text{font-size:inherit}* ::slotted(a),a{color:inherit;text-decoration:none}:host([twoline]){height:72px}:host([twoline]) .mdc-list-item__text{align-self:flex-start}:host([disabled]),:host([noninteractive]){cursor:default;pointer-events:none}:host([disabled]) .mdc-list-item__text ::slotted(*){opacity:.38}:host([disabled]) .mdc-list-item__text ::slotted(*),:host([disabled]) .mdc-list-item__primary-text ::slotted(*),:host([disabled]) .mdc-list-item__secondary-text ::slotted(*){color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-list-item__secondary-text ::slotted(*){color:rgba(0, 0, 0, 0.54);color:var(--mdc-theme-text-secondary-on-background, rgba(0, 0, 0, 0.54))}.mdc-list-item__graphic ::slotted(*){background-color:transparent;color:rgba(0, 0, 0, 0.38);color:var(--mdc-theme-text-icon-on-background, rgba(0, 0, 0, 0.38))}.mdc-list-group__subheader ::slotted(*){color:rgba(0, 0, 0, 0.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}:host([graphic=avatar]) .mdc-list-item__graphic{width:var(--mdc-list-item-graphic-size, 40px);height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-list-item__graphic.multi{width:auto}:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 40px);line-height:var(--mdc-list-item-graphic-size, 40px)}:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 40px) !important}:host([graphic=avatar]) .mdc-list-item__graphic ::slotted(*){border-radius:50%}:host([graphic=avatar],[graphic=medium],[graphic=large],[graphic=control]) .mdc-list-item__graphic{margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 16px)}:host[dir=rtl] :host([graphic=avatar],[graphic=medium],[graphic=large],[graphic=control]) .mdc-list-item__graphic,[dir=rtl] :host :host([graphic=avatar],[graphic=medium],[graphic=large],[graphic=control]) .mdc-list-item__graphic{margin-left:var(--mdc-list-item-graphic-margin, 16px);margin-right:0}:host([graphic=icon]) .mdc-list-item__graphic{width:var(--mdc-list-item-graphic-size, 24px);height:var(--mdc-list-item-graphic-size, 24px);margin-left:0;margin-right:var(--mdc-list-item-graphic-margin, 32px)}:host([graphic=icon]) .mdc-list-item__graphic.multi{width:auto}:host([graphic=icon]) .mdc-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 24px);line-height:var(--mdc-list-item-graphic-size, 24px)}:host([graphic=icon]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=icon]) .mdc-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 24px) !important}:host[dir=rtl] :host([graphic=icon]) .mdc-list-item__graphic,[dir=rtl] :host :host([graphic=icon]) .mdc-list-item__graphic{margin-left:var(--mdc-list-item-graphic-margin, 32px);margin-right:0}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:56px}:host([graphic=medium]:not([twoLine])),:host([graphic=large]:not([twoLine])){height:72px}:host([graphic=medium]) .mdc-list-item__graphic,:host([graphic=large]) .mdc-list-item__graphic{width:var(--mdc-list-item-graphic-size, 56px);height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-list-item__graphic.multi,:host([graphic=large]) .mdc-list-item__graphic.multi{width:auto}:host([graphic=medium]) .mdc-list-item__graphic ::slotted(*),:host([graphic=large]) .mdc-list-item__graphic ::slotted(*){width:var(--mdc-list-item-graphic-size, 56px);line-height:var(--mdc-list-item-graphic-size, 56px)}:host([graphic=medium]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=medium]) .mdc-list-item__graphic ::slotted(mwc-icon),:host([graphic=large]) .mdc-list-item__graphic ::slotted(.material-icons),:host([graphic=large]) .mdc-list-item__graphic ::slotted(mwc-icon){line-height:var(--mdc-list-item-graphic-size, 56px) !important}:host([graphic=large]){padding-left:0px}`;let hg=class extends lg{};function dg(t,e){var n="data:text/json;charset=UTF-8,"+encodeURIComponent(e),i=document.createElement("a");i.setAttribute("href",n),i.setAttribute("download",t),i.click(),i.remove()}hg.styles=ug,hg=tn([Kn("mwc-list-item")],hg);const fg=function(t,e,n,i){var r=new Na;t.appendChild(r);var o=new wa;return o.setAttribute("icon","storage"),o.setAttribute("slot","actionItems"),e.appendChild(o),o.onclick=function(){n.keys().then((function(t){r.innerHTML="";var e=new cg;r.appendChild(e),t.forEach((function(t){var r=new hg,o=document.createElement("div");o.style.float="left";var s=new wa;s.setAttribute("icon","launch"),s.setAttribute("label","open"),s.setAttribute("size",12);var a=new wa;a.setAttribute("icon","delete"),a.setAttribute("label","delete");var g=new wa;g.setAttribute("icon","save_alt"),g.onclick=function(){n.getItem(t).then((function(e){dg(t+".json",e)}))},o.appendChild(s),o.appendChild(g),o.appendChild(a),r.append(o);var A=document.createElement("div");A.style.float="left",A.style.paddingTop="15px",A.style.paddingLeft="5px",A.innerText=t,r.appendChild(A),e.appendChild(r),s.onclick=function(){n.getItem(t).then((function(t){var e=JSON.parse(t);i(e)}))},a.onclick=function(){confirm("Delete panel '"+t+"' from panel space?")&&n.removeItem(t).then((function(){r.remove()}))}}))})),r.open=!0},o};var pg,mg,vg={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},yg={CLOSED_EVENT:"MDCMenuSurface:closed",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},bg={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67};!function(t){t[t.BOTTOM=1]="BOTTOM",t[t.CENTER=2]="CENTER",t[t.RIGHT=4]="RIGHT",t[t.FLIP_RTL=8]="FLIP_RTL"}(pg||(pg={})),function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=4]="TOP_RIGHT",t[t.BOTTOM_LEFT=1]="BOTTOM_LEFT",t[t.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",t[t.TOP_START=8]="TOP_START",t[t.TOP_END=12]="TOP_END",t[t.BOTTOM_START=9]="BOTTOM_START",t[t.BOTTOM_END=13]="BOTTOM_END"}(mg||(mg={}));var _g=function(t){function e(n){var i=t.call(this,$e($e({},e.defaultAdapter),n))||this;return i.isSurfaceOpen=!1,i.isQuickOpen=!1,i.isHoistedElement=!1,i.isFixedPosition=!1,i.openAnimationEndTimerId=0,i.closeAnimationEndTimerId=0,i.animationRequestId=0,i.anchorCorner=mg.TOP_START,i.originCorner=mg.TOP_START,i.anchorMargin={top:0,right:0,bottom:0,left:0},i.position={x:0,y:0},i}return Qe(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return vg},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return yg},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return bg},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Corner",{get:function(){return mg},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyOpen:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=e.cssClasses,n=t.ROOT,i=t.OPEN;if(!this.adapter.hasClass(n))throw new Error(n+" class required in root element.");this.adapter.hasClass(i)&&(this.isSurfaceOpen=!0)},e.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},e.prototype.setAnchorCorner=function(t){this.anchorCorner=t},e.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^pg.RIGHT},e.prototype.setAnchorMargin=function(t){this.anchorMargin.top=t.top||0,this.anchorMargin.right=t.right||0,this.anchorMargin.bottom=t.bottom||0,this.anchorMargin.left=t.left||0},e.prototype.setIsHoisted=function(t){this.isHoistedElement=t},e.prototype.setFixedPosition=function(t){this.isFixedPosition=t},e.prototype.setAbsolutePosition=function(t,e){this.position.x=this.isFinite(t)?t:0,this.position.y=this.isFinite(e)?e:0},e.prototype.setQuickOpen=function(t){this.isQuickOpen=t},e.prototype.isOpen=function(){return this.isSurfaceOpen},e.prototype.open=function(){var t=this;this.isSurfaceOpen||(this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(e.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(e.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame((function(){t.adapter.addClass(e.cssClasses.OPEN),t.dimensions=t.adapter.getInnerDimensions(),t.autoposition(),t.openAnimationEndTimerId=setTimeout((function(){t.openAnimationEndTimerId=0,t.adapter.removeClass(e.cssClasses.ANIMATING_OPEN),t.adapter.notifyOpen()}),bg.TRANSITION_OPEN_DURATION)})),this.isSurfaceOpen=!0))},e.prototype.close=function(t){var n=this;void 0===t&&(t=!1),this.isSurfaceOpen&&(this.isQuickOpen?(this.isSurfaceOpen=!1,t||this.maybeRestoreFocus(),this.adapter.removeClass(e.cssClasses.OPEN),this.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),this.adapter.notifyClose()):(this.adapter.addClass(e.cssClasses.ANIMATING_CLOSED),requestAnimationFrame((function(){n.adapter.removeClass(e.cssClasses.OPEN),n.adapter.removeClass(e.cssClasses.IS_OPEN_BELOW),n.closeAnimationEndTimerId=setTimeout((function(){n.closeAnimationEndTimerId=0,n.adapter.removeClass(e.cssClasses.ANIMATING_CLOSED),n.adapter.notifyClose()}),bg.TRANSITION_CLOSE_DURATION)})),this.isSurfaceOpen=!1,t||this.maybeRestoreFocus()))},e.prototype.handleBodyClick=function(t){var e=t.target;this.adapter.isElementInContainer(e)||this.close()},e.prototype.handleKeydown=function(t){var e=t.keyCode;("Escape"===t.key||27===e)&&this.close()},e.prototype.autoposition=function(){var t;this.measurements=this.getAutoLayoutmeasurements();var n=this.getoriginCorner(),i=this.getMenuSurfaceMaxHeight(n),r=this.hasBit(n,pg.BOTTOM)?"bottom":"top",o=this.hasBit(n,pg.RIGHT)?"right":"left",s=this.getHorizontalOriginOffset(n),a=this.getVerticalOriginOffset(n),g=this.measurements,A=g.anchorSize,C=g.surfaceSize,I=((t={})[o]=s,t[r]=a,t);A.width/C.width>bg.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(o="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(I),this.adapter.setTransformOrigin(o+" "+r),this.adapter.setPosition(I),this.adapter.setMaxHeight(i?i+"px":""),this.hasBit(n,pg.BOTTOM)||this.adapter.addClass(e.cssClasses.IS_OPEN_BELOW)},e.prototype.getAutoLayoutmeasurements=function(){var t=this.adapter.getAnchorDimensions(),e=this.adapter.getBodyDimensions(),n=this.adapter.getWindowDimensions(),i=this.adapter.getWindowScroll();return t||(t={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:t,bodySize:e,surfaceSize:this.dimensions,viewportDistance:{top:t.top,right:n.width-t.right,bottom:n.height-t.bottom,left:t.left},viewportSize:n,windowScroll:i}},e.prototype.getoriginCorner=function(){var t,n,i=this.originCorner,r=this.measurements,o=r.viewportDistance,s=r.anchorSize,a=r.surfaceSize,g=e.numbers.MARGIN_TO_EDGE;this.hasBit(this.anchorCorner,pg.BOTTOM)?(t=o.top-g+s.height+this.anchorMargin.bottom,n=o.bottom-g-this.anchorMargin.bottom):(t=o.top-g+this.anchorMargin.top,n=o.bottom-g+s.height-this.anchorMargin.top),!(n-a.height>0)&&t>=n&&(i=this.setBit(i,pg.BOTTOM));var A,C,I,c=this.adapter.isRtl(),l=this.hasBit(this.anchorCorner,pg.FLIP_RTL),u=this.hasBit(this.anchorCorner,pg.RIGHT);(I=c&&l?!u:u)?(A=o.left+s.width+this.anchorMargin.right,C=o.right-this.anchorMargin.right):(A=o.left+this.anchorMargin.left,C=o.right+s.width-this.anchorMargin.left);var h=A-a.width>0,d=C-a.width>0,f=this.hasBit(i,pg.FLIP_RTL)&&this.hasBit(i,pg.RIGHT);return d&&f&&c||!h&&f?i=this.unsetBit(i,pg.RIGHT):(h&&I&&c||h&&!I&&u||!d&&A>=C)&&(i=this.setBit(i,pg.RIGHT)),i},e.prototype.getMenuSurfaceMaxHeight=function(t){var n=this.measurements.viewportDistance,i=0,r=this.hasBit(t,pg.BOTTOM),o=this.hasBit(this.anchorCorner,pg.BOTTOM),s=e.numbers.MARGIN_TO_EDGE;return r?(i=n.top+this.anchorMargin.top-s,o||(i+=this.measurements.anchorSize.height)):(i=n.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-s,o&&(i-=this.measurements.anchorSize.height)),i},e.prototype.getHorizontalOriginOffset=function(t){var e=this.measurements.anchorSize,n=this.hasBit(t,pg.RIGHT),i=this.hasBit(this.anchorCorner,pg.RIGHT);if(n){var r=i?e.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?r-(this.measurements.viewportSize.width-this.measurements.bodySize.width):r}return i?e.width-this.anchorMargin.right:this.anchorMargin.left},e.prototype.getVerticalOriginOffset=function(t){var e=this.measurements.anchorSize,n=this.hasBit(t,pg.BOTTOM),i=this.hasBit(this.anchorCorner,pg.BOTTOM);return n?i?e.height-this.anchorMargin.top:-this.anchorMargin.bottom:i?e.height+this.anchorMargin.bottom:this.anchorMargin.top},e.prototype.adjustPositionForHoistedElement=function(t){var e,n,i=this.measurements,r=i.windowScroll,o=i.viewportDistance,s=Object.keys(t);try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),g=a.next();!g.done;g=a.next()){var A=g.value,C=t[A]||0;C+=o[A],this.isFixedPosition||("top"===A?C+=r.y:"bottom"===A?C-=r.y:"left"===A?C+=r.x:C-=r.x),t[A]=C}}catch(t){e={error:t}}finally{try{g&&!g.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},e.prototype.maybeRestoreFocus=function(){var t=this.adapter.isFocused(),e=document.activeElement&&this.adapter.isElementInContainer(document.activeElement);(t||e)&&this.adapter.restoreFocus()},e.prototype.hasBit=function(t,e){return Boolean(t&e)},e.prototype.setBit=function(t,e){return t|e},e.prototype.unsetBit=function(t,e){return t^e},e.prototype.isFinite=function(t){return"number"==typeof t&&isFinite(t)},e}(hi);const wg=_g,xg={TOP_LEFT:mg.TOP_LEFT,TOP_RIGHT:mg.TOP_RIGHT,BOTTOM_LEFT:mg.BOTTOM_LEFT,BOTTOM_RIGHT:mg.BOTTOM_RIGHT,TOP_START:mg.TOP_START,TOP_END:mg.TOP_END,BOTTOM_START:mg.BOTTOM_START,BOTTOM_END:mg.BOTTOM_END};class Sg extends Ti{constructor(){super(...arguments),this.mdcFoundationClass=wg,this.absolute=!1,this.fullwidth=!1,this.fixed=!1,this.x=null,this.y=null,this.quick=!1,this.open=!1,this.bitwiseCorner=mg.TOP_START,this.previousMenuCorner=null,this.menuCorner="START",this.corner="TOP_START",this.styleTop="",this.styleLeft="",this.styleRight="",this.styleBottom="",this.styleMaxHeight="",this.styleTransformOrigin="",this.anchor=null,this.previouslyFocused=null,this.previousAnchor=null,this.onBodyClickBound=()=>{}}render(){const t={"mdc-menu-surface--fixed":this.fixed,"mdc-menu-surface--fullwidth":this.fullwidth},e={top:this.styleTop,left:this.styleLeft,right:this.styleRight,bottom:this.styleBottom,"max-height":this.styleMaxHeight,"transform-origin":this.styleTransformOrigin};return Bn`
      <div
          class="mdc-menu-surface ${Li(t)}"
          style="${fa(e)}"
          @keydown=${this.onKeydown}
          @opened=${this.registerBodyClick}
          @closed=${this.deregisterBodyClick}>
        <slot></slot>
      </div>`}createAdapter(){return Object.assign(Object.assign({},bi(this.mdcRoot)),{hasAnchor:()=>!!this.anchor,notifyClose:()=>{const t=new CustomEvent("closed",{bubbles:!0,composed:!0});this.open=!1,this.mdcRoot.dispatchEvent(t)},notifyOpen:()=>{const t=new CustomEvent("opened",{bubbles:!0,composed:!0});this.open=!0,this.mdcRoot.dispatchEvent(t)},isElementInContainer:()=>!1,isRtl:()=>!!this.mdcRoot&&"rtl"===getComputedStyle(this.mdcRoot).direction,setTransformOrigin:t=>{this.mdcRoot&&(this.styleTransformOrigin=t)},isFocused:()=>Mi(this),saveFocus:()=>{const t=Ei(),e=t.length;e||(this.previouslyFocused=null),this.previouslyFocused=t[e-1]},restoreFocus:()=>{this.previouslyFocused&&"focus"in this.previouslyFocused&&this.previouslyFocused.focus()},getInnerDimensions:()=>{const t=this.mdcRoot;return t?{width:t.offsetWidth,height:t.offsetHeight}:{width:0,height:0}},getAnchorDimensions:()=>{const t=this.anchor;return t?t.getBoundingClientRect():null},getBodyDimensions:()=>({width:document.body.clientWidth,height:document.body.clientHeight}),getWindowDimensions:()=>({width:window.innerWidth,height:window.innerHeight}),getWindowScroll:()=>({x:window.pageXOffset,y:window.pageYOffset}),setPosition:t=>{this.mdcRoot&&(this.styleLeft="left"in t?`${t.left}px`:"",this.styleRight="right"in t?`${t.right}px`:"",this.styleTop="top"in t?`${t.top}px`:"",this.styleBottom="bottom"in t?`${t.bottom}px`:"")},setMaxHeight:async t=>{this.mdcRoot&&(this.styleMaxHeight=t,await this.updateComplete,this.styleMaxHeight=`var(--mdc-menu-max-height, ${t})`)}})}onKeydown(t){this.mdcFoundation&&this.mdcFoundation.handleKeydown(t)}onBodyClick(t){-1===t.composedPath().indexOf(this)&&this.close()}registerBodyClick(){this.onBodyClickBound=this.onBodyClick.bind(this),document.body.addEventListener("click",this.onBodyClickBound,{passive:!0,capture:!0})}deregisterBodyClick(){document.body.removeEventListener("click",this.onBodyClickBound)}close(){this.open=!1}show(){this.open=!0}}tn([ti(".mdc-menu-surface")],Sg.prototype,"mdcRoot",void 0),tn([ti("slot")],Sg.prototype,"slotElement",void 0),tn([Qn({type:Boolean}),Oa((function(t){this.mdcFoundation&&!this.fixed&&this.mdcFoundation.setIsHoisted(t)}))],Sg.prototype,"absolute",void 0),tn([Qn({type:Boolean})],Sg.prototype,"fullwidth",void 0),tn([Qn({type:Boolean}),Oa((function(t){this.mdcFoundation&&!this.absolute&&this.mdcFoundation.setIsHoisted(t)}))],Sg.prototype,"fixed",void 0),tn([Qn({type:Number}),Oa((function(t){this.mdcFoundation&&null!==this.y&&null!==t&&(this.mdcFoundation.setAbsolutePosition(t,this.y),this.mdcFoundation.setAnchorMargin({left:t,top:this.y,right:-t,bottom:this.y}))}))],Sg.prototype,"x",void 0),tn([Qn({type:Number}),Oa((function(t){this.mdcFoundation&&null!==this.x&&null!==t&&(this.mdcFoundation.setAbsolutePosition(this.x,t),this.mdcFoundation.setAnchorMargin({left:this.x,top:t,right:-this.x,bottom:t}))}))],Sg.prototype,"y",void 0),tn([Qn({type:Boolean}),Oa((function(t){this.mdcFoundation&&this.mdcFoundation.setQuickOpen(t)}))],Sg.prototype,"quick",void 0),tn([Qn({type:Boolean,reflect:!0}),Oa((function(t,e){this.mdcFoundation&&(t?this.mdcFoundation.open():void 0!==e&&this.mdcFoundation.close())}))],Sg.prototype,"open",void 0),tn([$n(),Oa((function(t){this.mdcFoundation&&this.mdcFoundation.setAnchorCorner(t)}))],Sg.prototype,"bitwiseCorner",void 0),tn([Qn({type:String}),Oa((function(t){if(this.mdcFoundation){const e="START"===t||"END"===t,n=null===this.previousMenuCorner,i=!n&&t!==this.previousMenuCorner,r=n&&"END"===t;e&&(i||r)&&(this.bitwiseCorner=this.bitwiseCorner^pg.RIGHT,this.mdcFoundation.flipCornerHorizontally(),this.previousMenuCorner=t)}}))],Sg.prototype,"menuCorner",void 0),tn([Qn({type:String}),Oa((function(t){if(this.mdcFoundation&&t){let e=xg[t];"END"===this.menuCorner&&(e^=pg.RIGHT),this.bitwiseCorner=e}}))],Sg.prototype,"corner",void 0),tn([$n()],Sg.prototype,"styleTop",void 0),tn([$n()],Sg.prototype,"styleLeft",void 0),tn([$n()],Sg.prototype,"styleRight",void 0),tn([$n()],Sg.prototype,"styleBottom",void 0),tn([$n()],Sg.prototype,"styleMaxHeight",void 0),tn([$n()],Sg.prototype,"styleTransformOrigin",void 0);const Eg=Ai`.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-height:calc(100vh - 32px);margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;transition:opacity .03s linear,transform .12s cubic-bezier(0, 0, 0.2, 1),height 250ms cubic-bezier(0, 0, 0.2, 1);box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;background-color:var(--mdc-theme-surface, #fff);color:#000;color:var(--mdc-theme-on-surface, #000);border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0;transition:opacity .075s linear}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}:host(:not([open])){display:none}.mdc-menu-surface{z-index:8;z-index:var(--mdc-menu-z-index, 8);max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px))}`;let Mg=class extends Sg{};Mg.styles=Eg,Mg=tn([Kn("mwc-menu-surface")],Mg);var Tg,Rg={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},Og={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list",SELECTED_EVENT:"MDCMenu:selected"},Lg={FOCUS_ROOT_INDEX:-1};!function(t){t[t.NONE=0]="NONE",t[t.LIST_ROOT=1]="LIST_ROOT",t[t.FIRST_ITEM=2]="FIRST_ITEM",t[t.LAST_ITEM=3]="LAST_ITEM"}(Tg||(Tg={}));var kg=function(t){function e(n){var i=t.call(this,$e($e({},e.defaultAdapter),n))||this;return i.closeAnimationEndTimerId_=0,i.defaultFocusState_=Tg.LIST_ROOT,i}return Qe(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Rg},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Og},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Lg},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.closeAnimationEndTimerId_&&clearTimeout(this.closeAnimationEndTimerId_),this.adapter.closeSurface()},e.prototype.handleKeydown=function(t){var e=t.key,n=t.keyCode;("Tab"===e||9===n)&&this.adapter.closeSurface(!0)},e.prototype.handleItemAction=function(t){var e=this,n=this.adapter.getElementIndex(t);n<0||(this.adapter.notifySelected({index:n}),this.adapter.closeSurface(),this.closeAnimationEndTimerId_=setTimeout((function(){var n=e.adapter.getElementIndex(t);n>=0&&e.adapter.isSelectableItemAtIndex(n)&&e.setSelectedIndex(n)}),_g.numbers.TRANSITION_CLOSE_DURATION))},e.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState_){case Tg.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case Tg.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case Tg.NONE:break;default:this.adapter.focusListRoot()}},e.prototype.setDefaultFocusState=function(t){this.defaultFocusState_=t},e.prototype.setSelectedIndex=function(t){if(this.validatedIndex_(t),!this.adapter.isSelectableItemAtIndex(t))throw new Error("MDCMenuFoundation: No selection group at specified index.");var e=this.adapter.getSelectedSiblingOfItemAtIndex(t);e>=0&&(this.adapter.removeAttributeFromElementAtIndex(e,Og.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(e,Rg.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(t,Rg.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(t,Og.ARIA_CHECKED_ATTR,"true")},e.prototype.setEnabled=function(t,e){this.validatedIndex_(t),e?(this.adapter.removeClassFromElementAtIndex(t,eg),this.adapter.addAttributeToElementAtIndex(t,Og.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(t,eg),this.adapter.addAttributeToElementAtIndex(t,Og.ARIA_DISABLED_ATTR,"true"))},e.prototype.validatedIndex_=function(t){var e=this.adapter.getMenuItemCount();if(!(t>=0&&t<e))throw new Error("MDCMenuFoundation: No list item at specified index.")},e}(hi);const Dg=kg;class Ng extends Ti{constructor(){super(...arguments),this.mdcFoundationClass=Dg,this.listElement_=null,this.anchor=null,this.open=!1,this.quick=!1,this.wrapFocus=!1,this.innerRole="menu",this.corner="TOP_START",this.x=null,this.y=null,this.absolute=!1,this.multi=!1,this.activatable=!1,this.fixed=!1,this.forceGroupSelection=!1,this.fullwidth=!1,this.menuCorner="START",this.defaultFocus="LIST_ROOT",this._listUpdateComplete=null}get listElement(){return this.listElement_||(this.listElement_=this.renderRoot.querySelector("mwc-list")),this.listElement_}get items(){const t=this.listElement;return t?t.items:[]}get index(){const t=this.listElement;return t?t.index:-1}get selected(){const t=this.listElement;return t?t.selected:null}render(){const t="menu"===this.innerRole?"menuitem":"option";return Bn`
      <mwc-menu-surface
          ?hidden=${!this.open}
          .anchor=${this.anchor}
          .open=${this.open}
          .quick=${this.quick}
          .corner=${this.corner}
          .x=${this.x}
          .y=${this.y}
          .absolute=${this.absolute}
          .fixed=${this.fixed}
          .fullwidth=${this.fullwidth}
          .menuCorner=${this.menuCorner}
          class="mdc-menu mdc-menu-surface"
          @closed=${this.onClosed}
          @opened=${this.onOpened}
          @keydown=${this.onKeydown}>
        <mwc-list
          rootTabbable
          .innerRole=${this.innerRole}
          .multi=${this.multi}
          class="mdc-list"
          .itemRoles=${t}
          .wrapFocus=${this.wrapFocus}
          .activatable=${this.activatable}
          @action=${this.onAction}>
        <slot></slot>
      </mwc-list>
    </mwc-menu-surface>`}createAdapter(){return{addClassToElementAtIndex:(t,e)=>{const n=this.listElement;if(!n)return;const i=n.items[t];i&&("mdc-menu-item--selected"===e?this.forceGroupSelection&&!i.selected&&n.toggle(t,!0):i.classList.add(e))},removeClassFromElementAtIndex:(t,e)=>{const n=this.listElement;if(!n)return;const i=n.items[t];i&&("mdc-menu-item--selected"===e?i.selected&&n.toggle(t,!1):i.classList.remove(e))},addAttributeToElementAtIndex:(t,e,n)=>{const i=this.listElement;if(!i)return;const r=i.items[t];r&&r.setAttribute(e,n)},removeAttributeFromElementAtIndex:(t,e)=>{const n=this.listElement;if(!n)return;const i=n.items[t];i&&i.removeAttribute(e)},elementContainsClass:(t,e)=>t.classList.contains(e),closeSurface:()=>{this.open=!1},getElementIndex:t=>{const e=this.listElement;return e?e.items.indexOf(t):-1},notifySelected:()=>{},getMenuItemCount:()=>{const t=this.listElement;return t?t.items.length:0},focusItemAtIndex:t=>{const e=this.listElement;if(!e)return;const n=e.items[t];n&&n.focus()},focusListRoot:()=>{this.listElement&&this.listElement.focus()},getSelectedSiblingOfItemAtIndex:t=>{const e=this.listElement;if(!e)return-1;const n=e.items[t];if(!n||!n.group)return-1;for(let i=0;i<e.items.length;i++){if(i===t)continue;const r=e.items[i];if(r.selected&&r.group===n.group)return i}return-1},isSelectableItemAtIndex:t=>{const e=this.listElement;if(!e)return!1;const n=e.items[t];return!!n&&n.hasAttribute("group")}}}onKeydown(t){this.mdcFoundation&&this.mdcFoundation.handleKeydown(t)}onAction(t){const e=this.listElement;if(this.mdcFoundation&&e){const n=t.detail.index,i=e.items[n];i&&this.mdcFoundation.handleItemAction(i)}}onOpened(){this.open=!0,this.mdcFoundation&&this.mdcFoundation.handleMenuSurfaceOpened()}onClosed(){this.open=!1}async _getUpdateComplete(){await this._listUpdateComplete,await super._getUpdateComplete()}async firstUpdated(){super.firstUpdated();const t=this.listElement;t&&(this._listUpdateComplete=t.updateComplete,await this._listUpdateComplete)}select(t){const e=this.listElement;e&&e.select(t)}close(){this.open=!1}show(){this.open=!0}getFocusedItemIndex(){const t=this.listElement;return t?t.getFocusedItemIndex():-1}focusItemAtIndex(t){const e=this.listElement;e&&e.focusItemAtIndex(t)}layout(t=!0){const e=this.listElement;e&&e.layout(t)}}tn([ti(".mdc-menu")],Ng.prototype,"mdcRoot",void 0),tn([ti("slot")],Ng.prototype,"slotElement",void 0),tn([Qn({type:Object})],Ng.prototype,"anchor",void 0),tn([Qn({type:Boolean,reflect:!0})],Ng.prototype,"open",void 0),tn([Qn({type:Boolean})],Ng.prototype,"quick",void 0),tn([Qn({type:Boolean})],Ng.prototype,"wrapFocus",void 0),tn([Qn({type:String})],Ng.prototype,"innerRole",void 0),tn([Qn({type:String})],Ng.prototype,"corner",void 0),tn([Qn({type:Number})],Ng.prototype,"x",void 0),tn([Qn({type:Number})],Ng.prototype,"y",void 0),tn([Qn({type:Boolean})],Ng.prototype,"absolute",void 0),tn([Qn({type:Boolean})],Ng.prototype,"multi",void 0),tn([Qn({type:Boolean})],Ng.prototype,"activatable",void 0),tn([Qn({type:Boolean})],Ng.prototype,"fixed",void 0),tn([Qn({type:Boolean})],Ng.prototype,"forceGroupSelection",void 0),tn([Qn({type:Boolean})],Ng.prototype,"fullwidth",void 0),tn([Qn({type:String})],Ng.prototype,"menuCorner",void 0),tn([Qn({type:String}),Oa((function(t){this.mdcFoundation&&this.mdcFoundation.setDefaultFocusState(Tg[t])}))],Ng.prototype,"defaultFocus",void 0);const Pg=Ai`mwc-list ::slotted([mwc-list-item]:not([twoline])){height:var(--mdc-menu-item-height, 48px)}mwc-list{max-width:var(--mdc-menu-max-width, auto);min-width:var(--mdc-menu-min-width, auto)}`;let jg=class extends Ng{};function Fg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function zg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fg(Object(n),!0).forEach((function(e){Bg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}jg.styles=Pg,jg=tn([Kn("mwc-menu")],jg);const Ug=function(t,e,n,i){var r=new wa;r.setAttribute("icon","add"),r.setAttribute("slot","actionItems"),e.appendChild(r),r.onclick=function(){o.open=!0};var o=new jg;o.setAttribute("absolute",""),o.setAttribute("y","50"),o.setAttribute("x","0"),e.appendChild(o),o.anchor=r;var s=new cg;return o.appendChild(s),n.List().forEach((function(t){var e=new hg;e.innerHTML=t.name,e.onclick=function(){var e=zg(zg({},t.initState),{},{componentName:t.name});i(e)},s.appendChild(e)})),r},Hg=function(t,e){var n=new wa;n.setAttribute("icon","add_circle"),n.setAttribute("slot","navigationIcon"),t.appendChild(n);var i=new jg;i.setAttribute("absolute",""),i.setAttribute("y","50"),i.setAttribute("x","0"),t.appendChild(i),i.anchor=n,n.onclick=function(){i.open=!0},e.forEach((function(t){var e=new hg;e.innerHTML=t+" layout",e.onclick=function(){window.open("./?layout="+t)},i.appendChild(e)}))};function Gg(t){return Gg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(t)}function Wg(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Vg(t,e){return Vg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Vg(t,e)}function Zg(t,e){if(e&&("object"===Gg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Yg(t){return Yg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Yg(t)}var Xg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vg(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Yg(i);if(r){var n=Yg(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Zg(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).shadow=t.attachShadow({mode:"open"}),t.shadow.innerHTML="\n        <style> \n            :host {\n                all: inherit;\n                --mdc-theme-primary:#1c98e5;\n            };\n        </style>\n        <slot>\n        </slot>\n        ",t}return e=s,n=[{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){var t=this,e=document.createElement("div");this.appendChild(e);var n=new ji;n.setAttribute("dense",!0),e.appendChild(n),Hg(n,t.layouts);var i=document.createElement("div");e.appendChild(i);var r=new aa;i.appendChild(r);var o=function(e){var n=document.createElement("div");n.innerHTML=e.name||e.componentName;var i=new K(n,e),o=t.packages.Get(e.componentName).render(t.core,{})(i,e);r.add(i,(function(){L(o)}))};Ug(0,n,t.packages,o),fg(e,n,t.panelDb,o)}}],n&&Wg(e.prototype,n),s}(R);st("block-layout",Xg);var Jg=n(8651),Kg=n.n(Jg),qg=n(4087),Qg=n(6406),$g=n(5694),tA=n(1460),eA=n(9883);const nA=function(t,e,n,i,r,o){var s=new eA(t,e);return i.List().forEach((function(t){s.registerComponent(t.name,(function(e,i){var r=t.render(n,{})(e,i);e.on("destroy",(function(t){L(r)})),e.on("resize",(function(t){}))}))})),s.on("stackCreated",(function(t){var e=document.createElement("li");e.setAttribute("class","lm_dupbtn");var n=document.createElement("li");n.setAttribute("class","lm_renamebtn");var i=document.createElement("li");i.setAttribute("class","lm_savebtn"),t.header.controlsContainer.prepend(e),t.header.controlsContainer.prepend(i),t.header.controlsContainer.prepend(n),n.onclick=function(){var e=t.getActiveContentItem().container,n=e.getState(),i=prompt("Set a new title for this panel",n.name);null==i||""==i||(e.setTitle(i),n.name=i,e.setState(n))},e.onclick=function(){g()},i.onclick=function(){a()};var a=function(){var e=t.getActiveContentItem().container,n=e.getState();n.componentName=e._config.componentName;var i=window.prompt("Panel Name:",n.name||"");i&&""!=i&&(n.name=i,r.setItem(i,JSON.stringify(n)).then((function(){o.style.background="green",setTimeout((function(){o.style.background=null}),162)})))},g=function(){var e=t.getActiveContentItem().container,n=e.getState(),i={title:n.name||n.componentName,type:"component",componentName:e._config.componentName,componentState:JSON.parse(JSON.stringify(n))};s.root.contentItems[0].addChild(i)}})),s};function iA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function rA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iA(Object(n),!0).forEach((function(e){oA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sA={hasHeaders:!1,constrainDragToContainer:!1,reorderEnabled:!1,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showPopoutIcon:!1,showMaximiseIcon:!1,showCloseIcon:!1};function aA(t){return aA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aA(t)}function gA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function CA(t,e){return CA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},CA(t,e)}function IA(t,e){if(e&&("object"===aA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function cA(t){return cA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cA(t)}var lA={settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showPopoutIcon:!1,showMaximiseIcon:!0,showCloseIcon:!0},content:[{type:"row",content:[]}]},uA=qg.Z.toString()+"\n"+Qg.Z.toString()+"\n\n"+$g.Z.toString()+"\n"+tA.Z.toString()+"\n\n",hA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CA(t,e)}(a,t);var e,n,i,r,o,s=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=cA(r);if(o){var n=cA(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return IA(this,t)});function a(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return gA(this,a),(e=s.call(this)).namespace=t,e.useShadow=n,n?(e.shadow=e.attachShadow({mode:"open"}),e.shadow.innerHTML="\n        <style> \n            :host {\n                all:inherit;\n                --mdc-theme-primary:#1c98e5;\n            };\n        "+uA+"\n        </style>\n        <slot>\n        </slot>\n        "):e.innerHTML="<style>\n            :root {\n                --mdc-theme-primary:#1c98e5;\n            }\n            "+uA+"\n                </style>\n            ",e}return e=a,n=[{key:"connectedCallback",value:function(){this.render()}},{key:"publish",get:function(){return""==this.getAttribute("publish")},set:function(t){1==t?this.setAttribute("publish",""):this.removeAttribute("publish")}},{key:"render",value:function(){var t=document.createElement("div");this.useShadow?this.shadow.appendChild(t):this.appendChild(t);var e=this,n=Kg().createInstance({name:e.namespace+"_stone_wsdb"}),i=50,r=new ji;if(this.publish)i=0;else{r.setAttribute("dense",!0);var o=this.panelDb;Hg(r,e.layouts);var s=new Na,a=new wa,g=document.createElement("div");a.setAttribute("icon","folder_open"),a.setAttribute("slot","navigationIcon"),r.appendChild(a),a.onclick=function(){s.open=!0,g.innerHTML="";var t=new cg;n.keys().then((function(i){i.forEach((function(i){var r=new hg;t.appendChild(r);var a=document.createElement("div");a.style.float="left";var g=new wa;g.setAttribute("icon","launch"),g.setAttribute("size",12);var A=new wa;A.setAttribute("icon","delete"),a.appendChild(g),a.appendChild(A),r.appendChild(a);var C=document.createElement("div");C.style.float="left",C.style.paddingTop="15px",C.style.paddingLeft="5px",C.innerText=i,r.appendChild(C),g.onclick=function(t){n.getItem(i).then((function(t){"destroy"in p&&p.destroy(),(p=nA(JSON.parse(t),f,e.core,e.packages,o,h)).init()})),s.open=!1},A.onclick=function(t){confirm("Delete session '"+i+"' from workspace?")&&n.removeItem(i).then((function(){r.remove()}))}}))})),g.appendChild(t)};var A=new wa;A.setAttribute("icon","folder_open"),A.onclick=function(){var t,n;t=function(t){"destroy"in p&&p.destroy(),(p=nA(t,f,e.core,e.packages,o,h)).init()},(n=document.createElement("input")).setAttribute("type","file"),n.addEventListener("change",(function(e){var n=new FileReader;n.onloadend=function(e){if(e.target.readyState==FileReader.DONE){var n=JSON.parse(e.target.result);t(n)}},n.readAsText(e.target.files[0],"UTF-8")})),n.click(),n.remove(),s.open=!1},s.appendChild(A),s.appendChild(g),t.appendChild(s);var C=new wa;C.setAttribute("icon","save"),C.setAttribute("slot","navigationIcon"),r.appendChild(C),C.onclick=function(){I.open=!0};var I=new Na,c=new wa;c.setAttribute("icon","save_alt"),c.onclick=function(){dg("session.json",JSON.stringify(p.toConfig())),I.open=!1};var l=new wa;l.setAttribute("icon","save"),l.onclick=function(){var t=prompt("Session Name:");if(null!==t){var e=JSON.stringify(p.toConfig());n.setItem(t,e)}I.open=!1},I.appendChild(l),I.appendChild(c),t.appendChild(I);var u=function(t){var e={title:t.name,type:"component",componentName:t.componentName,componentState:JSON.parse(JSON.stringify(t))};!function(t){void 0===t.root.contentItems[0]&&t.root.addChild({type:"row",content:[]})}(p),p.root.contentItems[0].addChild(e)};Ug(0,r,e.packages,u);var h=fg(t,r,e.panelDb,u);t.appendChild(r)}var d=e.session;d&&fetch(d).then((function(t){return t.text()})).then((function(t){var n=JSON.parse(t);"destroy"in p&&p.destroy(),(p=function(t,e,n,i,r,o){var s=function(t){return t.settings=rA(rA({},t.settings),sA),t}(t),a=new eA(s,e);return i.List().forEach((function(t){a.registerComponent(t.name,(function(e,i){var r=t.render(n,{})(e,i);e.on("destroy",(function(t){L(r)})),e.on("resize",(function(t){console.log("TODO process resize event",e.width,e.height)}))}))})),a}(n,f,e.core,e.packages)).init()})).catch((function(t){console.warn(t)}));var f=document.createElement("div");f.style.position="relative",t.appendChild(f),f.style.minHeight="500px",f.style.height=window.innerHeight-i+"px",window.addEventListener("resize",(function(){f.style.height=window.innerHeight-i+"px",p.updateSize()}));var p=nA(lA,f,e.core,e.packages,o,h);p.init()}}],i=[{key:"is",get:function(){return"stone-layout"}}],n&&AA(e.prototype,n),i&&AA(e,i),a}(R);st(hA.is,hA);const dA=hA;function fA(t){return fA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fA(t)}function pA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function mA(t,e){return mA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},mA(t,e)}function vA(t,e){if(e&&("object"===fA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function yA(t){return yA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yA(t)}var bA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mA(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yA(i);if(r){var n=yA(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return vA(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).namespace=t,e.shadow=e.attachShadow({mode:"open"}),e.shadow.innerHTML="\n        <style> \n            :host {\n                all:initial;\n                --mdc-theme-primary:#1c98e5;\n            };\n        </style>\n        <slot>\n        </slot>\n        ",e}return e=s,n=[{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){var t=this,e=this.panelDb,n=document.createElement("div");this.appendChild(n);var i=0;if(!t.publish){var r=new ji;r.setAttribute("dense",!0),n.appendChild(r),Hg(r,t.layouts),i=50}var o=document.createElement("div"),s={};n.appendChild(o);var a,g=new K(o,s);new ResizeObserver((function(){console.log("resizeObserver content??",o.clientHeight,o.clientWidth)})).observe(o),g.width=o.clientWidth||window.innerWidth,g.height=window.innerHeight-i,window.addEventListener("resize",(function(t){g.width=o.clientWidth||window.innerWidth,g.height=window.innerHeight-i,g.emit("resize")}));var A=document.createElement("div");if(A.setAttribute("slot","title"),!t.publish){r.appendChild(A);var C=function(e){"process"in t&&(L(t.process),o.innerHTML="",g.off("resize")),a=e.componentName,A.innerHTML=e.name||e.componentName,g.setState(e),t.process=t.packages.Get(e.componentName).render(t.core,{})(g,e)};Ug(0,r,t.packages,C),fg(n,r,t.panelDb,C);var I=new wa;I.setAttribute("icon","save"),I.setAttribute("slot","actionItems"),I.onclick=function(){c()};var c=function(){var t=g.getState(),n=window.prompt("Panel Name:",t.name||"");n&&""!=n&&(t.name=n,t.componentName=a,e.setItem(n,JSON.stringify(t)).then((function(){panelSpaceButton.style.background="green",setTimeout((function(){panelSpaceButton.style.background=null}),162)})))};r.appendChild(I)}var l={};if(t.session){var u=t.session;fetch(u).then((function(t){return t.text()})).then((function(e){var n=JSON.parse(e);t.process=t.packages.Get(n.componentName).render(t.core,l)(g,n)})).catch((function(t){console.warn(t)}))}else t.init&&(t.process=t.packages.Get(t.init).render(t.core,l)(g,s))}}],n&&pA(e.prototype,n),s}(R);st("single-app-layout",bA);const _A=bA;function wA(t){return wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wA(t)}function xA(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function SA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function EA(t,e){return EA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},EA(t,e)}function MA(t,e){if(e&&("object"===wA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return TA(t)}function TA(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RA(t){return RA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},RA(t)}var OA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EA(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=RA(i);if(r){var n=RA(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return MA(this,t)});function s(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this)).shadow=t.attachShadow({mode:"open"}),t.selected=null,t.addEventListener("mousedown",(function(e){"button"in e&&0===e.button&&t.mouseDown(e)})),t.addEventListener("mouseup",t.mouseUp),t.addEventListener("mousemove",t.mouseMove),t.addEventListener("touchstart",t.mouseDown),t.addEventListener("touchend",t.mouseUp),t.addEventListener("touchmove",t.mouseMove),t.addEventListener("dragstart",(function(t){return t.preventDefault()}));var e=TA(t);return e.height=window.innerHeight,e.width=window.innerWidth,window.addEventListener("resize",(function(t){e.height=window.innerHeight,e.width=window.innerWidth,e.shadow.querySelector("style").innerHTML="\n\t        :host{\n                    all: inherit;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\twidth: 100%;\n                    height:"+e.height+"px;\n\t\t\t\t\tbackground-color: #666;\n\t\t\t\t\toverflow: auto;\n\t\t\t\t}\n\n            "})),document.addEventListener("keydown",(function(t){t.ctrlKey&&39==t.which&&e.currentWindow&&e.currentWindow.toRightHalf(),t.ctrlKey&&37==t.which&&e.currentWindow&&e.currentWindow.toLeftHalf(),t.ctrlKey&&38==t.which&&e.currentWindow&&e.currentWindow.maximize(),t.ctrlKey&&40==t.which&&e.currentWindow&&(e.currentWindow.minimize(),e.currentWindow=null)})),t}return e=s,n=[{key:"mouseUp",value:function(){this.selected=null}},{key:"mouseDown",value:function(t){var e=t.path||t.composedPath&&t.composedPath();this.lastX=t.pageX||(t.touches?t.touches[0].pageX:0),this.lastY=t.pageY||(t.touches?t.touches[0].pageY:0);for(var n=!0,i=0;i<e.length;i++){if("m-os-window"===e[i].localName&&e[i].isMoving){this.selected=e[i];break}"m-os-menu"===e[i].localName&&(n=!1)}if(n){var r,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return xA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xA(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(this.getElementsByTagName("m-os-menu"));try{for(o.s();!(r=o.n()).done;)(t=r.value).visible=!1}catch(t){o.e(t)}finally{o.f()}}}},{key:"mouseMove",value:function(t){if(this.selected&&!this.selected.fixed){t.preventDefault();var e=t.pageX||(t.touches?t.touches[0].pageX:0),n=t.pageY||(t.touches?t.touches[0].pageY:0);this.selected.style.left=this.selected.offsetLeft+(e-this.lastX)+"px",this.selected.style.top=this.selected.offsetTop+(n-this.lastY)+"px",this.lastX=e,this.lastY=n}}},{key:"attributeChangedCallback",value:function(t,e,n){this.render()}},{key:"connectedCallback",value:function(){this.render()}},{key:"disconnectedCallback",value:function(){alert("disconnect desktop")}},{key:"render",value:function(){this.shadow.innerHTML="\n\t\t\t<style>\n                \n\t\t        :host{\n                    all: inherit;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\twidth: 100%;\n                    height:"+this.height+"px;\n\t\t\t\t\tbackground-color: #666;\n\t\t\t\t\toverflow: auto;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<slot></slot>\n\n\t",this.selected=null}}],n&&SA(e.prototype,n),s}(R);st("m-os-desktop",OA);const LA=OA;var kA,DA=n(9180),NA=new Uint8Array(16);function PA(){if(!kA&&!(kA="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kA(NA)}const jA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,FA=function(t){return"string"==typeof t&&jA.test(t)};for(var zA=[],BA=0;BA<256;++BA)zA.push((BA+256).toString(16).substr(1));const UA=function(t,e,n){var i=(t=t||{}).random||(t.rng||PA)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(zA[t[e+0]]+zA[t[e+1]]+zA[t[e+2]]+zA[t[e+3]]+"-"+zA[t[e+4]]+zA[t[e+5]]+"-"+zA[t[e+6]]+zA[t[e+7]]+"-"+zA[t[e+8]]+zA[t[e+9]]+"-"+zA[t[e+10]]+zA[t[e+11]]+zA[t[e+12]]+zA[t[e+13]]+zA[t[e+14]]+zA[t[e+15]]).toLowerCase();if(!FA(n))throw TypeError("Stringified UUID is invalid");return n}(i)};function HA(t){return HA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HA(t)}function GA(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function WA(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function VA(t,e){if(e&&("object"===HA(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ZA(t)}function ZA(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YA(t){var e="function"==typeof Map?new Map:void 0;return YA=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return XA(t,arguments,qA(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),KA(n,t)},YA(t)}function XA(t,e,n){return XA=JA()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&KA(r,n.prototype),r},XA.apply(null,arguments)}function JA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function KA(t,e){return KA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},KA(t,e)}function qA(t){return qA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qA(t)}var QA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KA(t,e)}(a,t);var e,n,i,r,o,s=(e=a,n=JA(),function(){var t,i=qA(e);if(n){var r=qA(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return VA(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var e=ZA(t=s.call(this));return t.uid=UA(),t.shadow=t.attachShadow({mode:"open"}),t.isMoving=!1,t.lastTop=t.lastLeft=t.lastWidth=t.lastHeight=null,t.index=900,e=ZA(t),t.resizeObserver=new ResizeObserver((function(){"resize"in e.eventHub&&"function"==typeof e.eventHub.resize&&e.eventHub.resize({width:parseInt(e.style.width.replace("px","")),height:parseInt(e.style.height.replace("px",""))})})),t.resizeObserver.observe(ZA(t)),t.eventHub={},t}return i=a,r=[{key:"on",value:function(t,e){this.eventHub[t]=e}},{key:"mouseUp",value:function(){this.isMoving=!1}},{key:"mouseDown",value:function(){this.isMoving=!0}},{key:"maximize",value:function(){if(null!==this.lastTop)this.style.top=this.lastTop+"px",this.style.left=this.lastLeft+"px",this.style.width=this.lastWidth+"px",this.style.height=this.lastHeight+"px",this.lastTop=this.lastLeft=this.lastWidth=this.lastHeight=null,this.fixed=!1;else{var t=this.getBoundingClientRect();this.lastTop=t.top,this.lastLeft=t.left,this.lastWidth=t.width,this.lastHeight=t.height,this.style.top=0,this.style.left=0,this.style.width=innerWidth+"px",this.style.height=innerHeight+"px",this.fixed=!0}this.topBar.style.backgroundColor="#0FA"}},{key:"toLeftHalf",value:function(){if(!this.fixed){var t=this.getBoundingClientRect();this.lastTop=t.top,this.lastLeft=t.left,this.lastWidth=t.width,this.lastHeight=t.height}this.style.top=0,this.style.left=0,this.style.width=innerWidth/2-3+"px",this.style.height=innerHeight+"px",this.fixed=!0,this.topBar.style.backgroundColor="#0FA"}},{key:"toRightHalf",value:function(){if(!this.fixed){var t=this.getBoundingClientRect();this.lastTop=t.top,this.lastLeft=t.left,this.lastWidth=t.width,this.lastHeight=t.height}this.style.top="0px",this.style.left=innerWidth/2+3+"px",this.style.width=innerWidth/2-3+"px",this.style.height=innerHeight+"px",this.fixed=!0,this.topBar.style.backgroundColor="#0FA"}},{key:"minimize",value:function(){var t=this,e=document.createElement("input");e.setAttribute("type","button"),e.setAttribute("value",this.title||this.name||"noname"),e.style.backgroundColor="#0A3",e.style.color="#EEE",this.style.display="none",this.parentNode.querySelector("m-os-bar").appendChild(e),e.onclick=function(){e.remove(),t.style.display="block",t.bringFront()}}},{key:"process",get:function(){return this._process||null},set:function(t){this._process=t}},{key:"close",value:function(){this.parentNode.parentNode.querySelector("m-os-desktop").EventHub,this.resizeObserver=null;var t=this.process;L(t),this.remove()}},{key:"bringFront",value:function(){if(null!=this.parentNode){var t,e=0,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return GA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GA(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(this.parentNode.querySelectorAll("m-os-window"));try{for(n.s();!(t=n.n()).done;){var i=t.value;e<i.style.zIndex&&(e=i.style.zIndex),i.style.zIndex-=1,i.topBar.style.backgroundColor="#AAA"}}catch(t){n.e(t)}finally{n.f()}this.topBar.style.backgroundColor="#0FA",this.style.zIndex=e||999,this.parentNode.currentWindow=this}}},{key:"name",get:function(){return this.hasAttribute("name")?this.getAttribute("name"):null},set:function(t){t?this.setAttribute("name",t):this.removeAttribute("name")}},{key:"title",get:function(){return this.hasAttribute("title")?this.getAttribute("title"):null},set:function(t){t?this.setAttribute("title",t):this.removeAttribute("title")}},{key:"fixed",get:function(){return this.hasAttribute("fixed")?this.getAttribute("fixed"):null},set:function(t){t?this.setAttribute("fixed",t):this.removeAttribute("fixed")}},{key:"attributeChangedCallback",value:function(t,e,n){this.render()}},{key:"connectedCallback",value:function(){var t=this.parentNode.querySelectorAll("m-os-window").length||1;this.top=.2*innerHeight*t/5,this.left=.1*innerWidth*t/5,this.render()}},{key:"render",value:function(){var t=this;this.shadow.innerHTML="\n            <style>\n            :host {all:inherit;}\n\t\t\t:host{\n\t\t\t\tposition: fixed;\n\t\t\t\ttop: ".concat(this.top,"px;\n\t\t\t\tleft: ").concat(this.left,"px;\n\t\t\t\tz-index: ").concat(this.index,";\n\t\t\t\tmin-width: 400px;\n\t\t\t\tmin-height: 250px;\n\t\t\t\tbackground-color: white;\n\t\t\t\tdisplay: none;\n\t\t\t\tborder: solid 1px #666;\n\t\t\t    box-shadow: 3px 3px 3px;\n\t\t\t\tresize: both;\n\t\t\t\toverflow: auto;\n                border-radius: 6px;\n\n\t\t\t}\n            #leftButtons {\n                position: absolute;\n                left: 1px;\n                top : 1px;\n            }\n\t\t\t#window{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-flow: column;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t\t#top{\n\t\t\t\tflex: 0 1 auto;\n\t\t\t\twidth: 100%;\n\t\t\t\ttext-align: center;\n\t\t\t\tbackground-color: #777;  \n\t\t\t\tcursor: move;\n\t\t\t\tposition: relative;\n\t\t\t}\n\t\t\t#top > div > button {\n\t\t\t\theight: 25px;\n\t\t\t}\n\t\t\t#winTitle{\n\t\t\t\tline-height: 25px;\n\t\t\t\tcursor: inherit;\n\t\t\t}\n\t\t\t#content{\n\t\t\t\tflex: 1 1 auto;\n\t\t\t\toverflow: auto;\n\t\t\t\tposition: relative;\n\t\t\t\tmin-height: 205px;\n\t\t\t}\n\t\t\t#border{\n\t\t\t\theight: 10px;\n\t\t\t\tflex: 0 0 auto;\n            }")+DA.Z.toString()+" \n           g </style>\n  \t";var e=document.createElement("div");e.id="window",e.style.maxHeight="800px",e.style.overflowY="auto",this.addEventListener("click",(function(){t.bringFront()}));var n=this,i=document.createElement("div");i.setAttribute("style","height:28px"),i.part="top",i.id="top",i.addEventListener("mousedown",(function(){n.bringFront(),t.mouseDown()})),i.addEventListener("mouseup",(function(){t.mouseUp()})),i.addEventListener("touchstart",(function(){t.mouseDown()})),i.addEventListener("touchend",(function(){t.mouseUp()})),this.topBar=i;var r=document.createElement("div");r.id="winTitle",r.innerText=this.title;var o=document.createElement("ul");o.className="controls";var s=document.createElement("li");s.className="save",s.addEventListener("click",(function(){var t=prompt("Panel Name:");null!==t&&n.parentNode.parentNode.panelDb.setItem(t,JSON.stringify(n.getState()))}));var a=document.createElement("li");a.className="maximise",a.addEventListener("click",(function(){t.maximize()}));var g=document.createElement("li");g.className="minimise",g.addEventListener("click",(function(){t.minimize()}));var A=document.createElement("li");A.className="close",A.addEventListener("click",(function(){t.close()})),o.appendChild(s),o.appendChild(a),o.appendChild(g),o.appendChild(A),i.appendChild(r),i.appendChild(o);var C=document.createElement("div");C.id="content";var I=document.createElement("slot");C.appendChild(I);var c=document.createElement("div");c.id="border",e.appendChild(i),e.appendChild(C),e.appendChild(c),this.shadow.appendChild(e)}}],o=[{key:"observedAttributes",get:function(){return["name","title","fixed"]}}],r&&WA(i.prototype,r),o&&WA(i,o),a}(YA(HTMLElement));st("m-os-window",QA);const $A=QA;function tC(t){return tC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tC(t)}function eC(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function nC(t,e){if(e&&("object"===tC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function iC(t){var e="function"==typeof Map?new Map:void 0;return iC=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return rC(t,arguments,aC(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),sC(n,t)},iC(t)}function rC(t,e,n){return rC=oC()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&sC(r,n.prototype),r},rC.apply(null,arguments)}function oC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function sC(t,e){return sC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},sC(t,e)}function aC(t){return aC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},aC(t)}var gC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sC(t,e)}(a,t);var e,n,i,r,o,s=(e=a,n=oC(),function(){var t,i=aC(e);if(n){var r=aC(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return nC(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this)).shadow=t.attachShadow({mode:"open"}),t}return i=a,o=[{key:"observedAttributes",get:function(){return["position"]}}],(r=[{key:"attributeChangedCallback",value:function(t,e,n){this.render()}},{key:"connectedCallback",value:function(){this.render()}},{key:"position",get:function(){return this.hasAttribute("position")?this.getAttribute("position"):"bottom"},set:function(t){!t||"top"!==t&&"bottom"!==t?this.removeAttribute("position"):this.setAttribute("position",t)}},{key:"render",value:function(){this.shadow.innerHTML="\n\t\t\t<style>\n\t\t\t\t:host{\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\t".concat(this.position,": 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tz-index: 1000;\n\t\t\t\t\tbackground-color: #AAA;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 30px;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: flex-start;\n\t\t\t\t\tbox-shadow: 0px 0px 5px black;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\tpadding-left: 10px;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<slot></slot>\n\t\t")}}])&&eC(i.prototype,r),o&&eC(i,o),a}(iC(HTMLElement));st("m-os-bar",gC);const AC=gC;function CC(t){return CC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CC(t)}function IC(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function cC(t,e){if(e&&("object"===CC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function lC(t){var e="function"==typeof Map?new Map:void 0;return lC=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return uC(t,arguments,fC(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),dC(n,t)},lC(t)}function uC(t,e,n){return uC=hC()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&dC(r,n.prototype),r},uC.apply(null,arguments)}function hC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function dC(t,e){return dC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},dC(t,e)}function fC(t){return fC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fC(t)}var pC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dC(t,e)}(a,t);var e,n,i,r,o,s=(e=a,n=hC(),function(){var t,i=fC(e);if(n){var r=fC(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return cC(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=s.call(this)).shadow=e.attachShadow({mode:"open"}),e.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation(),e.visible=!e.visible,"function"==typeof t&&e.visible&&t()})),e}return i=a,o=[{key:"observedAttributes",get:function(){return["name","visible"]}}],(r=[{key:"attributeChangedCallback",value:function(t,e,n){this.render()}},{key:"connectedCallback",value:function(){for(this.bar=this.parentNode;"M-OS-BAR"!==this.bar.tagName;)this.bar=this.bar.parentNode;this.render()}},{key:"visible",get:function(){return!!this.hasAttribute("visible")},set:function(t){t?this.setAttribute("visible",!0):this.removeAttribute("visible")}},{key:"name",get:function(){return this.hasAttribute("name")?this.getAttribute("name"):null},set:function(t){t?this.setAttribute("name",t):this.removeAttribute("name")}},{key:"render",value:function(){this.shadow.innerHTML="\n\t\t\t<style>\n\t\t\t\t:host{\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\tcursor: default;\n\t\t\t\t}\n\t\t\t\t#menu{\n\t\t\t\t\tdisplay: "+(this.visible?"block":"none")+";\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\t"+(this.bar?this.bar.position:"bottom")+": 33px;\n\t\t\t\t\tbackground-color: #FFF;\n\t\t\t\t\tpadding: 1em;\n\t\t\t\t\tborder: solid 1px black;\n\t\t\t\t\tborder-"+(this.bar?this.bar.position:"bottom")+': 0;\n                    border-radius: 6pa;\n\t\t\t\t}\n\t\t\t\t#title:hover{\n\t\t\t\t\tcolor: gray;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<div>\n\t\t\t\t<div id="title" part="title">'.concat(this.name,'</div>\n\t\t\t\t<div id="menu" part="window"><slot></slot></div>\n\t\t\t</div>\n\t\t')}}])&&IC(i.prototype,r),o&&IC(i,o),a}(lC(HTMLElement));st("m-os-menu",pC);const mC=pC;function vC(t){return vC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vC(t)}function yC(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function bC(t,e){if(e&&("object"===vC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _C(t){var e="function"==typeof Map?new Map:void 0;return _C=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return wC(t,arguments,EC(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),SC(n,t)},_C(t)}function wC(t,e,n){return wC=xC()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&SC(r,n.prototype),r},wC.apply(null,arguments)}function xC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function SC(t,e){return SC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},SC(t,e)}function EC(t){return EC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},EC(t)}var MC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&SC(t,e)}(a,t);var e,n,i,r,o,s=(e=a,n=xC(),function(){var t,i=EC(e);if(n){var r=EC(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return bC(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this)).shadow=t.attachShadow({mode:"open"}),t}return i=a,r=[{key:"connectedCallback",value:function(){var t=this,e=this;this.render(),this.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation();var i=t.parentNode;do{i=i.parentNode}while("m-os-desktop"!==i.localName);var r=new $A;r.style="display:block";var o=new K(r,{}),s=JSON.parse(JSON.stringify(i.packages.Get(e.name).initState));i.appendChild(r),r.bringFront();var a=r.getBoundingClientRect();o.width=a.width-5,o.height=a.height-40;var g=i.packages.Get(e.name).render(i.core,{})(o,s);r.process=g,r.title=e.name,r.getState=o.getState,r.state=o.state,s.componentName=e.name,r.on("resize",(function(t){o.height=t.height-40,o.width=t.width-5,o.emit("resize")}))}))}},{key:"disconnectedCallback",value:function(){}},{key:"render",value:function(){this.shadow.innerHTML="\n\t\t\t<style>\n\t\t\t\t:host{\n\t\t\t\t\tdisplay:block;\n\t\t\t\t\tbackground-color: inherit;\n\t\t\t\t}\n\t\t\t\tdiv:hover{\n\t\t\t\t\tbackground-color: #777;\n\t\t\t\t\tcolor: #FFF;\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<div><slot></slot></div>\n\t\t";var t=document.createTextNode(this.name);this.appendChild(t)}}],o=[{key:"observedAttributes",get:function(){return[]}}],r&&yC(i.prototype,r),o&&yC(i,o),a}(_C(HTMLElement));st("m-os-startmenu-item",MC);const TC=MC;function RC(t){return RC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RC(t)}function OC(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function LC(t,e){if(e&&("object"===RC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function kC(t){var e="function"==typeof Map?new Map:void 0;return kC=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return DC(t,arguments,jC(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),PC(n,t)},kC(t)}function DC(t,e,n){return DC=NC()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&PC(r,n.prototype),r},DC.apply(null,arguments)}function NC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function PC(t,e){return PC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},PC(t,e)}function jC(t){return jC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jC(t)}var FC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PC(t,e)}(a,t);var e,n,i,r,o,s=(e=a,n=NC(),function(){var t,i=jC(e);if(n){var r=jC(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return LC(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this)).shadow=t.attachShadow({mode:"open"}),t}return i=a,r=[{key:"attributeChangedCallback",value:function(t,e,n){this.render()}},{key:"connectedCallback",value:function(){this.render()}},{key:"packages",get:function(){return this._pkgs},set:function(t){this._pkgs=t}},{key:"render",value:function(){this.shadow.innerHTML="\n\t\t<style>\n\t\t\t:host{\n            all:inherit;\n            border-radius: 6px;\n\t\t\t}\n\t\t</style>\n\t\t<slot></slot>\n\t";var t=new mC;t.name="Start";var e=document.createElement("div");e.innerHTML="M-OS",e.style.backgroundColor="#388",e.style.color="#FFD";var n=document.createElement("hr");t.appendChild(e),t.appendChild(n),t.style.minWidth="130px",this.packages.ListKeys().forEach((function(e){var n=new TC;n.name=e,t.appendChild(n)})),this.appendChild(t);var i=document.createElement("span");i.innerHTML="|",this.appendChild(i)}}],o=[{key:"observedAttributes",get:function(){return[]}}],r&&OC(i.prototype,r),o&&OC(i,o),a}(kC(HTMLElement));st("m-os-startmenu",FC);const zC=FC;function BC(t){return BC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BC(t)}function UC(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function HC(t,e){if(e&&("object"===BC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function GC(t){var e="function"==typeof Map?new Map:void 0;return GC=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return WC(t,arguments,YC(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ZC(n,t)},GC(t)}function WC(t,e,n){return WC=VC()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&ZC(r,n.prototype),r},WC.apply(null,arguments)}function VC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ZC(t,e){return ZC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ZC(t,e)}function YC(t){return YC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},YC(t)}var XC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZC(t,e)}(a,t);var e,n,i,r,o,s=(e=a,n=VC(),function(){var t,i=YC(e);if(n){var r=YC(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return HC(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=s.call(this)).shadow=e.attachShadow({mode:"open"}),e.panelDb=t,e}return i=a,r=[{key:"attributeChangedCallback",value:function(t,e,n){this.render()}},{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){var t=this,e=this;this.shadow.innerHTML="\n\t\t<style>\n\t\t\t:host{\n            all:inherit;\n            border-radius: 6px;\n\t\t\t}\n\t\t</style>\n\t\t<slot></slot>\n\t";var n=new mC((function(n){r.innerHTML="";var i=t.panelDb;i.keys().then((function(t){t.forEach((function(t){var n=document.createElement("div");n.innerHTML=t,n.onmouseover=function(){n.style.backgroundColor="#777",n.style.color="#FFF"},n.onmouseout=function(){n.style.backgroundColor=null,n.style.color=null},r.appendChild(n),n.onclick=function(n){n.preventDefault(),n.stopPropagation(),i.getItem(t).then((function(t){var n=JSON.parse(t),i=e.parentNode;do{i=i.parentNode}while("m-os-desktop"!==i.localName);var r=new $A;r.style="display:block";var o=new K(r,{});i.appendChild(r),r.bringFront();var s=r.getBoundingClientRect();o.width=s.width-5,o.height=s.height-40;var a=i.packages.Get(n.componentName).render(i.core,{})(o,n);r.process=a,r.title=n.componentName,r.state=n,r.getState=o.getState,r.on("resize",(function(t){o.height=t.height-40,o.width=t.width-5,o.emit("resize")}))})).catch((function(t){console.warn(t)}))}}))}))}));n.name="Panels";var i=document.createElement("div");i.innerHTML="Saved Panels",i.style.backgroundColor="#388",i.style.color="#FFD";var r=document.createElement("div");r.style.color="black";var o=document.createElement("hr");n.appendChild(i),n.appendChild(o),n.appendChild(r),n.style.minWidth="130px",this.appendChild(n)}}],o=[{key:"observedAttributes",get:function(){return[]}}],r&&UC(i.prototype,r),o&&UC(i,o),a}(GC(HTMLElement));st("m-os-panel-db-menu",XC);const JC=XC;var KC=n(6290),qC=n.n(KC);function QC(t){return QC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QC(t)}function $C(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function tI(t,e){return tI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tI(t,e)}function eI(t,e){if(e&&("object"===QC(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function nI(t){return nI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nI(t)}var iI=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tI(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nI(i);if(r){var n=nI(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return eI(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).namespace=t,e.shadow=e.attachShadow({mode:"open"}),e}return e=s,(n=[{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){this.shadow.innerHTML="\n\t\t<style>\n            :host {\n                all:initial\n            }\n\t\t</style>\n\t\t<slot></slot>\n\t";var t=this,e=new LA,n=new AC;console.log(t.namespace,"self.namespace");var i=qC().createInstance({name:t.namespace+"_paneldb"});t.panelDb=i;var r=new AC;r.position="top",r.style.backgroundColor="#1E1114",r.style.color="#DEDAD3",r.style.zIndex=0,e.appendChild(r);var o=new JC(i);r.appendChild(o),e.packages=this.packages,e.core=this.core;var s=new zC;s.packages=this.packages,n.appendChild(s),e.appendChild(n),this.appendChild(e)}}])&&$C(e.prototype,n),s}(R);st("reflexiv-os-layout",iI);const rI=iI;function oI(t){return oI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oI(t)}function sI(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function aI(t,e){return aI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},aI(t,e)}function gI(t,e){if(e&&("object"===oI(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function AI(t){return AI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},AI(t)}var CI=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aI(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=AI(i);if(r){var n=AI(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return gI(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this)}return e=s,(n=[{key:"init",value:function(){}}])&&sI(e.prototype,n),s}(a),II=new CI;II.Register("docker",dA),II.Register("single",_A),II.Register("os",rI);const cI=II;function lI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uI(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var hI=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};lI(this,t),this.core=e,this.options=n,this.core.bridge=new Ke(n.namespace||e.namespace||"reflexiv",n)}var e,n;return e=t,(n=[{key:"provides",value:function(){return["@reflexiv/bridge"]}},{key:"init",value:function(){return console.log("bridge service init"),Promise.resolve()}},{key:"start",value:function(){console.log("bridge service start")}},{key:"destroy",value:function(){console.log("bridge service end"),this.core.bridge.close()}},{key:"close",value:function(){this.destroy()}}])&&uI(e.prototype,n),t}(),dI=n(7198);function fI(t){return fI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fI(t)}const pI=function t(e){if(Array.isArray(e))return e.map((function(e){return t(e)}));if("object"==fI(e)){var n={};for(var i in e)n[i]=t(e[i]);return n}return"string"==typeof e?0==e.length?e:isNaN(e)?"true"==e.toLowerCase()||"false"!=e.toLowerCase()&&e:-1!==e.indexOf(".")||-1!==e.indexOf("e")?parseFloat(e):parseInt(e):e};function mI(t){let e=t.length;for(;--e>=0;)t[e]=0}const vI=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),yI=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),bI=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),_I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wI=new Array(576);mI(wI);const xI=new Array(60);mI(xI);const SI=new Array(512);mI(SI);const EI=new Array(256);mI(EI);const MI=new Array(29);mI(MI);const TI=new Array(30);function RI(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}let OI,LI,kI;function DI(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}mI(TI);const NI=t=>t<256?SI[t]:SI[256+(t>>>7)],PI=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},jI=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,PI(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},FI=(t,e,n)=>{jI(t,n[2*e],n[2*e+1])},zI=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},BI=(t,e,n)=>{const i=new Array(16);let r,o,s=0;for(r=1;r<=15;r++)i[r]=s=s+n[r-1]<<1;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=zI(i[e]++,e))}},UI=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},HI=t=>{t.bi_valid>8?PI(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},GI=(t,e,n,i)=>{const r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]},WI=(t,e,n)=>{const i=t.heap[n];let r=n<<1;for(;r<=t.heap_len&&(r<t.heap_len&&GI(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!GI(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i},VI=(t,e,n)=>{let i,r,o,s,a=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],r=t.pending_buf[t.l_buf+a],a++,0===i?FI(t,r,e):(o=EI[r],FI(t,o+256+1,e),s=vI[o],0!==s&&(r-=MI[o],jI(t,r,s)),i--,o=NI(i),FI(t,o,n),s=yI[o],0!==s&&(i-=TI[o],jI(t,i,s)))}while(a<t.last_lit);FI(t,256,e)},ZI=(t,e)=>{const n=e.dyn_tree,i=e.stat_desc.static_tree,r=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,g,A=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)0!==n[2*s]?(t.heap[++t.heap_len]=A=s,t.depth[s]=0):n[2*s+1]=0;for(;t.heap_len<2;)g=t.heap[++t.heap_len]=A<2?++A:0,n[2*g]=1,t.depth[g]=0,t.opt_len--,r&&(t.static_len-=i[2*g+1]);for(e.max_code=A,s=t.heap_len>>1;s>=1;s--)WI(t,n,s);g=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],WI(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[2*g]=n[2*s]+n[2*a],t.depth[g]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[2*s+1]=n[2*a+1]=g,t.heap[1]=g++,WI(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,i=e.max_code,r=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,g=e.stat_desc.max_length;let A,C,I,c,l,u,h=0;for(c=0;c<=15;c++)t.bl_count[c]=0;for(n[2*t.heap[t.heap_max]+1]=0,A=t.heap_max+1;A<573;A++)C=t.heap[A],c=n[2*n[2*C+1]+1]+1,c>g&&(c=g,h++),n[2*C+1]=c,C>i||(t.bl_count[c]++,l=0,C>=a&&(l=s[C-a]),u=n[2*C],t.opt_len+=u*(c+l),o&&(t.static_len+=u*(r[2*C+1]+l)));if(0!==h){do{for(c=g-1;0===t.bl_count[c];)c--;t.bl_count[c]--,t.bl_count[c+1]+=2,t.bl_count[g]--,h-=2}while(h>0);for(c=g;0!==c;c--)for(C=t.bl_count[c];0!==C;)I=t.heap[--A],I>i||(n[2*I+1]!==c&&(t.opt_len+=(c-n[2*I+1])*n[2*I],n[2*I+1]=c),C--)}})(t,e),BI(n,A,t.bl_count)},YI=(t,e,n)=>{let i,r,o=-1,s=e[1],a=0,g=7,A=4;for(0===s&&(g=138,A=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=e[2*(i+1)+1],++a<g&&r===s||(a<A?t.bl_tree[2*r]+=a:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=r,0===s?(g=138,A=3):r===s?(g=6,A=3):(g=7,A=4))},XI=(t,e,n)=>{let i,r,o=-1,s=e[1],a=0,g=7,A=4;for(0===s&&(g=138,A=3),i=0;i<=n;i++)if(r=s,s=e[2*(i+1)+1],!(++a<g&&r===s)){if(a<A)do{FI(t,r,t.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(FI(t,r,t.bl_tree),a--),FI(t,16,t.bl_tree),jI(t,a-3,2)):a<=10?(FI(t,17,t.bl_tree),jI(t,a-3,3)):(FI(t,18,t.bl_tree),jI(t,a-11,7));a=0,o=r,0===s?(g=138,A=3):r===s?(g=6,A=3):(g=7,A=4)}};let JI=!1;const KI=(t,e,n,i)=>{jI(t,0+(i?1:0),3),((t,e,n,i)=>{HI(t),PI(t,n),PI(t,~n),t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n})(t,e,n)};var qI={_tr_init:t=>{JI||((()=>{let t,e,n,i,r;const o=new Array(16);for(n=0,i=0;i<28;i++)for(MI[i]=n,t=0;t<1<<vI[i];t++)EI[n++]=i;for(EI[n-1]=i,r=0,i=0;i<16;i++)for(TI[i]=r,t=0;t<1<<yI[i];t++)SI[r++]=i;for(r>>=7;i<30;i++)for(TI[i]=r<<7,t=0;t<1<<yI[i]-7;t++)SI[256+r++]=i;for(e=0;e<=15;e++)o[e]=0;for(t=0;t<=143;)wI[2*t+1]=8,t++,o[8]++;for(;t<=255;)wI[2*t+1]=9,t++,o[9]++;for(;t<=279;)wI[2*t+1]=7,t++,o[7]++;for(;t<=287;)wI[2*t+1]=8,t++,o[8]++;for(BI(wI,287,o),t=0;t<30;t++)xI[2*t+1]=5,xI[2*t]=zI(t,5);OI=new RI(wI,vI,257,286,15),LI=new RI(xI,yI,0,30,15),kI=new RI(new Array(0),bI,0,19,7)})(),JI=!0),t.l_desc=new DI(t.dyn_ltree,OI),t.d_desc=new DI(t.dyn_dtree,LI),t.bl_desc=new DI(t.bl_tree,kI),t.bi_buf=0,t.bi_valid=0,UI(t)},_tr_stored_block:KI,_tr_flush_block:(t,e,n,i)=>{let r,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),ZI(t,t.l_desc),ZI(t,t.d_desc),s=(t=>{let e;for(YI(t,t.dyn_ltree,t.l_desc.max_code),YI(t,t.dyn_dtree,t.d_desc.max_code),ZI(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*_I[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),r=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==e?KI(t,e,n,i):4===t.strategy||o===r?(jI(t,2+(i?1:0),3),VI(t,wI,xI)):(jI(t,4+(i?1:0),3),((t,e,n,i)=>{let r;for(jI(t,e-257,5),jI(t,n-1,5),jI(t,i-4,4),r=0;r<i;r++)jI(t,t.bl_tree[2*_I[r]+1],3);XI(t,t.dyn_ltree,e-1),XI(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),VI(t,t.dyn_ltree,t.dyn_dtree)),UI(t),i&&HI(t)},_tr_tally:(t,e,n)=>(t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(EI[n]+256+1)]++,t.dyn_dtree[2*NI(e)]++),t.last_lit===t.lit_bufsize-1),_tr_align:t=>{jI(t,2,3),FI(t,256,wI),(t=>{16===t.bi_valid?(PI(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},QI=(t,e,n,i)=>{let r=65535&t|0,o=t>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{r=r+e[i++]|0,o=o+r|0}while(--s);r%=65521,o%=65521}return r|o<<16|0};const $I=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var tc=(t,e,n,i)=>{const r=$I,o=i+n;t^=-1;for(let n=i;n<o;n++)t=t>>>8^r[255&(t^e[n])];return-1^t},ec={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},nc={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ic,_tr_stored_block:rc,_tr_flush_block:oc,_tr_tally:sc,_tr_align:ac}=qI,{Z_NO_FLUSH:gc,Z_PARTIAL_FLUSH:Ac,Z_FULL_FLUSH:Cc,Z_FINISH:Ic,Z_BLOCK:cc,Z_OK:lc,Z_STREAM_END:uc,Z_STREAM_ERROR:hc,Z_DATA_ERROR:dc,Z_BUF_ERROR:fc,Z_DEFAULT_COMPRESSION:pc,Z_FILTERED:mc,Z_HUFFMAN_ONLY:vc,Z_RLE:yc,Z_FIXED:bc,Z_DEFAULT_STRATEGY:_c,Z_UNKNOWN:wc,Z_DEFLATED:xc}=nc,Sc=258,Ec=262,Mc=103,Tc=113,Rc=666,Oc=(t,e)=>(t.msg=ec[e],e),Lc=t=>(t<<1)-(t>4?9:0),kc=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let Dc=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const Nc=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},Pc=(t,e)=>{oc(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Nc(t.strm)},jc=(t,e)=>{t.pending_buf[t.pending++]=e},Fc=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},zc=(t,e,n,i)=>{let r=t.avail_in;return r>i&&(r=i),0===r?0:(t.avail_in-=r,e.set(t.input.subarray(t.next_in,t.next_in+r),n),1===t.state.wrap?t.adler=QI(t.adler,e,r,n):2===t.state.wrap&&(t.adler=tc(t.adler,e,r,n)),t.next_in+=r,t.total_in+=r,r)},Bc=(t,e)=>{let n,i,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match;const g=t.strstart>t.w_size-Ec?t.strstart-(t.w_size-Ec):0,A=t.window,C=t.w_mask,I=t.prev,c=t.strstart+Sc;let l=A[o+s-1],u=A[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(n=e,A[n+s]===u&&A[n+s-1]===l&&A[n]===A[o]&&A[++n]===A[o+1]){o+=2,n++;do{}while(A[++o]===A[++n]&&A[++o]===A[++n]&&A[++o]===A[++n]&&A[++o]===A[++n]&&A[++o]===A[++n]&&A[++o]===A[++n]&&A[++o]===A[++n]&&A[++o]===A[++n]&&o<c);if(i=Sc-(c-o),o=c-Sc,i>s){if(t.match_start=e,s=i,i>=a)break;l=A[o+s-1],u=A[o+s]}}}while((e=I[e&C])>g&&0!=--r);return s<=t.lookahead?s:t.lookahead},Uc=t=>{const e=t.w_size;let n,i,r,o,s;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Ec)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,i=t.hash_size,n=i;do{r=t.head[--n],t.head[n]=r>=e?r-e:0}while(--i);i=e,n=i;do{r=t.prev[--n],t.prev[n]=r>=e?r-e:0}while(--i);o+=e}if(0===t.strm.avail_in)break;if(i=zc(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=i,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=Dc(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=Dc(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Ec&&0!==t.strm.avail_in)},Hc=(t,e)=>{let n,i;for(;;){if(t.lookahead<Ec){if(Uc(t),t.lookahead<Ec&&e===gc)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=Dc(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-Ec&&(t.match_length=Bc(t,n)),t.match_length>=3)if(i=sc(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Dc(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Dc(t,t.ins_h,t.window[t.strstart+1]);else i=sc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(Pc(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Ic?(Pc(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pc(t,!1),0===t.strm.avail_out)?1:2},Gc=(t,e)=>{let n,i,r;for(;;){if(t.lookahead<Ec){if(Uc(t),t.lookahead<Ec&&e===gc)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=Dc(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Ec&&(t.match_length=Bc(t,n),t.match_length<=5&&(t.strategy===mc||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,i=sc(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=Dc(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(Pc(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(i=sc(t,0,t.window[t.strstart-1]),i&&Pc(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=sc(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Ic?(Pc(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pc(t,!1),0===t.strm.avail_out)?1:2};function Wc(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}const Vc=[new Wc(0,0,0,0,((t,e)=>{let n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Uc(t),0===t.lookahead&&e===gc)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,Pc(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-Ec&&(Pc(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Ic?(Pc(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Pc(t,!1),t.strm.avail_out),1)})),new Wc(4,4,8,4,Hc),new Wc(4,5,16,8,Hc),new Wc(4,6,32,32,Hc),new Wc(4,4,16,16,Gc),new Wc(8,16,32,32,Gc),new Wc(8,16,128,128,Gc),new Wc(8,32,128,256,Gc),new Wc(32,128,258,1024,Gc),new Wc(32,258,258,4096,Gc)];function Zc(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=xc,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),kc(this.dyn_ltree),kc(this.dyn_dtree),kc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),kc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),kc(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Yc=t=>{if(!t||!t.state)return Oc(t,hc);t.total_in=t.total_out=0,t.data_type=wc;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:Tc,t.adler=2===e.wrap?0:1,e.last_flush=gc,ic(e),lc},Xc=t=>{const e=Yc(t);var n;return e===lc&&((n=t.state).window_size=2*n.w_size,kc(n.head),n.max_lazy_match=Vc[n.level].max_lazy,n.good_match=Vc[n.level].good_length,n.nice_match=Vc[n.level].nice_length,n.max_chain_length=Vc[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),e},Jc=(t,e,n,i,r,o)=>{if(!t)return hc;let s=1;if(e===pc&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>9||n!==xc||i<8||i>15||e<0||e>9||o<0||o>bc)return Oc(t,hc);8===i&&(i=9);const a=new Zc;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=o,a.method=n,Xc(t)};var Kc=Jc,qc=(t,e)=>t&&t.state?2!==t.state.wrap?hc:(t.state.gzhead=e,lc):hc,Qc=(t,e)=>{let n,i;if(!t||!t.state||e>cc||e<0)return t?Oc(t,hc):hc;const r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===Rc&&e!==Ic)return Oc(t,0===t.avail_out?fc:hc);r.strm=t;const o=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,jc(r,31),jc(r,139),jc(r,8),r.gzhead?(jc(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),jc(r,255&r.gzhead.time),jc(r,r.gzhead.time>>8&255),jc(r,r.gzhead.time>>16&255),jc(r,r.gzhead.time>>24&255),jc(r,9===r.level?2:r.strategy>=vc||r.level<2?4:0),jc(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(jc(r,255&r.gzhead.extra.length),jc(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=tc(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(jc(r,0),jc(r,0),jc(r,0),jc(r,0),jc(r,0),jc(r,9===r.level?2:r.strategy>=vc||r.level<2?4:0),jc(r,3),r.status=Tc);else{let e=xc+(r.w_bits-8<<4)<<8,n=-1;n=r.strategy>=vc||r.level<2?0:r.level<6?1:6===r.level?2:3,e|=n<<6,0!==r.strstart&&(e|=32),e+=31-e%31,r.status=Tc,Fc(r,e),0!==r.strstart&&(Fc(r,t.adler>>>16),Fc(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>n&&(t.adler=tc(t.adler,r.pending_buf,r.pending-n,n)),Nc(t),n=r.pending,r.pending!==r.pending_buf_size));)jc(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(t.adler=tc(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(t.adler=tc(t.adler,r.pending_buf,r.pending-n,n)),Nc(t),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,jc(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(t.adler=tc(t.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(t.adler=tc(t.adler,r.pending_buf,r.pending-n,n)),Nc(t),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,jc(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(t.adler=tc(t.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.status=Mc)}else r.status=Mc;if(r.status===Mc&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Nc(t),r.pending+2<=r.pending_buf_size&&(jc(r,255&t.adler),jc(r,t.adler>>8&255),t.adler=0,r.status=Tc)):r.status=Tc),0!==r.pending){if(Nc(t),0===t.avail_out)return r.last_flush=-1,lc}else if(0===t.avail_in&&Lc(e)<=Lc(o)&&e!==Ic)return Oc(t,fc);if(r.status===Rc&&0!==t.avail_in)return Oc(t,fc);if(0!==t.avail_in||0!==r.lookahead||e!==gc&&r.status!==Rc){let n=r.strategy===vc?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(Uc(t),0===t.lookahead)){if(e===gc)return 1;break}if(t.match_length=0,n=sc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Pc(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Ic?(Pc(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pc(t,!1),0===t.strm.avail_out)?1:2})(r,e):r.strategy===yc?((t,e)=>{let n,i,r,o;const s=t.window;for(;;){if(t.lookahead<=Sc){if(Uc(t),t.lookahead<=Sc&&e===gc)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=t.strstart-1,i=s[r],i===s[++r]&&i===s[++r]&&i===s[++r])){o=t.strstart+Sc;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);t.match_length=Sc-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=sc(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=sc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Pc(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Ic?(Pc(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Pc(t,!1),0===t.strm.avail_out)?1:2})(r,e):Vc[r.level].func(r,e);if(3!==n&&4!==n||(r.status=Rc),1===n||3===n)return 0===t.avail_out&&(r.last_flush=-1),lc;if(2===n&&(e===Ac?ac(r):e!==cc&&(rc(r,0,0,!1),e===Cc&&(kc(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Nc(t),0===t.avail_out))return r.last_flush=-1,lc}return e!==Ic?lc:r.wrap<=0?uc:(2===r.wrap?(jc(r,255&t.adler),jc(r,t.adler>>8&255),jc(r,t.adler>>16&255),jc(r,t.adler>>24&255),jc(r,255&t.total_in),jc(r,t.total_in>>8&255),jc(r,t.total_in>>16&255),jc(r,t.total_in>>24&255)):(Fc(r,t.adler>>>16),Fc(r,65535&t.adler)),Nc(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?lc:uc)},$c=t=>{if(!t||!t.state)return hc;const e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==Mc&&e!==Tc&&e!==Rc?Oc(t,hc):(t.state=null,e===Tc?Oc(t,dc):lc)},tl=(t,e)=>{let n=e.length;if(!t||!t.state)return hc;const i=t.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return hc;if(1===r&&(t.adler=QI(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){0===r&&(kc(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(n-i.w_size,n),0),e=t,n=i.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Uc(i);i.lookahead>=3;){let t=i.strstart,e=i.lookahead-2;do{i.ins_h=Dc(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--e);i.strstart=t,i.lookahead=2,Uc(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,i.wrap=r,lc};const el=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var nl=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const e in n)el(n,e)&&(t[e]=n[e])}}return t},il=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const n=new Uint8Array(e);for(let e=0,i=0,r=t.length;e<r;e++){let r=t[e];n.set(r,i),i+=r.length}return n};let rl=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){rl=!1}const ol=new Uint8Array(256);for(let t=0;t<256;t++)ol[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ol[254]=ol[254]=1;var sl=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,i,r,o,s=t.length,a=0;for(r=0;r<s;r++)n=t.charCodeAt(r),55296==(64512&n)&&r+1<s&&(i=t.charCodeAt(r+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,r=0;o<a;r++)n=t.charCodeAt(r),55296==(64512&n)&&r+1<s&&(i=t.charCodeAt(r+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},al=(t,e)=>{const n=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let i,r;const o=new Array(2*n);for(r=0,i=0;i<n;){let e=t[i++];if(e<128){o[r++]=e;continue}let s=ol[e];if(s>4)o[r++]=65533,i+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&i<n;)e=e<<6|63&t[i++],s--;s>1?o[r++]=65533:e<65536?o[r++]=e:(e-=65536,o[r++]=55296|e>>10&1023,o[r++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&rl)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n})(o,r)},gl=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+ol[t[n]]>e?n:e},Al=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Cl=Object.prototype.toString,{Z_NO_FLUSH:Il,Z_SYNC_FLUSH:cl,Z_FULL_FLUSH:ll,Z_FINISH:ul,Z_OK:hl,Z_STREAM_END:dl,Z_DEFAULT_COMPRESSION:fl,Z_DEFAULT_STRATEGY:pl,Z_DEFLATED:ml}=nc;function vl(t){this.options=nl({level:fl,method:ml,chunkSize:16384,windowBits:15,memLevel:8,strategy:pl},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Al,this.strm.avail_out=0;let n=Kc(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==hl)throw new Error(ec[n]);if(e.header&&qc(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?sl(e.dictionary):"[object ArrayBuffer]"===Cl.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=tl(this.strm,t),n!==hl)throw new Error(ec[n]);this._dict_set=!0}}function yl(t,e){const n=new vl(e);if(n.push(t,!0),n.err)throw n.msg||ec[n.err];return n.result}vl.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize;let r,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?ul:Il,"string"==typeof t?n.input=sl(t):"[object ArrayBuffer]"===Cl.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(o===cl||o===ll)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(r=Qc(n,o),r===dl)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=$c(this.strm),this.onEnd(r),this.ended=!0,r===hl;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},vl.prototype.onData=function(t){this.chunks.push(t)},vl.prototype.onEnd=function(t){t===hl&&(this.result=il(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var bl={Deflate:vl,deflate:yl,deflateRaw:function(t,e){return(e=e||{}).raw=!0,yl(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,yl(t,e)},constants:nc},_l=function(t,e){let n,i,r,o,s,a,g,A,C,I,c,l,u,h,d,f,p,m,v,y,b,_,w,x;const S=t.state;n=t.next_in,w=t.input,i=n+(t.avail_in-5),r=t.next_out,x=t.output,o=r-(e-t.avail_out),s=r+(t.avail_out-257),a=S.dmax,g=S.wsize,A=S.whave,C=S.wnext,I=S.window,c=S.hold,l=S.bits,u=S.lencode,h=S.distcode,d=(1<<S.lenbits)-1,f=(1<<S.distbits)-1;t:do{l<15&&(c+=w[n++]<<l,l+=8,c+=w[n++]<<l,l+=8),p=u[c&d];e:for(;;){if(m=p>>>24,c>>>=m,l-=m,m=p>>>16&255,0===m)x[r++]=65535&p;else{if(!(16&m)){if(0==(64&m)){p=u[(65535&p)+(c&(1<<m)-1)];continue e}if(32&m){S.mode=12;break t}t.msg="invalid literal/length code",S.mode=30;break t}v=65535&p,m&=15,m&&(l<m&&(c+=w[n++]<<l,l+=8),v+=c&(1<<m)-1,c>>>=m,l-=m),l<15&&(c+=w[n++]<<l,l+=8,c+=w[n++]<<l,l+=8),p=h[c&f];n:for(;;){if(m=p>>>24,c>>>=m,l-=m,m=p>>>16&255,!(16&m)){if(0==(64&m)){p=h[(65535&p)+(c&(1<<m)-1)];continue n}t.msg="invalid distance code",S.mode=30;break t}if(y=65535&p,m&=15,l<m&&(c+=w[n++]<<l,l+=8,l<m&&(c+=w[n++]<<l,l+=8)),y+=c&(1<<m)-1,y>a){t.msg="invalid distance too far back",S.mode=30;break t}if(c>>>=m,l-=m,m=r-o,y>m){if(m=y-m,m>A&&S.sane){t.msg="invalid distance too far back",S.mode=30;break t}if(b=0,_=I,0===C){if(b+=g-m,m<v){v-=m;do{x[r++]=I[b++]}while(--m);b=r-y,_=x}}else if(C<m){if(b+=g+C-m,m-=C,m<v){v-=m;do{x[r++]=I[b++]}while(--m);if(b=0,C<v){m=C,v-=m;do{x[r++]=I[b++]}while(--m);b=r-y,_=x}}}else if(b+=C-m,m<v){v-=m;do{x[r++]=I[b++]}while(--m);b=r-y,_=x}for(;v>2;)x[r++]=_[b++],x[r++]=_[b++],x[r++]=_[b++],v-=3;v&&(x[r++]=_[b++],v>1&&(x[r++]=_[b++]))}else{b=r-y;do{x[r++]=x[b++],x[r++]=x[b++],x[r++]=x[b++],v-=3}while(v>2);v&&(x[r++]=x[b++],v>1&&(x[r++]=x[b++]))}break}}break}}while(n<i&&r<s);v=l>>3,n-=v,l-=v<<3,c&=(1<<l)-1,t.next_in=n,t.next_out=r,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=r<s?s-r+257:257-(r-s),S.hold=c,S.bits=l};const wl=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),xl=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Sl=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),El=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Ml=(t,e,n,i,r,o,s,a)=>{const g=a.bits;let A,C,I,c,l,u,h=0,d=0,f=0,p=0,m=0,v=0,y=0,b=0,_=0,w=0,x=null,S=0;const E=new Uint16Array(16),M=new Uint16Array(16);let T,R,O,L=null,k=0;for(h=0;h<=15;h++)E[h]=0;for(d=0;d<i;d++)E[e[n+d]]++;for(m=g,p=15;p>=1&&0===E[p];p--);if(m>p&&(m=p),0===p)return r[o++]=20971520,r[o++]=20971520,a.bits=1,0;for(f=1;f<p&&0===E[f];f++);for(m<f&&(m=f),b=1,h=1;h<=15;h++)if(b<<=1,b-=E[h],b<0)return-1;if(b>0&&(0===t||1!==p))return-1;for(M[1]=0,h=1;h<15;h++)M[h+1]=M[h]+E[h];for(d=0;d<i;d++)0!==e[n+d]&&(s[M[e[n+d]]++]=d);if(0===t?(x=L=s,u=19):1===t?(x=wl,S-=257,L=xl,k-=257,u=256):(x=Sl,L=El,u=-1),w=0,d=0,h=f,l=o,v=m,y=0,I=-1,_=1<<m,c=_-1,1===t&&_>852||2===t&&_>592)return 1;for(;;){T=h-y,s[d]<u?(R=0,O=s[d]):s[d]>u?(R=L[k+s[d]],O=x[S+s[d]]):(R=96,O=0),A=1<<h-y,C=1<<v,f=C;do{C-=A,r[l+(w>>y)+C]=T<<24|R<<16|O|0}while(0!==C);for(A=1<<h-1;w&A;)A>>=1;if(0!==A?(w&=A-1,w+=A):w=0,d++,0==--E[h]){if(h===p)break;h=e[n+s[d]]}if(h>m&&(w&c)!==I){for(0===y&&(y=m),l+=f,v=h-y,b=1<<v;v+y<p&&(b-=E[v+y],!(b<=0));)v++,b<<=1;if(_+=1<<v,1===t&&_>852||2===t&&_>592)return 1;I=w&c,r[I]=m<<24|v<<16|l-o|0}}return 0!==w&&(r[l+w]=h-y<<24|64<<16|0),a.bits=m,0};const{Z_FINISH:Tl,Z_BLOCK:Rl,Z_TREES:Ol,Z_OK:Ll,Z_STREAM_END:kl,Z_NEED_DICT:Dl,Z_STREAM_ERROR:Nl,Z_DATA_ERROR:Pl,Z_MEM_ERROR:jl,Z_BUF_ERROR:Fl,Z_DEFLATED:zl}=nc,Bl=12,Ul=30,Hl=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Gl(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Wl=t=>{if(!t||!t.state)return Nl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Ll},Vl=t=>{if(!t||!t.state)return Nl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Wl(t)},Zl=(t,e)=>{let n;if(!t||!t.state)return Nl;const i=t.state;return e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Nl:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,Vl(t))},Yl=(t,e)=>{if(!t)return Nl;const n=new Gl;t.state=n,n.window=null;const i=Zl(t,e);return i!==Ll&&(t.state=null),i};let Xl,Jl,Kl=!0;const ql=t=>{if(Kl){Xl=new Int32Array(512),Jl=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ml(1,t.lens,0,288,Xl,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ml(2,t.lens,0,32,Jl,0,t.work,{bits:5}),Kl=!1}t.lencode=Xl,t.lenbits=9,t.distcode=Jl,t.distbits=5},Ql=(t,e,n,i)=>{let r;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),o.window.set(e.subarray(n-i,n-i+r),o.wnext),(i-=r)?(o.window.set(e.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0};var $l=Vl,tu=Yl,eu=(t,e)=>{let n,i,r,o,s,a,g,A,C,I,c,l,u,h,d,f,p,m,v,y,b,_,w=0;const x=new Uint8Array(4);let S,E;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return Nl;n=t.state,n.mode===Bl&&(n.mode=13),s=t.next_out,r=t.output,g=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,A=n.hold,C=n.bits,I=a,c=g,_=Ll;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;C<16;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}if(2&n.wrap&&35615===A){n.check=0,x[0]=255&A,x[1]=A>>>8&255,n.check=tc(n.check,x,2,0),A=0,C=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&A)<<8)+(A>>8))%31){t.msg="incorrect header check",n.mode=Ul;break}if((15&A)!==zl){t.msg="unknown compression method",n.mode=Ul;break}if(A>>>=4,C-=4,b=8+(15&A),0===n.wbits)n.wbits=b;else if(b>n.wbits){t.msg="invalid window size",n.mode=Ul;break}n.dmax=1<<n.wbits,t.adler=n.check=1,n.mode=512&A?10:Bl,A=0,C=0;break;case 2:for(;C<16;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}if(n.flags=A,(255&n.flags)!==zl){t.msg="unknown compression method",n.mode=Ul;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Ul;break}n.head&&(n.head.text=A>>8&1),512&n.flags&&(x[0]=255&A,x[1]=A>>>8&255,n.check=tc(n.check,x,2,0)),A=0,C=0,n.mode=3;case 3:for(;C<32;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}n.head&&(n.head.time=A),512&n.flags&&(x[0]=255&A,x[1]=A>>>8&255,x[2]=A>>>16&255,x[3]=A>>>24&255,n.check=tc(n.check,x,4,0)),A=0,C=0,n.mode=4;case 4:for(;C<16;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}n.head&&(n.head.xflags=255&A,n.head.os=A>>8),512&n.flags&&(x[0]=255&A,x[1]=A>>>8&255,n.check=tc(n.check,x,2,0)),A=0,C=0,n.mode=5;case 5:if(1024&n.flags){for(;C<16;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}n.length=A,n.head&&(n.head.extra_len=A),512&n.flags&&(x[0]=255&A,x[1]=A>>>8&255,n.check=tc(n.check,x,2,0)),A=0,C=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(l=n.length,l>a&&(l=a),l&&(n.head&&(b=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+l),b)),512&n.flags&&(n.check=tc(n.check,i,l,o)),a-=l,o+=l,n.length-=l),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===a)break t;l=0;do{b=i[o+l++],n.head&&b&&n.length<65536&&(n.head.name+=String.fromCharCode(b))}while(b&&l<a);if(512&n.flags&&(n.check=tc(n.check,i,l,o)),a-=l,o+=l,b)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===a)break t;l=0;do{b=i[o+l++],n.head&&b&&n.length<65536&&(n.head.comment+=String.fromCharCode(b))}while(b&&l<a);if(512&n.flags&&(n.check=tc(n.check,i,l,o)),a-=l,o+=l,b)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;C<16;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}if(A!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Ul;break}A=0,C=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Bl;break;case 10:for(;C<32;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}t.adler=n.check=Hl(A),A=0,C=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=s,t.avail_out=g,t.next_in=o,t.avail_in=a,n.hold=A,n.bits=C,Dl;t.adler=n.check=1,n.mode=Bl;case Bl:if(e===Rl||e===Ol)break t;case 13:if(n.last){A>>>=7&C,C-=7&C,n.mode=27;break}for(;C<3;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}switch(n.last=1&A,A>>>=1,C-=1,3&A){case 0:n.mode=14;break;case 1:if(ql(n),n.mode=20,e===Ol){A>>>=2,C-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=Ul}A>>>=2,C-=2;break;case 14:for(A>>>=7&C,C-=7&C;C<32;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}if((65535&A)!=(A>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Ul;break}if(n.length=65535&A,A=0,C=0,n.mode=15,e===Ol)break t;case 15:n.mode=16;case 16:if(l=n.length,l){if(l>a&&(l=a),l>g&&(l=g),0===l)break t;r.set(i.subarray(o,o+l),s),a-=l,o+=l,g-=l,s+=l,n.length-=l;break}n.mode=Bl;break;case 17:for(;C<14;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}if(n.nlen=257+(31&A),A>>>=5,C-=5,n.ndist=1+(31&A),A>>>=5,C-=5,n.ncode=4+(15&A),A>>>=4,C-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Ul;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;C<3;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}n.lens[M[n.have++]]=7&A,A>>>=3,C-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,S={bits:n.lenbits},_=Ml(0,n.lens,0,19,n.lencode,0,n.work,S),n.lenbits=S.bits,_){t.msg="invalid code lengths set",n.mode=Ul;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[A&(1<<n.lenbits)-1],d=w>>>24,f=w>>>16&255,p=65535&w,!(d<=C);){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}if(p<16)A>>>=d,C-=d,n.lens[n.have++]=p;else{if(16===p){for(E=d+2;C<E;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}if(A>>>=d,C-=d,0===n.have){t.msg="invalid bit length repeat",n.mode=Ul;break}b=n.lens[n.have-1],l=3+(3&A),A>>>=2,C-=2}else if(17===p){for(E=d+3;C<E;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}A>>>=d,C-=d,b=0,l=3+(7&A),A>>>=3,C-=3}else{for(E=d+7;C<E;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}A>>>=d,C-=d,b=0,l=11+(127&A),A>>>=7,C-=7}if(n.have+l>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Ul;break}for(;l--;)n.lens[n.have++]=b}}if(n.mode===Ul)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Ul;break}if(n.lenbits=9,S={bits:n.lenbits},_=Ml(1,n.lens,0,n.nlen,n.lencode,0,n.work,S),n.lenbits=S.bits,_){t.msg="invalid literal/lengths set",n.mode=Ul;break}if(n.distbits=6,n.distcode=n.distdyn,S={bits:n.distbits},_=Ml(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,S),n.distbits=S.bits,_){t.msg="invalid distances set",n.mode=Ul;break}if(n.mode=20,e===Ol)break t;case 20:n.mode=21;case 21:if(a>=6&&g>=258){t.next_out=s,t.avail_out=g,t.next_in=o,t.avail_in=a,n.hold=A,n.bits=C,_l(t,c),s=t.next_out,r=t.output,g=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,A=n.hold,C=n.bits,n.mode===Bl&&(n.back=-1);break}for(n.back=0;w=n.lencode[A&(1<<n.lenbits)-1],d=w>>>24,f=w>>>16&255,p=65535&w,!(d<=C);){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}if(f&&0==(240&f)){for(m=d,v=f,y=p;w=n.lencode[y+((A&(1<<m+v)-1)>>m)],d=w>>>24,f=w>>>16&255,p=65535&w,!(m+d<=C);){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}A>>>=m,C-=m,n.back+=m}if(A>>>=d,C-=d,n.back+=d,n.length=p,0===f){n.mode=26;break}if(32&f){n.back=-1,n.mode=Bl;break}if(64&f){t.msg="invalid literal/length code",n.mode=Ul;break}n.extra=15&f,n.mode=22;case 22:if(n.extra){for(E=n.extra;C<E;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}n.length+=A&(1<<n.extra)-1,A>>>=n.extra,C-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;w=n.distcode[A&(1<<n.distbits)-1],d=w>>>24,f=w>>>16&255,p=65535&w,!(d<=C);){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}if(0==(240&f)){for(m=d,v=f,y=p;w=n.distcode[y+((A&(1<<m+v)-1)>>m)],d=w>>>24,f=w>>>16&255,p=65535&w,!(m+d<=C);){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}A>>>=m,C-=m,n.back+=m}if(A>>>=d,C-=d,n.back+=d,64&f){t.msg="invalid distance code",n.mode=Ul;break}n.offset=p,n.extra=15&f,n.mode=24;case 24:if(n.extra){for(E=n.extra;C<E;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}n.offset+=A&(1<<n.extra)-1,A>>>=n.extra,C-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Ul;break}n.mode=25;case 25:if(0===g)break t;if(l=c-g,n.offset>l){if(l=n.offset-l,l>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Ul;break}l>n.wnext?(l-=n.wnext,u=n.wsize-l):u=n.wnext-l,l>n.length&&(l=n.length),h=n.window}else h=r,u=s-n.offset,l=n.length;l>g&&(l=g),g-=l,n.length-=l;do{r[s++]=h[u++]}while(--l);0===n.length&&(n.mode=21);break;case 26:if(0===g)break t;r[s++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;C<32;){if(0===a)break t;a--,A|=i[o++]<<C,C+=8}if(c-=g,t.total_out+=c,n.total+=c,c&&(t.adler=n.check=n.flags?tc(n.check,r,c,s-c):QI(n.check,r,c,s-c)),c=g,(n.flags?A:Hl(A))!==n.check){t.msg="incorrect data check",n.mode=Ul;break}A=0,C=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;C<32;){if(0===a)break t;a--,A+=i[o++]<<C,C+=8}if(A!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Ul;break}A=0,C=0}n.mode=29;case 29:_=kl;break t;case Ul:_=Pl;break t;case 31:return jl;default:return Nl}return t.next_out=s,t.avail_out=g,t.next_in=o,t.avail_in=a,n.hold=A,n.bits=C,(n.wsize||c!==t.avail_out&&n.mode<Ul&&(n.mode<27||e!==Tl))&&Ql(t,t.output,t.next_out,c-t.avail_out),I-=t.avail_in,c-=t.avail_out,t.total_in+=I,t.total_out+=c,n.total+=c,n.wrap&&c&&(t.adler=n.check=n.flags?tc(n.check,r,c,t.next_out-c):QI(n.check,r,c,t.next_out-c)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Bl?128:0)+(20===n.mode||15===n.mode?256:0),(0===I&&0===c||e===Tl)&&_===Ll&&(_=Fl),_},nu=t=>{if(!t||!t.state)return Nl;let e=t.state;return e.window&&(e.window=null),t.state=null,Ll},iu=(t,e)=>{if(!t||!t.state)return Nl;const n=t.state;return 0==(2&n.wrap)?Nl:(n.head=e,e.done=!1,Ll)},ru=(t,e)=>{const n=e.length;let i,r,o;return t&&t.state?(i=t.state,0!==i.wrap&&11!==i.mode?Nl:11===i.mode&&(r=1,r=QI(r,e,n,0),r!==i.check)?Pl:(o=Ql(t,e,n,n),o?(i.mode=31,jl):(i.havedict=1,Ll))):Nl},ou=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const su=Object.prototype.toString,{Z_NO_FLUSH:au,Z_FINISH:gu,Z_OK:Au,Z_STREAM_END:Cu,Z_NEED_DICT:Iu,Z_STREAM_ERROR:cu,Z_DATA_ERROR:lu,Z_MEM_ERROR:uu}=nc;function hu(t){this.options=nl({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Al,this.strm.avail_out=0;let n=tu(this.strm,e.windowBits);if(n!==Au)throw new Error(ec[n]);if(this.header=new ou,iu(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=sl(e.dictionary):"[object ArrayBuffer]"===su.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=ru(this.strm,e.dictionary),n!==Au)))throw new Error(ec[n])}function du(t,e){const n=new hu(e);if(n.push(t),n.err)throw n.msg||ec[n.err];return n.result}hu.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?gu:au,"[object ArrayBuffer]"===su.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),o=eu(n,s),o===Iu&&r&&(o=ru(n,r),o===Au?o=eu(n,s):o===lu&&(o=Iu));n.avail_in>0&&o===Cu&&n.state.wrap>0&&0!==t[n.next_in];)$l(n),o=eu(n,s);switch(o){case cu:case lu:case Iu:case uu:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||o===Cu))if("string"===this.options.to){let t=gl(n.output,n.next_out),e=n.next_out-t,r=al(n.output,t);n.next_out=e,n.avail_out=i-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(r)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==Au||0!==a){if(o===Cu)return o=nu(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},hu.prototype.onData=function(t){this.chunks.push(t)},hu.prototype.onEnd=function(t){t===Au&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=il(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var fu={Inflate:hu,inflate:du,inflateRaw:function(t,e){return(e=e||{}).raw=!0,du(t,e)},ungzip:du,constants:nc};const{Deflate:pu,deflate:mu,deflateRaw:vu,gzip:yu}=bl,{Inflate:bu,inflate:_u,inflateRaw:wu,ungzip:xu}=fu;var Su={Deflate:pu,deflate:mu,deflateRaw:vu,gzip:yu,Inflate:bu,inflate:_u,inflateRaw:wu,ungzip:xu,constants:nc},Eu=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.map((function(t){return new RegExp("."+t+"$")})),i=t.map((function(t){return new RegExp("."+t+".gz$")}));return function(t){var r=!1;return n.forEach((function(e){null!==t.match(e)&&(r=!0)})),e&&i.forEach((function(e){null!==t.match(e)&&(r=!0)})),r}},Mu=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){return function(r){if(null!==r){var o=r.split(","),s=atob(o[1]);if(e){var a=s.split("").map((function(t){return t.charCodeAt(0)})),g=new Uint8Array(a);s=Su.ungzip(g,{to:"string"})}n(t(s))}else i("value not found")}}},Tu=function(t){return function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.endsWith(".gz")||i?new Promise((function(i,r){fetch(e,n).then((function(t){return t.blob()})).then((function(e){e.arrayBuffer().then((function(e){var n=Su.inflate(e,{to:"string"}),r=t(n);i(r)}))})).catch((function(t){r(t)}))})):fetch(e,n).then((function(t){return t.text()})).then((function(e){return t(e)}))}},Ru=function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r={key:t,is:Eu(e),suffixes:e,parse:Mu(n),fetch:Tu(n)};return i&&(r.parseGzip=Mu(n,!0)),r};const Ou=Ru("json",["json","JSON"],(function(t){return pI(JSON.parse(t))})),Lu=Ru("text",["txt","text","uri"],(function(t){return t}));var ku=function(t){var e=new FileReader;return e.readAsDataURL(t),new Promise((function(t){e.onloadend=function(){t(e.result)}}))};var Du=["png","jpg","JPG","jpeg","PNG","bmp"];const Nu={key:"img",is:Eu(Du,!1),suffixes:Du,parse:function(t,e){return function(n){null!==n?t(n):e("value not found")}},fetch:function(t,e){return new Promise((function(n,i){fetch(t,e).then((function(t){return"404"==t.status&&i({error:"not found"}),t.blob()})).then(ku).then((function(t){n(t)})).catch((function(t){i(t)}))}))}};var Pu={},ju={};function Fu(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function zu(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function Bu(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function Uu(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],o=t.length,s=0,a=0,g=o<=0,A=!1;function C(){if(g)return ju;if(A)return A=!1,Pu;var e,i,r=s;if(34===t.charCodeAt(r)){for(;s++<o&&34!==t.charCodeAt(s)||34===t.charCodeAt(++s););return(e=s)>=o?g=!0:10===(i=t.charCodeAt(s++))?A=!0:13===i&&(A=!0,10===t.charCodeAt(s)&&++s),t.slice(r+1,e-1).replace(/""/g,'"')}for(;s<o;){if(10===(i=t.charCodeAt(e=s++)))A=!0;else if(13===i)A=!0,10===t.charCodeAt(s)&&++s;else if(i!==n)continue;return t.slice(r,e)}return g=!0,t.slice(r,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(i=C())!==ju;){for(var I=[];i!==Pu&&i!==ju;)I.push(i),i=C();e&&null==(I=e(I,a++))||r.push(I)}return r}function r(e,n){return e.map((function(e){return n.map((function(t){return s(e[t])})).join(t)}))}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?(r=(n=t).getUTCHours(),o=n.getUTCMinutes(),s=n.getUTCSeconds(),a=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((i=n.getUTCFullYear())<0?"-"+Bu(-i,6):i>9999?"+"+Bu(i,6):Bu(i,4))+"-"+Bu(n.getUTCMonth()+1,2)+"-"+Bu(n.getUTCDate(),2)+(a?"T"+Bu(r,2)+":"+Bu(o,2)+":"+Bu(s,2)+"."+Bu(a,3)+"Z":s?"T"+Bu(r,2)+":"+Bu(o,2)+":"+Bu(s,2)+"Z":o||r?"T"+Bu(r,2)+":"+Bu(o,2)+"Z":"")):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t;var n,i,r,o,s,a}return{parse:function(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=Fu(t);return function(i,r){return e(n(i),r,t)}}(t,e):Fu(t)}));return o.columns=r||[],o},parseRows:i,format:function(e,n){return null==n&&(n=zu(e)),[n.map(s).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=zu(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:s}}var Hu=Uu("\t"),Gu=Hu.parse;Hu.parseRows,Hu.format,Hu.formatBody,Hu.formatRows,Hu.formatRow,Hu.formatValue;const Wu=Ru("tsv",["tsv","TSV"],Gu);var Vu=Uu(","),Zu=Vu.parse;Vu.parseRows,Vu.format,Vu.formatBody,Vu.formatRows,Vu.formatRow,Vu.formatValue;const Yu=Ru("csv",["csv","CSV"],Zu),Xu=Ru("svg",["svg","SVG"],(function(t){return(new DOMParser).parseFromString(t,"image/svg+xml")})),Ju=Ru("xml",["xml","XML"],(function(t){return(new DOMParser).parseFromString(t,"application/xml")})),Ku=Ru("html",["html","HTML"],(function(t){return(new DOMParser).parseFromString(t,"text/html")}));function qu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qu(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var $u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};qu(this,t),this.suffixMap={},this.parsers={},e.empty||this._init_()}var e,n;return e=t,n=[{key:"_init_",value:function(){this.add(Ou),this.add(Wu),this.add(Yu),this.add(Nu),this.add(Lu),this.add(Xu),this.add(Ju),this.add(Ku)}},{key:"add",value:function(t){var e=this;t.key in e.parsers?console.warn("duplicated parser key",t.key):(e.parsers[t.key]=t,t.suffixes.forEach((function(n){n in e.suffixMap?console.warn("duplicated parser for same suffix",n):e.suffixMap[n]=t.key})))}},{key:"getParser",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"filename"in e&&(t=e.filename);var n=t.split("."),i=n.pop();return"gz"==i&&(i=n.pop()),i in this.suffixMap?this.parsers[this.suffixMap[i]]:null}},{key:"remove",value:function(t){t in self.parsers&&(self.parsers[t].suffixes.forEach((function(e){self.suffixMap[e]==t&&delete self.suffixMap[e][t]})),delete self.parsers[t])}}],n&&Qu(e.prototype,n),t}();const th=$u;var eh=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),nh=new RegExp(/gsheet:\/\/[\S]{44}\/\S+/),ih=new RegExp(/storage:\/\/\S+\/\S+/),rh=new RegExp(/\.\/\S+/),oh=new RegExp(/\/\S+/);const sh=function(t,e,n){return function(){var t="AIzaSyBhECk4C1LpxI1mDJjSTwot-hRP2v3bwEA",e="",n="Sheet1",i="A:ZZZ",r={},o=function(){return new Promise((function(o,s){var a=function(t,e,n,i){return"https://sheets.googleapis.com/v4/spreadsheets/"+t+"/values/"+e+"!"+n+"?key="+i}(e,n,i,t);fetch(a,r).then((function(t){return t.json()})).then((function(t){var e=function(t){var e=t[0],n=e.length,i=new Array(n-1);return i.columns=t[0],t.forEach((function(t,n){if(0!=n){var r={};t.forEach((function(t,n){r[e[n]]=t})),i[n-1]=r}})),i}(t.values);o(e)})).then((function(t){s(t)}))}))};return o.apiKey=function(e){return arguments.length?(t=e,o):t},o.sheetId=function(t){return arguments.length?(e=t,o):e},o.sheetTitle=function(t){return arguments.length?(n=t,o):n},o.range=function(t){return arguments.length?(i=t,o):i},o.options=function(t){return arguments.length?(r=t,o):r},o}().sheetId(t).sheetTitle(e).apiKey(n)()};var ah=function(t){return new Promise((function(e,n){n({error:t})}))};var gh=n(4272),Ah=n.n(gh),Ch={svg:"image/svg+xml",tsv:"text/tab-separated-values",csv:"text/comma-separated-values",txt:"text/plain",text:"text/plain",png:"image/png",bmp:"image/bmp",jpg:"image/jpg",json:"application/json"};const Ih=function(t){return Ch[t]||"text/plain"};function ch(t){return ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(t)}function lh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uh(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function hh(t,e){return hh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},hh(t,e)}function dh(t,e){if(e&&("object"===ch(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fh(t)}function fh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ph(t){return ph=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ph(t)}function mh(t,e,n,i,r,o,s){try{var a=t[o](s),g=a.value}catch(t){return void n(t)}a.done?e(g):Promise.resolve(g).then(i,r)}var vh=function(t){var e=t.split("/");return{fileName:e.pop(),storeName:e.pop()}},yh=function(t,e){var n=t.split(".");if(n.length>1){var i=n.pop(),r=n.join(".");return(r+=" ("+e+")")+"."+i}return t+"("+e+")"},bh=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function s(t){mh(o,i,r,s,a,"next",t)}function a(t){mh(o,i,r,s,a,"throw",t)}s(void 0)}))}}(regeneratorRuntime.mark((function t(e,n){var i,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=n;case 2:if(!(i<1e4)){t.next=11;break}return t.next=5,e.getItem(r).then((function(t){o=t}));case 5:if(null!==o){t.next=7;break}return t.abrupt("break",11);case 7:r=yh(n,i+=1),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),_h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hh(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ph(i);if(r){var n=ph(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return dh(this,t)});function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"reflexiv",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return lh(this,s),fh(t=o.call(this,e)),t._namespace=e,t._options=n,t._initStore(),t}return e=s,n=[{key:"_initStore",value:function(){var t=this;this.stores={};var e=Ah().createInstance({name:t.namespace+"_os",storeName:"stores",size:4980736,version:3,description:t.ns+" os",driver:"asyncStorage"});this._stores_=e,this._stores_.keys().then((function(e){e.forEach((function(e){t.createStore(e,t.options.size)})),t.emit("inited",e)}))}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}},{key:"namespace",get:function(){return this._namespace},set:function(t){this._safeCloseStore(),this._namespace=t,this._initStore()}},{key:"createStore",value:function(t,e){var n=Ah().createInstance({name:this.namespace+"_store",storeName:t,size:e||79691776,description:this.ns+" drive "+t,driver:"asyncStorage"});this.stores[t]=n;var i={created:(new Date).getTime()};console.log("Create Store",t,e,i.created),this._stores_.setItem(t,i)}},{key:"_safeCloseStore",value:function(){var t=this;"namespace"in t&&(Ah().dropInstance({name:t.namespace+"_store"}).then((function(){console.log("Dropped store "+t.namespace)})),Ah().dropInstance({name:t.namespace+"_os"}).then((function(){console.log("Dropped store "+t.namespace)})))}},{key:"makeFilesHandler",value:function(t){var e=this;return function(n){for(var i,r=n.target.files,o=0;i=r[o];o++){var s=new FileReader;s.onload=function(n){return function(i){var r=i.target.result;bh(e.stores[t],n.name).then((function(n){e.create(t,n,r)}))}}(i),s.readAsDataURL(i)}}}},{key:"makeFetch",value:function(t){var e=this;return function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};fetch(n,i).then((function(t){return t.text()})).then((function(i){var r=n.split(".").pop(),o="data:"+Ih(r)+";base64,"+btoa(i),s=n.split("/").pop();bh(e.stores[t],s).then((function(n){e.create(t,n,o)}))})).catch((function(t){console.warn(t)}))}}},{key:"create",value:function(t,e,n){var i=this;t in i.stores||i.createStore(t),i.stores[t].getItem(e),i.stores[t].setItem(e,n).then((function(){i.emit("create",{URI:"storage://"+t+"/"+e,fn:e,store:t})})).catch((function(t){console.warn(t)}))}},{key:"getItem",value:function(t,e){return t in this.stores?this.stores[t].getItem(e):new Promise((function(t,e){e({error:"store not found"})}))}},{key:"list",value:function(t){return t in this.stores?this.stores[t].keys():new Promise((function(t,e){e({error:"store not found"})}))}},{key:"delete",value:function(t,e){var n=this;return t in n.stores?(n.stores[t].removeItem(e),n.emit("delete",{store:t,fn:e}),0):-1}},{key:"removeStore",value:function(t){var e=this;console.log("remove store",t),t in e.stores&&(e.stores[t].clear(),e.stores[t].dropInstance({storeName:t,name:e.namespace+"_store"}).then((function(t){console.log("drop",t)})).catch((function(t){console.warn(t)})),delete e.stores[t],e._stores_.removeItem(t),e.emit("removeStore",{store:t}))}},{key:"move",value:function(t,e){var n=vh(t),i=vh(e),r=this,o=r.stores[n.storeName].getItem(n.fileName);return null===o?-1:(bh(r.stores[i.storeName],i.fileName).then((function(t){r.create(i.storeName,t,o),r.delete(n.storeName,n.fileName)})),0)}},{key:"copy",value:function(t,e){var n=vh(t),i=vh(e),r=this,o=r.stores[n.storeName].getItem(n.fileName);return null===o?-1:(bh(r.stores[i.storeName],i.fileName).then((function(t){r.create(i.storeName,t,o)})),0)}},{key:"close",value:function(){this.emit("close"),this._safeCloseStore()}}],n&&uh(e.prototype,n),s}(dI.EventEmitter);const wh=_h;function xh(t){return xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xh(t)}function Sh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eh(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Mh(t,e){return Mh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Mh(t,e)}function Th(t,e){if(e&&("object"===xh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rh(t)}function Rh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Oh(t)}var Lh=function(t){return new Promise((function(e,n){n({error:t})}))},kh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mh(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Oh(i);if(r){var n=Oh(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Th(this,t)});function s(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Sh(this,s);var i=Rh(e=o.call(this,t));return e.namespace=t,"fs"in n?(e.fs=n.fs,e._close=function(){}):(e.fs=new wh(t),e.fs.on("inited",(function(t){e.emit("inited")})),e._close=function(){i.fs.close()}),e._options=n,e._apiKey=n.apiKey||"AIzaSyBhECk4C1LpxI1mDJjSTwot-hRP2v3bwEA",e.buffer={},e.parsers=n.parsers||new th,e}return e=s,n=[{key:"parsers",get:function(){return this._parsers},set:function(t){this._fetchURL_=function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.getParser(e,n);return null!==i?i.fetch(e,n):ah("not support this format")}}(t),this._parsers=t}},{key:"apiKey",get:function(){return this._apiKey},set:function(t){this._apiKey=t}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}},{key:"_fetchURL",value:function(t,e){return this._fetchURL_(t,this.options.fetchURLOptions||e||{})}},{key:"_fetchLocalStorage",value:function(t){var e,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this,o=t.split("/"),s=o[2],a=o[3];return e="filename"in i?i.filename.split(".").pop():a.split(".").pop(),new Promise((function(t,o){n.fs.getItem(s,a).then((function(n){var s=r.parsers.getParser(a,i);null!==s?"gz"==e&&"parseGzip"in s?s.parseGzip(t,o)(n):s.parse(t,o)(n):o("not support this format")})).catch((function(t){o(t)}))}))}},{key:"_fetchGoogleSheet",value:function(t,e){var n=t.split("/"),i=n[2],r=n[3];return sh(i,r,this.apiKey)}},{key:"_fetch_",value:function(t,e){var n=this,i=function(t){return null!==t.match(nh)?{type:"sheet",data:t.split(":").pop().replace("//","")}:null!==t.match(ih)?{type:"storage",data:t.split(":").pop().replace("//","")}:null!==t.match(eh)||null!==t.match(rh)||null!==t.match(oh)?{type:"web",data:t}:null}(t);return null==i?Lh("parsing URI error"):"sheet"==i.type?n._fetchGoogleSheet(t,e):"storage"==i.type?n._fetchLocalStorage(t,e):"web"==i.type?n._fetchURL(t,e):Lh("URI type not support")}},{key:"fetch",value:function(t,e){var n=this;return new Promise((function(i,r){n._fetch_(t,e).then((function(t){i(t)})).catch((function(t){r(t)}))}))}},{key:"close",value:function(){this._close(),this.emit("close")}}],n&&Eh(e.prototype,n),s}(dI.EventEmitter);function Dh(t){return Dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(t)}function Nh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ph(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function jh(t,e,n){return jh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bh(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},jh(t,e,n||t)}function Fh(t,e){return Fh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Fh(t,e)}function zh(t,e){if(e&&("object"===Dh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bh(t)}var Uh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fh(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Bh(i);if(r){var n=Bh(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return zh(this,t)});function s(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Nh(this,s),(e=o.call(this,t,n)).buffer={},e}return e=s,n=[{key:"fetch",value:function(t,e){var n=this;return t in this.buffer?new Promise((function(e,i){e(n.buffer[t])})):n.refetch(t,e)}},{key:"refetch",value:function(t,e){var n=this,i=this;return new Promise((function(r,o){jh(Bh(s.prototype),"fetch",n).call(n,t,e).then((function(e){i.buffer[t]=e,i.emit("dataReady",{URI:t}),r(e)})).catch((function(t){o(t)}))}))}},{key:"clear",value:function(){var t=this;for(var e in t.buffer)delete t.buffer[e];this.emit("clear",t.buffer)}},{key:"list",value:function(){return Object.keys(this.buffer).sort()}},{key:"delete",value:function(t){t in this.buffer&&(delete this.buffer[t],this.emit("delete",{URI:t}))}}],n&&Ph(e.prototype,n),s}(kh);const Hh=Uh;function Gh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wh(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}dI.EventEmitter;var Vh=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Gh(this,t),this.core=e,this.options=n,this.inited=!1;var i=new Hh(e.namespace||n.namespace||"reflexiv",n);this.core.data=i}var e,n;return e=t,n=[{key:"provides",value:function(){return["@reflexiv/data"]}},{key:"init",value:function(){console.log("data system service init");var t=this.core.data;return this.inited?Promise.resolve():new Promise((function(e,n){t.on("inited",(function(){e("inited")}))}))}},{key:"start",value:function(){console.log("data system service start")}},{key:"destroy",value:function(){console.log("data system service close"),this.core.data.close()}},{key:"close",value:function(){this.destroy()}}],n&&Wh(e.prototype,n),t}(),Zh=new ot;Zh.Register("@reflexiv/service-bridge",{init:hI,options:{}}),Zh.Register("@reflexiv/service-data",{init:Vh,options:{}});const Yh=Zh,Xh=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"string"!=typeof t&&"is"in t&&(t=(e=t).is);var n=customElements.get(t);return void 0===n?customElements.define(t,e):e=n,e};var Jh=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),Kh=new RegExp(/gsheet:\/\/[\S]{44}\/\S+/),qh=new RegExp(/storage:\/\/\S+\/\S+/);function Qh(t){return Qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(t)}function $h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function td(t,e){if(e&&("object"===Qh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ed(t){var e="function"==typeof Map?new Map:void 0;return ed=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return nd(t,arguments,od(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),rd(n,t)},ed(t)}function nd(t,e,n){return nd=id()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&rd(r,n.prototype),r},nd.apply(null,arguments)}function id(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function rd(t,e){return rd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rd(t,e)}function od(t){return od=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},od(t)}var sd=n(883).Z.toString(),ad=function(t){return t.preventDefault&&t.preventDefault(),!1},gd=function(t){t.target.classList.add("over")},Ad=function(t){t.target.classList.remove("over"),t.target.style.backgroundColor=null};function Cd(t){t.stopPropagation(),this.style.opacity="0.4",t.dataTransfer.effectAllowed="move",console.log("drag start",this.value,this.getAttribute("URI")),t.dataTransfer.setData("URI",this.getAttribute("URI"))}function Id(t){t.stopPropagation(),this.style.opacity="1"}var cd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rd(t,e)}(a,t);var e,n,i,r,o,s=(e=a,n=id(),function(){var t,i=od(e);if(n){var r=od(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return td(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=s.call(this)).shadow=e.attachShadow({mode:"open"}),e.agent=t,e.render(),e}return i=a,r=[{key:"agent",get:function(){return this._agent},set:function(t){this._agent=t}},{key:"connectedCallback",value:function(){}},{key:"disconnectedCallback",value:function(){}},{key:"render",value:function(){var t=this,e=document.createElement("style");e.innerHTML=sd,this.shadow.appendChild(e);var n=document.createElement("div");n.className="container";var i=document.createElement("div");i.className="menubar",i.innerHTML="Data Objects";var r=document.createElement("div");r.className="content";var o=document.createElement("div");o.className="content-menu";var s=document.createElement("div");s.style.display="none",s.innerHTML="";var a=document.createElement("input");a.setAttribute("type","button"),a.setAttribute("value","delete"),a.onclick=function(e){e.stopPropagation(),t.agent.delete(c),l("")},s.appendChild(a);var g=document.createElement("input");g.setAttribute("type","button"),g.setAttribute("value","open"),g.onclick=function(e){e.stopPropagation(),console.log(t.agent.buffer[c])},s.appendChild(g),o.appendChild(s),r.appendChild(o);var A=document.createElement("ul");n.appendChild(i),n.appendChild(r),r.appendChild(A),this.div=n,this.ul=A,this.shadow.appendChild(n),r.addEventListener("drop",function(t){return function(e){e.stopPropagation(),e.preventDefault&&e.preventDefault();var n=e.dataTransfer.getData("URI");return Ad(e),t.fetch(n).then((function(t){})),!1}}(t.agent),!1),r.addEventListener("dragenter",gd,!1),r.addEventListener("dragleave",Ad,!1),r.addEventListener("dragover",ad,!1),r.addEventListener("click",(function(t){t.stopPropagation(),l("")}),!1);var C=this.agent.list().sort(),I={},c="",l=function(t){for(var e in c=t,I)I[e].getElementsByClassName("thumbnail")[0].classList.remove("selected"),I[e].getElementsByClassName("thumbnail")[0].classList.add("unselected");t in I?(I[t].getElementsByClassName("thumbnail")[0].classList.add("selected"),I[t].getElementsByClassName("thumbnail")[0].classList.remove("unselected"),s.style.display=null):s.style.display="none"};C.forEach((function(e){I[e]=ld(t.ul,e),I[e].onclick=function(t){t.stopPropagation(),l(e)}})),t.agent.on("dataReady",(function(e){I[e.URI]=ld(t.ul,e.URI),I[e.URI].onclick=function(t){t.stopPropagation(),l(e.URI)}})),t.agent.on("delete",(function(t){I[t.URI].remove(),delete I[t.URI]})),t.agent.on("clear",(function(){I={},t.ul.innerHTML=""}))}}],o=[{key:"is",get:function(){return"reflex-ui-data-agent"}}],r&&$h(i.prototype,r),o&&$h(i,o),a}(ed(HTMLElement)),ld=function(t,e){var n,i=document.createElement("li"),r=document.createElement("div"),o=null!==(n=e).match(Kh)?{type:"sheet",data:n.split(":").pop().replace("//","")}:null!==n.match(qh)?{type:"storage",data:n.split(":").pop().replace("//","")}:null!==n.match(Jh)?{type:"web",data:n}:null;if(null!==e){r.className="thumbnail",r.classList.add("unselected"),r.innerHTML=o.type;var s=document.createElement("div");return s.className="filename",s.innerHTML=o.data,i.append(r),i.append(s),i.className="item",i.setAttribute("draggable",!0),i.addEventListener("dragstart",Cd,!1),i.addEventListener("dragend",Id,!1),i.setAttribute("URI",e),console.log(e),t.appendChild(i),i}return null};Xh(cd);var ud=n(6135);function hd(t){return hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(t)}var dd="http://www.w3.org/2000/svg",fd=Array.isArray,pd=function(t){if(t._attrVar_=t._attrVar_||{},t._styleVar_=t._styleVar_||{},t.on=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.addEventListener(e,n,i),t},t.off=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.removeEventListener(e,n,i),t},t.once=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.once=!0,t.addEventListener(e,n,i),t},t.emit=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){var i=new CustomEvent(e,{detail:n});t.dispatchEvent(i)}else if("object"===hd(e))try{t.dispatchEvent(e)}catch(t){console.warn(t)}return t},t.style){t._style=t.style;var e={};Object.defineProperty(t,"style",{configurable:!0,get:function(){return e},set:function(t){e=t}});var n=Object.keys(t._style);n.length<10&&(n=["width","height","backgroundColor","background","color","fontSize","fontWeight","fontFamily","display","zIndex","float","position","padding","paddingRight","paddingLeft","paddingRight","paddingTop","paddinngBottom","margin","marginLeft","marginRight","marginTop","marginBottom","top","left","right","bottom","border","borderLeft","borderTop","borderRight","borderBottom"]),n.forEach((function(n){Object.defineProperty(e,n,{configurable:!0,get:function(){return t._style[n]},set:function(e){if(n in t._styleVar_&&(t._styleVar_[n](),delete t._styleVar_[n]),null!==e&&"object"==hd(e)&&"value"in e){var i=function(){"value"in e&&void 0!==e.value?t._style[n]=e.value:t._style[n]=null};e.addEventListener("change",i,!1),t._styleVar_[n]=function(){e.removeEventListener("change",i,!1)},i()}else t._style[n]=e}})}))}t._remove=t.remove,t.remove=function(){if("_attrVar_"in t&&Object.keys(t._attrVar_).forEach((function(e){t._attrVar_[e]()})),"_styleVar_"in t&&Object.keys(t._styleVar_).forEach((function(e){t._styleVar_[e]()})),"children"in t)for(var e=t.children.length;t.children.length>0&&(t.children[0].remove(),e===t.children.length+1);)e=t.children.length;t._remove()}},md=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){if(t._attrVar_=t._attrVar_||{},n.length>2&&"o"==n[0]&&"n"==n[1])n=n.slice(2),t.addEventListener(n,i);else if(n.length>3&&"o"==n[0]&&"f"==n[1]&&"f"==n[2])n=n.slice(3),t.removeEventListener(n,i);else if(n.length>5&&"s"==n[0]&&"t"==n[1]&&"y"==n[2]&&"l"==n[3]&&"e"==n[4]){var r=n.slice(5,6).toLowerCase()+n.slice(6);t.style[r]=i}else if(n in t._attrVar_&&(t._attrVar_[n](),delete t._attrVar_[n]),null!==i&&"object"==hd(i)&&"value"in i){var o=function(){null!==i&&"value"in i&&void 0!==i.value?e?t.setAttributeNS(null,n,i.value):t.setAttribute(n,i.value):e?t.setAttributeNS(null,n,null):t.setAttribute(n,null)};i.addEventListener("change",o,!1),t._attrVar_[n]=function(){i.removeEventListener("change",o,!1)},o()}else e?t.setAttributeNS(null,n,i):t.setAttribute(n,i);return t}},vd=function(t){return function(e){var n=function(t){return e.getAttribute(t)||null},i=md(e,t);return e.attr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null==e?n(t):i(t,e)},pd(e),e}},yd=function(t){return function(e,n,i){var r;void 0!==n&&null!=n||(n={}),t?(r="text"==e&&"string"==typeof i?function(t){var e=document.createElementNS(dd,"text"),n=document.createTextNode(t);return e.appendChild(n),e}(i):document.createElementNS(dd,e),"svg"==e&&(r.setAttribute("xmlns",dd),r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"))):r=document.createElement(e);var o=function(t){return r.getAttribute(t)||n[t]||null},s=md(r,t);if(r.attr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null==e?o(t):s(t,e)},pd(r),"object"==hd(n)&&Object.keys(n).forEach((function(t){r.attr(t,n[t])})),void 0!==i)if("string"==typeof i||"number"==typeof i||"boolean"==typeof i)r.innerText="".concat(i);else if("object"==hd(i)&&"r-var"==i.is){var a=i,g=function(){"value"in a&&void 0!==a.value?r.innerText="".concat(a.value):r.innerText=""};a.addEventListener("change",g,!1),r._attrVar_.innerText=function(){a.removeEventListener("change",g,!1)},g()}else if(fd(i))if(1==i.length&&("string"==typeof i[0]||"number"==typeof i[0])||"boolean"==typeof i[0])r.innerHTML="".concat(i[0]);else if(1==i.length&&"r-var"==i[0].is){var A=function(){"render"in i[0]?(r.innerHTML="",r.appendChild(i[0].render())):r.innerHTML=i[0].value};i[0].addEventListener("change",A,!1),A()}else if(2==i.length&&"function"==typeof i[0]){if(fd(i[1]))i[1].forEach((function(t){r.appendChild(i[0](t))}));else if("r-var"==i[1].is){var C=function(){for(;r.children.length>0;)r.children[0].remove();fd(i[1].value)?i[1].value.forEach((function(t){r.append(i[0](t))})):r.append(i[0](i[1].value))};i[1].addEventListener("change",C,!1),"_attrVar_"in r?r._attrVar_.innerHTML=function(){i[1].removeEventListener("change",C,!1)}:(r.__remove=r.remove,r.remove=function(){i[1].removeEventListener("change",C,!1),r.__remove()}),i[1].value&&C()}}else i.forEach((function(t){r.appendChild(t)}));else r.appendChild(i);return r}},bd=(HTMLElement,vd(!1),vd(!0),yd(!1)),_d=yd(!0);function wd(t){return wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(t)}function xd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sd(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ed(t,e){if(e&&("object"===wd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Md(t){var e="function"==typeof Map?new Map:void 0;return Md=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Td(t,arguments,Ld(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Od(n,t)},Md(t)}function Td(t,e,n){return Td=Rd()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Od(r,n.prototype),r},Td.apply(null,arguments)}function Rd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Od(t,e){return Od=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Od(t,e)}function Ld(t){return Ld=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ld(t)}EventTarget;var kd=ud.Z.toString();function Dd(t){t.stopPropagation(),this.style.opacity="0.4",t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("URI",this.getAttribute("URI"))}function Nd(t){t.stopPropagation(),this.style.opacity="1"}var Pd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Od(t,e)}(a,t);var e,n,i,r,o,s=(e=a,n=Rd(),function(){var t,i=Ld(e);if(n){var r=Ld(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return Ed(this,t)});function a(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return xd(this,a),(n=s.call(this)).shadow=n.attachShadow({mode:"open"}),n.fs=t,n.node=e,n.args=i,n.render(),n}return i=a,r=[{key:"height",get:function(){return this.div.clientHeight},set:function(t){this.div.style.height=t+"px"}},{key:"connectedCallback",value:function(){}},{key:"disconnectedCallback",value:function(){}},{key:"render",value:function(){var t=this,e=this,n=bd("style");n.innerHTML=kd,this.shadow.appendChild(n),this.div=bd("div"),this.div.className="container",this.menu=bd("div"),this.menu.className="menubar",this.menu.innerHTML="Data Finder | ",this.sidebar=bd("div"),this.sidebar.className="sidebar";var i=bd("div");i.className="sidebar-menu",this.sidebar.append(i);var r=bd("input",{type:"button",value:"New",title:"Create a new file store"});i.appendChild(r),r.onclick=function(t){var n=prompt("Please enter a drive name: ","");if(null==n||""==n);else{var i=v(n);e.storeList.appendChild(i),w(n)}};var o=bd("input",{type:"button",value:"Delete",title:"Delete this drive"});i.appendChild(o),o.onclick=function(t){t.stopPropagation(),p&&confirm('Please confirm delete drive"'+p+'" ?')&&e.fs.removeStore(p)},e.fs.on("removeStore",(function(t){for(var n=t.store,i=e.storeList.getElementsByTagName("a"),r=0;r<i.length;r++)i[r].innerHTML==n&&i[r].remove();e.ul.innerHTML=""})),this.content=bd("div"),this.content.className="content";var s=bd("div");s.className="content-menu",this.content.appendChild(s),this.div.appendChild(this.menu),this.div.appendChild(this.sidebar),this.div.appendChild(this.content);var a=bd("input",{type:"file"}),g=bd("input",{type:"button",value:"Upload",title:"Upload a file from local disk"});g.onclick=function(t){a.click()};var A=bd("input",{type:"button",value:"Fetch",title:"Fetch a file from web (input a URL)"});A.onclick=function(t){var e=prompt("Please enter a Web URL:","");null==e||""==e||m(e,{})};var C=bd("span");C.innerHTML=" | ";var I=bd("input").attr("type","button").attr("value","URI").attr("title","Add a URI Link");I.onclick=function(t){var n=prompt("Please enter a code [FileName]|[gsheet://SpreadSheetId/SheetTitle] ","");if(null==n||""==n);else{var i=function(t){var e=t.split("|");return{key:e.shift(),value:e.join("|")}}(n);e.fs.create(p,i.key+".uri",i.value)}};var c=bd("input").attr("type","button").attr("value","Download");c.onclick=function(t){t.stopPropagation(),e.fs.getItem(p,b).then((function(t){!function(t,e){console.log("download",e);var n=document.createElement("a");n.download=e,n.href=t,n.click()}(t,b)})).catch((function(t){console.warn(t,d)}))};var l=bd("input").attr("type","button").attr("value","Delete");l.onclick=function(t){t.stopPropagation(),confirm('Please confirm delete file "'+b+'" ?')&&e.fs.delete(p,b)};var u=bd("input").attr("type","button").attr("value","Rename");u.onclick=function(t){t.stopPropagation();var n=prompt("Please enter a new file name:",b);null==n||""==n||n==b||e.fs.move("storage://"+p+"/"+b,"storage://"+p+"/"+n)};var h=bd("input").attr("type","button").attr("value","Copy");h.onclick=function(t){t.stopPropagation();var n=p+"/"+b,i=prompt("Please enter a new file path:",n);null==i||""==i||i==n||e.fs.copy("storage://"+n,"storage://"+i)};var f=function(t){C.style.display=t,c.style.display=t,h.style.display=t,l.style.display=t,u.style.display=t};f("none"),s.appendChild(g),s.appendChild(A),s.appendChild(I),s.appendChild(C),s.appendChild(c),s.appendChild(u),s.appendChild(h),s.appendChild(l),this.ul=bd("ul"),this.ul.className="dir",this.content.appendChild(this.ul),this.content.on("click",(function(t){b="";for(var n=e.ul.getElementsByTagName("li"),i=0;i<n.length;i++)n[i].getElementsByClassName("filename")[0].style.backgroundColor=null;f("none")})),e.storeList=bd("div"),e.sidebar.appendChild(e.storeList);var p,m,v=function(t){var e=bd("a");return e.innerHTML=t,e.onclick=function(){t!==p&&w(t)},e},y={},b="",_=function(t){var n=bd("li");t.match(/\.uri$/)?e.fs.getItem(p,t).then((function(t){n.attr("URI",t)})):n.attr("URI","storage://"+p+"/"+t),y[t]=n,n.innerHTML="<div><div class='thumbnail'></div><div class='filename'>"+t+"</div></div>";var i=n.getElementsByClassName("thumbnail")[0],r=t.split(".").pop(),o=document.createTextNode(r.toUpperCase());i.appendChild(o),e.ul.appendChild(n),n.onclick=function(i){i.stopPropagation(),b=t;for(var r=e.ul.getElementsByTagName("li"),o=0;o<r.length;o++)r[o].getElementsByClassName("filename")[0].style.backgroundColor=null;n.getElementsByClassName("filename")[0].style.backgroundColor="lightgreen",f(null)},n.className="item",n.attr("draggable",!0).on("dragstart",Dd,!1).on("dragend",Nd,!1)},w=function(n){!function(t){if(t.value)try{t.value=""}catch(r){if(t.value){var e=bd("form"),n=t.parentNode,i=t.nextSibling;e.append(t),e.reset(),n.insertBefore(t,i)}}}(a);for(var i=e.storeList.getElementsByTagName("a"),r=0;r<i.length;r++)i[r].innerHTML==n?i[r].classList.add("active"):i[r].classList.remove("active");for(var o in p=n,b="",f("none"),n in e.fs.stores||(console.log("create store",n),e.fs.createStore(n)),e.menu.innerHTML="Data Finder | "+p,a.onchange=e.fs.makeFilesHandler(n),m=e.fs.makeFetch(n),y)delete y[o];var s=t.fs.list(n);t.ul.innerHTML="",s.then((function(t){t.sort((function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())})).forEach((function(t){_(t)}))}))};this.fs.on("delete",(function(t){t.store==p&&y[t.fn].remove()})),this.fs.on("create",(function(t){t.store===p&&(t.fn in y||(_(t.fn),function(t){var e,n,i,r;for(n=!0;n;){for(n=!1,i=t.getElementsByTagName("li"),e=0;e<i.length-1;e++)if(r=!1,i[e].innerHTML.toLowerCase()>i[e+1].innerHTML.toLowerCase()){r=!0;break}r&&(i[e].parentNode.insertBefore(i[e+1],i[e]),n=!0)}}(e.ul)))})),this.fs.on("move",(function(t){})),this.fs.on("close",(function(t){}));var x=function(t){t.forEach((function(t){var n=v(t);e.storeList.appendChild(n)})),t.length>0&&w(t[0])};this.fs.on("inited",x);var S=Object.keys(this.fs.stores);S.length>0&&x(S),this.shadow.appendChild(this.div)}},{key:"update",value:function(){}}],o=[{key:"is",get:function(){return"reflex-ui-data-finder"}}],r&&Sd(i.prototype,r),o&&Sd(i,o),a}(Md(HTMLElement));function jd(t){return jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(t)}function Fd(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function zd(t,e){if(e&&("object"===jd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Bd(t){var e="function"==typeof Map?new Map:void 0;return Bd=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Ud(t,arguments,Wd(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Gd(n,t)},Bd(t)}function Ud(t,e,n){return Ud=Hd()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Gd(r,n.prototype),r},Ud.apply(null,arguments)}function Hd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Gd(t,e){return Gd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Gd(t,e)}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wd(t)}Xh(Pd);var Vd=function(t){return console.log("dragover"),t.preventDefault&&t.preventDefault(),!1},Zd=function(t){console.log("dragenter"),t.target.classList.add("over")},Yd=function(t){console.log("dragleave"),t.target.classList.remove("over"),t.target.style.backgroundColor=null},Xd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gd(t,e)}(s,t);var e,n,i,r,o=(e=s,n=Hd(),function(){var t,i=Wd(e);if(n){var r=Wd(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return zd(this,t)});function s(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this)).shadow=n.attachShadow({mode:"open"}),n.adaptor=t,n.node=e,e.define("data",(function(t){}));var i=document.createElement("div");return i.className="dropBox",i.addEventListener("drop",function(t,e){return function(n){n.stopPropagation(),n.preventDefault&&n.preventDefault();var i=n.dataTransfer.getData("URI");return Yd(n),n.target.innerHTML=i,t.fetch(i).then((function(t){e.set("data",{key:i,value:t})})),console.log("drop"),!1}}(t,e),!1),i.addEventListener("dragenter",Zd,!1),i.addEventListener("dragleave",Yd,!1),i.addEventListener("dragover",Vd,!1),n.shadow.innerHTML='\n\t\t    <style>\n\t\t\t:host{\n                all:initial;\n\t\t\t}\n            .over {\n                background-color:"lightblue"\n            }\n             .dropBox {\n                 height: 100px;\n                 width: 200px;\n                 border: 1px solid;\n                 font-size: small;\n                 overflow: auto;\n             }\n\t\t    </style>\n        ',n.shadow.appendChild(i),n}return i=s,r=[{key:"is",get:function(){return"reflex-drop-box"}}],null&&Fd(i.prototype,null),r&&Fd(i,r),s}(Bd(HTMLElement));function Jd(t){return Jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(t)}function Kd(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function qd(t,e){if(e&&("object"===Jd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qd(t){var e="function"==typeof Map?new Map:void 0;return Qd=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return $d(t,arguments,nf(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ef(n,t)},Qd(t)}function $d(t,e,n){return $d=tf()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&ef(r,n.prototype),r},$d.apply(null,arguments)}function tf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ef(t,e){return ef=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ef(t,e)}function nf(t){return nf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nf(t)}Xh(Xd);var rf=function(t){return console.log("dragover"),t.preventDefault&&t.preventDefault(),!1},of=function(t){console.log("dragenter"),t.target.classList.add("over")},sf=function(t){console.log("dragleave"),t.target.classList.remove("over"),t.target.style.backgroundColor=null},af=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ef(t,e)}(s,t);var e,n,i,r,o=(e=s,n=tf(),function(){var t,i=nf(e);if(n){var r=nf(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return qd(this,t)});function s(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).shadow=e.attachShadow({mode:"open"}),e.adaptor=adaptor,e.node=t,t.define("data",onchange);var n=document.createElement("div");return n.className="dropBox",n.addEventListener("drop",function(t,e){return function(t){t.stopPropagation(),t.preventDefault&&t.preventDefault();var n=t.dataTransfer.getData("URI");return sf(t),t.target.innerHTML=n,e.set("data",{key:n,value:n}),!1}}(adaptor,t),!1),n.addEventListener("dragenter",of,!1),n.addEventListener("dragleave",sf,!1),n.addEventListener("dragover",rf,!1),e.shadow.innerHTML='\n\t\t    <style>\n\t\t\t:host{\n                all:initial;\n\t\t\t}\n            .over {\n                background-color:"lightblue"\n            }\n             .dropBox {\n                 height: 100px;\n                 width: 200px;\n                 border: 1px solid;\n                 font-size: small;\n                 overflow: auto;\n             }\n\t\t    </style>\n        ',e.shadow.appendChild(n),e}return i=s,r=[{key:"is",get:function(){return"reflex-uri-drop-box"}}],null&&Kd(i.prototype,null),r&&Kd(i,r),s}(Qd(HTMLElement));function gf(t){return gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(t)}function Af(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Cf(t,e){if(e&&("object"===gf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function If(t){var e="function"==typeof Map?new Map:void 0;return If=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return cf(t,arguments,hf(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),uf(n,t)},If(t)}function cf(t,e,n){return cf=lf()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&uf(r,n.prototype),r},cf.apply(null,arguments)}function lf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function uf(t,e){return uf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},uf(t,e)}function hf(t){return hf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hf(t)}Xh(af);var df=new RegExp(/\.svg$/),ff=new RegExp(/\.txt$/),pf=new RegExp(/\.png$/),mf=new RegExp(/\.PNG$/),vf=new RegExp(/\.jpg$/),yf=new RegExp(/\.json$/),bf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uf(t,e)}(s,t);var e,n,i,r,o=(e=s,n=lf(),function(){var t,i=hf(e);if(n){var r=hf(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return Cf(this,t)});function s(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).shadow=e.attachShadow({mode:"open"}),e.node=t;var n=document.createElement("div");return e.shadow.appendChild(n),e.node.define("data",(function(t){void 0===t.key?n.innerHTML="No Data":"object"==gf(t.value)&&"columns"in t.value?n.innerHTML=t.key+"<br>"+t.value.length+"x"+t.value.columns.length+"<br>":t.key.match(yf)?n.innerHTML=JSON.stringify(t.value):t.key.match(df)?n.innerHTML=t.value:t.key.match(ff)?n.innerHTML="<pre>"+t.value+"</pre>":t.key.match(pf)||t.key.match(vf)||t.key.match(mf)?n.innerHTML="<img src='"+t.value+"'></img>":n.innerHTML="Not support this format :"+t.key})),e}return i=s,r=[{key:"is",get:function(){return"reflex-simple-render"}}],null&&Af(i.prototype,null),r&&Af(i,r),s}(If(HTMLElement));function _f(t){return _f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(t)}function wf(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function xf(t,e){if(e&&("object"===_f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Sf(t){var e="function"==typeof Map?new Map:void 0;return Sf=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Ef(t,arguments,Rf(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Tf(n,t)},Sf(t)}function Ef(t,e,n){return Ef=Mf()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Tf(r,n.prototype),r},Ef.apply(null,arguments)}function Mf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Tf(t,e){return Tf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Tf(t,e)}function Rf(t){return Rf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rf(t)}Xh(bf);var Of=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tf(t,e)}(a,t);var e,n,i,r,o,s=(e=a,n=Mf(),function(){var t,i=Rf(e);if(n){var r=Rf(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return xf(this,t)});function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this))._modalVisible=!1,t._modal,t.attachShadow({mode:"open"}),t.shadowRoot.innerHTML='\n        <style>\n            /* The Modal (background) */\n            .modal {\n                display: none; \n                position: fixed; \n                z-index: 1000; \n                padding-top: 100px; \n                left: 0;\n                top: 0;\n                width: 100%; \n                height: 100%; \n                overflow: auto; \n                background-color: rgba(0,0,0,0.4); \n            }\n            /* Modal Content */\n            .modal-content {\n                position: relative;\n                background-color: #fefefe;\n                margin: auto;\n                padding: 0;\n                border: 1px solid #888;\n                width: 80%;\n                box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);\n                -webkit-animation-name: animatetop;\n                -webkit-animation-duration: 0.4s;\n                animation-name: animatetop;\n                animation-duration: 0.4s\n            }\n            /* Add Animation */\n            @-webkit-keyframes animatetop {\n                from {top:-300px; opacity:0} \n                to {top:0; opacity:1}\n            }\n            @keyframes animatetop {\n                from {top:-300px; opacity:0}\n                to {top:0; opacity:1}\n            }\n            /* The Close Button */\n            .close {\n                color: white;\n                float: right;\n                font-size: 28px;\n                font-weight: bold;\n            }\n            .close:hover,\n            .close:focus {\n            color: #000;\n            text-decoration: none;\n            cursor: pointer;\n            }\n            .modal-header {\n            padding: 2px 16px;\n            background-color: #000066;\n            color: white;\n            }\n            .modal-body {padding: 2px 16px; margin: 20px 2px}\n        </style>\n        <button>Open Modal</button>\n        <div class="modal">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <span class="close">&times;</span>\n                    <slot name="header"><h1>Config</h1></slot>\n                </div>\n                <div class="modal-body">\n                    <slot><slot>\n                </div>\n            </div>\n        </div>\n        ',t}return i=a,r=[{key:"connectedCallback",value:function(){this._modal=this.shadowRoot.querySelector(".modal"),this._modal.addEventListener("mouseover",(function(t){t.stopPropagation()})),this._modal.addEventListener("click",(function(t){t.stopPropagation()})),this.shadowRoot.querySelector("button").addEventListener("click",this._showModal.bind(this)),this.shadowRoot.querySelector(".close").addEventListener("click",this._hideModal.bind(this))}},{key:"disconnectedCallback",value:function(){this.shadowRoot.querySelector("button").removeEventListener("click",this._showModal),this.shadowRoot.querySelector(".close").removeEventListener("click",this._hideModal)}},{key:"_showModal",value:function(){this._modalVisible=!0,this._modal.style.display="block"}},{key:"_hideModal",value:function(){this._modalVisible=!1,this._modal.style.display="none"}}],o=[{key:"is",get:function(){return"reflex-modal"}}],r&&wf(i.prototype,r),o&&wf(i,o),a}(Sf(HTMLElement));function Lf(t){return Lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(t)}function kf(t,e,n,i,r,o,s){try{var a=t[o](s),g=a.value}catch(t){return void n(t)}a.done?e(g):Promise.resolve(g).then(i,r)}function Df(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function s(t){kf(o,i,r,s,a,"next",t)}function a(t){kf(o,i,r,s,a,"throw",t)}s(void 0)}))}}function Nf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pf(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function jf(t,e){if(e&&("object"===Lf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ff(t){var e="function"==typeof Map?new Map:void 0;return Ff=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return zf(t,arguments,Hf(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Uf(n,t)},Ff(t)}function zf(t,e,n){return zf=Bf()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Uf(r,n.prototype),r},zf.apply(null,arguments)}function Bf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Uf(t,e){return Uf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Uf(t,e)}function Hf(t){return Hf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hf(t)}Xh(Of);var Gf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uf(t,e)}(a,t);var e,n,i,r,o,s=(e=a,n=Bf(),function(){var t,i=Hf(e);if(n){var r=Hf(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return jf(this,t)});function a(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return Nf(this,a),(n=s.call(this)).shadow=n.attachShadow({mode:"open"}),n.bridge=t,n.node=e,n.args=i,n.onchange=r,n}return i=a,r=[{key:"node",get:function(){return this._node},set:function(t){this._node=t}},{key:"bridge",get:function(){return this._bridge},set:function(t){this._bridge=t}},{key:"args",get:function(){return this._args},set:function(t){this._args=t}},{key:"connectedCallback",value:function(){this.render()}},{key:"disconnectedCallback",value:function(){}},{key:"render",value:function(){var t=this;this.shadow.innerHTML="\n\t\t<style>\n\t\t\t:host{\n                all:initial;\n\t\t\t}\n            input {\n                width:100px;\n            }\n            .io {\n                float:left;\n            }\n            div {\n                min-height: 30px;\n            }\n\n\t\t</style>\n        ";var e=bd("div");this.div=e;var n=this.bridge,i=this.node,r=this.args,o=r.io||"",s=(bd("div"),bd("input"));if(s.className="io",s.value=o,s.on("keyup",(function(t){13===t.keyCode?s.blur():s.style.backgroundColor="lightyellow"})),o.length>0){var a=function(){var e=Df(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.link(o,i);case 2:return e.next=4,n.link(i,o);case 4:s.style.backgroundColor="lightgreen",t.onchange&&t.onchange(o);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a()}i._onMessageEffect_=function(t,e){s.style.backgroundColor,s.style.backgroundColor="#e5fee5",setTimeout((function(){s.style.backgroundColor="lightgreen"}),200)},i._postMessageEffect_=function(t){s.style.backgroundColor,s.style.backgroundColor="#e5fee5",setTimeout((function(){s.style.backgroundColor="lightgreen"}),200)},s.on("blur",function(){var e=Df(regeneratorRuntime.mark((function e(a){var g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g=s.value,o===g){e.next=15;break}if(o.length>0&&(n.unlink(o,i),n.unlink(i,o)),!(g.length>0)){e.next=11;break}return e.next=6,n.link(g,i);case 6:return e.next=8,n.link(i,g);case 8:s.style.backgroundColor="lightgreen",e.next=12;break;case 11:s.style.backgroundColor="white";case 12:o=g,r.io=g,t.onchange&&t.onchange(o);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.div.appendChild(s),this.shadow.appendChild(this.div)}}],o=[{key:"is",get:function(){return"reflex-ui-state-bridge-io"}}],r&&Pf(i.prototype,r),o&&Pf(i,o),a}(Ff(HTMLElement));function Wf(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}function Vf(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Zf(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Yf(){}Xh(Gf);var Xf=.7,Jf=1/Xf,Kf="\\s*([+-]?\\d+)\\s*",qf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$f=/^#([0-9a-f]{3,8})$/,tp=new RegExp("^rgb\\("+[Kf,Kf,Kf]+"\\)$"),ep=new RegExp("^rgb\\("+[Qf,Qf,Qf]+"\\)$"),np=new RegExp("^rgba\\("+[Kf,Kf,Kf,qf]+"\\)$"),ip=new RegExp("^rgba\\("+[Qf,Qf,Qf,qf]+"\\)$"),rp=new RegExp("^hsl\\("+[qf,Qf,Qf]+"\\)$"),op=new RegExp("^hsla\\("+[qf,Qf,Qf,qf]+"\\)$"),sp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ap(){return this.rgb().formatHex()}function gp(){return this.rgb().formatRgb()}function Ap(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$f.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Cp(e):3===n?new up(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ip(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ip(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=tp.exec(t))?new up(e[1],e[2],e[3],1):(e=ep.exec(t))?new up(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=np.exec(t))?Ip(e[1],e[2],e[3],e[4]):(e=ip.exec(t))?Ip(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=rp.exec(t))?pp(e[1],e[2]/100,e[3]/100,1):(e=op.exec(t))?pp(e[1],e[2]/100,e[3]/100,e[4]):sp.hasOwnProperty(t)?Cp(sp[t]):"transparent"===t?new up(NaN,NaN,NaN,0):null}function Cp(t){return new up(t>>16&255,t>>8&255,255&t,1)}function Ip(t,e,n,i){return i<=0&&(t=e=n=NaN),new up(t,e,n,i)}function cp(t){return t instanceof Yf||(t=Ap(t)),t?new up((t=t.rgb()).r,t.g,t.b,t.opacity):new up}function lp(t,e,n,i){return 1===arguments.length?cp(t):new up(t,e,n,null==i?1:i)}function up(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function hp(){return"#"+fp(this.r)+fp(this.g)+fp(this.b)}function dp(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function fp(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function pp(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vp(t,e,n,i)}function mp(t){if(t instanceof vp)return new vp(t.h,t.s,t.l,t.opacity);if(t instanceof Yf||(t=Ap(t)),!t)return new vp;if(t instanceof vp)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,g=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=g<.5?o+r:2-o-r,s*=60):a=g>0&&g<1?0:s,new vp(s,a,g,t.opacity)}function vp(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function yp(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function bp(t,e,n,i,r){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*i+s*r)/6}Vf(Yf,Ap,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ap,formatHex:ap,formatHsl:function(){return mp(this).formatHsl()},formatRgb:gp,toString:gp}),Vf(up,lp,Zf(Yf,{brighter:function(t){return t=null==t?Jf:Math.pow(Jf,t),new up(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Xf:Math.pow(Xf,t),new up(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hp,formatHex:hp,formatRgb:dp,toString:dp})),Vf(vp,(function(t,e,n,i){return 1===arguments.length?mp(t):new vp(t,e,n,null==i?1:i)}),Zf(Yf,{brighter:function(t){return t=null==t?Jf:Math.pow(Jf,t),new vp(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Xf:Math.pow(Xf,t),new vp(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new up(yp(t>=240?t-240:t+120,r,i),yp(t,r,i),yp(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const _p=t=>()=>t;function wp(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):_p(isNaN(t)?e:t)}function xp(t){return function(e){var n,i,r=e.length,o=new Array(r),s=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=lp(e[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=t(o),s=t(s),a=t(a),i.opacity=1,function(t){return i.r=o(t),i.g=s(t),i.b=a(t),i+""}}}!function t(e){var n=function(t){return 1==(t=+t)?wp:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):_p(isNaN(e)?n:e)}}(e);function i(t,e){var i=n((t=lp(t)).r,(e=lp(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),s=wp(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);var Sp=xp((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],s=i>0?t[i-1]:2*r-o,a=i<e-1?t[i+2]:2*o-r;return bp((n-i/e)*e,s,r,o,a)}}));xp((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],s=t[(i+1)%e],a=t[(i+2)%e];return bp((n-i/e)*e,r,o,s,a)}}));const Ep=t=>Sp(t[t.length-1]);var Mp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Wf);Ep(Mp);var Tp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Wf);Ep(Tp);var Rp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Wf);function Op(t,e,n,i,r,o,s){try{var a=t[o](s),g=a.value}catch(t){return void n(t)}a.done?e(g):Promise.resolve(g).then(i,r)}function Lp(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function s(t){Op(o,i,r,s,a,"next",t)}function a(t){Op(o,i,r,s,a,"throw",t)}s(void 0)}))}}Ep(Rp);var kp={a:Mp[9],b:Tp[9],c:Rp[9]},Dp=["M323.625,348.825c-6.8,0-13.5-2.6-18.7-7.8c-15.4-15.4-36-23.9-57.8-23.9s-42.4,8.5-57.8,23.9\n\t\t\t\tc-10.3,10.3-27.1,10.3-37.4,0c-10.3-10.3-10.3-27.1,0-37.4c25.4-25.4,59.2-39.4,95.2-39.4s69.8,14,95.2,39.5\n\t\t\t\tc10.3,10.3,10.3,27.1,0,37.4C337.225,346.225,330.425,348.825,323.625,348.825z","M395.225,277.325c-6.8,0-13.5-2.6-18.7-7.8c-71.4-71.3-187.4-71.3-258.8,0c-10.3,10.3-27.1,10.3-37.4,0s-10.3-27.1,0-37.4c92-92,241.6-92,333.6,0c10.3,10.3,10.3,27.1,0,37.4C408.725,274.725,401.925,277.325,395.225,277.325z","M467.925,204.625c-6.8,0-13.5-2.6-18.7-7.8c-111.5-111.4-292.7-111.4-404.1,0c-10.3,10.3-27.1,10.3-37.4,0s-10.3-27.1,0-37.4c64-64,149-99.2,239.5-99.2s175.5,35.2,239.5,99.2c10.3,10.3,10.3,27.1,0,37.4C481.425,202.025,474.625,204.625,467.925,204.625z"],Np=function(t){return t>2};const Pp=function(t,e,n,i){var r=function(){var t=Dp.map((function(t){return _d("path").attr("d",t).attr("fill","grey")}));return t.push(_d("circle",{cx:"247.125",cy:"398.925",r:"35.3",fill:"black"})),{p:t,icon:_d("svg",{height:24,width:24,class:"icon"},_d("g",{transform:"scale(0.0310)"},t))}}(),o=r.icon,s=r.p,a=bd("label"),g=0,A=n.value||"",C=!1,I=function(){s.forEach((function(t){t.attr("fill","grey")}));for(var t=0;t<g;t++)s[t].attr("fill","black");s[3].attr("fill","black"),C&&s[3].attr("fill","grey")};o.onclick=function(t){if(!C&&(g+=1,g%=4,I(),0==g?c.setAttribute("disabled",!0):c.removeAttribute("disabled"),c.value=null,c.style.backgroundColor="white",l(),g>0)){c.value=1;var e=h[g]+"-"+c.value;u(e)}};var c=bd("input",{type:"number",max:99,min:0}),l=function(){A.length>0&&null!==A.match(/[abc]-[\d+]/)&&(n.in&&t.unlink(A,e),n.out&&t.unlink(e,A),A="",i(""))},u=function(){var r=Lp(regeneratorRuntime.mark((function r(o){var s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(o.length>0)){r.next=14;break}if(!n.in){r.next=4;break}return r.next=4,t.link(o,e);case 4:if(!n.out){r.next=7;break}return r.next=7,t.link(e,o);case 7:A=o,i(o),s=o.split("-"),c.style.backgroundColor=kp[s[0]][(s[1]-1)%5+3],c.style.color=Np((s[1]-1)%5)?"white":"black",r.next=16;break;case 14:c.style.color="black",c.style.backgroundColor="white";case 16:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}(),h=["none","a","b","c"];c.onchange=function(t){if(0!=g){var e=h[g]+"-"+c.value;l(),""!==c.value?u(e):(c.value=null,c.style.backgroundColor="white")}};var d=function(){var t=Lp(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=A.split("-"),c.value=parseInt(e[1]),g=e[0].charCodeAt()-96,I(),u(A);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return A.length>0&&null!==A.match(/[abc]-[\d+]/)?d():(g=0,c.setAttribute("disabled",!0)),a.mode=function(){return g},a.append(o),a.append(c),a.reset=function(){0!=g&&(l(),g=0,I(),c.setAttribute("disabled",!0),c.value=null,c.style.backgroundColor="white")},a.disabled=function(t){C=t,I()},a},jp="\n            label {\n  position: relative;\n}\nlabel > .icon {\n  position: absolute;\n  top: 50%;\n  left: 10px;\n  transform: translateY(-50%);\n}\nlabel > input {\n  padding-left: calc(1em + 10px + 8px); /* icon width + icon padding-left + desired separation*/\n  height: 1.35em;\n  width: 2.45em;\n}\n.icon {\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n  cursor: pointer;\n}\nsvg {\n  opacity: 0.8\n}\nsvg:hover {\n  opacity: 1.0\n}\n";function Fp(t){return Fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(t)}function zp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bp(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Up(t,e){if(e&&("object"===Fp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Hp(t){var e="function"==typeof Map?new Map:void 0;return Hp=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Gp(t,arguments,Zp(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Vp(n,t)},Hp(t)}function Gp(t,e,n){return Gp=Wp()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Vp(r,n.prototype),r},Gp.apply(null,arguments)}function Wp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Vp(t,e){return Vp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Vp(t,e)}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zp(t)}var Yp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vp(t,e)}(a,t);var e,n,i,r,o,s=(e=a,n=Wp(),function(){var t,i=Zp(e);if(n){var r=Zp(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return Up(this,t)});function a(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;zp(this,a),(n=s.call(this)).shadow=n.attachShadow({mode:"open"});var o=bd("style");return o.innerHTML=jp,n.shadow.appendChild(o),n.bridge=t,n.node=e,n.args=i,n.onchange=r,n._disabled=i.disabled||!1,n.render(),n}return i=a,o=[{key:"is",get:function(){return"ui-state-bridge-v1"}}],(r=[{key:"mode",get:function(){return this.input.mode()}},{key:"node",get:function(){return this._node},set:function(t){this._node=t}},{key:"bridge",get:function(){return this._bridge},set:function(t){this._bridge=t}},{key:"args",get:function(){return this._args},set:function(t){this._args=t}},{key:"disabled",get:function(){return this._disabled},set:function(t){"reset"in this&&this.reset(),this._disabled=t,this.input.disabled(t)}},{key:"connectedCallback",value:function(){}},{key:"disconnectedCallback",value:function(){}},{key:"render",value:function(){var t=this,e=Pp(this.bridge,this.node,{in:!0,out:!0,value:this.args.io||""},(function(e){"onchange"in t&&"function"==typeof t.onchange&&t.onchange(e)}));this.div=bd("div"),this.div.appendChild(e),this.input=e,this.reset=e.reset,this.shadow.appendChild(this.div)}}])&&Bp(i.prototype,r),o&&Bp(i,o),a}(Hp(HTMLElement));function Xp(t,e,n,i,r,o,s){try{var a=t[o](s),g=a.value}catch(t){return void n(t)}a.done?e(g):Promise.resolve(g).then(i,r)}function Jp(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function s(t){Xp(o,i,r,s,a,"next",t)}function a(t){Xp(o,i,r,s,a,"throw",t)}s(void 0)}))}}customElements.define(Yp.is,Yp);var Kp={a:Mp[9],b:Tp[9],c:Rp[9]},qp=["☷","☳","☱","☰"],Qp=function(t){var e,n,i;return t.match(/^rgb/)?(e=(t=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/))[1],n=t[2],i=t[3]):(e=(t=+("0x"+t.slice(1).replace(t.length<5&&/./g,"$&$&")))>>16,n=t>>8&255,i=255&t),Math.sqrt(e*e*.299+n*n*.587+i*i*.114)>127.5?1:0};const $p="\nlabel {\n  position: relative;\n}\nlabel > .icon {\n  position: absolute;\n  left: 5px;\n  top: 50%;\n  transform: translateY(-50%);\n  cursor: pointer;\n  width: 1em;\n}\nlabel > input {\n  padding-left: calc(1em + 12px ); \n  height: 1.35em;\n  width: 2.25em;\n  border-radius: 5px;\n}\nlabel > .status {\n  position: absolute;\n  top: 50%;\n  right: 4px;\n  transform: translateY(-50%);\n  vertical-align: middle;\n} \n";function tm(t){return tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(t)}function em(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nm(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function im(t,e){if(e&&("object"===tm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rm(t){var e="function"==typeof Map?new Map:void 0;return rm=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return om(t,arguments,gm(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),am(n,t)},rm(t)}function om(t,e,n){return om=sm()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&am(r,n.prototype),r},om.apply(null,arguments)}function sm(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function am(t,e){return am=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},am(t,e)}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gm(t)}var Am=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&am(t,e)}(a,t);var e,n,i,r,o,s=(e=a,n=sm(),function(){var t,i=gm(e);if(n){var r=gm(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return im(this,t)});function a(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;em(this,a),(n=s.call(this)).shadow=n.attachShadow({mode:"open"});var o=bd("style");return o.innerHTML=$p,n.shadow.appendChild(o),n.bridge=t,n.node=e,n.args=i,n.onchange=r,n._disabled=i.disabled||!1,n.render(),n}return i=a,o=[{key:"is",get:function(){return"ui-state-bridge"}}],(r=[{key:"mode",get:function(){return this.input.mode()}},{key:"node",get:function(){return this._node},set:function(t){this._node=t}},{key:"bridge",get:function(){return this._bridge},set:function(t){this._bridge=t}},{key:"args",get:function(){return this._args},set:function(t){this._args=t}},{key:"disabled",get:function(){return this._disabled},set:function(t){"reset"in this&&this.reset(),this._disabled=t,this.input.disabled(t)}},{key:"connectedCallback",value:function(){}},{key:"disconnectedCallback",value:function(){}},{key:"render",value:function(){var t=this,e=function(t,e,n,i){var r=bd("span"),o=bd("span");o.className="status",r.className="icon";var s=bd("div"),a=bd("label");s.appendChild(a),a.appendChild(o);var g=0;e.effect=!0,e._onMessageEffect_=function(t,e){o.style.color=d(l),setTimeout((function(){o.style.color=h(l)}),500),0!==g&&(o.innerHTML="&#x21A2")},e._postMessageEffect_=function(t){o.style.color=d(l),setTimeout((function(){o.style.color=h(l)}),500),0!==g&&(o.innerHTML="&#x21A3")};var A=n.value||"",C=!1,I=function(){r.style.color=0==g?"grey":u(!0),o.style.color=h(!0),r.innerHTML=qp[g],C&&(r.innerHTML=qp[0])};r.onclick=function(t){if(!C&&(g+=1,g%=4,I(),o.innerHTML="",0==g?c.setAttribute("disabled",!0):c.removeAttribute("disabled"),c.value=null,c.style.backgroundColor="white",f(),g>0)){c.value=1;var e=m[g]+"-"+c.value;p(e)}};var c=bd("input",{type:"number",max:99,min:0}),l=!0,u=function(t){return t?"#1E1E1E":"#E0E0E0"},h=function(t){return t?"#404040":"#D0D0D0"},d=function(t){return t?"#000000":"#FFFFFF"},f=function(){A.length>0&&null!==A.match(/[abc]-[\d+]/)&&(n.in&&t.unlink(A,e),n.out&&t.unlink(e,A),A="",o.innerHTML="",i(""))},p=function(){var s=Jp(regeneratorRuntime.mark((function s(a){var g,C,I;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(a.length>0)){s.next=19;break}if(!n.in){s.next=4;break}return s.next=4,t.link(a,e);case 4:if(!n.out){s.next=7;break}return s.next=7,t.link(e,a);case 7:A=a,i(a),g=a.split("-"),C=Kp[g[0]][(g[1]-1)%5+3],c.style.backgroundColor=C,l=Qp(C),I=l?"black":"white",c.style.color=I,r.style.color=u(l),o.style.color=h(l),s.next=23;break;case 19:c.style.color="black",r.style.color=u(!0),o.style.color=h(!0),c.style.backgroundColor="white";case 23:case"end":return s.stop()}}),s)})));return function(t){return s.apply(this,arguments)}}(),m=["none","a","b","c"];c.onchange=function(t){if(0!=g){var e=m[g]+"-"+c.value;f(),""!==c.value?p(e):(c.value=null,c.style.backgroundColor="white")}};var v=function(){var t=Jp(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=A.split("-"),c.value=parseInt(e[1]),g=e[0].charCodeAt()-96,I(),o.innerHTML="",p(A);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return A.length>0&&null!==A.match(/[abc]-[\d+]/)?v():(g=0,c.setAttribute("disabled",!0),I()),s.mode=function(){return g},a.append(r),a.append(c),s.reset=function(){0!=g&&(f(),g=0,I(),o.innerHTML="",c.setAttribute("disabled",!0),c.value=null,c.style.backgroundColor="white")},s.disabled=function(t){C=t,I()},a.onmouseover=function(){o.style.display="none"},a.onmouseout=function(){o.style.display=null},c.onfocus=function(){o.innerHTML=""},s}(this.bridge,this.node,{in:!0,out:!0,value:this.args.io||""},(function(e){"onchange"in t&&"function"==typeof t.onchange&&t.onchange(e)}));this.div=bd("div"),this.div.appendChild(e),this.input=e,this.reset=e.reset,this.shadow.appendChild(this.div)}}])&&nm(i.prototype,r),o&&nm(i,o),a}(rm(HTMLElement));customElements.define(Am.is,Am);const Cm=Am;function Im(t){return Im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(t)}function cm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lm(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function um(t,e){if(e&&("object"===Im(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function hm(t){var e="function"==typeof Map?new Map:void 0;return hm=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return dm(t,arguments,mm(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),pm(n,t)},hm(t)}function dm(t,e,n){return dm=fm()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&pm(r,n.prototype),r},dm.apply(null,arguments)}function fm(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function pm(t,e){return pm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},pm(t,e)}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mm(t)}var vm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pm(t,e)}(a,t);var e,n,i,r,o,s=(e=a,n=fm(),function(){var t,i=mm(e);if(n){var r=mm(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return um(this,t)});function a(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return cm(this,a),(n=s.call(this)).shadow=n.attachShadow({mode:"open"}),n.bridge=t,n.node=e,n.args=i,n.onchange=r,n}return i=a,o=[{key:"is",get:function(){return"reflex-ui-bridge"}}],(r=[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"node",get:function(){return this._node},set:function(t){this._node=t}},{key:"bridge",get:function(){return this._bridge},set:function(t){this._bridge=t}},{key:"args",get:function(){return this._args},set:function(t){this._args=t}},{key:"connectedCallback",value:function(){this.render()}},{key:"disconnectedCallback",value:function(){}},{key:"render",value:function(){this.shadow.innerHTML="\n\t\t<style>\n\t\t\t:host{\n                all:initial;\n\t\t\t}\n            .in {\n                float:left;\n            }\n            .out {\n                float:right;\n            }\n   \t\t\t:host{\n                all:initial;\n\t\t\t}\n        "+jp+"   \n\t\t</style>\n        ";var t=bd("div");this.div=t;var e=this.bridge,n=this.node,i=this.args,r=Pp(e,n,{in:!0,out:!1,value:i.input||""},(function(t){i.input=t}));r.className="in";var o=Pp(e,n,{in:!1,out:!0,value:i.output||""},(function(t){i.output=t}));o.className="out",this.div.appendChild(r),this.div.appendChild(o),this.shadow.appendChild(this.div)}}])&&lm(i.prototype,r),o&&lm(i,o),a}(hm(HTMLElement));Xh(vm);const ym=vm,bm=JSON.parse('{"u2":"@reflexiv/pkg-demo-bridge","i8":"0.0.1"}');var _m,wm=new Uint8Array(16);function xm(){if(!_m&&!(_m="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _m(wm)}const Sm=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Em=function(t){return"string"==typeof t&&Sm.test(t)};for(var Mm=[],Tm=0;Tm<256;++Tm)Mm.push((Tm+256).toString(16).substr(1));const Rm=function(t,e,n){var i=(t=t||{}).random||(t.rng||xm)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Mm[t[e+0]]+Mm[t[e+1]]+Mm[t[e+2]]+Mm[t[e+3]]+"-"+Mm[t[e+4]]+Mm[t[e+5]]+"-"+Mm[t[e+6]]+Mm[t[e+7]]+"-"+Mm[t[e+8]]+Mm[t[e+9]]+"-"+Mm[t[e+10]]+Mm[t[e+11]]+Mm[t[e+12]]+Mm[t[e+13]]+Mm[t[e+14]]+Mm[t[e+15]]).toLowerCase();if(!Em(n))throw TypeError("Stringified UUID is invalid");return n}(i)};function Om(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Lm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var km=bm.i8,Dm=bm.u2.split("/"),Nm=Dm[Dm.length-1],Pm=new tt(Nm,km,(function(t,e){return function(n,i){n.setState(i);var o=r(n);o.innerHTML="";var s=document.createElement("div");s.style.padding="10px",o.appendChild(s);var a=new Mt;a.process=function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Om(Object(n),!0).forEach((function(e){Lm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Om(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);return e.text=t.text+" "+i.text,e};var g=e||{};g.args=i;var A=new ym(t.bridge,a,g.args),C=document.createElement("div");C.style.height="50px",C.appendChild(A),s.appendChild(C);var I=document.createElement("div");s.appendChild(I),I.innerHTML="input message";var c=document.createElement("input");c.setAttribute("value",i.text),s.appendChild(c);var l=document.createElement("div");return s.appendChild(l),l.innerHTML="output message",c.addEventListener("keyup",(function(t){"Enter"===t.key&&c.blur()})),c.onblur=function(){var t=c.value;i.text=t,n.setState(i),I.innerHTML="input message",a.postMessage({_uuid_:Rm(),text:t}),l.innerHTML="I say: "+t},a.onMessage=function(t,e){"text"in t&&void 0!==t.text&&(I.innerHTML=t.text,l.innerHTML=a.process(t).text)},a.postMessage=function(t){},n.on("resize",(function(t){})),function(e){""!==i.output&&t.bridge.unlink(a,i.output),""!==i.input&&t.bridge.unlink(i.input,a),a&&"close"in a&&a.close(),a=null}}}),{input:"",output:"",text:"init text",message:"",post:""},["service-bridge"]);const jm=Pm;var Fm={value:()=>{}};function zm(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Bm(i)}function Bm(t){this._=t}function Um(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Hm(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function Gm(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Fm,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}Bm.prototype=zm.prototype={constructor:Bm,on:function(t,e){var n,i=this._,r=Um(t+"",i),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=Gm(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Gm(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=Hm(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Bm(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};const Wm=zm;function Vm(t){return Vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(t)}function Zm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ym(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zm(Object(n),!0).forEach((function(e){Xm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jm(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Km(t,e){return Km=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Km(t,e)}function qm(t,e){if(e&&("object"===Vm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qm(t)}function Qm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$m(t)}var tv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Km(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$m(i);if(r){var n=$m(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return qm(this,t)});function s(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this))._=e,n.dispatch=t;var i=Qm(n);return n._uuid="dispatch-"+n._uuid,n.onMessage=function(t,e){Ym(Ym({},t.data),{},{_from_:"external"}),"code"in t&&t.code in i._&&i.dispatch.call(t.code,this,t.data)},n}return e=s,n=[{key:"on",value:function(t,e){this.dispatch.on(t,e)}},{key:"call",value:function(t,e,n){this.dispatch.call(t,e,n),"_from_"in n&&"external"==n._from_||this.postMessage({code:t,data:n})}}],n&&Jm(e.prototype,n),s}(Mt);const ev=JSON.parse('{"u2":"@reflexiv/pkg-demo-dispatch","i8":"0.0.1"}');var nv=void 0,iv=ev.i8,rv=ev.u2.split("/"),ov=rv[rv.length-1];const sv=new tt(ov,iv,(function(t,e){return function(n,i){n.setState(i);var o=r(n);o.innerHTML="";var s=document.createElement("div");s.style.padding="10px",o.appendChild(s);var a=function(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}var r=Wm.apply(void 0,arguments);return new tv(r,i)}("hover","click","clear");a.effect=!0,(e||{}).args=i;var g=new Cm(t.bridge,a,i,(function(t){i.io=t}));s.appendChild(g);var A=document.createElement("hr");s.appendChild(A);var C=document.createElement("div"),I=document.createElement("input");I.setAttribute("type","button"),I.setAttribute("value","Click Me"),I.onclick=function(t){a.call("click",nv,[])},I.onmouseover=function(t){a.call("hover",nv,[])},I.onmouseout=function(t){a.call("clear",nv,[])};var c=document.createElement("div");return a.on("click",(function(t){c.innerHTML="Click @ "+i.io})),a.on("hover",(function(t){c.innerHTML="Mouse Over @ "+i.io})),a.on("clear",(function(t){c.innerHTML=""})),C.appendChild(I),C.appendChild(c),s.appendChild(C),n.on("resize",(function(t){})),function(e){""!==i.io&&(t.bridge.unlink(a,i.io),t.bridge.unlink(i.io,a)),a&&"close"in a&&a.close(),a=null}}}),{input:"",output:"",text:"init text",message:"",post:""},["service-bridge"]),av=JSON.parse('{"u2":"@reflexiv/pkg-demo-state","i8":"0.0.1"}');var gv=av.i8,Av=av.u2.split("/"),Cv=Av[Av.length-1],Iv=function(t,e){t.innerHTML="",Object.keys(e).forEach((function(n){var i=document.createElement("tr"),r=document.createElement("td"),o=document.createElement("td");r.innerText=n,"string"==typeof e[n]?o.innerText=e[n]:o.innerText=JSON.stringify(e[n]),i.appendChild(r),i.appendChild(o),t.appendChild(i)}))},cv=function(t,e){Iv(t,"data"in e?e.data:{})},lv=function(t){["text","click","hover"].forEach((function(e){t.define(e,(function(t,e){}))})),t.state.text="",t.state.click=!1,t.state.hover=!1};const uv=new tt(Cv,gv,(function(t,e){return function(n,i){n.setState(i);var o=r(n);o.innerHTML="";var s=document.createElement("div"),a=document.createElement("table");s.style.padding="10px",o.appendChild(s),(e||{}).args=i;var g=new Ft,A=new Cm(t.bridge,g,i,(function(t){i.io=t,cv(a,g)}));s.appendChild(A);var C=document.createElement("hr");s.appendChild(C);var I=document.createElement("div"),c=document.createElement("input"),l=document.createElement("input"),u=document.createElement("input");u.setAttribute("type","button"),u.setAttribute("value","submit");var h=document.createElement("input");h.setAttribute("type","button"),h.setAttribute("value","delete"),I.appendChild(c),I.appendChild(l),I.appendChild(u),I.appendChild(h);var d=document.createElement("div");return I.appendChild(d),d.appendChild(a),s.appendChild(I),u.onclick=function(t){var e=c.value,n=l.value;e in g.state||g.define(e,(function(t,e){})),g.state[e]=n},h.onclick=function(t){var e=c.value;g.delete(e)},g.onMessage=function(t){"text"in t&&("text"in g.state||lv(g),g.state.text=t.text),"code"in t&&("hover"==t.code&&("hover"in g||lv(g),g.state.hover=!0),"click"==t.code&&("click"in g||lv(g),g.state.click=!0),"clear"==t.code&&(g.hover=!1,g.state.click=!1))},g.on("change",(function(t){console.log("on change"),cv(a,g)})),n.on("resize",(function(t){})),function(e){i.io&&""!==i.io&&(t.bridge.unlink(g,i.io),t.bridge.unlink(i.io,g)),g&&"close"in g&&(g.close(),Iv(a,{})),g=null}}}),{io:"",states:{}},["bridge"]),hv=100,dv=1e3,fv=1001,pv=1002,mv=1003,vv=1006,yv=1008,bv=1012,_v=1014,wv=1015,xv=1016,Sv=1020,Ev=1022,Mv=1023,Tv=1026,Rv=1027,Ov=2300,Lv=2301,kv=2302,Dv=2400,Nv=2401,Pv=2402,jv=3e3,Fv=7680,zv=35044,Bv=35048,Uv="300 es";function Hv(){}Object.assign(Hv.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}},dispatchEvent:function(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let e=0,i=n.length;e<i;e++)n[e].call(this,t)}}});const Gv=[];for(let t=0;t<256;t++)Gv[t]=(t<16?"0":"")+t.toString(16);let Wv=1234567;const Vv={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Gv[255&t]+Gv[t>>8&255]+Gv[t>>16&255]+Gv[t>>24&255]+"-"+Gv[255&e]+Gv[e>>8&255]+"-"+Gv[e>>16&15|64]+Gv[e>>24&255]+"-"+Gv[63&n|128]+Gv[n>>8&255]+"-"+Gv[n>>16&255]+Gv[n>>24&255]+Gv[255&i]+Gv[i>>8&255]+Gv[i>>16&255]+Gv[i>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(Wv=t%2147483647),Wv=16807*Wv%2147483647,(Wv-1)/2147483646},degToRad:function(t){return t*Vv.DEG2RAD},radToDeg:function(t){return t*Vv.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,r){const o=Math.cos,s=Math.sin,a=o(n/2),g=s(n/2),A=o((e+i)/2),C=s((e+i)/2),I=o((e-i)/2),c=s((e-i)/2),l=o((i-e)/2),u=s((i-e)/2);switch(r){case"XYX":t.set(a*C,g*I,g*c,a*A);break;case"YZY":t.set(g*c,a*C,g*I,a*A);break;case"ZXZ":t.set(g*I,g*c,a*C,a*A);break;case"XZX":t.set(a*C,g*u,g*l,a*A);break;case"YXY":t.set(g*l,a*C,g*u,a*A);break;case"ZYZ":t.set(g*u,g*l,a*C,a*A);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};class Zv{constructor(t=0,e=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*i+t.x,this.y=r*i+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class Yv{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,i,r,o,s,a,g){const A=this.elements;return A[0]=t,A[1]=i,A[2]=s,A[3]=e,A[4]=r,A[5]=a,A[6]=n,A[7]=o,A[8]=g,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return(new this.constructor).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,o=n[0],s=n[3],a=n[6],g=n[1],A=n[4],C=n[7],I=n[2],c=n[5],l=n[8],u=i[0],h=i[3],d=i[6],f=i[1],p=i[4],m=i[7],v=i[2],y=i[5],b=i[8];return r[0]=o*u+s*f+a*v,r[3]=o*h+s*p+a*y,r[6]=o*d+s*m+a*b,r[1]=g*u+A*f+C*v,r[4]=g*h+A*p+C*y,r[7]=g*d+A*m+C*b,r[2]=I*u+c*f+l*v,r[5]=I*h+c*p+l*y,r[8]=I*d+c*m+l*b,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],g=t[7],A=t[8];return e*o*A-e*s*g-n*r*A+n*s*a+i*r*g-i*o*a}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],g=t[7],A=t[8],C=A*o-s*g,I=s*a-A*r,c=g*r-o*a,l=e*C+n*I+i*c;if(0===l)return this.set(0,0,0,0,0,0,0,0,0);const u=1/l;return t[0]=C*u,t[1]=(i*g-A*n)*u,t[2]=(s*n-i*o)*u,t[3]=I*u,t[4]=(A*e-i*a)*u,t[5]=(i*r-s*e)*u,t[6]=c*u,t[7]=(n*a-g*e)*u,t[8]=(o*e-n*r)*u,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).copy(this).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,i,r,o,s){const a=Math.cos(r),g=Math.sin(r);this.set(n*a,n*g,-n*(a*o+g*s)+o+t,-i*g,i*a,-i*(-g*o+a*s)+s+e,0,0,1)}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],o=i[3],s=i[6],a=i[1],g=i[4],A=i[7];return i[0]=e*r+n*a,i[3]=e*o+n*g,i[6]=e*s+n*A,i[1]=-n*r+e*a,i[4]=-n*o+e*g,i[7]=-n*s+e*A,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<9;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}let Xv;const Jv={getDataURL:function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Xv&&(Xv=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Xv.width=t.width,Xv.height=t.height;const n=Xv.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=Xv}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}};let Kv=0;function qv(t=qv.DEFAULT_IMAGE,e=qv.DEFAULT_MAPPING,n=1001,i=1001,r=1006,o=1008,s=1023,a=1009,g=1,A=3e3){Object.defineProperty(this,"id",{value:Kv++}),this.uuid=Vv.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=g,this.format=s,this.internalFormat=null,this.type=a,this.offset=new Zv(0,0),this.repeat=new Zv(1,1),this.center=new Zv(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Yv,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=A,this.version=0,this.onUpdate=null}function Qv(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?Jv.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}qv.DEFAULT_IMAGE=void 0,qv.DEFAULT_MAPPING=300,qv.prototype=Object.assign(Object.create(Hv.prototype),{constructor:qv,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const i=this.image;if(void 0===i.uuid&&(i.uuid=Vv.generateUUID()),!e&&void 0===t.images[i.uuid]){let e;if(Array.isArray(i)){e=[];for(let t=0,n=i.length;t<n;t++)i[t].isDataTexture?e.push(Qv(i[t].image)):e.push(Qv(i[t]))}else e=Qv(i);t.images[i.uuid]={uuid:i.uuid,url:e}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case dv:t.x=t.x-Math.floor(t.x);break;case fv:t.x=t.x<0?0:1;break;case pv:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case dv:t.y=t.y-Math.floor(t.y);break;case fv:t.y=t.y<0?0:1;break;case pv:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(qv.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}});class $v{constructor(t=0,e=0,n=0,i=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=e,this.z=n,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*e+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*e+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*e+o[7]*n+o[11]*i+o[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,i,r;const o=.01,s=.1,a=t.elements,g=a[0],A=a[4],C=a[8],I=a[1],c=a[5],l=a[9],u=a[2],h=a[6],d=a[10];if(Math.abs(A-I)<o&&Math.abs(C-u)<o&&Math.abs(l-h)<o){if(Math.abs(A+I)<s&&Math.abs(C+u)<s&&Math.abs(l+h)<s&&Math.abs(g+c+d-3)<s)return this.set(1,0,0,0),this;e=Math.PI;const t=(g+1)/2,a=(c+1)/2,f=(d+1)/2,p=(A+I)/4,m=(C+u)/4,v=(l+h)/4;return t>a&&t>f?t<o?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(t),i=p/n,r=m/n):a>f?a<o?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(a),n=p/i,r=v/i):f<o?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(f),n=m/r,i=v/r),this.set(n,i,r,e),this}let f=Math.sqrt((h-l)*(h-l)+(C-u)*(C-u)+(I-A)*(I-A));return Math.abs(f)<.001&&(f=1),this.x=(h-l)/f,this.y=(C-u)/f,this.z=(I-A)/f,this.w=Math.acos((g+c+d-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function ty(t,e,n){this.width=t,this.height=e,this.scissor=new $v(0,0,t,e),this.scissorTest=!1,this.viewport=new $v(0,0,t,e),n=n||{},this.texture=new qv(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:vv,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function ey(t,e,n){ty.call(this,t,e,n),this.samples=4}ty.prototype=Object.assign(Object.create(Hv.prototype),{constructor:ty,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ey.prototype=Object.assign(Object.create(ty.prototype),{constructor:ey,isWebGLMultisampleRenderTarget:!0,copy:function(t){return ty.prototype.copy.call(this,t),this.samples=t.samples,this}});class ny{constructor(t=0,e=0,n=0,i=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=e,this._z=n,this._w=i}static slerp(t,e,n,i){return n.copy(t).slerp(e,i)}static slerpFlat(t,e,n,i,r,o,s){let a=n[i+0],g=n[i+1],A=n[i+2],C=n[i+3];const I=r[o+0],c=r[o+1],l=r[o+2],u=r[o+3];if(C!==u||a!==I||g!==c||A!==l){let t=1-s;const e=a*I+g*c+A*l+C*u,n=e>=0?1:-1,i=1-e*e;if(i>Number.EPSILON){const r=Math.sqrt(i),o=Math.atan2(r,e*n);t=Math.sin(t*o)/r,s=Math.sin(s*o)/r}const r=s*n;if(a=a*t+I*r,g=g*t+c*r,A=A*t+l*r,C=C*t+u*r,t===1-s){const t=1/Math.sqrt(a*a+g*g+A*A+C*C);a*=t,g*=t,A*=t,C*=t}}t[e]=a,t[e+1]=g,t[e+2]=A,t[e+3]=C}static multiplyQuaternionsFlat(t,e,n,i,r,o){const s=n[i],a=n[i+1],g=n[i+2],A=n[i+3],C=r[o],I=r[o+1],c=r[o+2],l=r[o+3];return t[e]=s*l+A*C+a*c-g*I,t[e+1]=a*l+A*I+g*C-s*c,t[e+2]=g*l+A*c+s*I-a*C,t[e+3]=A*l-s*C-a*I-g*c,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,i=t._y,r=t._z,o=t._order,s=Math.cos,a=Math.sin,g=s(n/2),A=s(i/2),C=s(r/2),I=a(n/2),c=a(i/2),l=a(r/2);switch(o){case"XYZ":this._x=I*A*C+g*c*l,this._y=g*c*C-I*A*l,this._z=g*A*l+I*c*C,this._w=g*A*C-I*c*l;break;case"YXZ":this._x=I*A*C+g*c*l,this._y=g*c*C-I*A*l,this._z=g*A*l-I*c*C,this._w=g*A*C+I*c*l;break;case"ZXY":this._x=I*A*C-g*c*l,this._y=g*c*C+I*A*l,this._z=g*A*l+I*c*C,this._w=g*A*C-I*c*l;break;case"ZYX":this._x=I*A*C-g*c*l,this._y=g*c*C+I*A*l,this._z=g*A*l-I*c*C,this._w=g*A*C+I*c*l;break;case"YZX":this._x=I*A*C+g*c*l,this._y=g*c*C+I*A*l,this._z=g*A*l-I*c*C,this._w=g*A*C-I*c*l;break;case"XZY":this._x=I*A*C-g*c*l,this._y=g*c*C-I*A*l,this._z=g*A*l+I*c*C,this._w=g*A*C+I*c*l;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],i=e[4],r=e[8],o=e[1],s=e[5],a=e[9],g=e[2],A=e[6],C=e[10],I=n+s+C;if(I>0){const t=.5/Math.sqrt(I+1);this._w=.25/t,this._x=(A-a)*t,this._y=(r-g)*t,this._z=(o-i)*t}else if(n>s&&n>C){const t=2*Math.sqrt(1+n-s-C);this._w=(A-a)/t,this._x=.25*t,this._y=(i+o)/t,this._z=(r+g)/t}else if(s>C){const t=2*Math.sqrt(1+s-n-C);this._w=(r-g)/t,this._x=(i+o)/t,this._y=.25*t,this._z=(a+A)/t}else{const t=2*Math.sqrt(1+C-n-s);this._w=(o-i)/t,this._x=(r+g)/t,this._y=(a+A)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Vv.clamp(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const i=Math.min(1,e/n);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,i=t._y,r=t._z,o=t._w,s=e._x,a=e._y,g=e._z,A=e._w;return this._x=n*A+o*s+i*g-r*a,this._y=i*A+o*a+r*s-n*g,this._z=r*A+o*g+n*a-i*s,this._w=o*A-n*s-i*a-r*g,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,i=this._y,r=this._z,o=this._w;let s=o*t._w+n*t._x+i*t._y+r*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;const a=1-s*s;if(a<=Number.EPSILON){const t=1-e;return this._w=t*o+e*this._w,this._x=t*n+e*this._x,this._y=t*i+e*this._y,this._z=t*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const g=Math.sqrt(a),A=Math.atan2(g,s),C=Math.sin((1-e)*A)/g,I=Math.sin(e*A)/g;return this._w=o*C+this._w*I,this._x=n*C+this._x*I,this._y=i*C+this._y*I,this._z=r*C+this._z*I,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class iy{constructor(t=0,e=0,n=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(oy.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(oy.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=t.elements,o=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,i=this.z,r=t.x,o=t.y,s=t.z,a=t.w,g=a*e+o*i-s*n,A=a*n+s*e-r*i,C=a*i+r*n-o*e,I=-r*e-o*n-s*i;return this.x=g*a+I*-r+A*-s-C*-o,this.y=A*a+I*-o+C*-r-g*-s,this.z=C*a+I*-s+g*-o-A*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,i=t.y,r=t.z,o=e.x,s=e.y,a=e.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return ry.copy(this).projectOnVector(t),this.sub(ry)}reflect(t){return this.sub(ry.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Vv.clamp(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const ry=new iy,oy=new ny;class sy{constructor(t,e){Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new iy(1/0,1/0,1/0),this.max=void 0!==e?e:new iy(-1/0,-1/0,-1/0)}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,g=t.length;a<g;a+=3){const g=t[a],A=t[a+1],C=t[a+2];g<e&&(e=g),A<n&&(n=A),C<i&&(i=C),g>r&&(r=g),A>o&&(o=A),C>s&&(s=C)}return this.min.set(e,n,i),this.max.set(r,o,s),this}setFromBufferAttribute(t){let e=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,g=t.count;a<g;a++){const g=t.getX(a),A=t.getY(a),C=t.getZ(a);g<e&&(e=g),A<n&&(n=A),C<i&&(i=C),g>r&&(r=g),A>o&&(o=A),C>s&&(s=C)}return this.min.set(e,n,i),this.max.set(r,o,s),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=Ay.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new iy),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new iy),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),Cy.copy(e.boundingBox),Cy.applyMatrix4(t.matrixWorld),this.union(Cy));const n=t.children;for(let t=0,e=n.length;t<e;t++)this.expandByObject(n[t]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new iy),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Ay),Ay.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(fy),py.subVectors(this.max,fy),Iy.subVectors(t.a,fy),cy.subVectors(t.b,fy),ly.subVectors(t.c,fy),uy.subVectors(cy,Iy),hy.subVectors(ly,cy),dy.subVectors(Iy,ly);let e=[0,-uy.z,uy.y,0,-hy.z,hy.y,0,-dy.z,dy.y,uy.z,0,-uy.x,hy.z,0,-hy.x,dy.z,0,-dy.x,-uy.y,uy.x,0,-hy.y,hy.x,0,-dy.y,dy.x,0];return!!ay(e,Iy,cy,ly,py)&&(e=[1,0,0,0,1,0,0,0,1],!!ay(e,Iy,cy,ly,py)&&(my.crossVectors(uy,hy),e=[my.x,my.y,my.z],ay(e,Iy,cy,ly,py)))}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new iy),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Ay.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(Ay).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(gy[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),gy[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),gy[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),gy[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),gy[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),gy[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),gy[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),gy[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(gy)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function ay(t,e,n,i,r){for(let o=0,s=t.length-3;o<=s;o+=3){vy.fromArray(t,o);const s=r.x*Math.abs(vy.x)+r.y*Math.abs(vy.y)+r.z*Math.abs(vy.z),a=e.dot(vy),g=n.dot(vy),A=i.dot(vy);if(Math.max(-Math.max(a,g,A),Math.min(a,g,A))>s)return!1}return!0}const gy=[new iy,new iy,new iy,new iy,new iy,new iy,new iy,new iy],Ay=new iy,Cy=new sy,Iy=new iy,cy=new iy,ly=new iy,uy=new iy,hy=new iy,dy=new iy,fy=new iy,py=new iy,my=new iy,vy=new iy,yy=new sy;class by{constructor(t,e){this.center=void 0!==t?t:new iy,this.radius=void 0!==e?e:-1}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):yy.setFromPoints(t).getCenter(n);let i=0;for(let e=0,r=t.length;e<r;e++)i=Math.max(i,n.distanceToSquared(t[e]));return this.radius=Math.sqrt(i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new iy),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new sy),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}}const _y=new iy,wy=new iy,xy=new iy,Sy=new iy,Ey=new iy,My=new iy,Ty=new iy;class Ry{constructor(t,e){this.origin=void 0!==t?t:new iy,this.direction=void 0!==e?e:new iy(0,0,-1)}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new iy),e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,_y)),this}closestPointToPoint(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new iy),e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=_y.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(_y.copy(this.direction).multiplyScalar(e).add(this.origin),_y.distanceToSquared(t))}distanceSqToSegment(t,e,n,i){wy.copy(t).add(e).multiplyScalar(.5),xy.copy(e).sub(t).normalize(),Sy.copy(this.origin).sub(wy);const r=.5*t.distanceTo(e),o=-this.direction.dot(xy),s=Sy.dot(this.direction),a=-Sy.dot(xy),g=Sy.lengthSq(),A=Math.abs(1-o*o);let C,I,c,l;if(A>0)if(C=o*a-s,I=o*s-a,l=r*A,C>=0)if(I>=-l)if(I<=l){const t=1/A;C*=t,I*=t,c=C*(C+o*I+2*s)+I*(o*C+I+2*a)+g}else I=r,C=Math.max(0,-(o*I+s)),c=-C*C+I*(I+2*a)+g;else I=-r,C=Math.max(0,-(o*I+s)),c=-C*C+I*(I+2*a)+g;else I<=-l?(C=Math.max(0,-(-o*r+s)),I=C>0?-r:Math.min(Math.max(-r,-a),r),c=-C*C+I*(I+2*a)+g):I<=l?(C=0,I=Math.min(Math.max(-r,-a),r),c=I*(I+2*a)+g):(C=Math.max(0,-(o*r+s)),I=C>0?r:Math.min(Math.max(-r,-a),r),c=-C*C+I*(I+2*a)+g);else I=o>0?-r:r,C=Math.max(0,-(o*I+s)),c=-C*C+I*(I+2*a)+g;return n&&n.copy(this.direction).multiplyScalar(C).add(this.origin),i&&i.copy(xy).multiplyScalar(I).add(wy),c}intersectSphere(t,e){_y.subVectors(t.center,this.origin);const n=_y.dot(this.direction),i=_y.dot(_y)-n*n,r=t.radius*t.radius;if(i>r)return null;const o=Math.sqrt(r-i),s=n-o,a=n+o;return s<0&&a<0?null:s<0?this.at(a,e):this.at(s,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,i,r,o,s,a;const g=1/this.direction.x,A=1/this.direction.y,C=1/this.direction.z,I=this.origin;return g>=0?(n=(t.min.x-I.x)*g,i=(t.max.x-I.x)*g):(n=(t.max.x-I.x)*g,i=(t.min.x-I.x)*g),A>=0?(r=(t.min.y-I.y)*A,o=(t.max.y-I.y)*A):(r=(t.max.y-I.y)*A,o=(t.min.y-I.y)*A),n>o||r>i?null:((r>n||n!=n)&&(n=r),(o<i||i!=i)&&(i=o),C>=0?(s=(t.min.z-I.z)*C,a=(t.max.z-I.z)*C):(s=(t.max.z-I.z)*C,a=(t.min.z-I.z)*C),n>a||s>i?null:((s>n||n!=n)&&(n=s),(a<i||i!=i)&&(i=a),i<0?null:this.at(n>=0?n:i,e)))}intersectsBox(t){return null!==this.intersectBox(t,_y)}intersectTriangle(t,e,n,i,r){Ey.subVectors(e,t),My.subVectors(n,t),Ty.crossVectors(Ey,My);let o,s=this.direction.dot(Ty);if(s>0){if(i)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}Sy.subVectors(this.origin,t);const a=o*this.direction.dot(My.crossVectors(Sy,My));if(a<0)return null;const g=o*this.direction.dot(Ey.cross(Sy));if(g<0)return null;if(a+g>s)return null;const A=-o*Sy.dot(Ty);return A<0?null:this.at(A/s,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}class Oy{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,i,r,o,s,a,g,A,C,I,c,l,u,h){const d=this.elements;return d[0]=t,d[4]=e,d[8]=n,d[12]=i,d[1]=r,d[5]=o,d[9]=s,d[13]=a,d[2]=g,d[6]=A,d[10]=C,d[14]=I,d[3]=c,d[7]=l,d[11]=u,d[15]=h,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Oy).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,i=1/Ly.setFromMatrixColumn(t,0).length(),r=1/Ly.setFromMatrixColumn(t,1).length(),o=1/Ly.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,n=t.x,i=t.y,r=t.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(i),g=Math.sin(i),A=Math.cos(r),C=Math.sin(r);if("XYZ"===t.order){const t=o*A,n=o*C,i=s*A,r=s*C;e[0]=a*A,e[4]=-a*C,e[8]=g,e[1]=n+i*g,e[5]=t-r*g,e[9]=-s*a,e[2]=r-t*g,e[6]=i+n*g,e[10]=o*a}else if("YXZ"===t.order){const t=a*A,n=a*C,i=g*A,r=g*C;e[0]=t+r*s,e[4]=i*s-n,e[8]=o*g,e[1]=o*C,e[5]=o*A,e[9]=-s,e[2]=n*s-i,e[6]=r+t*s,e[10]=o*a}else if("ZXY"===t.order){const t=a*A,n=a*C,i=g*A,r=g*C;e[0]=t-r*s,e[4]=-o*C,e[8]=i+n*s,e[1]=n+i*s,e[5]=o*A,e[9]=r-t*s,e[2]=-o*g,e[6]=s,e[10]=o*a}else if("ZYX"===t.order){const t=o*A,n=o*C,i=s*A,r=s*C;e[0]=a*A,e[4]=i*g-n,e[8]=t*g+r,e[1]=a*C,e[5]=r*g+t,e[9]=n*g-i,e[2]=-g,e[6]=s*a,e[10]=o*a}else if("YZX"===t.order){const t=o*a,n=o*g,i=s*a,r=s*g;e[0]=a*A,e[4]=r-t*C,e[8]=i*C+n,e[1]=C,e[5]=o*A,e[9]=-s*A,e[2]=-g*A,e[6]=n*C+i,e[10]=t-r*C}else if("XZY"===t.order){const t=o*a,n=o*g,i=s*a,r=s*g;e[0]=a*A,e[4]=-C,e[8]=g*A,e[1]=t*C+r,e[5]=o*A,e[9]=n*C-i,e[2]=i*C-n,e[6]=s*A,e[10]=r*C+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Dy,t,Ny)}lookAt(t,e,n){const i=this.elements;return Fy.subVectors(t,e),0===Fy.lengthSq()&&(Fy.z=1),Fy.normalize(),Py.crossVectors(n,Fy),0===Py.lengthSq()&&(1===Math.abs(n.z)?Fy.x+=1e-4:Fy.z+=1e-4,Fy.normalize(),Py.crossVectors(n,Fy)),Py.normalize(),jy.crossVectors(Fy,Py),i[0]=Py.x,i[4]=jy.x,i[8]=Fy.x,i[1]=Py.y,i[5]=jy.y,i[9]=Fy.y,i[2]=Py.z,i[6]=jy.z,i[10]=Fy.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,o=n[0],s=n[4],a=n[8],g=n[12],A=n[1],C=n[5],I=n[9],c=n[13],l=n[2],u=n[6],h=n[10],d=n[14],f=n[3],p=n[7],m=n[11],v=n[15],y=i[0],b=i[4],_=i[8],w=i[12],x=i[1],S=i[5],E=i[9],M=i[13],T=i[2],R=i[6],O=i[10],L=i[14],k=i[3],D=i[7],N=i[11],P=i[15];return r[0]=o*y+s*x+a*T+g*k,r[4]=o*b+s*S+a*R+g*D,r[8]=o*_+s*E+a*O+g*N,r[12]=o*w+s*M+a*L+g*P,r[1]=A*y+C*x+I*T+c*k,r[5]=A*b+C*S+I*R+c*D,r[9]=A*_+C*E+I*O+c*N,r[13]=A*w+C*M+I*L+c*P,r[2]=l*y+u*x+h*T+d*k,r[6]=l*b+u*S+h*R+d*D,r[10]=l*_+u*E+h*O+d*N,r[14]=l*w+u*M+h*L+d*P,r[3]=f*y+p*x+m*T+v*k,r[7]=f*b+p*S+m*R+v*D,r[11]=f*_+p*E+m*O+v*N,r[15]=f*w+p*M+m*L+v*P,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],o=t[1],s=t[5],a=t[9],g=t[13],A=t[2],C=t[6],I=t[10],c=t[14];return t[3]*(+r*a*C-i*g*C-r*s*I+n*g*I+i*s*c-n*a*c)+t[7]*(+e*a*c-e*g*I+r*o*I-i*o*c+i*g*A-r*a*A)+t[11]*(+e*g*C-e*s*c-r*o*C+n*o*c+r*s*A-n*g*A)+t[15]*(-i*s*A-e*a*C+e*s*I+i*o*C-n*o*I+n*a*A)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],g=t[7],A=t[8],C=t[9],I=t[10],c=t[11],l=t[12],u=t[13],h=t[14],d=t[15],f=C*h*g-u*I*g+u*a*c-s*h*c-C*a*d+s*I*d,p=l*I*g-A*h*g-l*a*c+o*h*c+A*a*d-o*I*d,m=A*u*g-l*C*g+l*s*c-o*u*c-A*s*d+o*C*d,v=l*C*a-A*u*a-l*s*I+o*u*I+A*s*h-o*C*h,y=e*f+n*p+i*m+r*v;if(0===y)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/y;return t[0]=f*b,t[1]=(u*I*r-C*h*r-u*i*c+n*h*c+C*i*d-n*I*d)*b,t[2]=(s*h*r-u*a*r+u*i*g-n*h*g-s*i*d+n*a*d)*b,t[3]=(C*a*r-s*I*r-C*i*g+n*I*g+s*i*c-n*a*c)*b,t[4]=p*b,t[5]=(A*h*r-l*I*r+l*i*c-e*h*c-A*i*d+e*I*d)*b,t[6]=(l*a*r-o*h*r-l*i*g+e*h*g+o*i*d-e*a*d)*b,t[7]=(o*I*r-A*a*r+A*i*g-e*I*g-o*i*c+e*a*c)*b,t[8]=m*b,t[9]=(l*C*r-A*u*r-l*n*c+e*u*c+A*n*d-e*C*d)*b,t[10]=(o*u*r-l*s*r+l*n*g-e*u*g-o*n*d+e*s*d)*b,t[11]=(A*s*r-o*C*r-A*n*g+e*C*g+o*n*c-e*s*c)*b,t[12]=v*b,t[13]=(A*u*i-l*C*i+l*n*I-e*u*I-A*n*h+e*C*h)*b,t[14]=(l*s*i-o*u*i-l*n*a+e*u*a+o*n*h-e*s*h)*b,t[15]=(o*C*i-A*s*i+A*n*a-e*C*a-o*n*I+e*s*I)*b,this}scale(t){const e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),i=Math.sin(e),r=1-n,o=t.x,s=t.y,a=t.z,g=r*o,A=r*s;return this.set(g*o+n,g*s-i*a,g*a+i*s,0,g*s+i*a,A*s+n,A*a-i*o,0,g*a-i*s,A*a+i*o,r*a*a+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this}compose(t,e,n){const i=this.elements,r=e._x,o=e._y,s=e._z,a=e._w,g=r+r,A=o+o,C=s+s,I=r*g,c=r*A,l=r*C,u=o*A,h=o*C,d=s*C,f=a*g,p=a*A,m=a*C,v=n.x,y=n.y,b=n.z;return i[0]=(1-(u+d))*v,i[1]=(c+m)*v,i[2]=(l-p)*v,i[3]=0,i[4]=(c-m)*y,i[5]=(1-(I+d))*y,i[6]=(h+f)*y,i[7]=0,i[8]=(l+p)*b,i[9]=(h-f)*b,i[10]=(1-(I+u))*b,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,e,n){const i=this.elements;let r=Ly.set(i[0],i[1],i[2]).length();const o=Ly.set(i[4],i[5],i[6]).length(),s=Ly.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],ky.copy(this);const a=1/r,g=1/o,A=1/s;return ky.elements[0]*=a,ky.elements[1]*=a,ky.elements[2]*=a,ky.elements[4]*=g,ky.elements[5]*=g,ky.elements[6]*=g,ky.elements[8]*=A,ky.elements[9]*=A,ky.elements[10]*=A,e.setFromRotationMatrix(ky),n.x=r,n.y=o,n.z=s,this}makePerspective(t,e,n,i,r,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const s=this.elements,a=2*r/(e-t),g=2*r/(n-i),A=(e+t)/(e-t),C=(n+i)/(n-i),I=-(o+r)/(o-r),c=-2*o*r/(o-r);return s[0]=a,s[4]=0,s[8]=A,s[12]=0,s[1]=0,s[5]=g,s[9]=C,s[13]=0,s[2]=0,s[6]=0,s[10]=I,s[14]=c,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(t,e,n,i,r,o){const s=this.elements,a=1/(e-t),g=1/(n-i),A=1/(o-r),C=(e+t)*a,I=(n+i)*g,c=(o+r)*A;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-C,s[1]=0,s[5]=2*g,s[9]=0,s[13]=-I,s[2]=0,s[6]=0,s[10]=-2*A,s[14]=-c,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let t=0;t<16;t++)if(e[t]!==n[t])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const Ly=new iy,ky=new Oy,Dy=new iy(0,0,0),Ny=new iy(1,1,1),Py=new iy,jy=new iy,Fy=new iy;class zy{constructor(t=0,e=0,n=0,i=zy.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=e,this._z=n,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e,n){const i=Vv.clamp,r=t.elements,o=r[0],s=r[4],a=r[8],g=r[1],A=r[5],C=r[9],I=r[2],c=r[6],l=r[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-C,l),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(c,A),this._z=0);break;case"YXZ":this._x=Math.asin(-i(C,-1,1)),Math.abs(C)<.9999999?(this._y=Math.atan2(a,l),this._z=Math.atan2(g,A)):(this._y=Math.atan2(-I,o),this._z=0);break;case"ZXY":this._x=Math.asin(i(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(-I,l),this._z=Math.atan2(-s,A)):(this._y=0,this._z=Math.atan2(g,o));break;case"ZYX":this._y=Math.asin(-i(I,-1,1)),Math.abs(I)<.9999999?(this._x=Math.atan2(c,l),this._z=Math.atan2(g,o)):(this._x=0,this._z=Math.atan2(-s,A));break;case"YZX":this._z=Math.asin(i(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(-C,A),this._y=Math.atan2(-I,o)):(this._x=0,this._y=Math.atan2(a,l));break;case"XZY":this._z=Math.asin(-i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(c,A),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-C,l),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return By.makeRotationFromQuaternion(t),this.setFromRotationMatrix(By,e,n)}setFromVector3(t,e){return this.set(t.x,t.y,t.z,e||this._order)}reorder(t){return Uy.setFromEuler(this),this.setFromQuaternion(Uy,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new iy(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}zy.DefaultOrder="XYZ",zy.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const By=new Oy,Uy=new ny;class Hy{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}}let Gy=0;const Wy=new iy,Vy=new ny,Zy=new Oy,Yy=new iy,Xy=new iy,Jy=new iy,Ky=new ny,qy=new iy(1,0,0),Qy=new iy(0,1,0),$y=new iy(0,0,1),tb={type:"added"},eb={type:"removed"};function nb(){Object.defineProperty(this,"id",{value:Gy++}),this.uuid=Vv.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=nb.DefaultUp.clone();const t=new iy,e=new zy,n=new ny,i=new iy(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Oy},normalMatrix:{value:new Yv}}),this.matrix=new Oy,this.matrixWorld=new Oy,this.matrixAutoUpdate=nb.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Hy,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}nb.DefaultUp=new iy(0,1,0),nb.DefaultMatrixAutoUpdate=!0,nb.prototype=Object.assign(Object.create(Hv.prototype),{constructor:nb,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return Vy.setFromAxisAngle(t,e),this.quaternion.multiply(Vy),this},rotateOnWorldAxis:function(t,e){return Vy.setFromAxisAngle(t,e),this.quaternion.premultiply(Vy),this},rotateX:function(t){return this.rotateOnAxis(qy,t)},rotateY:function(t){return this.rotateOnAxis(Qy,t)},rotateZ:function(t){return this.rotateOnAxis($y,t)},translateOnAxis:function(t,e){return Wy.copy(t).applyQuaternion(this.quaternion),this.position.add(Wy.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(qy,t)},translateY:function(t){return this.translateOnAxis(Qy,t)},translateZ:function(t){return this.translateOnAxis($y,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(Zy.copy(this.matrixWorld).invert())},lookAt:function(t,e,n){t.isVector3?Yy.copy(t):Yy.set(t,e,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Xy.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Zy.lookAt(Xy,Yy,this.up):Zy.lookAt(Yy,Xy,this.up),this.quaternion.setFromRotationMatrix(Zy),i&&(Zy.extractRotation(i.matrixWorld),Vy.setFromRotationMatrix(Zy),this.quaternion.premultiply(Vy.invert()))},add:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(tb)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(eb)),this},clear:function(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(eb)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),Zy.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Zy.multiply(t.parent.matrixWorld)),t.applyMatrix4(Zy),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new iy),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new ny),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xy,t,Jy),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new iy),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xy,Ky,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new iy),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)},traverseAncestors:function(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++)t[e].updateWorldMatrix(!1,!0)}},toJSON:function(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const i=n[e];r(t.shapes,i)}else r(t.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,i=this.material.length;n<i;n++)e.push(r(t.materials,this.material[n]));i.material=e}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(let e=0;e<this.children.length;e++)i.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let e=0;e<this.animations.length;e++){const n=this.animations[e];i.animations.push(r(t.animations,n))}}if(e){const e=o(t.geometries),i=o(t.materials),r=o(t.textures),s=o(t.images),a=o(t.shapes),g=o(t.skeletons),A=o(t.animations);e.length>0&&(n.geometries=e),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),s.length>0&&(n.images=s),a.length>0&&(n.shapes=a),g.length>0&&(n.skeletons=g),A.length>0&&(n.animations=A)}return n.object=i,n;function o(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const n=t.children[e];this.add(n.clone())}return this}});const ib=new iy,rb=new iy,ob=new Yv;class sb{constructor(t,e){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==t?t:new iy(1,0,0),this.constant=void 0!==e?e:0}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const i=ib.subVectors(n,e).cross(rb.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new iy),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new iy);const n=t.delta(ib),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;const r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:e.copy(n).multiplyScalar(r).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new iy),t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||ob.getNormalMatrix(t),i=this.coplanarPoint(ib).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}const ab=new iy,gb=new iy,Ab=new iy,Cb=new iy,Ib=new iy,cb=new iy,lb=new iy,ub=new iy,hb=new iy,db=new iy;class fb{constructor(t,e,n){this.a=void 0!==t?t:new iy,this.b=void 0!==e?e:new iy,this.c=void 0!==n?n:new iy}static getNormal(t,e,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new iy),i.subVectors(n,e),ab.subVectors(t,e),i.cross(ab);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(t,e,n,i,r){ab.subVectors(i,e),gb.subVectors(n,e),Ab.subVectors(t,e);const o=ab.dot(ab),s=ab.dot(gb),a=ab.dot(Ab),g=gb.dot(gb),A=gb.dot(Ab),C=o*g-s*s;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new iy),0===C)return r.set(-2,-1,-1);const I=1/C,c=(g*a-s*A)*I,l=(o*A-s*a)*I;return r.set(1-c-l,l,c)}static containsPoint(t,e,n,i){return this.getBarycoord(t,e,n,i,Cb),Cb.x>=0&&Cb.y>=0&&Cb.x+Cb.y<=1}static getUV(t,e,n,i,r,o,s,a){return this.getBarycoord(t,e,n,i,Cb),a.set(0,0),a.addScaledVector(r,Cb.x),a.addScaledVector(o,Cb.y),a.addScaledVector(s,Cb.z),a}static isFrontFacing(t,e,n,i){return ab.subVectors(n,e),gb.subVectors(t,e),ab.cross(gb).dot(i)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return ab.subVectors(this.c,this.b),gb.subVectors(this.a,this.b),.5*ab.cross(gb).length()}getMidpoint(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new iy),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return fb.getNormal(this.a,this.b,this.c,t)}getPlane(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new sb),t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return fb.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,i,r){return fb.getUV(t,this.a,this.b,this.c,e,n,i,r)}containsPoint(t){return fb.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return fb.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new iy);const n=this.a,i=this.b,r=this.c;let o,s;Ib.subVectors(i,n),cb.subVectors(r,n),ub.subVectors(t,n);const a=Ib.dot(ub),g=cb.dot(ub);if(a<=0&&g<=0)return e.copy(n);hb.subVectors(t,i);const A=Ib.dot(hb),C=cb.dot(hb);if(A>=0&&C<=A)return e.copy(i);const I=a*C-A*g;if(I<=0&&a>=0&&A<=0)return o=a/(a-A),e.copy(n).addScaledVector(Ib,o);db.subVectors(t,r);const c=Ib.dot(db),l=cb.dot(db);if(l>=0&&c<=l)return e.copy(r);const u=c*g-a*l;if(u<=0&&g>=0&&l<=0)return s=g/(g-l),e.copy(n).addScaledVector(cb,s);const h=A*l-c*C;if(h<=0&&C-A>=0&&c-l>=0)return lb.subVectors(r,i),s=(C-A)/(C-A+(c-l)),e.copy(i).addScaledVector(lb,s);const d=1/(h+u+I);return o=u*d,s=I*d,e.copy(n).addScaledVector(Ib,o).addScaledVector(cb,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const pb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},mb={h:0,s:0,l:0},vb={h:0,s:0,l:0};function yb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function bb(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function _b(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}class wb{constructor(t,e,n){return Object.defineProperty(this,"isColor",{value:!0}),void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,e,n){return this.r=t,this.g=e,this.b=n,this}setHSL(t,e,n){if(t=Vv.euclideanModulo(t,1),e=Vv.clamp(e,0,1),n=Vv.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=yb(r,i,t+1/3),this.g=yb(r,i,t),this.b=yb(r,i,t-1/3)}return this}setStyle(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){let t;const i=n[1],r=n[2];switch(i){case"rgb":case"rgba":if(t=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,e(t[5]),this;if(t=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,e(t[5]),this;break;case"hsl":case"hsla":if(t=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r)){const n=parseFloat(t[1])/360,i=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100;return e(t[5]),this.setHSL(n,i,r)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){const t=n[1],e=t.length;if(3===e)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,this;if(6===e)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const e=pb[t];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,e=2){return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}copyLinearToGamma(t,e=2){const n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=bb(t.r),this.g=bb(t.g),this.b=bb(t.b),this}copyLinearToSRGB(t){return this.r=_b(t.r),this.g=_b(t.g),this.b=_b(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});const e=this.r,n=this.g,i=this.b,r=Math.max(e,n,i),o=Math.min(e,n,i);let s,a;const g=(o+r)/2;if(o===r)s=0,a=0;else{const t=r-o;switch(a=g<=.5?t/(r+o):t/(2-r-o),r){case e:s=(n-i)/t+(n<i?6:0);break;case n:s=(i-e)/t+2;break;case i:s=(e-n)/t+4}s/=6}return t.h=s,t.s=a,t.l=g,t}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(t,e,n){return this.getHSL(mb),mb.h+=t,mb.s+=e,mb.l+=n,this.setHSL(mb.h,mb.s,mb.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpHSL(t,e){this.getHSL(mb),t.getHSL(vb);const n=Vv.lerp(mb.h,vb.h,e),i=Vv.lerp(mb.s,vb.s,e),r=Vv.lerp(mb.l,vb.l,e);return this.setHSL(n,i,r),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}wb.NAMES=pb,wb.prototype.r=1,wb.prototype.g=1,wb.prototype.b=1;class xb{constructor(t,e,n,i,r,o=0){this.a=t,this.b=e,this.c=n,this.normal=i&&i.isVector3?i:new iy,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new wb,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=o}clone(){return(new this.constructor).copy(this)}copy(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(let e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(let e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}let Sb=0;function Eb(){Object.defineProperty(this,"id",{value:Sb++}),this.uuid=Vv.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=hv,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Fv,this.stencilZFail=Fv,this.stencilZPass=Fv,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Mb(t){Eb.call(this),this.type="MeshBasicMaterial",this.color=new wb(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}Eb.prototype=Object.assign(Object.create(Hv.prototype),{constructor:Eb,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}},toJSON:function(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){const e=i(t.textures),r=i(t.images);e.length>0&&(n.textures=e),r.length>0&&(n.images=r)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let i=0;i!==t;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Eb.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Mb.prototype=Object.create(Eb.prototype),Mb.prototype.constructor=Mb,Mb.prototype.isMeshBasicMaterial=!0,Mb.prototype.copy=function(t){return Eb.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};const Tb=new iy,Rb=new Zv;function Ob(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=zv,this.updateRange={offset:0,count:-1},this.version=0}function Lb(t,e,n){Ob.call(this,new Int8Array(t),e,n)}function kb(t,e,n){Ob.call(this,new Uint8Array(t),e,n)}function Db(t,e,n){Ob.call(this,new Uint8ClampedArray(t),e,n)}function Nb(t,e,n){Ob.call(this,new Int16Array(t),e,n)}function Pb(t,e,n){Ob.call(this,new Uint16Array(t),e,n)}function jb(t,e,n){Ob.call(this,new Int32Array(t),e,n)}function Fb(t,e,n){Ob.call(this,new Uint32Array(t),e,n)}function zb(t,e,n){Ob.call(this,new Uint16Array(t),e,n)}function Bb(t,e,n){Ob.call(this,new Float32Array(t),e,n)}function Ub(t,e,n){Ob.call(this,new Float64Array(t),e,n)}Object.defineProperty(Ob.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Ob.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),r=new wb),e[n++]=r.r,e[n++]=r.g,e[n++]=r.b}return this},copyVector2sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),r=new Zv),e[n++]=r.x,e[n++]=r.y}return this},copyVector3sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),r=new iy),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z}return this},copyVector4sArray:function(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),r=new $v),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z,e[n++]=r.w}return this},applyMatrix3:function(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)Rb.fromBufferAttribute(this,e),Rb.applyMatrix3(t),this.setXY(e,Rb.x,Rb.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)Tb.fromBufferAttribute(this,e),Tb.applyMatrix3(t),this.setXYZ(e,Tb.x,Tb.y,Tb.z);return this},applyMatrix4:function(t){for(let e=0,n=this.count;e<n;e++)Tb.x=this.getX(e),Tb.y=this.getY(e),Tb.z=this.getZ(e),Tb.applyMatrix4(t),this.setXYZ(e,Tb.x,Tb.y,Tb.z);return this},applyNormalMatrix:function(t){for(let e=0,n=this.count;e<n;e++)Tb.x=this.getX(e),Tb.y=this.getY(e),Tb.z=this.getZ(e),Tb.applyNormalMatrix(t),this.setXYZ(e,Tb.x,Tb.y,Tb.z);return this},transformDirection:function(t){for(let e=0,n=this.count;e<n;e++)Tb.x=this.getX(e),Tb.y=this.getY(e),Tb.z=this.getZ(e),Tb.transformDirection(t),this.setXYZ(e,Tb.x,Tb.y,Tb.z);return this},set:function(t,e=0){return this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Lb.prototype=Object.create(Ob.prototype),Lb.prototype.constructor=Lb,kb.prototype=Object.create(Ob.prototype),kb.prototype.constructor=kb,Db.prototype=Object.create(Ob.prototype),Db.prototype.constructor=Db,Nb.prototype=Object.create(Ob.prototype),Nb.prototype.constructor=Nb,Pb.prototype=Object.create(Ob.prototype),Pb.prototype.constructor=Pb,jb.prototype=Object.create(Ob.prototype),jb.prototype.constructor=jb,Fb.prototype=Object.create(Ob.prototype),Fb.prototype.constructor=Fb,zb.prototype=Object.create(Ob.prototype),zb.prototype.constructor=zb,zb.prototype.isFloat16BufferAttribute=!0,Bb.prototype=Object.create(Ob.prototype),Bb.prototype.constructor=Bb,Ub.prototype=Object.create(Ob.prototype),Ub.prototype.constructor=Ub;class Hb{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(t){const e=[];let n,i,r;const o=t.faces;for(i=0;i<o.length;i++){const t=o[i];t.materialIndex!==r&&(r=t.materialIndex,void 0!==n&&(n.count=3*i-n.start,e.push(n)),n={start:3*i,materialIndex:r})}void 0!==n&&(n.count=3*i-n.start,e.push(n)),this.groups=e}fromGeometry(t){const e=t.faces,n=t.vertices,i=t.faceVertexUvs,r=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=t.morphTargets,a=s.length;let g;if(a>0){g=[];for(let t=0;t<a;t++)g[t]={name:s[t].name,data:[]};this.morphTargets.position=g}const A=t.morphNormals,C=A.length;let I;if(C>0){I=[];for(let t=0;t<C;t++)I[t]={name:A[t].name,data:[]};this.morphTargets.normal=I}const c=t.skinIndices,l=t.skinWeights,u=c.length===n.length,h=l.length===n.length;n.length>0&&0===e.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let t=0;t<e.length;t++){const d=e[t];this.vertices.push(n[d.a],n[d.b],n[d.c]);const f=d.vertexNormals;if(3===f.length)this.normals.push(f[0],f[1],f[2]);else{const t=d.normal;this.normals.push(t,t,t)}const p=d.vertexColors;if(3===p.length)this.colors.push(p[0],p[1],p[2]);else{const t=d.color;this.colors.push(t,t,t)}if(!0===r){const e=i[0][t];void 0!==e?this.uvs.push(e[0],e[1],e[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",t),this.uvs.push(new Zv,new Zv,new Zv))}if(!0===o){const e=i[1][t];void 0!==e?this.uvs2.push(e[0],e[1],e[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",t),this.uvs2.push(new Zv,new Zv,new Zv))}for(let t=0;t<a;t++){const e=s[t].vertices;g[t].data.push(e[d.a],e[d.b],e[d.c])}for(let e=0;e<C;e++){const n=A[e].vertexNormals[t];I[e].data.push(n.a,n.b,n.c)}u&&this.skinIndices.push(c[d.a],c[d.b],c[d.c]),h&&this.skinWeights.push(l[d.a],l[d.b],l[d.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}}function Gb(t){if(0===t.length)return-1/0;let e=t[0];for(let n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}const Wb={Int8Array,Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Vb(t,e){return new Wb[t](e)}let Zb=1;const Yb=new Oy,Xb=new nb,Jb=new iy,Kb=new sy,qb=new sy,Qb=new iy;function $b(){Object.defineProperty(this,"id",{value:Zb+=2}),this.uuid=Vv.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}$b.prototype=Object.assign(Object.create(Hv.prototype),{constructor:$b,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return Array.isArray(t)?this.index=new(Gb(t)>65535?Fb:Pb)(t,1):this.index=t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return void 0!==this.attributes[t]},addGroup:function(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new Yv).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(t),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return Yb.makeRotationX(t),this.applyMatrix4(Yb),this},rotateY:function(t){return Yb.makeRotationY(t),this.applyMatrix4(Yb),this},rotateZ:function(t){return Yb.makeRotationZ(t),this.applyMatrix4(Yb),this},translate:function(t,e,n){return Yb.makeTranslation(t,e,n),this.applyMatrix4(Yb),this},scale:function(t,e,n){return Yb.makeScale(t,e,n),this.applyMatrix4(Yb),this},lookAt:function(t){return Xb.lookAt(t),Xb.updateMatrix(),this.applyMatrix4(Xb.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Jb).negate(),this.translate(Jb.x,Jb.y,Jb.z),this},setFromObject:function(t){const e=t.geometry;if(t.isPoints||t.isLine){const t=new Bb(3*e.vertices.length,3),n=new Bb(3*e.colors.length,3);if(this.setAttribute("position",t.copyVector3sArray(e.vertices)),this.setAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){const t=new Bb(e.lineDistances.length,1);this.setAttribute("lineDistance",t.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Bb(e,3)),this},updateFromObject:function(t){let e=t.geometry;if(t.isMesh){let t=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(t=void 0,e.elementsNeedUpdate=!1),void 0===t)return this.fromGeometry(e);t.verticesNeedUpdate=e.verticesNeedUpdate,t.normalsNeedUpdate=e.normalsNeedUpdate,t.colorsNeedUpdate=e.colorsNeedUpdate,t.uvsNeedUpdate=e.uvsNeedUpdate,t.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=t}if(!0===e.verticesNeedUpdate){const t=this.attributes.position;void 0!==t&&(t.copyVector3sArray(e.vertices),t.needsUpdate=!0),e.verticesNeedUpdate=!1}if(!0===e.normalsNeedUpdate){const t=this.attributes.normal;void 0!==t&&(t.copyVector3sArray(e.normals),t.needsUpdate=!0),e.normalsNeedUpdate=!1}if(!0===e.colorsNeedUpdate){const t=this.attributes.color;void 0!==t&&(t.copyColorsArray(e.colors),t.needsUpdate=!0),e.colorsNeedUpdate=!1}if(e.uvsNeedUpdate){const t=this.attributes.uv;void 0!==t&&(t.copyVector2sArray(e.uvs),t.needsUpdate=!0),e.uvsNeedUpdate=!1}if(e.lineDistancesNeedUpdate){const t=this.attributes.lineDistance;void 0!==t&&(t.copyArray(e.lineDistances),t.needsUpdate=!0),e.lineDistancesNeedUpdate=!1}return e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Hb).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){const e=new Float32Array(3*t.vertices.length);if(this.setAttribute("position",new Ob(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){const e=new Float32Array(3*t.normals.length);this.setAttribute("normal",new Ob(e,3).copyVector3sArray(t.normals))}if(t.colors.length>0){const e=new Float32Array(3*t.colors.length);this.setAttribute("color",new Ob(e,3).copyColorsArray(t.colors))}if(t.uvs.length>0){const e=new Float32Array(2*t.uvs.length);this.setAttribute("uv",new Ob(e,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){const e=new Float32Array(2*t.uvs2.length);this.setAttribute("uv2",new Ob(e,2).copyVector2sArray(t.uvs2))}this.groups=t.groups;for(const e in t.morphTargets){const n=[],i=t.morphTargets[e];for(let t=0,e=i.length;t<e;t++){const e=i[t],r=new Bb(3*e.data.length,3);r.name=e.name,n.push(r.copyVector3sArray(e.data))}this.morphAttributes[e]=n}if(t.skinIndices.length>0){const e=new Bb(4*t.skinIndices.length,4);this.setAttribute("skinIndex",e.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){const e=new Bb(4*t.skinWeights.length,4);this.setAttribute("skinWeight",e.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new sy);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new iy(-1/0,-1/0,-1/0),new iy(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];Kb.setFromBufferAttribute(n),this.morphTargetsRelative?(Qb.addVectors(this.boundingBox.min,Kb.min),this.boundingBox.expandByPoint(Qb),Qb.addVectors(this.boundingBox.max,Kb.max),this.boundingBox.expandByPoint(Qb)):(this.boundingBox.expandByPoint(Kb.min),this.boundingBox.expandByPoint(Kb.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new by);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new iy,1/0);if(t){const n=this.boundingSphere.center;if(Kb.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];qb.setFromBufferAttribute(n),this.morphTargetsRelative?(Qb.addVectors(Kb.min,qb.min),Kb.expandByPoint(Qb),Qb.addVectors(Kb.max,qb.max),Kb.expandByPoint(Qb)):(Kb.expandByPoint(qb.min),Kb.expandByPoint(qb.max))}Kb.getCenter(n);let i=0;for(let e=0,r=t.count;e<r;e++)Qb.fromBufferAttribute(t,e),i=Math.max(i,n.distanceToSquared(Qb));if(e)for(let r=0,o=e.length;r<o;r++){const o=e[r],s=this.morphTargetsRelative;for(let e=0,r=o.count;e<r;e++)Qb.fromBufferAttribute(o,e),s&&(Jb.fromBufferAttribute(t,e),Qb.add(Jb)),i=Math.max(i,n.distanceToSquared(Qb))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new Ob(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const i=new iy,r=new iy,o=new iy,s=new iy,a=new iy,g=new iy,A=new iy,C=new iy;if(t)for(let I=0,c=t.count;I<c;I+=3){const c=t.getX(I+0),l=t.getX(I+1),u=t.getX(I+2);i.fromBufferAttribute(e,c),r.fromBufferAttribute(e,l),o.fromBufferAttribute(e,u),A.subVectors(o,r),C.subVectors(i,r),A.cross(C),s.fromBufferAttribute(n,c),a.fromBufferAttribute(n,l),g.fromBufferAttribute(n,u),s.add(A),a.add(A),g.add(A),n.setXYZ(c,s.x,s.y,s.z),n.setXYZ(l,a.x,a.y,a.z),n.setXYZ(u,g.x,g.y,g.z)}else for(let t=0,s=e.count;t<s;t+=3)i.fromBufferAttribute(e,t+0),r.fromBufferAttribute(e,t+1),o.fromBufferAttribute(e,t+2),A.subVectors(o,r),C.subVectors(i,r),A.cross(C),n.setXYZ(t+0,A.x,A.y,A.z),n.setXYZ(t+1,A.x,A.y,A.z),n.setXYZ(t+2,A.x,A.y,A.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(void 0===t.attributes[i])continue;const r=n[i].array,o=t.attributes[i],s=o.array,a=o.itemSize*e,g=Math.min(s.length,r.length-a);for(let t=0,e=a;t<g;t++,e++)r[e]=s[t]}return this},normalizeNormals:function(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)Qb.fromBufferAttribute(t,e),Qb.normalize(),t.setXYZ(e,Qb.x,Qb.y,Qb.z)},toNonIndexed:function(){function t(t,e){const n=t.array,i=t.itemSize,r=t.normalized,o=new n.constructor(e.length*i);let s=0,a=0;for(let t=0,r=e.length;t<r;t++){s=e[t]*i;for(let t=0;t<i;t++)o[a++]=n[s++]}return new Ob(o,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const e=new $b,n=this.index.array,i=this.attributes;for(const r in i){const o=t(i[r],n);e.setAttribute(r,o)}const r=this.morphAttributes;for(const i in r){const o=[],s=r[i];for(let e=0,i=s.length;e<i;e++){const i=t(s[e],n);o.push(i)}e.morphAttributes[i]=o}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let t=0,n=o.length;t<n;t++){const n=o[t];e.addGroup(n.start,n.count,n.materialIndex)}return e},toJSON:function(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const e in n){const i=n[e],r=i.toJSON(t.data);""!==i.name&&(r.name=i.name),t.data.attributes[e]=r}const i={};let r=!1;for(const e in this.morphAttributes){const n=this.morphAttributes[e],o=[];for(let e=0,i=n.length;e<i;e++){const i=n[e],r=i.toJSON(t.data);""!==i.name&&(r.name=i.name),o.push(r)}o.length>0&&(i[e]=o,r=!0)}r&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(t.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),t},clone:function(){return(new $b).copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const i=t.attributes;for(const t in i){const n=i[t];this.setAttribute(t,n.clone(e))}const r=t.morphAttributes;for(const t in r){const n=[],i=r[t];for(let t=0,r=i.length;t<r;t++)n.push(i[t].clone(e));this.morphAttributes[t]=n}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let t=0,e=o.length;t<e;t++){const e=o[t];this.addGroup(e.start,e.count,e.materialIndex)}const s=t.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=t.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const t_=new Oy,e_=new Ry,n_=new by,i_=new iy,r_=new iy,o_=new iy,s_=new iy,a_=new iy,g_=new iy,A_=new iy,C_=new iy,I_=new iy,c_=new Zv,l_=new Zv,u_=new Zv,h_=new iy,d_=new iy;function f_(t,e){nb.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new $b,this.material=void 0!==e?e:new Mb,this.updateMorphTargets()}function p_(t,e,n,i,r,o,s,a){let g;if(g=1===e.side?i.intersectTriangle(s,o,r,!0,a):i.intersectTriangle(r,o,s,2!==e.side,a),null===g)return null;d_.copy(a),d_.applyMatrix4(t.matrixWorld);const A=n.ray.origin.distanceTo(d_);return A<n.near||A>n.far?null:{distance:A,point:d_.clone(),object:t}}function m_(t,e,n,i,r,o,s,a,g,A,C,I){i_.fromBufferAttribute(r,A),r_.fromBufferAttribute(r,C),o_.fromBufferAttribute(r,I);const c=t.morphTargetInfluences;if(e.morphTargets&&o&&c){A_.set(0,0,0),C_.set(0,0,0),I_.set(0,0,0);for(let t=0,e=o.length;t<e;t++){const e=c[t],n=o[t];0!==e&&(s_.fromBufferAttribute(n,A),a_.fromBufferAttribute(n,C),g_.fromBufferAttribute(n,I),s?(A_.addScaledVector(s_,e),C_.addScaledVector(a_,e),I_.addScaledVector(g_,e)):(A_.addScaledVector(s_.sub(i_),e),C_.addScaledVector(a_.sub(r_),e),I_.addScaledVector(g_.sub(o_),e)))}i_.add(A_),r_.add(C_),o_.add(I_)}t.isSkinnedMesh&&(t.boneTransform(A,i_),t.boneTransform(C,r_),t.boneTransform(I,o_));const l=p_(t,e,n,i,i_,r_,o_,h_);if(l){a&&(c_.fromBufferAttribute(a,A),l_.fromBufferAttribute(a,C),u_.fromBufferAttribute(a,I),l.uv=fb.getUV(h_,i_,r_,o_,c_,l_,u_,new Zv)),g&&(c_.fromBufferAttribute(g,A),l_.fromBufferAttribute(g,C),u_.fromBufferAttribute(g,I),l.uv2=fb.getUV(h_,i_,r_,o_,c_,l_,u_,new Zv));const t=new xb(A,C,I);fb.getNormal(i_,r_,o_,t.normal),l.face=t}return l}f_.prototype=Object.assign(Object.create(nb.prototype),{constructor:f_,isMesh:!0,copy:function(t){return nb.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0===i)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),n_.copy(n.boundingSphere),n_.applyMatrix4(r),!1===t.ray.intersectsSphere(n_))return;if(t_.copy(r).invert(),e_.copy(t.ray).applyMatrix4(t_),null!==n.boundingBox&&!1===e_.intersectsBox(n.boundingBox))return;let o;if(n.isBufferGeometry){const r=n.index,s=n.attributes.position,a=n.morphAttributes.position,g=n.morphTargetsRelative,A=n.attributes.uv,C=n.attributes.uv2,I=n.groups,c=n.drawRange;if(null!==r)if(Array.isArray(i))for(let n=0,l=I.length;n<l;n++){const l=I[n],u=i[l.materialIndex];for(let n=Math.max(l.start,c.start),i=Math.min(l.start+l.count,c.start+c.count);n<i;n+=3){const i=r.getX(n),I=r.getX(n+1),c=r.getX(n+2);o=m_(this,u,t,e_,s,a,g,A,C,i,I,c),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=l.materialIndex,e.push(o))}}else for(let n=Math.max(0,c.start),I=Math.min(r.count,c.start+c.count);n<I;n+=3){const I=r.getX(n),c=r.getX(n+1),l=r.getX(n+2);o=m_(this,i,t,e_,s,a,g,A,C,I,c,l),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}else if(void 0!==s)if(Array.isArray(i))for(let n=0,r=I.length;n<r;n++){const r=I[n],l=i[r.materialIndex];for(let n=Math.max(r.start,c.start),i=Math.min(r.start+r.count,c.start+c.count);n<i;n+=3)o=m_(this,l,t,e_,s,a,g,A,C,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=r.materialIndex,e.push(o))}else for(let n=Math.max(0,c.start),r=Math.min(s.count,c.start+c.count);n<r;n+=3)o=m_(this,i,t,e_,s,a,g,A,C,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),e.push(o))}else if(n.isGeometry){const r=Array.isArray(i),s=n.vertices,a=n.faces;let g;const A=n.faceVertexUvs[0];A.length>0&&(g=A);for(let n=0,A=a.length;n<A;n++){const A=a[n],C=r?i[A.materialIndex]:i;if(void 0===C)continue;const I=s[A.a],c=s[A.b],l=s[A.c];if(o=p_(this,C,t,e_,I,c,l,h_),o){if(g&&g[n]){const t=g[n];c_.copy(t[0]),l_.copy(t[1]),u_.copy(t[2]),o.uv=fb.getUV(h_,I,c,l,c_,l_,u_,new Zv)}o.face=A,o.faceIndex=n,e.push(o)}}}}});class v_ extends $b{constructor(t=1,e=1,n=1,i=1,r=1,o=1){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};const s=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const a=[],g=[],A=[],C=[];let I=0,c=0;function l(t,e,n,i,r,o,l,u,h,d,f){const p=o/h,m=l/d,v=o/2,y=l/2,b=u/2,_=h+1,w=d+1;let x=0,S=0;const E=new iy;for(let o=0;o<w;o++){const s=o*m-y;for(let a=0;a<_;a++){const I=a*p-v;E[t]=I*i,E[e]=s*r,E[n]=b,g.push(E.x,E.y,E.z),E[t]=0,E[e]=0,E[n]=u>0?1:-1,A.push(E.x,E.y,E.z),C.push(a/h),C.push(1-o/d),x+=1}}for(let t=0;t<d;t++)for(let e=0;e<h;e++){const n=I+e+_*t,i=I+e+_*(t+1),r=I+(e+1)+_*(t+1),o=I+(e+1)+_*t;a.push(n,i,o),a.push(i,r,o),S+=6}s.addGroup(c,S,f),c+=S,I+=x}l("z","y","x",-1,-1,n,e,t,o,r,0),l("z","y","x",1,-1,n,e,-t,o,r,1),l("x","z","y",1,1,t,n,e,i,o,2),l("x","z","y",1,-1,t,n,-e,i,o,3),l("x","y","z",1,-1,t,e,n,i,r,4),l("x","y","z",-1,-1,t,e,-n,i,r,5),this.setIndex(a),this.setAttribute("position",new Bb(g,3)),this.setAttribute("normal",new Bb(A,3)),this.setAttribute("uv",new Bb(C,2))}}function y_(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function b_(t){const e={};for(let n=0;n<t.length;n++){const i=y_(t[n]);for(const t in i)e[t]=i[t]}return e}const __={clone:y_,merge:b_};function w_(t){Eb.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function x_(){nb.call(this),this.type="Camera",this.matrixWorldInverse=new Oy,this.projectionMatrix=new Oy,this.projectionMatrixInverse=new Oy}function S_(t=50,e=1,n=.1,i=2e3){x_.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}w_.prototype=Object.create(Eb.prototype),w_.prototype.constructor=w_,w_.prototype.isShaderMaterial=!0,w_.prototype.copy=function(t){return Eb.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=y_(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this},w_.prototype.toJSON=function(t){const e=Eb.prototype.toJSON.call(this,t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const i=this.uniforms[n].value;i&&i.isTexture?e.uniforms[n]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?e.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?e.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?e.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?e.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?e.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?e.uniforms[n]={type:"m4",value:i.toArray()}:e.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const t in this.extensions)!0===this.extensions[t]&&(n[t]=!0);return Object.keys(n).length>0&&(e.extensions=n),e},x_.prototype=Object.assign(Object.create(nb.prototype),{constructor:x_,isCamera:!0,copy:function(t,e){return nb.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new iy),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){nb.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){nb.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),S_.prototype=Object.assign(Object.create(x_.prototype),{constructor:S_,isPerspectiveCamera:!0,copy:function(t,e){return x_.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){const e=.5*this.getFilmHeight()/t;this.fov=2*Vv.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){const t=Math.tan(.5*Vv.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Vv.RAD2DEG*Math.atan(Math.tan(.5*Vv.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=this.near;let e=t*Math.tan(.5*Vv.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const t=o.fullWidth,s=o.fullHeight;r+=o.offsetX*i/t,e-=o.offsetY*n/s,i*=o.width/t,n*=o.height/s}const s=this.filmOffset;0!==s&&(r+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=nb.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});const E_=90;function M_(t,e,n){if(nb.call(this),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const i=new S_(E_,1,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new iy(1,0,0)),this.add(i);const r=new S_(E_,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new iy(-1,0,0)),this.add(r);const o=new S_(E_,1,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new iy(0,1,0)),this.add(o);const s=new S_(E_,1,t,e);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new iy(0,-1,0)),this.add(s);const a=new S_(E_,1,t,e);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new iy(0,0,1)),this.add(a);const g=new S_(E_,1,t,e);g.layers=this.layers,g.up.set(0,-1,0),g.lookAt(new iy(0,0,-1)),this.add(g),this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();const A=t.xr.enabled,C=t.getRenderTarget();t.xr.enabled=!1;const I=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,i),t.setRenderTarget(n,1),t.render(e,r),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,s),t.setRenderTarget(n,4),t.render(e,a),n.texture.generateMipmaps=I,t.setRenderTarget(n,5),t.render(e,g),t.setRenderTarget(C),t.xr.enabled=A}}function T_(t,e,n,i,r,o,s,a,g,A){t=void 0!==t?t:[],e=void 0!==e?e:301,s=void 0!==s?s:Ev,qv.call(this,t,e,n,i,r,o,s,a,g,A),this.flipY=!1,this._needsFlipEnvMap=!0}function R_(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),ty.call(this,t,t,e),e=e||{},this.texture=new T_(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}function O_(t,e,n,i,r,o,s,a,g,A,C,I){qv.call(this,null,o,s,a,g,A,i,r,C,I),this.image={data:t||null,width:e||1,height:n||1},this.magFilter=void 0!==g?g:mv,this.minFilter=void 0!==A?A:mv,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}M_.prototype=Object.create(nb.prototype),M_.prototype.constructor=M_,T_.prototype=Object.create(qv.prototype),T_.prototype.constructor=T_,T_.prototype.isCubeTexture=!0,Object.defineProperty(T_.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),R_.prototype=Object.create(ty.prototype),R_.prototype.constructor=R_,R_.prototype.isWebGLCubeRenderTarget=!0,R_.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=Mv,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={tEquirect:{value:null}},i="\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",r="\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",o=new v_(5,5,5),s=new w_({name:"CubemapFromEquirect",uniforms:y_(n),vertexShader:i,fragmentShader:r,side:1,blending:0});s.uniforms.tEquirect.value=e;const a=new f_(o,s),g=e.minFilter;return e.minFilter===yv&&(e.minFilter=vv),new M_(1,10,this).update(t,a),e.minFilter=g,a.geometry.dispose(),a.material.dispose(),this},R_.prototype.clear=function(t,e,n,i){const r=t.getRenderTarget();for(let r=0;r<6;r++)t.setRenderTarget(this,r),t.clear(e,n,i);t.setRenderTarget(r)},O_.prototype=Object.create(qv.prototype),O_.prototype.constructor=O_,O_.prototype.isDataTexture=!0;const L_=new by,k_=new iy;class D_{constructor(t,e,n,i,r,o){this.planes=[void 0!==t?t:new sb,void 0!==e?e:new sb,void 0!==n?n:new sb,void 0!==i?i:new sb,void 0!==r?r:new sb,void 0!==o?o:new sb]}set(t,e,n,i,r,o){const s=this.planes;return s[0].copy(t),s[1].copy(e),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(o),this}clone(){return(new this.constructor).copy(this)}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],g=n[5],A=n[6],C=n[7],I=n[8],c=n[9],l=n[10],u=n[11],h=n[12],d=n[13],f=n[14],p=n[15];return e[0].setComponents(s-i,C-a,u-I,p-h).normalize(),e[1].setComponents(s+i,C+a,u+I,p+h).normalize(),e[2].setComponents(s+r,C+g,u+c,p+d).normalize(),e[3].setComponents(s-r,C-g,u-c,p-d).normalize(),e[4].setComponents(s-o,C-A,u-l,p-f).normalize(),e[5].setComponents(s+o,C+A,u+l,p+f).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),L_.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(L_)}intersectsSprite(t){return L_.center.set(0,0,0),L_.radius=.7071067811865476,L_.applyMatrix4(t.matrixWorld),this.intersectsSphere(L_)}intersectsSphere(t){const e=this.planes,n=t.center,i=-t.radius;for(let t=0;t<6;t++)if(e[t].distanceToPoint(n)<i)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const i=e[n];if(k_.x=i.normal.x>0?t.max.x:t.min.x,k_.y=i.normal.y>0?t.max.y:t.min.y,k_.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(k_)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}function N_(){let t=null,e=!1,n=null,i=null;function r(e,o){n(e,o),i=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==n&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function P_(t,e){const n=e.isWebGL2,i=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),i.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const n=i.get(e);n&&(t.deleteBuffer(n.buffer),i.delete(e))},update:function(e,r){if(e.isGLBufferAttribute){const t=i.get(e);return void((!t||t.version<e.version)&&i.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const o=i.get(e);void 0===o?i.set(e,function(e,i){const r=e.array,o=e.usage,s=t.createBuffer();t.bindBuffer(i,s),t.bufferData(i,r,o),e.onUploadCallback();let a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?e.isFloat16BufferAttribute?n?a=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:s,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,r)):o.version<e.version&&(function(e,i,r){const o=i.array,s=i.updateRange;t.bindBuffer(r,e),-1===s.count?t.bufferSubData(r,0,o):(n?t.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o,s.offset,s.count):t.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o.subarray(s.offset,s.offset+s.count)),s.count=-1)}(o.buffer,e,r),o.version=e.version)}}}class j_ extends $b{constructor(t=1,e=1,n=1,i=1){super(),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i};const r=t/2,o=e/2,s=Math.floor(n),a=Math.floor(i),g=s+1,A=a+1,C=t/s,I=e/a,c=[],l=[],u=[],h=[];for(let t=0;t<A;t++){const e=t*I-o;for(let n=0;n<g;n++){const i=n*C-r;l.push(i,-e,0),u.push(0,0,1),h.push(n/s),h.push(1-t/a)}}for(let t=0;t<a;t++)for(let e=0;e<s;e++){const n=e+g*t,i=e+g*(t+1),r=e+1+g*(t+1),o=e+1+g*t;c.push(n,i,o),c.push(i,r,o)}this.setIndex(c),this.setAttribute("position",new Bb(l,3)),this.setAttribute("normal",new Bb(u,3)),this.setAttribute("uv",new Bb(h,2))}}const F_={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},z_={common:{diffuse:{value:new wb(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Yv},uv2Transform:{value:new Yv},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Zv(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new wb(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new wb(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Yv}},sprite:{diffuse:{value:new wb(15658734)},opacity:{value:1},center:{value:new Zv(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Yv}}},B_={basic:{uniforms:b_([z_.common,z_.specularmap,z_.envmap,z_.aomap,z_.lightmap,z_.fog]),vertexShader:F_.meshbasic_vert,fragmentShader:F_.meshbasic_frag},lambert:{uniforms:b_([z_.common,z_.specularmap,z_.envmap,z_.aomap,z_.lightmap,z_.emissivemap,z_.fog,z_.lights,{emissive:{value:new wb(0)}}]),vertexShader:F_.meshlambert_vert,fragmentShader:F_.meshlambert_frag},phong:{uniforms:b_([z_.common,z_.specularmap,z_.envmap,z_.aomap,z_.lightmap,z_.emissivemap,z_.bumpmap,z_.normalmap,z_.displacementmap,z_.fog,z_.lights,{emissive:{value:new wb(0)},specular:{value:new wb(1118481)},shininess:{value:30}}]),vertexShader:F_.meshphong_vert,fragmentShader:F_.meshphong_frag},standard:{uniforms:b_([z_.common,z_.envmap,z_.aomap,z_.lightmap,z_.emissivemap,z_.bumpmap,z_.normalmap,z_.displacementmap,z_.roughnessmap,z_.metalnessmap,z_.fog,z_.lights,{emissive:{value:new wb(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:F_.meshphysical_vert,fragmentShader:F_.meshphysical_frag},toon:{uniforms:b_([z_.common,z_.aomap,z_.lightmap,z_.emissivemap,z_.bumpmap,z_.normalmap,z_.displacementmap,z_.gradientmap,z_.fog,z_.lights,{emissive:{value:new wb(0)}}]),vertexShader:F_.meshtoon_vert,fragmentShader:F_.meshtoon_frag},matcap:{uniforms:b_([z_.common,z_.bumpmap,z_.normalmap,z_.displacementmap,z_.fog,{matcap:{value:null}}]),vertexShader:F_.meshmatcap_vert,fragmentShader:F_.meshmatcap_frag},points:{uniforms:b_([z_.points,z_.fog]),vertexShader:F_.points_vert,fragmentShader:F_.points_frag},dashed:{uniforms:b_([z_.common,z_.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:F_.linedashed_vert,fragmentShader:F_.linedashed_frag},depth:{uniforms:b_([z_.common,z_.displacementmap]),vertexShader:F_.depth_vert,fragmentShader:F_.depth_frag},normal:{uniforms:b_([z_.common,z_.bumpmap,z_.normalmap,z_.displacementmap,{opacity:{value:1}}]),vertexShader:F_.normal_vert,fragmentShader:F_.normal_frag},sprite:{uniforms:b_([z_.sprite,z_.fog]),vertexShader:F_.sprite_vert,fragmentShader:F_.sprite_frag},background:{uniforms:{uvTransform:{value:new Yv},t2D:{value:null}},vertexShader:F_.background_vert,fragmentShader:F_.background_frag},cube:{uniforms:b_([z_.envmap,{opacity:{value:1}}]),vertexShader:F_.cube_vert,fragmentShader:F_.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:F_.equirect_vert,fragmentShader:F_.equirect_frag},distanceRGBA:{uniforms:b_([z_.common,z_.displacementmap,{referencePosition:{value:new iy},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:F_.distanceRGBA_vert,fragmentShader:F_.distanceRGBA_frag},shadow:{uniforms:b_([z_.lights,z_.fog,{color:{value:new wb(0)},opacity:{value:1}}]),vertexShader:F_.shadow_vert,fragmentShader:F_.shadow_frag}};function U_(t,e,n,i,r){const o=new wb(0);let s,a,g=0,A=null,C=0,I=null;function c(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,r)}return{getClearColor:function(){return o},setClearColor:function(t,e=1){o.set(t),g=e,c(o,g)},getClearAlpha:function(){return g},setClearAlpha:function(t){g=t,c(o,g)},render:function(n,r,l,u){let h=!0===r.isScene?r.background:null;h&&h.isTexture&&(h=e.get(h));const d=t.xr,f=d.getSession&&d.getSession();f&&"additive"===f.environmentBlendMode&&(h=null),null===h?c(o,g):h&&h.isColor&&(c(h,1),u=!0),(t.autoClear||u)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),h&&(h.isCubeTexture||h.isWebGLCubeRenderTarget||306===h.mapping)?(void 0===a&&(a=new f_(new v_(1,1,1),new w_({name:"BackgroundCubeMaterial",uniforms:y_(B_.cube.uniforms),vertexShader:B_.cube.vertexShader,fragmentShader:B_.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(a)),h.isWebGLCubeRenderTarget&&(h=h.texture),a.material.uniforms.envMap.value=h,a.material.uniforms.flipEnvMap.value=h.isCubeTexture&&h._needsFlipEnvMap?-1:1,A===h&&C===h.version&&I===t.toneMapping||(a.material.needsUpdate=!0,A=h,C=h.version,I=t.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null)):h&&h.isTexture&&(void 0===s&&(s=new f_(new j_(2,2),new w_({name:"BackgroundMaterial",uniforms:y_(B_.background.uniforms),vertexShader:B_.background.vertexShader,fragmentShader:B_.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=h,!0===h.matrixAutoUpdate&&h.updateMatrix(),s.material.uniforms.uvTransform.value.copy(h.matrix),A===h&&C===h.version&&I===t.toneMapping||(s.material.needsUpdate=!0,A=h,C=h.version,I=t.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null))}}}function H_(t,e,n,i){const r=t.getParameter(34921),o=i.isWebGL2?null:e.get("OES_vertex_array_object"),s=i.isWebGL2||null!==o,a={},g=c(null);let A=g;function C(e){return i.isWebGL2?t.bindVertexArray(e):o.bindVertexArrayOES(e)}function I(e){return i.isWebGL2?t.deleteVertexArray(e):o.deleteVertexArrayOES(e)}function c(t){const e=[],n=[],i=[];for(let t=0;t<r;t++)e[t]=0,n[t]=0,i[t]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:i,object:t,attributes:{},index:null}}function l(){const t=A.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function u(t){h(t,0)}function h(n,r){const o=A.newAttributes,s=A.enabledAttributes,a=A.attributeDivisors;o[n]=1,0===s[n]&&(t.enableVertexAttribArray(n),s[n]=1),a[n]!==r&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),a[n]=r)}function d(){const e=A.newAttributes,n=A.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function f(e,n,r,o,s,a){!0!==i.isWebGL2||5124!==r&&5125!==r?t.vertexAttribPointer(e,n,r,o,s,a):t.vertexAttribIPointer(e,n,r,s,a)}function p(){m(),A!==g&&(A=g,C(A.object))}function m(){g.geometry=null,g.program=null,g.wireframe=!1}return{setup:function(r,g,I,p,m){let v=!1;if(s){const e=function(e,n,r){const s=!0===r.wireframe;let g=a[e.id];void 0===g&&(g={},a[e.id]=g);let A=g[n.id];void 0===A&&(A={},g[n.id]=A);let C=A[s];return void 0===C&&(C=c(i.isWebGL2?t.createVertexArray():o.createVertexArrayOES()),A[s]=C),C}(p,I,g);A!==e&&(A=e,C(A.object)),v=function(t,e){const n=A.attributes,i=t.attributes;let r=0;for(const t in i){const e=n[t],o=i[t];if(void 0===e)return!0;if(e.attribute!==o)return!0;if(e.data!==o.data)return!0;r++}return A.attributesNum!==r||A.index!==e}(p,m),v&&function(t,e){const n={},i=t.attributes;let r=0;for(const t in i){const e=i[t],o={};o.attribute=e,e.data&&(o.data=e.data),n[t]=o,r++}A.attributes=n,A.attributesNum=r,A.index=e}(p,m)}else{const t=!0===g.wireframe;A.geometry===p.id&&A.program===I.id&&A.wireframe===t||(A.geometry=p.id,A.program=I.id,A.wireframe=t,v=!0)}!0===r.isInstancedMesh&&(v=!0),null!==m&&n.update(m,34963),v&&(function(r,o,s,a){if(!1===i.isWebGL2&&(r.isInstancedMesh||a.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;l();const g=a.attributes,A=s.getAttributes(),C=o.defaultAttributeValues;for(const e in A){const i=A[e];if(i>=0){const o=g[e];if(void 0!==o){const e=o.normalized,r=o.itemSize,s=n.get(o);if(void 0===s)continue;const g=s.buffer,A=s.type,C=s.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,s=n.stride,I=o.offset;n&&n.isInstancedInterleavedBuffer?(h(i,n.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=n.meshPerAttribute*n.count)):u(i),t.bindBuffer(34962,g),f(i,r,A,e,s*C,I*C)}else o.isInstancedBufferAttribute?(h(i,o.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=o.meshPerAttribute*o.count)):u(i),t.bindBuffer(34962,g),f(i,r,A,e,0,0)}else if("instanceMatrix"===e){const e=n.get(r.instanceMatrix);if(void 0===e)continue;const o=e.buffer,s=e.type;h(i+0,1),h(i+1,1),h(i+2,1),h(i+3,1),t.bindBuffer(34962,o),t.vertexAttribPointer(i+0,4,s,!1,64,0),t.vertexAttribPointer(i+1,4,s,!1,64,16),t.vertexAttribPointer(i+2,4,s,!1,64,32),t.vertexAttribPointer(i+3,4,s,!1,64,48)}else if("instanceColor"===e){const e=n.get(r.instanceColor);if(void 0===e)continue;const o=e.buffer,s=e.type;h(i,1),t.bindBuffer(34962,o),t.vertexAttribPointer(i,3,s,!1,12,0)}else if(void 0!==C){const n=C[e];if(void 0!==n)switch(n.length){case 2:t.vertexAttrib2fv(i,n);break;case 3:t.vertexAttrib3fv(i,n);break;case 4:t.vertexAttrib4fv(i,n);break;default:t.vertexAttrib1fv(i,n)}}}}d()}(r,g,I,p),null!==m&&t.bindBuffer(34963,n.get(m).buffer))},reset:p,resetDefaultState:m,dispose:function(){p();for(const t in a){const e=a[t];for(const t in e){const n=e[t];for(const t in n)I(n[t].object),delete n[t];delete e[t]}delete a[t]}},releaseStatesOfGeometry:function(t){if(void 0===a[t.id])return;const e=a[t.id];for(const t in e){const n=e[t];for(const t in n)I(n[t].object),delete n[t];delete e[t]}delete a[t.id]},releaseStatesOfProgram:function(t){for(const e in a){const n=a[e];if(void 0===n[t.id])continue;const i=n[t.id];for(const t in i)I(i[t].object),delete i[t];delete n[t.id]}},initAttributes:l,enableAttribute:u,disableUnusedAttributes:d}}function G_(t,e,n,i){const r=i.isWebGL2;let o;this.setMode=function(t){o=t},this.render=function(e,i){t.drawArrays(o,e,i),n.update(i,o,1)},this.renderInstances=function(i,s,a){if(0===a)return;let g,A;if(r)g=t,A="drawArraysInstanced";else if(g=e.get("ANGLE_instanced_arrays"),A="drawArraysInstancedANGLE",null===g)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");g[A](o,i,s,a),n.update(s,o,a)}}function W_(t,e,n){let i;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let s=void 0!==n.precision?n.precision:"highp";const a=r(s);a!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",a,"instead."),s=a);const g=!0===n.logarithmicDepthBuffer,A=t.getParameter(34930),C=t.getParameter(35660),I=t.getParameter(3379),c=t.getParameter(34076),l=t.getParameter(34921),u=t.getParameter(36347),h=t.getParameter(36348),d=t.getParameter(36349),f=C>0,p=o||!!e.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==i)return i;const n=e.get("EXT_texture_filter_anisotropic");return i=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,i},getMaxPrecision:r,precision:s,logarithmicDepthBuffer:g,maxTextures:A,maxVertexTextures:C,maxTextureSize:I,maxCubemapSize:c,maxAttributes:l,maxVertexUniforms:u,maxVaryings:h,maxFragmentUniforms:d,vertexTextures:f,floatFragmentTextures:p,floatVertexTextures:f&&p,maxSamples:o?t.getParameter(36183):0}}function V_(t){const e=this;let n=null,i=0,r=!1,o=!1;const s=new sb,a=new Yv,g={value:null,needsUpdate:!1};function A(){g.value!==n&&(g.value=n,g.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function C(t,n,i,r){const o=null!==t?t.length:0;let A=null;if(0!==o){if(A=g.value,!0!==r||null===A){const e=i+4*o,r=n.matrixWorldInverse;a.getNormalMatrix(r),(null===A||A.length<e)&&(A=new Float32Array(e));for(let e=0,n=i;e!==o;++e,n+=4)s.copy(t[e]).applyMatrix4(r,a),s.normal.toArray(A,n),A[n+3]=s.constant}g.value=A,g.needsUpdate=!0}return e.numPlanes=o,e.numIntersection=0,A}this.uniform=g,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,o){const s=0!==t.length||e||0!==i||r;return r=e,n=C(t,o,0),i=t.length,s},this.beginShadows=function(){o=!0,C(null)},this.endShadows=function(){o=!1,A()},this.setState=function(e,s,a){const I=e.clippingPlanes,c=e.clipIntersection,l=e.clipShadows,u=t.get(e);if(!r||null===I||0===I.length||o&&!l)o?C(null):A();else{const t=o?0:i,e=4*t;let r=u.clippingState||null;g.value=r,r=C(I,s,e,a);for(let t=0;t!==e;++t)r[t]=n[t];u.clippingState=r,this.numIntersection=c?this.numPlanes:0,this.numPlanes+=t}}}function Z_(t){let e=new WeakMap;function n(t,e){return 303===e?t.mapping=301:304===e&&(t.mapping=302),t}function i(t){const n=t.target;n.removeEventListener("dispose",i);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const o=r.mapping;if(303===o||304===o){if(e.has(r))return n(e.get(r).texture,r.mapping);{const o=r.image;if(o&&o.height>0){const s=t.getRenderList(),a=t.getRenderTarget(),g=t.getRenderState(),A=new R_(o.height/2);return A.fromEquirectangularTexture(t,r),e.set(r,A),t.setRenderTarget(a),t.setRenderList(s),t.setRenderState(g),r.addEventListener("dispose",i),n(A.texture,r.mapping)}return null}}}return r},dispose:function(){e=new WeakMap}}}function Y_(t){const e={};return{has:function(n){if(void 0!==e[n])return null!==e[n];let i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,null!==i},get:function(t){return this.has(t)||console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e[t]}}}function X_(t,e,n,i){const r=new WeakMap,o=new WeakMap;function s(t){const a=t.target,g=r.get(a);null!==g.index&&e.remove(g.index);for(const t in g.attributes)e.remove(g.attributes[t]);a.removeEventListener("dispose",s),r.delete(a);const A=o.get(g);A&&(e.remove(A),o.delete(g)),i.releaseStatesOfGeometry(g),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,n.memory.geometries--}function a(t){const n=[],i=t.index,r=t.attributes.position;let s=0;if(null!==i){const t=i.array;s=i.version;for(let e=0,i=t.length;e<i;e+=3){const i=t[e+0],r=t[e+1],o=t[e+2];n.push(i,r,r,o,o,i)}}else{const t=r.array;s=r.version;for(let e=0,i=t.length/3-1;e<i;e+=3){const t=e+0,i=e+1,r=e+2;n.push(t,i,i,r,r,t)}}const a=new(Gb(n)>65535?Fb:Pb)(n,1);a.version=s;const g=o.get(t);g&&e.remove(g),o.set(t,a)}return{get:function(t,e){let i=r.get(e);return i||(e.addEventListener("dispose",s),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new $b).setFromObject(t)),i=e._bufferGeometry),r.set(e,i),n.memory.geometries++,i)},update:function(t){const n=t.attributes;for(const t in n)e.update(n[t],34962);const i=t.morphAttributes;for(const t in i){const n=i[t];for(let t=0,i=n.length;t<i;t++)e.update(n[t],34962)}},getWireframeAttribute:function(t){const e=o.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&a(t)}else a(t);return o.get(t)}}}function J_(t,e,n,i){const r=i.isWebGL2;let o,s,a;this.setMode=function(t){o=t},this.setIndex=function(t){s=t.type,a=t.bytesPerElement},this.render=function(e,i){t.drawElements(o,i,s,e*a),n.update(i,o,1)},this.renderInstances=function(i,g,A){if(0===A)return;let C,I;if(r)C=t,I="drawElementsInstanced";else if(C=e.get("ANGLE_instanced_arrays"),I="drawElementsInstancedANGLE",null===C)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");C[I](o,g,s,i*a,A),n.update(g,o,A)}}function K_(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,i){switch(e.calls++,n){case 4:e.triangles+=i*(t/3);break;case 1:e.lines+=i*(t/2);break;case 3:e.lines+=i*(t-1);break;case 2:e.lines+=i*t;break;case 0:e.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function q_(t,e){return t[0]-e[0]}function Q_(t,e){return Math.abs(e[1])-Math.abs(t[1])}function $_(t){const e={},n=new Float32Array(8),i=[];for(let t=0;t<8;t++)i[t]=[t,0];return{update:function(r,o,s,a){const g=r.morphTargetInfluences,A=void 0===g?0:g.length;let C=e[o.id];if(void 0===C){C=[];for(let t=0;t<A;t++)C[t]=[t,0];e[o.id]=C}for(let t=0;t<A;t++){const e=C[t];e[0]=t,e[1]=g[t]}C.sort(Q_);for(let t=0;t<8;t++)t<A&&C[t][1]?(i[t][0]=C[t][0],i[t][1]=C[t][1]):(i[t][0]=Number.MAX_SAFE_INTEGER,i[t][1]=0);i.sort(q_);const I=s.morphTargets&&o.morphAttributes.position,c=s.morphNormals&&o.morphAttributes.normal;let l=0;for(let t=0;t<8;t++){const e=i[t],r=e[0],s=e[1];r!==Number.MAX_SAFE_INTEGER&&s?(I&&o.getAttribute("morphTarget"+t)!==I[r]&&o.setAttribute("morphTarget"+t,I[r]),c&&o.getAttribute("morphNormal"+t)!==c[r]&&o.setAttribute("morphNormal"+t,c[r]),n[t]=s,l+=s):(I&&!0===o.hasAttribute("morphTarget"+t)&&o.deleteAttribute("morphTarget"+t),c&&!0===o.hasAttribute("morphNormal"+t)&&o.deleteAttribute("morphNormal"+t),n[t]=0)}const u=o.morphTargetsRelative?1:1-l;a.getUniforms().setValue(t,"morphTargetBaseInfluence",u),a.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function tw(t,e,n,i){let r=new WeakMap;return{update:function(t){const o=i.render.frame,s=t.geometry,a=e.get(t,s);return r.get(a)!==o&&(s.isGeometry&&a.updateFromObject(t),e.update(a),r.set(a,o)),t.isInstancedMesh&&(n.update(t.instanceMatrix,34962),null!==t.instanceColor&&n.update(t.instanceColor,34962)),a},dispose:function(){r=new WeakMap}}}function ew(t=null,e=1,n=1,i=1){qv.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=mv,this.minFilter=mv,this.wrapR=fv,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function nw(t=null,e=1,n=1,i=1){qv.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=mv,this.minFilter=mv,this.wrapR=fv,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}B_.physical={uniforms:b_([B_.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Zv(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new wb(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:F_.meshphysical_vert,fragmentShader:F_.meshphysical_frag},ew.prototype=Object.create(qv.prototype),ew.prototype.constructor=ew,ew.prototype.isDataTexture2DArray=!0,nw.prototype=Object.create(qv.prototype),nw.prototype.constructor=nw,nw.prototype.isDataTexture3D=!0;const iw=new qv,rw=new ew,ow=new nw,sw=new T_,aw=[],gw=[],Aw=new Float32Array(16),Cw=new Float32Array(9),Iw=new Float32Array(4);function cw(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let o=aw[r];if(void 0===o&&(o=new Float32Array(r),aw[r]=o),0!==e){i.toArray(o,0);for(let i=1,r=0;i!==e;++i)r+=n,t[i].toArray(o,r)}return o}function lw(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function uw(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function hw(t,e){let n=gw[e];void 0===n&&(n=new Int32Array(e),gw[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function dw(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function fw(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(lw(n,e))return;t.uniform2fv(this.addr,e),uw(n,e)}}function pw(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(lw(n,e))return;t.uniform3fv(this.addr,e),uw(n,e)}}function mw(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(lw(n,e))return;t.uniform4fv(this.addr,e),uw(n,e)}}function vw(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(lw(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),uw(n,e)}else{if(lw(n,i))return;Iw.set(i),t.uniformMatrix2fv(this.addr,!1,Iw),uw(n,i)}}function yw(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(lw(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),uw(n,e)}else{if(lw(n,i))return;Cw.set(i),t.uniformMatrix3fv(this.addr,!1,Cw),uw(n,i)}}function bw(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(lw(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),uw(n,e)}else{if(lw(n,i))return;Aw.set(i),t.uniformMatrix4fv(this.addr,!1,Aw),uw(n,i)}}function _w(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||iw,r)}function ww(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||rw,r)}function xw(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||ow,r)}function Sw(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||sw,r)}function Ew(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Mw(t,e){const n=this.cache;lw(n,e)||(t.uniform2iv(this.addr,e),uw(n,e))}function Tw(t,e){const n=this.cache;lw(n,e)||(t.uniform3iv(this.addr,e),uw(n,e))}function Rw(t,e){const n=this.cache;lw(n,e)||(t.uniform4iv(this.addr,e),uw(n,e))}function Ow(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Lw(t,e){t.uniform1fv(this.addr,e)}function kw(t,e){t.uniform1iv(this.addr,e)}function Dw(t,e){t.uniform2iv(this.addr,e)}function Nw(t,e){t.uniform3iv(this.addr,e)}function Pw(t,e){t.uniform4iv(this.addr,e)}function jw(t,e){const n=cw(e,this.size,2);t.uniform2fv(this.addr,n)}function Fw(t,e){const n=cw(e,this.size,3);t.uniform3fv(this.addr,n)}function zw(t,e){const n=cw(e,this.size,4);t.uniform4fv(this.addr,n)}function Bw(t,e){const n=cw(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Uw(t,e){const n=cw(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Hw(t,e){const n=cw(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Gw(t,e,n){const i=e.length,r=hw(n,i);t.uniform1iv(this.addr,r);for(let t=0;t!==i;++t)n.safeSetTexture2D(e[t]||iw,r[t])}function Ww(t,e,n){const i=e.length,r=hw(n,i);t.uniform1iv(this.addr,r);for(let t=0;t!==i;++t)n.safeSetTextureCube(e[t]||sw,r[t])}function Vw(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return dw;case 35664:return fw;case 35665:return pw;case 35666:return mw;case 35674:return vw;case 35675:return yw;case 35676:return bw;case 5124:case 35670:return Ew;case 35667:case 35671:return Mw;case 35668:case 35672:return Tw;case 35669:case 35673:return Rw;case 5125:return Ow;case 35678:case 36198:case 36298:case 36306:case 35682:return _w;case 35679:case 36299:case 36307:return xw;case 35680:case 36300:case 36308:case 36293:return Sw;case 36289:case 36303:case 36311:case 36292:return ww}}(e.type)}function Zw(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Lw;case 35664:return jw;case 35665:return Fw;case 35666:return zw;case 35674:return Bw;case 35675:return Uw;case 35676:return Hw;case 5124:case 35670:return kw;case 35667:case 35671:return Dw;case 35668:case 35672:return Nw;case 35669:case 35673:return Pw;case 35678:case 36198:case 36298:case 36306:case 35682:return Gw;case 35680:case 36300:case 36308:case 36293:return Ww}}(e.type)}function Yw(t){this.id=t,this.seq=[],this.map={}}Zw.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),uw(e,t)},Yw.prototype.setValue=function(t,e,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const o=i[r];o.setValue(t,e[o.id],n)}};const Xw=/([\w\d_]+)(\])?(\[|\.)?/g;function Jw(t,e){t.seq.push(e),t.map[e.id]=e}function Kw(t,e,n){const i=t.name,r=i.length;for(Xw.lastIndex=0;;){const o=Xw.exec(i),s=Xw.lastIndex;let a=o[1];const g="]"===o[2],A=o[3];if(g&&(a|=0),void 0===A||"["===A&&s+2===r){Jw(n,void 0===A?new Vw(a,t,e):new Zw(a,t,e));break}{let t=n.map[a];void 0===t&&(t=new Yw(a),Jw(n,t)),n=t}}}function qw(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let i=0;i<n;++i){const n=t.getActiveUniform(e,i);Kw(n,t.getUniformLocation(e,n.name),this)}}function Qw(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}qw.prototype.setValue=function(t,e,n,i){const r=this.map[e];void 0!==r&&r.setValue(t,n,i)},qw.prototype.setOptional=function(t,e,n){const i=e[n];void 0!==i&&this.setValue(t,n,i)},qw.upload=function(t,e,n,i){for(let r=0,o=e.length;r!==o;++r){const o=e[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,i)}},qw.seqWithValue=function(t,e){const n=[];for(let i=0,r=t.length;i!==r;++i){const r=t[i];r.id in e&&n.push(r)}return n};let $w=0;function tx(t){switch(t){case jv:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function ex(t,e,n){const i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(t){const e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}(t.getShaderSource(e))}function nx(t,e){const n=tx(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function ix(t,e){const n=tx(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function rx(t,e){let n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ox(t){return""!==t}function sx(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ax(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const gx=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ax(t){return t.replace(gx,Cx)}function Cx(t,e){const n=F_[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return Ax(n)}const Ix=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,cx=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function lx(t){return t.replace(cx,hx).replace(Ix,ux)}function ux(t,e,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),hx(0,e,n,i)}function hx(t,e,n,i){let r="";for(let t=parseInt(e);t<parseInt(n);t++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return r}function dx(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function fx(t,e,n,i){const r=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const g=function(t){let e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(n),A=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),C=function(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:case 307:e="ENVMAP_MODE_REFRACTION"}return e}(n),I=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),c=t.gammaFactor>0?t.gammaFactor:1,l=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ox).join("\n")}(n),u=function(t){const e=[];for(const n in t){const i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(o),h=r.createProgram();let d,f,p=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(d=[u].filter(ox).join("\n"),d.length>0&&(d+="\n"),f=[l,u].filter(ox).join("\n"),f.length>0&&(f+="\n")):(d=[dx(n),"#define SHADER_NAME "+n.shaderName,u,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+c,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+C:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+g:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ox).join("\n"),f=[l,dx(n),"#define SHADER_NAME "+n.shaderName,u,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+c,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+A:"",n.envMap?"#define "+C:"",n.envMap?"#define "+I:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+g:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?F_.tonemapping_pars_fragment:"",0!==n.toneMapping?rx("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",F_.encodings_pars_fragment,n.map?nx("mapTexelToLinear",n.mapEncoding):"",n.matcap?nx("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?nx("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?nx("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?nx("lightMapTexelToLinear",n.lightMapEncoding):"",ix("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ox).join("\n")),s=Ax(s),s=sx(s,n),s=ax(s,n),a=Ax(a),a=sx(a,n),a=ax(a,n),s=lx(s),a=lx(a),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(p="#version 300 es\n",d=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+d,f=["#define varying in",n.glslVersion===Uv?"":"out highp vec4 pc_fragColor;",n.glslVersion===Uv?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+f);const m=p+f+a,v=Qw(r,35633,p+d+s),y=Qw(r,35632,m);if(r.attachShader(h,v),r.attachShader(h,y),void 0!==n.index0AttributeName?r.bindAttribLocation(h,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(h,0,"position"),r.linkProgram(h),t.debug.checkShaderErrors){const t=r.getProgramInfoLog(h).trim(),e=r.getShaderInfoLog(v).trim(),n=r.getShaderInfoLog(y).trim();let i=!0,o=!0;if(!1===r.getProgramParameter(h,35714)){i=!1;const e=ex(r,v,"vertex"),n=ex(r,y,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(h,35715),"gl.getProgramInfoLog",t,e,n)}else""!==t?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",t):""!==e&&""!==n||(o=!1);o&&(this.diagnostics={runnable:i,programLog:t,vertexShader:{log:e,prefix:d},fragmentShader:{log:n,prefix:f}})}let b,_;return r.deleteShader(v),r.deleteShader(y),this.getUniforms=function(){return void 0===b&&(b=new qw(r,h)),b},this.getAttributes=function(){return void 0===_&&(_=function(t,e){const n={},i=t.getProgramParameter(e,35721);for(let r=0;r<i;r++){const i=t.getActiveAttrib(e,r).name;n[i]=t.getAttribLocation(e,i)}return n}(r,h)),_},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(h),this.program=void 0},this.name=n.shaderName,this.id=$w++,this.cacheKey=e,this.usedTimes=1,this.program=h,this.vertexShader=v,this.fragmentShader=y,this}function px(t,e,n,i,r,o){const s=[],a=i.isWebGL2,g=i.logarithmicDepthBuffer,A=i.floatVertexTextures,C=i.maxVertexUniforms,I=i.vertexTextures;let c=i.precision;const l={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},u=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function h(t){let e;return t?t.isTexture?e=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding):e=jv,e}return{getParameters:function(r,s,u,d,f){const p=d.fog,m=r.isMeshStandardMaterial?d.environment:null,v=e.get(r.envMap||m),y=l[r.type],b=f.isSkinnedMesh?function(t){const e=t.skeleton.bones;if(A)return 1024;{const t=C,n=Math.floor((t-20)/4),i=Math.min(n,e.length);return i<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+i+"."),0):i}}(f):0;let _,w;if(null!==r.precision&&(c=i.getMaxPrecision(r.precision),c!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",c,"instead.")),y){const t=B_[y];_=t.vertexShader,w=t.fragmentShader}else _=r.vertexShader,w=r.fragmentShader;const x=t.getRenderTarget();return{isWebGL2:a,shaderID:y,shaderName:r.type,vertexShader:_,fragmentShader:w,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:c,instancing:!0===f.isInstancedMesh,instancingColor:!0===f.isInstancedMesh&&null!==f.instanceColor,supportsVertexTextures:I,outputEncoding:null!==x?h(x.texture):t.outputEncoding,map:!!r.map,mapEncoding:h(r.map),matcap:!!r.matcap,matcapEncoding:h(r.matcap),envMap:!!v,envMapMode:v&&v.mapping,envMapEncoding:h(v),envMapCubeUV:!!v&&(306===v.mapping||307===v.mapping),lightMap:!!r.lightMap,lightMapEncoding:h(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:h(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:1===r.normalMapType,tangentSpaceNormalMap:0===r.normalMapType,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatMap||r.clearcoatRoughnessMap||r.clearcoatNormalMap||r.displacementMap||r.transmissionMap),uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap||!r.displacementMap),fog:!!p,useFog:r.fog,fogExp2:p&&p.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:g,skinning:r.skinning&&b>0,maxBones:b,useVertexTexture:A,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:r.dithering,shadowMapEnabled:t.shadowMap.enabled&&u.length>0,shadowMapType:t.shadowMap.type,toneMapping:r.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:2===r.side,flipSided:1===r.side,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:a||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:a||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:a||n.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);if(!1===e.isRawShaderMaterial){for(let t=0;t<u.length;t++)n.push(e[u[t]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){const e=l[t.type];let n;if(e){const t=B_[e];n=__.clone(t.uniforms)}else n=t.uniforms;return n},acquireProgram:function(e,n){let i;for(let t=0,e=s.length;t<e;t++){const e=s[t];if(e.cacheKey===n){i=e,++i.usedTimes;break}}return void 0===i&&(i=new fx(t,n,e,r),s.push(i)),i},releaseProgram:function(t){if(0==--t.usedTimes){const e=s.indexOf(t);s[e]=s[s.length-1],s.pop(),t.destroy()}},programs:s}}function mx(){let t=new WeakMap;return{get:function(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function vx(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function yx(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function bx(t){const e=[];let n=0;const i=[],r=[],o={id:-1};function s(i,r,s,a,g,A){let C=e[n];const I=t.get(s);return void 0===C?(C={id:i.id,object:i,geometry:r,material:s,program:I.program||o,groupOrder:a,renderOrder:i.renderOrder,z:g,group:A},e[n]=C):(C.id=i.id,C.object=i,C.geometry=r,C.material=s,C.program=I.program||o,C.groupOrder=a,C.renderOrder=i.renderOrder,C.z=g,C.group=A),n++,C}return{opaque:i,transparent:r,init:function(){n=0,i.length=0,r.length=0},push:function(t,e,n,o,a,g){const A=s(t,e,n,o,a,g);(!0===n.transparent?r:i).push(A)},unshift:function(t,e,n,o,a,g){const A=s(t,e,n,o,a,g);(!0===n.transparent?r:i).unshift(A)},finish:function(){for(let t=n,i=e.length;t<i;t++){const n=e[t];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.program=null,n.group=null}},sort:function(t,e){i.length>1&&i.sort(t||vx),r.length>1&&r.sort(e||yx)}}}function _x(t){let e=new WeakMap;return{get:function(n,i){const r=e.get(n);let o;return void 0===r?(o=new bx(t),e.set(n,new WeakMap),e.get(n).set(i,o)):(o=r.get(i),void 0===o&&(o=new bx(t),r.set(i,o))),o},dispose:function(){e=new WeakMap}}}function wx(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new iy,color:new wb};break;case"SpotLight":n={position:new iy,direction:new iy,color:new wb,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new iy,color:new wb,distance:0,decay:0};break;case"HemisphereLight":n={direction:new iy,skyColor:new wb,groundColor:new wb};break;case"RectAreaLight":n={color:new wb,position:new iy,halfWidth:new iy,halfHeight:new iy}}return t[e.id]=n,n}}}let xx=0;function Sx(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function Ex(t,e){const n=new wx,i=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Zv};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Zv,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let t=0;t<9;t++)r.probe.push(new iy);const o=new iy,s=new Oy,a=new Oy;return{setup:function(g,A,C){let I=0,c=0,l=0;for(let t=0;t<9;t++)r.probe[t].set(0,0,0);let u=0,h=0,d=0,f=0,p=0,m=0,v=0,y=0;const b=C.matrixWorldInverse;g.sort(Sx);for(let t=0,e=g.length;t<e;t++){const e=g[t],A=e.color,C=e.intensity,_=e.distance,w=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)I+=A.r*C,c+=A.g*C,l+=A.b*C;else if(e.isLightProbe)for(let t=0;t<9;t++)r.probe[t].addScaledVector(e.sh.coefficients[t],C);else if(e.isDirectionalLight){const t=n.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),t.direction.setFromMatrixPosition(e.matrixWorld),o.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(b),e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.directionalShadow[u]=n,r.directionalShadowMap[u]=w,r.directionalShadowMatrix[u]=e.shadow.matrix,m++}r.directional[u]=t,u++}else if(e.isSpotLight){const t=n.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(b),t.color.copy(A).multiplyScalar(C),t.distance=_,t.direction.setFromMatrixPosition(e.matrixWorld),o.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(o),t.direction.transformDirection(b),t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,r.spotShadow[d]=n,r.spotShadowMap[d]=w,r.spotShadowMatrix[d]=e.shadow.matrix,y++}r.spot[d]=t,d++}else if(e.isRectAreaLight){const t=n.get(e);t.color.copy(A).multiplyScalar(C),t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(b),a.identity(),s.copy(e.matrixWorld),s.premultiply(b),a.extractRotation(s),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),t.halfWidth.applyMatrix4(a),t.halfHeight.applyMatrix4(a),r.rectArea[f]=t,f++}else if(e.isPointLight){const t=n.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(b),t.color.copy(e.color).multiplyScalar(e.intensity),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,n=i.get(e);n.shadowBias=t.bias,n.shadowNormalBias=t.normalBias,n.shadowRadius=t.radius,n.shadowMapSize=t.mapSize,n.shadowCameraNear=t.camera.near,n.shadowCameraFar=t.camera.far,r.pointShadow[h]=n,r.pointShadowMap[h]=w,r.pointShadowMatrix[h]=e.shadow.matrix,v++}r.point[h]=t,h++}else if(e.isHemisphereLight){const t=n.get(e);t.direction.setFromMatrixPosition(e.matrixWorld),t.direction.transformDirection(b),t.direction.normalize(),t.skyColor.copy(e.color).multiplyScalar(C),t.groundColor.copy(e.groundColor).multiplyScalar(C),r.hemi[p]=t,p++}}f>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(r.rectAreaLTC1=z_.LTC_FLOAT_1,r.rectAreaLTC2=z_.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=z_.LTC_HALF_1,r.rectAreaLTC2=z_.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=I,r.ambient[1]=c,r.ambient[2]=l;const _=r.hash;_.directionalLength===u&&_.pointLength===h&&_.spotLength===d&&_.rectAreaLength===f&&_.hemiLength===p&&_.numDirectionalShadows===m&&_.numPointShadows===v&&_.numSpotShadows===y||(r.directional.length=u,r.spot.length=d,r.rectArea.length=f,r.point.length=h,r.hemi.length=p,r.directionalShadow.length=m,r.directionalShadowMap.length=m,r.pointShadow.length=v,r.pointShadowMap.length=v,r.spotShadow.length=y,r.spotShadowMap.length=y,r.directionalShadowMatrix.length=m,r.pointShadowMatrix.length=v,r.spotShadowMatrix.length=y,_.directionalLength=u,_.pointLength=h,_.spotLength=d,_.rectAreaLength=f,_.hemiLength=p,_.numDirectionalShadows=m,_.numPointShadows=v,_.numSpotShadows=y,r.version=xx++)},state:r}}function Mx(t,e){const n=new Ex(t,e),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(t){n.setup(i,r,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){r.push(t)}}}function Tx(t,e){let n=new WeakMap;return{get:function(i,r){let o;return!1===n.has(i)?(o=new Mx(t,e),n.set(i,new WeakMap),n.get(i).set(r,o)):!1===n.get(i).has(r)?(o=new Mx(t,e),n.get(i).set(r,o)):o=n.get(i).get(r),o},dispose:function(){n=new WeakMap}}}function Rx(t){Eb.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function Ox(t){Eb.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new iy,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}function Lx(t,e,n){let i=new D_;const r=new Zv,o=new Zv,s=new $v,a=[],g=[],A={},C={0:1,1:0,2:2},I=new w_({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Zv},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),c=I.clone();c.defines.HORIZONAL_PASS=1;const l=new $b;l.setAttribute("position",new Ob(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const u=new f_(l,I),h=this;function d(n,i){const r=e.update(u);I.uniforms.shadow_pass.value=n.map.texture,I.uniforms.resolution.value=n.mapSize,I.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,r,I,u,null),c.uniforms.shadow_pass.value=n.mapPass.texture,c.uniforms.resolution.value=n.mapSize,c.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,r,c,u,null)}function f(t,e,n){const i=t<<0|e<<1|n<<2;let r=a[i];return void 0===r&&(r=new Rx({depthPacking:3201,morphTargets:t,skinning:e}),a[i]=r),r}function p(t,e,n){const i=t<<0|e<<1|n<<2;let r=g[i];return void 0===r&&(r=new Ox({morphTargets:t,skinning:e}),g[i]=r),r}function m(e,n,i,r,o,s,a){let g=null,I=f,c=e.customDepthMaterial;if(!0===r.isPointLight&&(I=p,c=e.customDistanceMaterial),void 0===c){let t=!1;!0===i.morphTargets&&(t=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);let r=!1;!0===e.isSkinnedMesh&&(!0===i.skinning?r=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e)),g=I(t,r,!0===e.isInstancedMesh)}else g=c;if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){const t=g.uuid,e=i.uuid;let n=A[t];void 0===n&&(n={},A[t]=n);let r=n[e];void 0===r&&(r=g.clone(),n[e]=r),g=r}return g.visible=i.visible,g.wireframe=i.wireframe,g.side=3===a?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:C[i.side],g.clipShadows=i.clipShadows,g.clippingPlanes=i.clippingPlanes,g.clipIntersection=i.clipIntersection,g.wireframeLinewidth=i.wireframeLinewidth,g.linewidth=i.linewidth,!0===r.isPointLight&&!0===g.isMeshDistanceMaterial&&(g.referencePosition.setFromMatrixPosition(r.matrixWorld),g.nearDistance=o,g.farDistance=s),g}function v(n,r,o,s,a){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===a)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const i=e.update(n),r=n.material;if(Array.isArray(r)){const e=i.groups;for(let g=0,A=e.length;g<A;g++){const A=e[g],C=r[A.materialIndex];if(C&&C.visible){const e=m(n,i,C,s,o.near,o.far,a);t.renderBufferDirect(o,null,i,e,n,A)}}}else if(r.visible){const e=m(n,i,r,s,o.near,o.far,a);t.renderBufferDirect(o,null,i,e,n,null)}}const g=n.children;for(let t=0,e=g.length;t<e;t++)v(g[t],r,o,s,a)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,a,g){if(!1===h.enabled)return;if(!1===h.autoUpdate&&!1===h.needsUpdate)return;if(0===e.length)return;const A=t.getRenderTarget(),C=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),c=t.state;c.setBlending(0),c.buffers.color.setClear(1,1,1,1),c.buffers.depth.setTest(!0),c.setScissorTest(!1);for(let A=0,C=e.length;A<C;A++){const C=e[A],I=C.shadow;if(void 0===I){console.warn("THREE.WebGLShadowMap:",C,"has no shadow.");continue}if(!1===I.autoUpdate&&!1===I.needsUpdate)continue;r.copy(I.mapSize);const l=I.getFrameExtents();if(r.multiply(l),o.copy(I.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(o.x=Math.floor(n/l.x),r.x=o.x*l.x,I.mapSize.x=o.x),r.y>n&&(o.y=Math.floor(n/l.y),r.y=o.y*l.y,I.mapSize.y=o.y)),null===I.map&&!I.isPointLightShadow&&3===this.type){const t={minFilter:vv,magFilter:vv,format:Mv};I.map=new ty(r.x,r.y,t),I.map.texture.name=C.name+".shadowMap",I.mapPass=new ty(r.x,r.y,t),I.camera.updateProjectionMatrix()}if(null===I.map){const t={minFilter:mv,magFilter:mv,format:Mv};I.map=new ty(r.x,r.y,t),I.map.texture.name=C.name+".shadowMap",I.camera.updateProjectionMatrix()}t.setRenderTarget(I.map),t.clear();const u=I.getViewportCount();for(let t=0;t<u;t++){const e=I.getViewport(t);s.set(o.x*e.x,o.y*e.y,o.x*e.z,o.y*e.w),c.viewport(s),I.updateMatrices(C,t),i=I.getFrustum(),v(a,g,I.camera,C,this.type)}I.isPointLightShadow||3!==this.type||d(I,g),I.needsUpdate=!1}h.needsUpdate=!1,t.setRenderTarget(A,C,I)}}function kx(t,e,n){const i=n.isWebGL2,r=new function(){let e=!1;const n=new $v;let i=null;const r=new $v(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,o,s,a){!0===a&&(e*=s,i*=s,o*=s),n.set(e,i,o,s),!1===r.equals(n)&&(t.clearColor(e,i,o,s),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},o=new function(){let e=!1,n=null,i=null,r=null;return{setTest:function(t){t?k(2929):D(2929)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;default:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517)}else t.depthFunc(515);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},s=new function(){let e=!1,n=null,i=null,r=null,o=null,s=null,a=null,g=null,A=null;return{setTest:function(t){e||(t?k(2960):D(2960))},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,s){i===e&&r===n&&o===s||(t.stencilFunc(e,n,s),i=e,r=n,o=s)},setOp:function(e,n,i){s===e&&a===n&&g===i||(t.stencilOp(e,n,i),s=e,a=n,g=i)},setLocked:function(t){e=t},setClear:function(e){A!==e&&(t.clearStencil(e),A=e)},reset:function(){e=!1,n=null,i=null,r=null,o=null,s=null,a=null,g=null,A=null}}};let a={},g=null,A=null,C=null,I=null,c=null,l=null,u=null,h=null,d=null,f=!1,p=null,m=null,v=null,y=null,b=null;const _=t.getParameter(35661);let w=!1,x=0;const S=t.getParameter(7938);-1!==S.indexOf("WebGL")?(x=parseFloat(/^WebGL\ ([0-9])/.exec(S)[1]),w=x>=1):-1!==S.indexOf("OpenGL ES")&&(x=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(S)[1]),w=x>=2);let E=null,M={};const T=new $v,R=new $v;function O(e,n,i){const r=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(let e=0;e<i;e++)t.texImage2D(n+e,0,6408,1,1,0,6408,5121,r);return o}const L={};function k(e){!0!==a[e]&&(t.enable(e),a[e]=!0)}function D(e){!1!==a[e]&&(t.disable(e),a[e]=!1)}L[3553]=O(3553,3553,1),L[34067]=O(34067,34069,6),r.setClear(0,0,0,1),o.setClear(1),s.setClear(0),k(2929),o.setFunc(3),F(!1),z(1),k(2884),j(0);const N={[hv]:32774,101:32778,102:32779};if(i)N[103]=32775,N[104]=32776;else{const t=e.get("EXT_blend_minmax");null!==t&&(N[103]=t.MIN_EXT,N[104]=t.MAX_EXT)}const P={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function j(e,n,i,r,o,s,a,g){if(0!==e){if(A||(k(3042),A=!0),5===e)o=o||n,s=s||i,a=a||r,n===I&&o===u||(t.blendEquationSeparate(N[n],N[o]),I=n,u=o),i===c&&r===l&&s===h&&a===d||(t.blendFuncSeparate(P[i],P[r],P[s],P[a]),c=i,l=r,h=s,d=a),C=e,f=null;else if(e!==C||g!==f){if(I===hv&&u===hv||(t.blendEquation(32774),I=hv,u=hv),g)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}c=null,l=null,h=null,d=null,C=e,f=g}}else A&&(D(3042),A=!1)}function F(e){p!==e&&(e?t.frontFace(2304):t.frontFace(2305),p=e)}function z(e){0!==e?(k(2884),e!==m&&(1===e?t.cullFace(1029):2===e?t.cullFace(1028):t.cullFace(1032))):D(2884),m=e}function B(e,n,i){e?(k(32823),y===n&&b===i||(t.polygonOffset(n,i),y=n,b=i)):D(32823)}function U(e){void 0===e&&(e=33984+_-1),E!==e&&(t.activeTexture(e),E=e)}return{buffers:{color:r,depth:o,stencil:s},enable:k,disable:D,useProgram:function(e){return g!==e&&(t.useProgram(e),g=e,!0)},setBlending:j,setMaterial:function(t,e){2===t.side?D(2884):k(2884);let n=1===t.side;e&&(n=!n),F(n),1===t.blending&&!1===t.transparent?j(0):j(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),r.setMask(t.colorWrite);const i=t.stencilWrite;s.setTest(i),i&&(s.setMask(t.stencilWriteMask),s.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),s.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),B(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:F,setCullFace:z,setLineWidth:function(e){e!==v&&(w&&t.lineWidth(e),v=e)},setPolygonOffset:B,setScissorTest:function(t){t?k(3089):D(3089)},activeTexture:U,bindTexture:function(e,n){null===E&&U();let i=M[E];void 0===i&&(i={type:void 0,texture:void 0},M[E]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||L[e]),i.type=e,i.texture=n)},unbindTexture:function(){const e=M[E];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===T.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),T.copy(e))},viewport:function(e){!1===R.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),R.copy(e))},reset:function(){a={},E=null,M={},g=null,A=null,C=null,I=null,c=null,l=null,u=null,h=null,d=null,f=!1,p=null,m=null,v=null,y=null,b=null,r.reset(),o.reset(),s.reset()}}}function Dx(t,e,n,i,r,o,s){const a=r.isWebGL2,g=r.maxTextures,A=r.maxCubemapSize,C=r.maxTextureSize,I=r.maxSamples,c=new WeakMap;let l,u=!1;try{u="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function h(t,e){return u?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function d(t,e,n,i){let r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const i=e?Vv.floorPowerOfTwo:Math.floor,o=i(r*t.width),s=i(r*t.height);void 0===l&&(l=h(o,s));const a=n?h(o,s):l;return a.width=o,a.height=s,a.getContext("2d").drawImage(t,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+s+")."),a}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function f(t){return Vv.isPowerOfTwo(t.width)&&Vv.isPowerOfTwo(t.height)}function p(t,e){return t.generateMipmaps&&e&&t.minFilter!==mv&&t.minFilter!==vv}function m(e,n,r,o){t.generateMipmap(e),i.get(n).__maxMipLevel=Math.log(Math.max(r,o))*Math.LOG2E}function v(n,i,r){if(!1===a)return i;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let o=i;return 6403===i&&(5126===r&&(o=33326),5131===r&&(o=33325),5121===r&&(o=33321)),6407===i&&(5126===r&&(o=34837),5131===r&&(o=34843),5121===r&&(o=32849)),6408===i&&(5126===r&&(o=34836),5131===r&&(o=34842),5121===r&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||e.get("EXT_color_buffer_float"),o}function y(t){return t===mv||1004===t||1005===t?9728:9729}function b(e){const n=e.target;n.removeEventListener("dispose",b),function(e){const n=i.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),i.remove(e))}(n),n.isVideoTexture&&c.delete(n),s.memory.textures--}function _(e){const n=e.target;n.removeEventListener("dispose",_),function(e){const n=i.get(e),r=i.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++)t.deleteFramebuffer(n.__webglFramebuffer[e]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[e]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&t.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer);i.remove(e.texture),i.remove(e)}}(n),s.memory.textures--}let w=0;function x(t,e){const r=i.get(t);if(t.isVideoTexture&&function(t){const e=s.render.frame;c.get(t)!==e&&(c.set(t,e),t.update())}(t),t.version>0&&r.__version!==t.version){const n=t.image;if(void 0===n)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==n.complete)return void O(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,r.__webglTexture)}function S(e,r){const s=i.get(e);e.version>0&&s.__version!==e.version?function(e,i,r){if(6!==i.image.length)return;R(e,i),n.activeTexture(33984+r),n.bindTexture(34067,e.__webglTexture),t.pixelStorei(37440,i.flipY);const s=i&&(i.isCompressedTexture||i.image[0].isCompressedTexture),g=i.image[0]&&i.image[0].isDataTexture,C=[];for(let t=0;t<6;t++)C[t]=s||g?g?i.image[t].image:i.image[t]:d(i.image[t],!1,!0,A);const I=C[0],c=f(I)||a,l=o.convert(i.format),u=o.convert(i.type),h=v(i.internalFormat,l,u);let y;if(T(34067,i,c),s){for(let t=0;t<6;t++){y=C[t].mipmaps;for(let e=0;e<y.length;e++){const r=y[e];i.format!==Mv&&i.format!==Ev?null!==l?n.compressedTexImage2D(34069+t,e,h,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+t,e,h,r.width,r.height,0,l,u,r.data)}}e.__maxMipLevel=y.length-1}else{y=i.mipmaps;for(let t=0;t<6;t++)if(g){n.texImage2D(34069+t,0,h,C[t].width,C[t].height,0,l,u,C[t].data);for(let e=0;e<y.length;e++){const i=y[e].image[t].image;n.texImage2D(34069+t,e+1,h,i.width,i.height,0,l,u,i.data)}}else{n.texImage2D(34069+t,0,h,l,u,C[t]);for(let e=0;e<y.length;e++){const i=y[e];n.texImage2D(34069+t,e+1,h,l,u,i.image[t])}}e.__maxMipLevel=y.length}p(i,c)&&m(34067,i,I.width,I.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}(s,e,r):(n.activeTexture(33984+r),n.bindTexture(34067,s.__webglTexture))}const E={[dv]:10497,[fv]:33071,[pv]:33648},M={[mv]:9728,1004:9984,1005:9986,[vv]:9729,1007:9985,[yv]:9987};function T(n,o,s){s?(t.texParameteri(n,10242,E[o.wrapS]),t.texParameteri(n,10243,E[o.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,E[o.wrapR]),t.texParameteri(n,10240,M[o.magFilter]),t.texParameteri(n,10241,M[o.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),o.wrapS===fv&&o.wrapT===fv||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,y(o.magFilter)),t.texParameteri(n,10241,y(o.minFilter)),o.minFilter!==mv&&o.minFilter!==vv&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const g=e.get("EXT_texture_filter_anisotropic");if(g){if(o.type===wv&&null===e.get("OES_texture_float_linear"))return;if(o.type===xv&&null===(a||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(t.texParameterf(n,g.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function R(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",b),e.__webglTexture=t.createTexture(),s.memory.textures++)}function O(e,i,r){let s=3553;i.isDataTexture2DArray&&(s=35866),i.isDataTexture3D&&(s=32879),R(e,i),n.activeTexture(33984+r),n.bindTexture(s,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment);const g=function(t){return!a&&(t.wrapS!==fv||t.wrapT!==fv||t.minFilter!==mv&&t.minFilter!==vv)}(i)&&!1===f(i.image),A=d(i.image,g,!1,C),I=f(A)||a,c=o.convert(i.format);let l,u=o.convert(i.type),h=v(i.internalFormat,c,u);T(s,i,I);const y=i.mipmaps;if(i.isDepthTexture)h=6402,a?h=i.type===wv?36012:i.type===_v?33190:i.type===Sv?35056:33189:i.type===wv&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Tv&&6402===h&&i.type!==bv&&i.type!==_v&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=bv,u=o.convert(i.type)),i.format===Rv&&6402===h&&(h=34041,i.type!==Sv&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Sv,u=o.convert(i.type))),n.texImage2D(3553,0,h,A.width,A.height,0,c,u,null);else if(i.isDataTexture)if(y.length>0&&I){for(let t=0,e=y.length;t<e;t++)l=y[t],n.texImage2D(3553,t,h,l.width,l.height,0,c,u,l.data);i.generateMipmaps=!1,e.__maxMipLevel=y.length-1}else n.texImage2D(3553,0,h,A.width,A.height,0,c,u,A.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(let t=0,e=y.length;t<e;t++)l=y[t],i.format!==Mv&&i.format!==Ev?null!==c?n.compressedTexImage2D(3553,t,h,l.width,l.height,0,l.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,t,h,l.width,l.height,0,c,u,l.data);e.__maxMipLevel=y.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,h,A.width,A.height,A.depth,0,c,u,A.data),e.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,h,A.width,A.height,A.depth,0,c,u,A.data),e.__maxMipLevel=0;else if(y.length>0&&I){for(let t=0,e=y.length;t<e;t++)l=y[t],n.texImage2D(3553,t,h,c,u,l);i.generateMipmaps=!1,e.__maxMipLevel=y.length-1}else n.texImage2D(3553,0,h,c,u,A),e.__maxMipLevel=0;p(i,I)&&m(s,i,A.width,A.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function L(e,r,s,a){const g=o.convert(r.texture.format),A=o.convert(r.texture.type),C=v(r.texture.internalFormat,g,A);n.texImage2D(a,0,C,r.width,r.height,0,g,A,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,s,a,i.get(r.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function k(e,n,i){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){let r=33189;if(i){const e=n.depthTexture;e&&e.isDepthTexture&&(e.type===wv?r=36012:e.type===_v&&(r=33190));const i=D(n);t.renderbufferStorageMultisample(36161,i,r,n.width,n.height)}else t.renderbufferStorage(36161,r,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(i){const e=D(n);t.renderbufferStorageMultisample(36161,e,35056,n.width,n.height)}else t.renderbufferStorage(36161,34041,n.width,n.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{const e=o.convert(n.texture.format),r=o.convert(n.texture.type),s=v(n.texture.internalFormat,e,r);if(i){const e=D(n);t.renderbufferStorageMultisample(36161,e,s,n.width,n.height)}else t.renderbufferStorage(36161,s,n.width,n.height)}t.bindRenderbuffer(36161,null)}function D(t){return a&&t.isWebGLMultisampleRenderTarget?Math.min(I,t.samples):0}let N=!1,P=!1;this.allocateTextureUnit=function(){const t=w;return t>=g&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+g),w+=1,t},this.resetTextureUnits=function(){w=0},this.setTexture2D=x,this.setTexture2DArray=function(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?O(r,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(t,e){const r=i.get(t);t.version>0&&r.__version!==t.version?O(r,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=S,this.setupRenderTarget=function(e){const r=i.get(e),g=i.get(e.texture);e.addEventListener("dispose",_),g.__webglTexture=t.createTexture(),s.memory.textures++;const A=!0===e.isWebGLCubeRenderTarget,C=!0===e.isWebGLMultisampleRenderTarget,I=f(e)||a;if(!a||e.texture.format!==Ev||e.texture.type!==wv&&e.texture.type!==xv||(e.texture.format=Mv,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),A){r.__webglFramebuffer=[];for(let e=0;e<6;e++)r.__webglFramebuffer[e]=t.createFramebuffer()}else if(r.__webglFramebuffer=t.createFramebuffer(),C)if(a){r.__webglMultisampledFramebuffer=t.createFramebuffer(),r.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,r.__webglColorRenderbuffer);const n=o.convert(e.texture.format),i=o.convert(e.texture.type),s=v(e.texture.internalFormat,n,i),a=D(e);t.renderbufferStorageMultisample(36161,a,s,e.width,e.height),t.bindFramebuffer(36160,r.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,r.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(r.__webglDepthRenderbuffer=t.createRenderbuffer(),k(r.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(A){n.bindTexture(34067,g.__webglTexture),T(34067,e.texture,I);for(let t=0;t<6;t++)L(r.__webglFramebuffer[t],e,36064,34069+t);p(e.texture,I)&&m(34067,e.texture,e.width,e.height),n.bindTexture(34067,null)}else n.bindTexture(3553,g.__webglTexture),T(3553,e.texture,I),L(r.__webglFramebuffer,e,36064,3553),p(e.texture,I)&&m(3553,e.texture,e.width,e.height),n.bindTexture(3553,null);e.depthBuffer&&function(e){const n=i.get(e),r=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),x(n.depthTexture,0);const r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Tv)t.framebufferTexture2D(36160,36096,3553,r,0);else{if(n.depthTexture.format!==Rv)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(let i=0;i<6;i++)t.bindFramebuffer(36160,n.__webglFramebuffer[i]),n.__webglDepthbuffer[i]=t.createRenderbuffer(),k(n.__webglDepthbuffer[i],e,!1)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),k(n.__webglDepthbuffer,e,!1);t.bindFramebuffer(36160,null)}(e)},this.updateRenderTargetMipmap=function(t){const e=t.texture;if(p(e,f(t)||a)){const r=t.isWebGLCubeRenderTarget?34067:3553,o=i.get(e).__webglTexture;n.bindTexture(r,o),m(r,e,t.width,t.height),n.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(a){const n=i.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);const r=e.width,o=e.height;let s=16384;e.depthBuffer&&(s|=256),e.stencilBuffer&&(s|=1024),t.blitFramebuffer(0,0,r,o,0,0,r,o,s,9728),t.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===N&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),N=!0),t=t.texture),x(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===P&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),P=!0),t=t.texture),S(t,e)}}function Nx(t,e,n){const i=n.isWebGL2;return{convert:function(t){let n;if(1009===t)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(t===bv)return 5123;if(1013===t)return 5124;if(t===_v)return 5125;if(t===wv)return 5126;if(t===xv)return i?5131:(n=e.get("OES_texture_half_float"),null!==n?n.HALF_FLOAT_OES:null);if(1021===t)return 6406;if(t===Ev)return 6407;if(t===Mv)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(t===Tv)return 6402;if(t===Rv)return 34041;if(1028===t)return 6403;if(1029===t)return 36244;if(1030===t)return 33319;if(1031===t)return 33320;if(1032===t)return 36248;if(1033===t)return 36249;if(33776===t||33777===t||33778===t||33779===t){if(n=e.get("WEBGL_compressed_texture_s3tc"),null===n)return null;if(33776===t)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===t)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===t)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===t)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===t||35841===t||35842===t||35843===t){if(n=e.get("WEBGL_compressed_texture_pvrtc"),null===n)return null;if(35840===t)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===t)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===t)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===t)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t)return n=e.get("WEBGL_compressed_texture_etc1"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===t||37496===t)&&(n=e.get("WEBGL_compressed_texture_etc"),null!==n)){if(37492===t)return n.COMPRESSED_RGB8_ETC2;if(37496===t)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t||37840===t||37841===t||37842===t||37843===t||37844===t||37845===t||37846===t||37847===t||37848===t||37849===t||37850===t||37851===t||37852===t||37853===t?(n=e.get("WEBGL_compressed_texture_astc"),null!==n?t:null):36492===t?(n=e.get("EXT_texture_compression_bptc"),null!==n?t:null):t===Sv?i?34042:(n=e.get("WEBGL_depth_texture"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function Px(t=[]){S_.call(this),this.cameras=t}function jx(){nb.call(this),this.type="Group"}function Fx(){this._targetRay=null,this._grip=null,this._hand=null}function zx(t,e){const n=this;let i=null,r=1,o=null,s="local-floor",a=null;const g=[],A=new Map,C=new S_;C.layers.enable(1),C.viewport=new $v;const I=new S_;I.layers.enable(2),I.viewport=new $v;const c=[C,I],l=new Px;l.layers.enable(1),l.layers.enable(2);let u=null,h=null;function d(t){const e=A.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function f(){A.forEach((function(t,e){t.disconnect(e)})),A.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),w.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function p(t){o=t,w.setContext(i),w.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function m(t){const e=i.inputSources;for(let t=0;t<g.length;t++)A.set(e[t],g[t]);for(let e=0;e<t.removed.length;e++){const n=t.removed[e],i=A.get(n);i&&(i.dispatchEvent({type:"disconnected",data:n}),A.delete(n))}for(let e=0;e<t.added.length;e++){const n=t.added[e],i=A.get(n);i&&i.dispatchEvent({type:"connected",data:n})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=g[t];return void 0===e&&(e=new Fx,g[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=g[t];return void 0===e&&(e=new Fx,g[t]=e),e.getGripSpace()},this.getHand=function(t){let e=g[t];return void 0===e&&(e=new Fx,g[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){r=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){s=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return i},this.setSession=function(t){if(i=t,null!==i){i.addEventListener("select",d),i.addEventListener("selectstart",d),i.addEventListener("selectend",d),i.addEventListener("squeeze",d),i.addEventListener("squeezestart",d),i.addEventListener("squeezeend",d),i.addEventListener("end",f);const t=e.getContextAttributes();!0!==t.xrCompatible&&e.makeXRCompatible();const n={antialias:t.antialias,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:r},o=new XRWebGLLayer(i,e,n);i.updateRenderState({baseLayer:o}),i.requestReferenceSpace(s).then(p),i.addEventListener("inputsourceschange",m)}};const v=new iy,y=new iy;function b(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.getCamera=function(t){l.near=I.near=C.near=t.near,l.far=I.far=C.far=t.far,u===l.near&&h===l.far||(i.updateRenderState({depthNear:l.near,depthFar:l.far}),u=l.near,h=l.far);const e=t.parent,n=l.cameras;b(l,e);for(let t=0;t<n.length;t++)b(n[t],e);t.matrixWorld.copy(l.matrixWorld);const r=t.children;for(let t=0,e=r.length;t<e;t++)r[t].updateMatrixWorld(!0);return 2===n.length?function(t,e,n){v.setFromMatrixPosition(e.matrixWorld),y.setFromMatrixPosition(n.matrixWorld);const i=v.distanceTo(y),r=e.projectionMatrix.elements,o=n.projectionMatrix.elements,s=r[14]/(r[10]-1),a=r[14]/(r[10]+1),g=(r[9]+1)/r[5],A=(r[9]-1)/r[5],C=(r[8]-1)/r[0],I=(o[8]+1)/o[0],c=s*C,l=s*I,u=i/(-C+I),h=u*-C;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(h),t.translateZ(u),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const d=s+u,f=a+u,p=c-h,m=l+(i-h),b=g*a/f*d,_=A*a/f*d;t.projectionMatrix.makePerspective(p,m,b,_,d,f)}(l,C,I):l.projectionMatrix.copy(C.projectionMatrix),l};let _=null;const w=new N_;w.setAnimationLoop((function(e,n){if(a=n.getViewerPose(o),null!==a){const e=a.views,n=i.renderState.baseLayer;t.setFramebuffer(n.framebuffer);let r=!1;e.length!==l.cameras.length&&(l.cameras.length=0,r=!0);for(let t=0;t<e.length;t++){const i=e[t],o=n.getViewport(i),s=c[t];s.matrix.fromArray(i.transform.matrix),s.projectionMatrix.fromArray(i.projectionMatrix),s.viewport.set(o.x,o.y,o.width,o.height),0===t&&l.matrix.copy(s.matrix),!0===r&&l.cameras.push(s)}}const r=i.inputSources;for(let t=0;t<g.length;t++){const e=g[t],i=r[t];e.update(i,n,o)}_&&_(e,n)})),this.setAnimationLoop=function(t){_=t},this.dispose=function(){}}function Bx(t){function e(e,n){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap);const i=t.get(n).envMap;if(i){e.envMap.value=i,e.flipEnvMap.value=i.isCubeTexture&&i._needsFlipEnvMap?-1:1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;const r=t.get(i).__maxMipLevel;void 0!==r&&(e.maxMipLevel.value=r)}let r,o;n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix)),n.aoMap?o=n.aoMap:n.lightMap&&(o=n.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),e.uv2Transform.value.copy(o.matrix))}function n(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,i,r,o){i.isMeshBasicMaterial?e(t,i):i.isMeshLambertMaterial?(e(t,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,i)):i.isMeshToonMaterial?(e(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshPhongMaterial?(e(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshStandardMaterial?(e(t,i),i.isMeshPhysicalMaterial?function(t,e){n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()),t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap)}(t,i):n(t,i)):i.isMeshMatcapMaterial?(e(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDepthMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDistanceMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,i)):i.isMeshNormalMaterial?(e(t,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,n,i){let r;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*i,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?r=e.map:e.alphaMap&&(r=e.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}(t,i,r,o):i.isSpriteMaterial?function(t,e){let n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Ux(t){const e=void 0!==(t=t||{}).canvas?t.canvas:function(){const t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}(),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,s=void 0!==t.antialias&&t.antialias,a=void 0===t.premultipliedAlpha||t.premultipliedAlpha,g=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,A=void 0!==t.powerPreference?t.powerPreference:"default",C=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let I=null,c=null;this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=jv,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const l=this;let u=!1,h=null,d=0,f=0,p=null,m=null,v=-1,y=null,b=null;const _=new $v,w=new $v;let x=null,S=e.width,E=e.height,M=1,T=null,R=null;const O=new $v(0,0,S,E),L=new $v(0,0,S,E);let k=!1;const D=new D_;let N=!1,P=!1;const j=new Oy,F=new iy,z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function B(){return null===p?M:1}let U,H,G,W,V,Z,Y,X,J,K,q,Q,$,tt,et,nt,it,rt,ot,st,at,gt=n;function At(t,n){for(let i=0;i<t.length;i++){const r=t[i],o=e.getContext(r,n);if(null!==o)return o}return null}try{const t={alpha:i,depth:r,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:g,powerPreference:A,failIfMajorPerformanceCaveat:C};if(e.addEventListener("webglcontextlost",lt,!1),e.addEventListener("webglcontextrestored",ut,!1),null===gt){const e=["webgl2","webgl","experimental-webgl"];if(!0===l.isWebGL1Renderer&&e.shift(),gt=At(e,t),null===gt)throw At(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===gt.getShaderPrecisionFormat&&(gt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function Ct(){U=new Y_(gt),H=new W_(gt,U,t),!1===H.isWebGL2&&(U.get("WEBGL_depth_texture"),U.get("OES_texture_float"),U.get("OES_texture_half_float"),U.get("OES_texture_half_float_linear"),U.get("OES_standard_derivatives"),U.get("OES_element_index_uint"),U.get("OES_vertex_array_object"),U.get("ANGLE_instanced_arrays")),U.get("OES_texture_float_linear"),st=new Nx(gt,U,H),G=new kx(gt,U,H),G.scissor(w.copy(L).multiplyScalar(M).floor()),G.viewport(_.copy(O).multiplyScalar(M).floor()),W=new K_(gt),V=new mx,Z=new Dx(gt,U,G,V,H,st,W),Y=new Z_(l),X=new P_(gt,H),at=new H_(gt,U,X,H),J=new X_(gt,X,W,at),K=new tw(gt,J,X,W),it=new $_(gt),et=new V_(V),q=new px(l,Y,U,H,at,et),Q=new Bx(V),$=new _x(V),tt=new Tx(U,H),nt=new U_(l,Y,G,K,a),rt=new G_(gt,U,W,H),ot=new J_(gt,U,W,H),W.programs=q.programs,l.capabilities=H,l.extensions=U,l.properties=V,l.renderLists=$,l.state=G,l.info=W}Ct();const It=new zx(l,gt);this.xr=It;const ct=new Lx(l,K,H.maxTextureSize);function lt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),u=!0}function ut(){console.log("THREE.WebGLRenderer: Context Restored."),u=!1,Ct()}function ht(t){const e=t.target;e.removeEventListener("dispose",ht),function(t){dt(t),V.remove(t)}(e)}function dt(t){const e=V.get(t).program;void 0!==e&&q.releaseProgram(e)}this.shadowMap=ct,this.getContext=function(){return gt},this.getContextAttributes=function(){return gt.getContextAttributes()},this.forceContextLoss=function(){const t=U.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=U.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return M},this.setPixelRatio=function(t){void 0!==t&&(M=t,this.setSize(S,E,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new Zv),t.set(S,E)},this.setSize=function(t,n,i){It.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(S=t,E=n,e.width=Math.floor(t*M),e.height=Math.floor(n*M),!1!==i&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new Zv),t.set(S*M,E*M).floor()},this.setDrawingBufferSize=function(t,n,i){S=t,E=n,M=i,e.width=Math.floor(t*i),e.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new $v),t.copy(_)},this.getViewport=function(t){return t.copy(O)},this.setViewport=function(t,e,n,i){t.isVector4?O.set(t.x,t.y,t.z,t.w):O.set(t,e,n,i),G.viewport(_.copy(O).multiplyScalar(M).floor())},this.getScissor=function(t){return t.copy(L)},this.setScissor=function(t,e,n,i){t.isVector4?L.set(t.x,t.y,t.z,t.w):L.set(t,e,n,i),G.scissor(w.copy(L).multiplyScalar(M).floor())},this.getScissorTest=function(){return k},this.setScissorTest=function(t){G.setScissorTest(k=t)},this.setOpaqueSort=function(t){T=t},this.setTransparentSort=function(t){R=t},this.getClearColor=function(){return nt.getClearColor()},this.setClearColor=function(){nt.setClearColor.apply(nt,arguments)},this.getClearAlpha=function(){return nt.getClearAlpha()},this.setClearAlpha=function(){nt.setClearAlpha.apply(nt,arguments)},this.clear=function(t,e,n){let i=0;(void 0===t||t)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===n||n)&&(i|=1024),gt.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",lt,!1),e.removeEventListener("webglcontextrestored",ut,!1),$.dispose(),tt.dispose(),V.dispose(),Y.dispose(),K.dispose(),at.dispose(),It.dispose(),pt.stop()},this.renderBufferImmediate=function(t,e){at.initAttributes();const n=V.get(t);t.hasPositions&&!n.position&&(n.position=gt.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=gt.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=gt.createBuffer()),t.hasColors&&!n.color&&(n.color=gt.createBuffer());const i=e.getAttributes();t.hasPositions&&(gt.bindBuffer(34962,n.position),gt.bufferData(34962,t.positionArray,35048),at.enableAttribute(i.position),gt.vertexAttribPointer(i.position,3,5126,!1,0,0)),t.hasNormals&&(gt.bindBuffer(34962,n.normal),gt.bufferData(34962,t.normalArray,35048),at.enableAttribute(i.normal),gt.vertexAttribPointer(i.normal,3,5126,!1,0,0)),t.hasUvs&&(gt.bindBuffer(34962,n.uv),gt.bufferData(34962,t.uvArray,35048),at.enableAttribute(i.uv),gt.vertexAttribPointer(i.uv,2,5126,!1,0,0)),t.hasColors&&(gt.bindBuffer(34962,n.color),gt.bufferData(34962,t.colorArray,35048),at.enableAttribute(i.color),gt.vertexAttribPointer(i.color,3,5126,!1,0,0)),at.disableUnusedAttributes(),gt.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,i,r,o){null===e&&(e=z);const s=r.isMesh&&r.matrixWorld.determinant()<0,a=_t(t,e,i,r);G.setMaterial(i,s);let g=n.index;const A=n.attributes.position;if(null===g){if(void 0===A||0===A.count)return}else if(0===g.count)return;let C,I=1;!0===i.wireframe&&(g=J.getWireframeAttribute(n),I=2),(i.morphTargets||i.morphNormals)&&it.update(r,n,i,a),at.setup(r,i,a,n,g);let c=rt;null!==g&&(C=X.get(g),c=ot,c.setIndex(C));const l=null!==g?g.count:A.count,u=n.drawRange.start*I,h=n.drawRange.count*I,d=null!==o?o.start*I:0,f=null!==o?o.count*I:1/0,p=Math.max(u,d),m=Math.min(l,u+h,d+f)-1,v=Math.max(0,m-p+1);if(0!==v){if(r.isMesh)!0===i.wireframe?(G.setLineWidth(i.wireframeLinewidth*B()),c.setMode(1)):c.setMode(4);else if(r.isLine){let t=i.linewidth;void 0===t&&(t=1),G.setLineWidth(t*B()),r.isLineSegments?c.setMode(1):r.isLineLoop?c.setMode(2):c.setMode(3)}else r.isPoints?c.setMode(0):r.isSprite&&c.setMode(4);if(r.isInstancedMesh)c.renderInstances(p,v,r.count);else if(n.isInstancedBufferGeometry){const t=Math.min(n.instanceCount,n._maxInstanceCount);c.renderInstances(p,v,t)}else c.render(p,v)}},this.compile=function(t,e){c=tt.get(t,e),c.init(),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(c.pushLight(t),t.castShadow&&c.pushShadow(t))})),c.setupLights(e);const n=new WeakMap;t.traverse((function(e){const i=e.material;if(i)if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];!1===n.has(o)&&(bt(o,t,e),n.set(o))}else!1===n.has(i)&&(bt(i,t,e),n.set(i))}))};let ft=null;const pt=new N_;function mt(t,e,n,i){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)c.pushLight(t),t.castShadow&&c.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||D.intersectsSprite(t)){i&&F.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j);const e=K.update(t),r=t.material;r.visible&&I.push(t,e,r,n,F.z,null)}}else if(t.isImmediateRenderObject)i&&F.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j),I.push(t,null,t.material,n,F.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==W.render.frame&&(t.skeleton.update(),t.skeleton.frame=W.render.frame),!t.frustumCulled||D.intersectsObject(t))){i&&F.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j);const e=K.update(t),r=t.material;if(Array.isArray(r)){const i=e.groups;for(let o=0,s=i.length;o<s;o++){const s=i[o],a=r[s.materialIndex];a&&a.visible&&I.push(t,e,a,n,F.z,s)}}else r.visible&&I.push(t,e,r,n,F.z,null)}const r=t.children;for(let t=0,o=r.length;t<o;t++)mt(r[t],e,n,i)}function vt(t,e,n){const i=!0===e.isScene?e.overrideMaterial:null;for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.object,a=o.geometry,g=null===i?o.material:i,A=o.group;if(n.isArrayCamera){b=n;const t=n.cameras;for(let n=0,i=t.length;n<i;n++){const i=t[n];s.layers.test(i.layers)&&(G.viewport(_.copy(i.viewport)),c.setupLights(i),yt(s,e,i,a,g,A))}}else b=null,yt(s,e,n,a,g,A)}}function yt(t,e,n,i,r,o){if(t.onBeforeRender(l,e,n,i,r,o),c=tt.get(e,b||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){const i=_t(n,e,r,t);G.setMaterial(r),at.reset(),function(t,e){t.render((function(t){l.renderBufferImmediate(t,e)}))}(t,i)}else l.renderBufferDirect(n,e,i,r,t,o);t.onAfterRender(l,e,n,i,r,o),c=tt.get(e,b||n)}function bt(t,e,n){!0!==e.isScene&&(e=z);const i=V.get(t),r=c.state.lights,o=c.state.shadowsArray,s=r.state.version,a=q.getParameters(t,r.state,o,e,n),g=q.getProgramCacheKey(a);let A=i.program,C=!0;if(void 0===A)t.addEventListener("dispose",ht);else if(A.cacheKey!==g)dt(t);else if(i.lightsStateVersion!==s)C=!1;else{if(void 0!==a.shaderID){const n=t.isMeshStandardMaterial?e.environment:null;return void(i.envMap=Y.get(t.envMap||n))}C=!1}C&&(a.uniforms=q.getUniforms(t),t.onBeforeCompile(a,l),A=q.acquireProgram(a,g),i.program=A,i.uniforms=a.uniforms,i.outputEncoding=a.outputEncoding);const I=i.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(i.numClippingPlanes=et.numPlanes,i.numIntersection=et.numIntersection,I.clippingPlanes=et.uniform),i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=Y.get(t.envMap||i.environment),i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=s,i.needsLights&&(I.ambientLightColor.value=r.state.ambient,I.lightProbe.value=r.state.probe,I.directionalLights.value=r.state.directional,I.directionalLightShadows.value=r.state.directionalShadow,I.spotLights.value=r.state.spot,I.spotLightShadows.value=r.state.spotShadow,I.rectAreaLights.value=r.state.rectArea,I.ltc_1.value=r.state.rectAreaLTC1,I.ltc_2.value=r.state.rectAreaLTC2,I.pointLights.value=r.state.point,I.pointLightShadows.value=r.state.pointShadow,I.hemisphereLights.value=r.state.hemi,I.directionalShadowMap.value=r.state.directionalShadowMap,I.directionalShadowMatrix.value=r.state.directionalShadowMatrix,I.spotShadowMap.value=r.state.spotShadowMap,I.spotShadowMatrix.value=r.state.spotShadowMatrix,I.pointShadowMap.value=r.state.pointShadowMap,I.pointShadowMatrix.value=r.state.pointShadowMatrix);const u=i.program.getUniforms(),h=qw.seqWithValue(u.seq,I);i.uniformsList=h}function _t(t,e,n,i){!0!==e.isScene&&(e=z),Z.resetTextureUnits();const r=e.fog,o=n.isMeshStandardMaterial?e.environment:null,s=null===p?l.outputEncoding:p.texture.encoding,a=Y.get(n.envMap||o),g=V.get(n),A=c.state.lights;if(!0===N&&(!0===P||t!==y)){const e=t===y&&n.id===v;et.setState(n,t,e)}n.version===g.__version?n.fog&&g.fog!==r||g.environment!==o||g.needsLights&&g.lightsStateVersion!==A.state.version?bt(n,e,i):void 0===g.numClippingPlanes||g.numClippingPlanes===et.numPlanes&&g.numIntersection===et.numIntersection?(g.outputEncoding!==s||g.envMap!==a)&&bt(n,e,i):bt(n,e,i):(bt(n,e,i),g.__version=n.version);let C=!1,I=!1,u=!1;const h=g.program,d=h.getUniforms(),f=g.uniforms;if(G.useProgram(h.program)&&(C=!0,I=!0,u=!0),n.id!==v&&(v=n.id,I=!0),C||y!==t){if(d.setValue(gt,"projectionMatrix",t.projectionMatrix),H.logarithmicDepthBuffer&&d.setValue(gt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),y!==t&&(y=t,I=!0,u=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const e=d.map.cameraPosition;void 0!==e&&e.setValue(gt,F.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&d.setValue(gt,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&d.setValue(gt,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){d.setOptional(gt,i,"bindMatrix"),d.setOptional(gt,i,"bindMatrixInverse");const t=i.skeleton;if(t){const e=t.bones;if(H.floatVertexTextures){if(null===t.boneTexture){let n=Math.sqrt(4*e.length);n=Vv.ceilPowerOfTwo(n),n=Math.max(n,4);const i=new Float32Array(n*n*4);i.set(t.boneMatrices);const r=new O_(i,n,n,Mv,wv);t.boneMatrices=i,t.boneTexture=r,t.boneTextureSize=n}d.setValue(gt,"boneTexture",t.boneTexture,Z),d.setValue(gt,"boneTextureSize",t.boneTextureSize)}else d.setOptional(gt,t,"boneMatrices")}}var m,b;return(I||g.receiveShadow!==i.receiveShadow)&&(g.receiveShadow=i.receiveShadow,d.setValue(gt,"receiveShadow",i.receiveShadow)),I&&(d.setValue(gt,"toneMappingExposure",l.toneMappingExposure),g.needsLights&&(b=u,(m=f).ambientLightColor.needsUpdate=b,m.lightProbe.needsUpdate=b,m.directionalLights.needsUpdate=b,m.directionalLightShadows.needsUpdate=b,m.pointLights.needsUpdate=b,m.pointLightShadows.needsUpdate=b,m.spotLights.needsUpdate=b,m.spotLightShadows.needsUpdate=b,m.rectAreaLights.needsUpdate=b,m.hemisphereLights.needsUpdate=b),r&&n.fog&&Q.refreshFogUniforms(f,r),Q.refreshMaterialUniforms(f,n,M,E),qw.upload(gt,g.uniformsList,f,Z)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(qw.upload(gt,g.uniformsList,f,Z),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&d.setValue(gt,"center",i.center),d.setValue(gt,"modelViewMatrix",i.modelViewMatrix),d.setValue(gt,"normalMatrix",i.normalMatrix),d.setValue(gt,"modelMatrix",i.matrixWorld),h}pt.setAnimationLoop((function(t){It.isPresenting||ft&&ft(t)})),"undefined"!=typeof window&&pt.setContext(window),this.setAnimationLoop=function(t){ft=t,It.setAnimationLoop(t),null===t?pt.stop():pt.start()},this.render=function(t,e){let n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===u)return;at.resetDefaultState(),v=-1,y=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===It.enabled&&!0===It.isPresenting&&(e=It.getCamera(e)),!0===t.isScene&&t.onBeforeRender(l,t,e,n||p),c=tt.get(t,e),c.init(),j.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),D.setFromProjectionMatrix(j),P=this.localClippingEnabled,N=et.init(this.clippingPlanes,P,e),I=$.get(t,e),I.init(),mt(t,e,0,l.sortObjects),I.finish(),!0===l.sortObjects&&I.sort(T,R),!0===N&&et.beginShadows();const r=c.state.shadowsArray;ct.render(r,t,e),c.setupLights(e),!0===N&&et.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),nt.render(I,t,e,i);const o=I.opaque,s=I.transparent;o.length>0&&vt(o,t,e),s.length>0&&vt(s,t,e),!0===t.isScene&&t.onAfterRender(l,t,e),null!==p&&(Z.updateRenderTargetMipmap(p),Z.updateMultisampleRenderTarget(p)),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1),I=null,c=null},this.setFramebuffer=function(t){h!==t&&null===p&&gt.bindFramebuffer(36160,t),h=t},this.getActiveCubeFace=function(){return d},this.getActiveMipmapLevel=function(){return f},this.getRenderList=function(){return I},this.setRenderList=function(t){I=t},this.getRenderState=function(){return c},this.setRenderState=function(t){c=t},this.getRenderTarget=function(){return p},this.setRenderTarget=function(t,e=0,n=0){p=t,d=e,f=n,t&&void 0===V.get(t).__webglFramebuffer&&Z.setupRenderTarget(t);let i=h,r=!1;if(t){const n=V.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=n[e],r=!0):i=t.isWebGLMultisampleRenderTarget?V.get(t).__webglMultisampledFramebuffer:n,_.copy(t.viewport),w.copy(t.scissor),x=t.scissorTest}else _.copy(O).multiplyScalar(M).floor(),w.copy(L).multiplyScalar(M).floor(),x=k;if(m!==i&&(gt.bindFramebuffer(36160,i),m=i),G.viewport(_),G.scissor(w),G.setScissorTest(x),r){const i=V.get(t.texture);gt.framebufferTexture2D(36160,36064,34069+e,i.__webglTexture,n)}},this.readRenderTargetPixels=function(t,e,n,i,r,o,s){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=V.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){let s=!1;a!==m&&(gt.bindFramebuffer(36160,a),s=!0);try{const a=t.texture,g=a.format,A=a.type;if(g!==Mv&&st.convert(g)!==gt.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(1009===A||st.convert(A)===gt.getParameter(35738)||A===wv&&(H.isWebGL2||U.get("OES_texture_float")||U.get("WEBGL_color_buffer_float"))||A===xv&&(H.isWebGL2?U.get("EXT_color_buffer_float"):U.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===gt.checkFramebufferStatus(36160)?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&gt.readPixels(e,n,i,r,st.convert(g),st.convert(A),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&gt.bindFramebuffer(36160,m)}}},this.copyFramebufferToTexture=function(t,e,n=0){const i=Math.pow(2,-n),r=Math.floor(e.image.width*i),o=Math.floor(e.image.height*i),s=st.convert(e.format);Z.setTexture2D(e,0),gt.copyTexImage2D(3553,n,s,t.x,t.y,r,o,0),G.unbindTexture()},this.copyTextureToTexture=function(t,e,n,i=0){const r=e.image.width,o=e.image.height,s=st.convert(n.format),a=st.convert(n.type);Z.setTexture2D(n,0),gt.pixelStorei(37440,n.flipY),gt.pixelStorei(37441,n.premultiplyAlpha),gt.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?gt.texSubImage2D(3553,i,t.x,t.y,r,o,s,a,e.image.data):e.isCompressedTexture?gt.compressedTexSubImage2D(3553,i,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,s,e.mipmaps[0].data):gt.texSubImage2D(3553,i,t.x,t.y,s,a,e.image),0===i&&n.generateMipmaps&&gt.generateMipmap(3553),G.unbindTexture()},this.initTexture=function(t){Z.setTexture2D(t,0),G.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Hx(t){Ux.call(this,t)}Rx.prototype=Object.create(Eb.prototype),Rx.prototype.constructor=Rx,Rx.prototype.isMeshDepthMaterial=!0,Rx.prototype.copy=function(t){return Eb.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Ox.prototype=Object.create(Eb.prototype),Ox.prototype.constructor=Ox,Ox.prototype.isMeshDistanceMaterial=!0,Ox.prototype.copy=function(t){return Eb.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},Px.prototype=Object.assign(Object.create(S_.prototype),{constructor:Px,isArrayCamera:!0}),jx.prototype=Object.assign(Object.create(nb.prototype),{constructor:jx,isGroup:!0}),Object.assign(Fx.prototype,{constructor:Fx,getHandSpace:function(){if(null===this._hand&&(this._hand=new jx,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let t=0;t<=window.XRHand.LITTLE_PHALANX_TIP;t++){const t=new jx;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new jx,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new jx,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(t,e,n){let i=null,r=null,o=null;const s=this._targetRay,a=this._grip,g=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(g&&t.hand){o=!0;for(let i=0;i<=window.XRHand.LITTLE_PHALANX_TIP;i++)if(t.hand[i]){const r=e.getJointPose(t.hand[i],n),o=g.joints[i];null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.jointRadius=r.radius),o.visible=null!==r;const s=g.joints[window.XRHand.INDEX_PHALANX_TIP],a=g.joints[window.XRHand.THUMB_PHALANX_TIP],A=s.position.distanceTo(a.position),C=.02,I=.005;g.inputState.pinching&&A>C+I?(g.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!g.inputState.pinching&&A<=C-I&&(g.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}}else null!==s&&(i=e.getPose(t.targetRaySpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale))),null!==a&&t.gripSpace&&(r=e.getPose(t.gripSpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)));return null!==s&&(s.visible=null!==i),null!==a&&(a.visible=null!==r),null!==g&&(g.visible=null!==o),this}}),Object.assign(zx.prototype,Hv.prototype),Hx.prototype=Object.assign(Object.create(Ux.prototype),{constructor:Hx,isWebGL1Renderer:!0});class Gx extends nb{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.environment&&(e.object.environment=this.environment.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}function Wx(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=zv,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Vv.generateUUID()}Object.defineProperty(Wx.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Wx.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(let i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e=0){return this.array.set(t,e),this},clone:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Vv.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new Wx(new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),this.stride);return e.setUsage(this.usage),e},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Vv.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const Vx=new iy;function Zx(t,e,n,i){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}function Yx(t){Eb.call(this),this.type="SpriteMaterial",this.color=new wb(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}let Xx;Object.defineProperties(Zx.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}}),Object.assign(Zx.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(let e=0,n=this.data.count;e<n;e++)Vx.x=this.getX(e),Vx.y=this.getY(e),Vx.z=this.getZ(e),Vx.applyMatrix4(t),this.setXYZ(e,Vx.x,Vx.y,Vx.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this},clone:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new Ob(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Zx(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),Yx.prototype=Object.create(Eb.prototype),Yx.prototype.constructor=Yx,Yx.prototype.isSpriteMaterial=!0,Yx.prototype.copy=function(t){return Eb.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};const Jx=new iy,Kx=new iy,qx=new iy,Qx=new Zv,$x=new Zv,tS=new Oy,eS=new iy,nS=new iy,iS=new iy,rS=new Zv,oS=new Zv,sS=new Zv;function aS(t){if(nb.call(this),this.type="Sprite",void 0===Xx){Xx=new $b;const t=new Wx(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Xx.setIndex([0,1,2,0,2,3]),Xx.setAttribute("position",new Zx(t,3,0,!1)),Xx.setAttribute("uv",new Zx(t,2,3,!1))}this.geometry=Xx,this.material=void 0!==t?t:new Yx,this.center=new Zv(.5,.5)}function gS(t,e,n,i,r,o){Qx.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?($x.x=o*Qx.x-r*Qx.y,$x.y=r*Qx.x+o*Qx.y):$x.copy(Qx),t.copy(e),t.x+=$x.x,t.y+=$x.y,t.applyMatrix4(tS)}aS.prototype=Object.assign(Object.create(nb.prototype),{constructor:aS,isSprite:!0,raycast:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Kx.setFromMatrixScale(this.matrixWorld),tS.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),qx.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Kx.multiplyScalar(-qx.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const o=this.center;gS(eS.set(-.5,-.5,0),qx,o,Kx,i,r),gS(nS.set(.5,-.5,0),qx,o,Kx,i,r),gS(iS.set(.5,.5,0),qx,o,Kx,i,r),rS.set(0,0),oS.set(1,0),sS.set(1,1);let s=t.ray.intersectTriangle(eS,nS,iS,!1,Jx);if(null===s&&(gS(nS.set(-.5,.5,0),qx,o,Kx,i,r),oS.set(0,1),s=t.ray.intersectTriangle(eS,iS,nS,!1,Jx),null===s))return;const a=t.ray.origin.distanceTo(Jx);a<t.near||a>t.far||e.push({distance:a,point:Jx.clone(),uv:fb.getUV(Jx,eS,nS,iS,rS,oS,sS,new Zv),face:null,object:this})},copy:function(t){return nb.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}});const AS=new iy,CS=new iy;function IS(){nb.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function cS(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),f_.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Oy,this.bindMatrixInverse=new Oy}function lS(){nb.call(this),this.type="Bone"}IS.prototype=Object.assign(Object.create(nb.prototype),{constructor:IS,isLOD:!0,copy:function(t){nb.prototype.copy.call(this,t,!1);const e=t.levels;for(let t=0,n=e.length;t<n;t++){const n=e[t];this.addLevel(n.object.clone(),n.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e=0){e=Math.abs(e);const n=this.levels;let i;for(i=0;i<n.length&&!(e<n[i].distance);i++);return n.splice(i,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){const e=this.levels;if(e.length>0){let n,i;for(n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object}return null},raycast:function(t,e){if(this.levels.length>0){AS.setFromMatrixPosition(this.matrixWorld);const n=t.ray.origin.distanceTo(AS);this.getObjectForDistance(n).raycast(t,e)}},update:function(t){const e=this.levels;if(e.length>1){AS.setFromMatrixPosition(t.matrixWorld),CS.setFromMatrixPosition(this.matrixWorld);const n=AS.distanceTo(CS)/t.zoom;let i,r;for(e[0].object.visible=!0,i=1,r=e.length;i<r&&n>=e[i].distance;i++)e[i-1].object.visible=!1,e[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)e[i].object.visible=!1}},toJSON:function(t){const e=nb.prototype.toJSON.call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let t=0,i=n.length;t<i;t++){const i=n[t];e.object.levels.push({object:i.object.uuid,distance:i.distance})}return e}}),cS.prototype=Object.assign(Object.create(f_.prototype),{constructor:cS,isSkinnedMesh:!0,copy:function(t){return f_.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const t=new $v,e=this.geometry.attributes.skinWeight;for(let n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);const i=1/t.manhattanLength();i!==1/0?t.multiplyScalar(i):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){f_.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const t=new iy,e=new $v,n=new $v,i=new iy,r=new Oy;return function(o,s){const a=this.skeleton,g=this.geometry;e.fromBufferAttribute(g.attributes.skinIndex,o),n.fromBufferAttribute(g.attributes.skinWeight,o),t.fromBufferAttribute(g.attributes.position,o).applyMatrix4(this.bindMatrix),s.set(0,0,0);for(let o=0;o<4;o++){const g=n.getComponent(o);if(0!==g){const n=e.getComponent(o);r.multiplyMatrices(a.bones[n].matrixWorld,a.boneInverses[n]),s.addScaledVector(i.copy(t).applyMatrix4(r),g)}}return s.applyMatrix4(this.bindMatrixInverse)}}()}),lS.prototype=Object.assign(Object.create(nb.prototype),{constructor:lS,isBone:!0});const uS=new Oy,hS=new Oy;function dS(t=[],e=[]){this.uuid=Vv.generateUUID(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(dS.prototype,{init:function(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new Oy)}},calculateInverses:function(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new Oy;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}},pose:function(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}},update:function(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let i=0,r=t.length;i<r;i++){const r=t[i]?t[i].matrixWorld:hS;uS.multiplyMatrices(r,e[i]),uS.toArray(n,16*i)}null!==i&&(i.needsUpdate=!0)},clone:function(){return new dS(this.bones,this.boneInverses)},getBoneByName:function(t){for(let e=0,n=this.bones.length;e<n;e++){const n=this.bones[e];if(n.name===t)return n}},dispose:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(t,e){this.uuid=t.uuid;for(let n=0,i=t.bones.length;n<i;n++){const i=t.bones[n];let r=e[i];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),r=new lS),this.bones.push(r),this.boneInverses.push((new Oy).fromArray(t.boneInverses[n]))}return this.init(),this},toJSON:function(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let i=0,r=e.length;i<r;i++){const r=e[i];t.bones.push(r.uuid);const o=n[i];t.boneInverses.push(o.toArray())}return t}});const fS=new Oy,pS=new Oy,mS=[],vS=new f_;function yS(t,e,n){f_.call(this,t,e),this.instanceMatrix=new Ob(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function bS(t){Eb.call(this),this.type="LineBasicMaterial",this.color=new wb(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}yS.prototype=Object.assign(Object.create(f_.prototype),{constructor:yS,isInstancedMesh:!0,copy:function(t){return f_.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),this.count=t.count,this},getColorAt:function(t,e){e.fromArray(this.instanceColor.array,3*t)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){const n=this.matrixWorld,i=this.count;if(vS.geometry=this.geometry,vS.material=this.material,void 0!==vS.material)for(let r=0;r<i;r++){this.getMatrixAt(r,fS),pS.multiplyMatrices(n,fS),vS.matrixWorld=pS,vS.raycast(t,mS);for(let t=0,n=mS.length;t<n;t++){const n=mS[t];n.instanceId=r,n.object=this,e.push(n)}mS.length=0}},setColorAt:function(t,e){null===this.instanceColor&&(this.instanceColor=new Ob(new Float32Array(3*this.count),3)),e.toArray(this.instanceColor.array,3*t)},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){}}),bS.prototype=Object.create(Eb.prototype),bS.prototype.constructor=bS,bS.prototype.isLineBasicMaterial=!0,bS.prototype.copy=function(t){return Eb.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};const _S=new iy,wS=new iy,xS=new Oy,SS=new Ry,ES=new by;function MS(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),nb.call(this),this.type="Line",this.geometry=void 0!==t?t:new $b,this.material=void 0!==e?e:new bS,this.updateMorphTargets()}MS.prototype=Object.assign(Object.create(nb.prototype),{constructor:MS,isLine:!0,copy:function(t){return nb.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,i=e.count;t<i;t++)_S.fromBufferAttribute(e,t-1),wS.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=_S.distanceTo(wS);t.setAttribute("lineDistance",new Bb(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,n=t.lineDistances;n[0]=0;for(let t=1,i=e.length;t<i;t++)n[t]=n[t-1],n[t]+=e[t-1].distanceTo(e[t])}return this},raycast:function(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),ES.copy(n.boundingSphere),ES.applyMatrix4(i),ES.radius+=r,!1===t.ray.intersectsSphere(ES))return;xS.copy(i).invert(),SS.copy(t.ray).applyMatrix4(xS);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,a=new iy,g=new iy,A=new iy,C=new iy,I=this.isLineSegments?2:1;if(n.isBufferGeometry){const i=n.index,r=n.attributes.position;if(null!==i){const n=i.array;for(let i=0,o=n.length-1;i<o;i+=I){const o=n[i],I=n[i+1];if(a.fromBufferAttribute(r,o),g.fromBufferAttribute(r,I),SS.distanceSqToSegment(a,g,C,A)>s)continue;C.applyMatrix4(this.matrixWorld);const c=t.ray.origin.distanceTo(C);c<t.near||c>t.far||e.push({distance:c,point:A.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else for(let n=0,i=r.count-1;n<i;n+=I){if(a.fromBufferAttribute(r,n),g.fromBufferAttribute(r,n+1),SS.distanceSqToSegment(a,g,C,A)>s)continue;C.applyMatrix4(this.matrixWorld);const i=t.ray.origin.distanceTo(C);i<t.near||i>t.far||e.push({distance:i,point:A.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const i=n.vertices,r=i.length;for(let n=0;n<r-1;n+=I){if(SS.distanceSqToSegment(i[n],i[n+1],C,A)>s)continue;C.applyMatrix4(this.matrixWorld);const r=t.ray.origin.distanceTo(C);r<t.near||r>t.far||e.push({distance:r,point:A.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const TS=new iy,RS=new iy;function OS(t,e){MS.call(this,t,e),this.type="LineSegments"}function LS(t,e){MS.call(this,t,e),this.type="LineLoop"}function kS(t){Eb.call(this),this.type="PointsMaterial",this.color=new wb(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}OS.prototype=Object.assign(Object.create(MS.prototype),{constructor:OS,isLineSegments:!0,computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[];for(let t=0,i=e.count;t<i;t+=2)TS.fromBufferAttribute(e,t),RS.fromBufferAttribute(e,t+1),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+TS.distanceTo(RS);t.setAttribute("lineDistance",new Bb(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){const e=t.vertices,n=t.lineDistances;for(let t=0,i=e.length;t<i;t+=2)TS.copy(e[t]),RS.copy(e[t+1]),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+TS.distanceTo(RS)}return this}}),LS.prototype=Object.assign(Object.create(MS.prototype),{constructor:LS,isLineLoop:!0}),kS.prototype=Object.create(Eb.prototype),kS.prototype.constructor=kS,kS.prototype.isPointsMaterial=!0,kS.prototype.copy=function(t){return Eb.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};const DS=new Oy,NS=new Ry,PS=new by,jS=new iy;function FS(t,e){nb.call(this),this.type="Points",this.geometry=void 0!==t?t:new $b,this.material=void 0!==e?e:new kS,this.updateMorphTargets()}function zS(t,e,n,i,r,o,s){const a=NS.distanceSqToPoint(t);if(a<n){const n=new iy;NS.closestPointToPoint(t,n),n.applyMatrix4(i);const g=r.ray.origin.distanceTo(n);if(g<r.near||g>r.far)return;o.push({distance:g,distanceToRay:Math.sqrt(a),point:n,index:e,face:null,object:s})}}function BS(t,e,n,i,r,o,s,a,g){qv.call(this,t,e,n,i,r,o,s,a,g),this.format=void 0!==s?s:Ev,this.minFilter=void 0!==o?o:vv,this.magFilter=void 0!==r?r:vv,this.generateMipmaps=!1;const A=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback((function e(){A.needsUpdate=!0,t.requestVideoFrameCallback(e)}))}function US(t,e,n,i,r,o,s,a,g,A,C,I){qv.call(this,null,o,s,a,g,A,i,r,C,I),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function HS(t,e,n,i,r,o,s,a,g){qv.call(this,t,e,n,i,r,o,s,a,g),this.needsUpdate=!0}function GS(t,e,n,i,r,o,s,a,g,A){if((A=void 0!==A?A:Tv)!==Tv&&A!==Rv)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&A===Tv&&(n=bv),void 0===n&&A===Rv&&(n=Sv),qv.call(this,null,i,r,o,s,a,A,n,g),this.image={width:t,height:e},this.magFilter=void 0!==s?s:mv,this.minFilter=void 0!==a?a:mv,this.flipY=!1,this.generateMipmaps=!1}FS.prototype=Object.assign(Object.create(nb.prototype),{constructor:FS,isPoints:!0,copy:function(t){return nb.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),PS.copy(n.boundingSphere),PS.applyMatrix4(i),PS.radius+=r,!1===t.ray.intersectsSphere(PS))return;DS.copy(i).invert(),NS.copy(t.ray).applyMatrix4(DS);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(n.isBufferGeometry){const r=n.index,o=n.attributes.position;if(null!==r){const n=r.array;for(let r=0,a=n.length;r<a;r++){const a=n[r];jS.fromBufferAttribute(o,a),zS(jS,a,s,i,t,e,this)}}else for(let n=0,r=o.count;n<r;n++)jS.fromBufferAttribute(o,n),zS(jS,n,s,i,t,e,this)}else{const r=n.vertices;for(let n=0,o=r.length;n<o;n++)zS(r[n],n,s,i,t,e,this)}},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),BS.prototype=Object.assign(Object.create(qv.prototype),{constructor:BS,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){const t=this.image;!1=="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),US.prototype=Object.create(qv.prototype),US.prototype.constructor=US,US.prototype.isCompressedTexture=!0,HS.prototype=Object.create(qv.prototype),HS.prototype.constructor=HS,HS.prototype.isCanvasTexture=!0,GS.prototype=Object.create(qv.prototype),GS.prototype.constructor=GS,GS.prototype.isDepthTexture=!0;let WS=0;const VS=new Oy,ZS=new nb,YS=new iy;function XS(){Object.defineProperty(this,"id",{value:WS+=2}),this.uuid=Vv.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}XS.prototype=Object.assign(Object.create(Hv.prototype),{constructor:XS,isGeometry:!0,applyMatrix4:function(t){const e=(new Yv).getNormalMatrix(t);for(let e=0,n=this.vertices.length;e<n;e++)this.vertices[e].applyMatrix4(t);for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t];n.normal.applyMatrix3(e).normalize();for(let t=0,i=n.vertexNormals.length;t<i;t++)n.vertexNormals[t].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return VS.makeRotationX(t),this.applyMatrix4(VS),this},rotateY:function(t){return VS.makeRotationY(t),this.applyMatrix4(VS),this},rotateZ:function(t){return VS.makeRotationZ(t),this.applyMatrix4(VS),this},translate:function(t,e,n){return VS.makeTranslation(t,e,n),this.applyMatrix4(VS),this},scale:function(t,e,n){return VS.makeScale(t,e,n),this.applyMatrix4(VS),this},lookAt:function(t){return ZS.lookAt(t),ZS.updateMatrix(),this.applyMatrix4(ZS.matrix),this},fromBufferGeometry:function(t){const e=this,n=null!==t.index?t.index:void 0,i=t.attributes;if(void 0===i.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const r=i.position,o=i.normal,s=i.color,a=i.uv,g=i.uv2;void 0!==g&&(this.faceVertexUvs[1]=[]);for(let t=0;t<r.count;t++)e.vertices.push((new iy).fromBufferAttribute(r,t)),void 0!==s&&e.colors.push((new wb).fromBufferAttribute(s,t));function A(t,n,i,r){const A=void 0===s?[]:[e.colors[t].clone(),e.colors[n].clone(),e.colors[i].clone()],C=void 0===o?[]:[(new iy).fromBufferAttribute(o,t),(new iy).fromBufferAttribute(o,n),(new iy).fromBufferAttribute(o,i)],I=new xb(t,n,i,C,A,r);e.faces.push(I),void 0!==a&&e.faceVertexUvs[0].push([(new Zv).fromBufferAttribute(a,t),(new Zv).fromBufferAttribute(a,n),(new Zv).fromBufferAttribute(a,i)]),void 0!==g&&e.faceVertexUvs[1].push([(new Zv).fromBufferAttribute(g,t),(new Zv).fromBufferAttribute(g,n),(new Zv).fromBufferAttribute(g,i)])}const C=t.groups;if(C.length>0)for(let t=0;t<C.length;t++){const e=C[t],i=e.start;for(let t=i,r=i+e.count;t<r;t+=3)void 0!==n?A(n.getX(t),n.getX(t+1),n.getX(t+2),e.materialIndex):A(t,t+1,t+2,e.materialIndex)}else if(void 0!==n)for(let t=0;t<n.count;t+=3)A(n.getX(t),n.getX(t+1),n.getX(t+2));else for(let t=0;t<r.count;t+=3)A(t,t+1,t+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(YS).negate(),this.translate(YS.x,YS.y,YS.z),this},normalize:function(){this.computeBoundingSphere();const t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,i=new Oy;return i.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const t=new iy,e=new iy;for(let n=0,i=this.faces.length;n<i;n++){const i=this.faces[n],r=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,o),e.subVectors(r,o),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t=!0){const e=new Array(this.vertices.length);for(let t=0,n=this.vertices.length;t<n;t++)e[t]=new iy;if(t){const t=new iy,n=new iy;for(let i=0,r=this.faces.length;i<r;i++){const r=this.faces[i],o=this.vertices[r.a],s=this.vertices[r.b],a=this.vertices[r.c];t.subVectors(a,s),n.subVectors(o,s),t.cross(n),e[r.a].add(t),e[r.b].add(t),e[r.c].add(t)}}else{this.computeFaceNormals();for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t];e[n.a].add(n.normal),e[n.b].add(n.normal),e[n.c].add(n.normal)}}for(let t=0,n=this.vertices.length;t<n;t++)e[t].normalize();for(let t=0,n=this.faces.length;t<n;t++){const n=this.faces[t],i=n.vertexNormals;3===i.length?(i[0].copy(e[n.a]),i[1].copy(e[n.b]),i[2].copy(e[n.c])):(i[0]=e[n.a].clone(),i[1]=e[n.b].clone(),i[2]=e[n.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t],n=e.vertexNormals;3===n.length?(n[0].copy(e.normal),n[1].copy(e.normal),n[2].copy(e.normal)):(n[0]=e.normal.clone(),n[1]=e.normal.clone(),n[2]=e.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):e.__originalFaceNormal=e.normal.clone(),e.__originalVertexNormals||(e.__originalVertexNormals=[]);for(let t=0,n=e.vertexNormals.length;t<n;t++)e.__originalVertexNormals[t]?e.__originalVertexNormals[t].copy(e.vertexNormals[t]):e.__originalVertexNormals[t]=e.vertexNormals[t].clone()}const t=new XS;t.faces=this.faces;for(let e=0,n=this.morphTargets.length;e<n;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];const t=this.morphNormals[e].faceNormals,n=this.morphNormals[e].vertexNormals;for(let e=0,i=this.faces.length;e<i;e++){const e=new iy,i={a:new iy,b:new iy,c:new iy};t.push(e),n.push(i)}}const n=this.morphNormals[e];t.vertices=this.morphTargets[e].vertices,t.computeFaceNormals(),t.computeVertexNormals();for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t],i=n.faceNormals[t],r=n.vertexNormals[t];i.copy(e.normal),r.a.copy(e.vertexNormals[0]),r.b.copy(e.vertexNormals[1]),r.c.copy(e.vertexNormals[2])}}for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.normal=e.__originalFaceNormal,e.vertexNormals=e.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new sy),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new by),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n=0){if(!t||!t.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);let i;const r=this.vertices.length,o=this.vertices,s=t.vertices,a=this.faces,g=t.faces,A=this.colors,C=t.colors;void 0!==e&&(i=(new Yv).getNormalMatrix(e));for(let t=0,n=s.length;t<n;t++){const n=s[t].clone();void 0!==e&&n.applyMatrix4(e),o.push(n)}for(let t=0,e=C.length;t<e;t++)A.push(C[t].clone());for(let t=0,e=g.length;t<e;t++){const e=g[t];let o,s;const A=e.vertexNormals,C=e.vertexColors,I=new xb(e.a+r,e.b+r,e.c+r);I.normal.copy(e.normal),void 0!==i&&I.normal.applyMatrix3(i).normalize();for(let t=0,e=A.length;t<e;t++)o=A[t].clone(),void 0!==i&&o.applyMatrix3(i).normalize(),I.vertexNormals.push(o);I.color.copy(e.color);for(let t=0,e=C.length;t<e;t++)s=C[t],I.vertexColors.push(s.clone());I.materialIndex=e.materialIndex+n,a.push(I)}for(let e=0,n=t.faceVertexUvs.length;e<n;e++){const n=t.faceVertexUvs[e];void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]);for(let t=0,i=n.length;t<i;t++){const i=n[t],r=[];for(let t=0,e=i.length;t<e;t++)r.push(i[t].clone());this.faceVertexUvs[e].push(r)}}},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(t=4){const e={},n=[],i=[],r=Math.pow(10,t);for(let t=0,o=this.vertices.length;t<o;t++){const o=this.vertices[t],s=Math.round(o.x*r)+"_"+Math.round(o.y*r)+"_"+Math.round(o.z*r);void 0===e[s]?(e[s]=t,n.push(this.vertices[t]),i[t]=n.length-1):i[t]=i[e[s]]}const o=[];for(let t=0,e=this.faces.length;t<e;t++){const e=this.faces[t];e.a=i[e.a],e.b=i[e.b],e.c=i[e.c];const n=[e.a,e.b,e.c];for(let e=0;e<3;e++)if(n[e]===n[(e+1)%3]){o.push(t);break}}for(let t=o.length-1;t>=0;t--){const e=o[t];this.faces.splice(e,1);for(let t=0,n=this.faceVertexUvs.length;t<n;t++)this.faceVertexUvs[t].splice(e,1)}const s=this.vertices.length-n.length;return this.vertices=n,s},setFromPoints:function(t){this.vertices=[];for(let e=0,n=t.length;e<n;e++){const n=t[e];this.vertices.push(new iy(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){const t=this.faces,e=t.length;for(let n=0;n<e;n++)t[n]._id=n;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));const n=this.faceVertexUvs[0],i=this.faceVertexUvs[1];let r,o;n&&n.length===e&&(r=[]),i&&i.length===e&&(o=[]);for(let s=0;s<e;s++){const e=t[s]._id;r&&r.push(n[e]),o&&o.push(i[e])}r&&(this.faceVertexUvs[0]=r),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){const t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}const e=[];for(let t=0;t<this.vertices.length;t++){const n=this.vertices[t];e.push(n.x,n.y,n.z)}const n=[],i=[],r={},o=[],s={},a=[],g={};for(let t=0;t<this.faces.length;t++){const e=this.faces[t],i=!0,r=!1,o=void 0!==this.faceVertexUvs[0][t],s=e.normal.length()>0,a=e.vertexNormals.length>0,g=1!==e.color.r||1!==e.color.g||1!==e.color.b,l=e.vertexColors.length>0;let u=0;if(u=A(u,0,0),u=A(u,1,i),u=A(u,2,r),u=A(u,3,o),u=A(u,4,s),u=A(u,5,a),u=A(u,6,g),u=A(u,7,l),n.push(u),n.push(e.a,e.b,e.c),n.push(e.materialIndex),o){const e=this.faceVertexUvs[0][t];n.push(c(e[0]),c(e[1]),c(e[2]))}if(s&&n.push(C(e.normal)),a){const t=e.vertexNormals;n.push(C(t[0]),C(t[1]),C(t[2]))}if(g&&n.push(I(e.color)),l){const t=e.vertexColors;n.push(I(t[0]),I(t[1]),I(t[2]))}}function A(t,e,n){return n?t|1<<e:t&~(1<<e)}function C(t){const e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==r[e]||(r[e]=i.length/3,i.push(t.x,t.y,t.z)),r[e]}function I(t){const e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==s[e]||(s[e]=o.length,o.push(t.getHex())),s[e]}function c(t){const e=t.x.toString()+t.y.toString();return void 0!==g[e]||(g[e]=a.length/2,a.push(t.x,t.y)),g[e]}return t.data={},t.data.vertices=e,t.data.normals=i,o.length>0&&(t.data.colors=o),a.length>0&&(t.data.uvs=[a]),t.data.faces=n,t},clone:function(){return(new XS).copy(this)},copy:function(t){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;const e=t.vertices;for(let t=0,n=e.length;t<n;t++)this.vertices.push(e[t].clone());const n=t.colors;for(let t=0,e=n.length;t<e;t++)this.colors.push(n[t].clone());const i=t.faces;for(let t=0,e=i.length;t<e;t++)this.faces.push(i[t].clone());for(let e=0,n=t.faceVertexUvs.length;e<n;e++){const n=t.faceVertexUvs[e];void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]);for(let t=0,i=n.length;t<i;t++){const i=n[t],r=[];for(let t=0,e=i.length;t<e;t++){const e=i[t];r.push(e.clone())}this.faceVertexUvs[e].push(r)}}const r=t.morphTargets;for(let t=0,e=r.length;t<e;t++){const e={};if(e.name=r[t].name,void 0!==r[t].vertices){e.vertices=[];for(let n=0,i=r[t].vertices.length;n<i;n++)e.vertices.push(r[t].vertices[n].clone())}if(void 0!==r[t].normals){e.normals=[];for(let n=0,i=r[t].normals.length;n<i;n++)e.normals.push(r[t].normals[n].clone())}this.morphTargets.push(e)}const o=t.morphNormals;for(let t=0,e=o.length;t<e;t++){const e={};if(void 0!==o[t].vertexNormals){e.vertexNormals=[];for(let n=0,i=o[t].vertexNormals.length;n<i;n++){const i=o[t].vertexNormals[n],r={};r.a=i.a.clone(),r.b=i.b.clone(),r.c=i.c.clone(),e.vertexNormals.push(r)}}if(void 0!==o[t].faceNormals){e.faceNormals=[];for(let n=0,i=o[t].faceNormals.length;n<i;n++)e.faceNormals.push(o[t].faceNormals[n].clone())}this.morphNormals.push(e)}const s=t.skinWeights;for(let t=0,e=s.length;t<e;t++)this.skinWeights.push(s[t].clone());const a=t.skinIndices;for(let t=0,e=a.length;t<e;t++)this.skinIndices.push(a[t].clone());const g=t.lineDistances;for(let t=0,e=g.length;t<e;t++)this.lineDistances.push(g[t]);const A=t.boundingBox;null!==A&&(this.boundingBox=A.clone());const C=t.boundingSphere;return null!==C&&(this.boundingSphere=C.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class JS extends XS{constructor(t,e,n,i,r,o){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o},this.fromBufferGeometry(new v_(t,e,n,i,r,o)),this.mergeVertices()}}new iy,new iy,new iy,new fb;function KS(t,e,n,i,r){let o,s;if(r===function(t,e,n,i){let r=0;for(let o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}(t,e,n,i)>0)for(o=e;o<n;o+=i)s=fE(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=fE(o,t[o],t[o+1],s);return s&&IE(s,s.next)&&(pE(s),s=s.next),s}function qS(t,e){if(!t)return t;e||(e=t);let n,i=t;do{if(n=!1,i.steiner||!IE(i,i.next)&&0!==CE(i.prev,i,i.next))i=i.next;else{if(pE(i),i=e=i.prev,i===i.next)break;n=!0}}while(n||i!==e);return e}function QS(t,e,n,i,r,o,s){if(!t)return;!s&&o&&function(t,e,n,i){let r=t;do{null===r.z&&(r.z=sE(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){let e,n,i,r,o,s,a,g,A=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<A&&(a++,i=i.nextZ,i);e++);for(g=A;a>0||g>0&&i;)0!==a&&(0===g||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,g--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,A*=2}while(s>1)}(r)}(t,i,r,o);let a,g,A=t;for(;t.prev!==t.next;)if(a=t.prev,g=t.next,o?tE(t,i,r,o):$S(t))e.push(a.i/n),e.push(t.i/n),e.push(g.i/n),pE(t),t=g.next,A=g.next;else if((t=g)===A){s?1===s?QS(t=eE(qS(t),e,n),e,n,i,r,o,2):2===s&&nE(t,e,n,i,r,o):QS(qS(t),e,n,i,r,o,1);break}}function $S(t){const e=t.prev,n=t,i=t.next;if(CE(e,n,i)>=0)return!1;let r=t.next.next;for(;r!==t.prev;){if(gE(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&CE(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function tE(t,e,n,i){const r=t.prev,o=t,s=t.next;if(CE(r,o,s)>=0)return!1;const a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,g=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,A=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,C=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,I=sE(a,g,e,n,i),c=sE(A,C,e,n,i);let l=t.prevZ,u=t.nextZ;for(;l&&l.z>=I&&u&&u.z<=c;){if(l!==t.prev&&l!==t.next&&gE(r.x,r.y,o.x,o.y,s.x,s.y,l.x,l.y)&&CE(l.prev,l,l.next)>=0)return!1;if(l=l.prevZ,u!==t.prev&&u!==t.next&&gE(r.x,r.y,o.x,o.y,s.x,s.y,u.x,u.y)&&CE(u.prev,u,u.next)>=0)return!1;u=u.nextZ}for(;l&&l.z>=I;){if(l!==t.prev&&l!==t.next&&gE(r.x,r.y,o.x,o.y,s.x,s.y,l.x,l.y)&&CE(l.prev,l,l.next)>=0)return!1;l=l.prevZ}for(;u&&u.z<=c;){if(u!==t.prev&&u!==t.next&&gE(r.x,r.y,o.x,o.y,s.x,s.y,u.x,u.y)&&CE(u.prev,u,u.next)>=0)return!1;u=u.nextZ}return!0}function eE(t,e,n){let i=t;do{const r=i.prev,o=i.next.next;!IE(r,o)&&cE(r,i,i.next,o)&&hE(r,o)&&hE(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),pE(i),pE(i.next),i=t=o),i=i.next}while(i!==t);return qS(i)}function nE(t,e,n,i,r,o){let s=t;do{let t=s.next.next;for(;t!==s.prev;){if(s.i!==t.i&&AE(s,t)){let a=dE(s,t);return s=qS(s,s.next),a=qS(a,a.next),QS(s,e,n,i,r,o),void QS(a,e,n,i,r,o)}t=t.next}s=s.next}while(s!==t)}function iE(t,e){return t.x-e.x}function rE(t,e){if(e=function(t,e){let n=e;const i=t.x,r=t.y;let o,s=-1/0;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const t=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=i&&t>s){if(s=t,t===i){if(r===n.y)return n;if(r===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!o)return null;if(i===s)return o;const a=o,g=o.x,A=o.y;let C,I=1/0;n=o;do{i>=n.x&&n.x>=g&&i!==n.x&&gE(r<A?i:s,r,g,A,r<A?s:i,r,n.x,n.y)&&(C=Math.abs(r-n.y)/(i-n.x),hE(n,t)&&(C<I||C===I&&(n.x>o.x||n.x===o.x&&oE(o,n)))&&(o=n,I=C)),n=n.next}while(n!==a);return o}(t,e),e){const n=dE(e,t);qS(e,e.next),qS(n,n.next)}}function oE(t,e){return CE(t.prev,t,e.prev)<0&&CE(e.next,t,t.next)<0}function sE(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function aE(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function gE(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function AE(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&cE(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(hE(t,e)&&hE(e,t)&&function(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(CE(t.prev,t,e.prev)||CE(t,e.prev,e))||IE(t,e)&&CE(t.prev,t,t.next)>0&&CE(e.prev,e,e.next)>0)}function CE(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function IE(t,e){return t.x===e.x&&t.y===e.y}function cE(t,e,n,i){const r=uE(CE(t,e,n)),o=uE(CE(t,e,i)),s=uE(CE(n,i,t)),a=uE(CE(n,i,e));return r!==o&&s!==a||!(0!==r||!lE(t,n,e))||!(0!==o||!lE(t,i,e))||!(0!==s||!lE(n,t,i))||!(0!==a||!lE(n,e,i))}function lE(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function uE(t){return t>0?1:t<0?-1:0}function hE(t,e){return CE(t.prev,t,t.next)<0?CE(t,e,t.next)>=0&&CE(t,t.prev,e)>=0:CE(t,e,t.prev)<0||CE(t,t.next,e)<0}function dE(t,e){const n=new mE(t.i,t.x,t.y),i=new mE(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function fE(t,e,n,i){const r=new mE(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function pE(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function mE(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const vE={area:function(t){const e=t.length;let n=0;for(let i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n},isClockWise:function(t){return vE.area(t)<0},triangulateShape:function(t,e){const n=[],i=[],r=[];yE(t),bE(n,t);let o=t.length;e.forEach(yE);for(let t=0;t<e.length;t++)i.push(o),o+=e[t].length,bE(n,e[t]);const s=function(t,e,n){n=n||2;const i=e&&e.length,r=i?e[0]*n:t.length;let o=KS(t,0,r,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,g,A,C,I,c,l;if(i&&(o=function(t,e,n,i){const r=[];let o,s,a,g,A;for(o=0,s=e.length;o<s;o++)a=e[o]*i,g=o<s-1?e[o+1]*i:t.length,A=KS(t,a,g,i,!1),A===A.next&&(A.steiner=!0),r.push(aE(A));for(r.sort(iE),o=0;o<r.length;o++)rE(r[o],n),n=qS(n,n.next);return n}(t,e,o,n)),t.length>80*n){a=A=t[0],g=C=t[1];for(let e=n;e<r;e+=n)I=t[e],c=t[e+1],I<a&&(a=I),c<g&&(g=c),I>A&&(A=I),c>C&&(C=c);l=Math.max(A-a,C-g),l=0!==l?1/l:0}return QS(o,s,n,a,g,l),s}(n,i);for(let t=0;t<s.length;t+=3)r.push(s.slice(t,t+3));return r}};function yE(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function bE(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class _E extends $b{constructor(t,e){super(),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,i=[],r=[];for(let e=0,n=t.length;e<n;e++)o(t[e]);function o(t){const o=[],s=void 0!==e.curveSegments?e.curveSegments:12,a=void 0!==e.steps?e.steps:1;let g=void 0!==e.depth?e.depth:100,A=void 0===e.bevelEnabled||e.bevelEnabled,C=void 0!==e.bevelThickness?e.bevelThickness:6,I=void 0!==e.bevelSize?e.bevelSize:C-2,c=void 0!==e.bevelOffset?e.bevelOffset:0,l=void 0!==e.bevelSegments?e.bevelSegments:3;const u=e.extrudePath,h=void 0!==e.UVGenerator?e.UVGenerator:wE;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),g=e.amount);let d,f,p,m,v,y=!1;u&&(d=u.getSpacedPoints(a),y=!0,A=!1,f=u.computeFrenetFrames(a,!1),p=new iy,m=new iy,v=new iy),A||(l=0,C=0,I=0,c=0);const b=t.extractPoints(s);let _=b.shape;const w=b.holes;if(!vE.isClockWise(_)){_=_.reverse();for(let t=0,e=w.length;t<e;t++){const e=w[t];vE.isClockWise(e)&&(w[t]=e.reverse())}}const x=vE.triangulateShape(_,w),S=_;for(let t=0,e=w.length;t<e;t++){const e=w[t];_=_.concat(e)}function E(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}const M=_.length,T=x.length;function R(t,e,n){let i,r,o;const s=t.x-e.x,a=t.y-e.y,g=n.x-t.x,A=n.y-t.y,C=s*s+a*a,I=s*A-a*g;if(Math.abs(I)>Number.EPSILON){const I=Math.sqrt(C),c=Math.sqrt(g*g+A*A),l=e.x-a/I,u=e.y+s/I,h=((n.x-A/c-l)*A-(n.y+g/c-u)*g)/(s*A-a*g);i=l+s*h-t.x,r=u+a*h-t.y;const d=i*i+r*r;if(d<=2)return new Zv(i,r);o=Math.sqrt(d/2)}else{let t=!1;s>Number.EPSILON?g>Number.EPSILON&&(t=!0):s<-Number.EPSILON?g<-Number.EPSILON&&(t=!0):Math.sign(a)===Math.sign(A)&&(t=!0),t?(i=-a,r=s,o=Math.sqrt(C)):(i=s,r=a,o=Math.sqrt(C/2))}return new Zv(i/o,r/o)}const O=[];for(let t=0,e=S.length,n=e-1,i=t+1;t<e;t++,n++,i++)n===e&&(n=0),i===e&&(i=0),O[t]=R(S[t],S[n],S[i]);const L=[];let k,D=O.concat();for(let t=0,e=w.length;t<e;t++){const e=w[t];k=[];for(let t=0,n=e.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),k[t]=R(e[t],e[i],e[r]);L.push(k),D=D.concat(k)}for(let t=0;t<l;t++){const e=t/l,n=C*Math.cos(e*Math.PI/2),i=I*Math.sin(e*Math.PI/2)+c;for(let t=0,e=S.length;t<e;t++){const e=E(S[t],O[t],i);j(e.x,e.y,-n)}for(let t=0,e=w.length;t<e;t++){const e=w[t];k=L[t];for(let t=0,r=e.length;t<r;t++){const r=E(e[t],k[t],i);j(r.x,r.y,-n)}}}const N=I+c;for(let t=0;t<M;t++){const e=A?E(_[t],D[t],N):_[t];y?(m.copy(f.normals[0]).multiplyScalar(e.x),p.copy(f.binormals[0]).multiplyScalar(e.y),v.copy(d[0]).add(m).add(p),j(v.x,v.y,v.z)):j(e.x,e.y,0)}for(let t=1;t<=a;t++)for(let e=0;e<M;e++){const n=A?E(_[e],D[e],N):_[e];y?(m.copy(f.normals[t]).multiplyScalar(n.x),p.copy(f.binormals[t]).multiplyScalar(n.y),v.copy(d[t]).add(m).add(p),j(v.x,v.y,v.z)):j(n.x,n.y,g/a*t)}for(let t=l-1;t>=0;t--){const e=t/l,n=C*Math.cos(e*Math.PI/2),i=I*Math.sin(e*Math.PI/2)+c;for(let t=0,e=S.length;t<e;t++){const e=E(S[t],O[t],i);j(e.x,e.y,g+n)}for(let t=0,e=w.length;t<e;t++){const e=w[t];k=L[t];for(let t=0,r=e.length;t<r;t++){const r=E(e[t],k[t],i);y?j(r.x,r.y+d[a-1].y,d[a-1].x+n):j(r.x,r.y,g+n)}}}function P(t,e){let n=t.length;for(;--n>=0;){const i=n;let r=n-1;r<0&&(r=t.length-1);for(let t=0,n=a+2*l;t<n;t++){const n=M*t,o=M*(t+1);z(e+i+n,e+r+n,e+r+o,e+i+o)}}}function j(t,e,n){o.push(t),o.push(e),o.push(n)}function F(t,e,r){B(t),B(e),B(r);const o=i.length/3,s=h.generateTopUV(n,i,o-3,o-2,o-1);U(s[0]),U(s[1]),U(s[2])}function z(t,e,r,o){B(t),B(e),B(o),B(e),B(r),B(o);const s=i.length/3,a=h.generateSideWallUV(n,i,s-6,s-3,s-2,s-1);U(a[0]),U(a[1]),U(a[3]),U(a[1]),U(a[2]),U(a[3])}function B(t){i.push(o[3*t+0]),i.push(o[3*t+1]),i.push(o[3*t+2])}function U(t){r.push(t.x),r.push(t.y)}!function(){const t=i.length/3;if(A){let t=0,e=M*t;for(let t=0;t<T;t++){const n=x[t];F(n[2]+e,n[1]+e,n[0]+e)}t=a+2*l,e=M*t;for(let t=0;t<T;t++){const n=x[t];F(n[0]+e,n[1]+e,n[2]+e)}}else{for(let t=0;t<T;t++){const e=x[t];F(e[2],e[1],e[0])}for(let t=0;t<T;t++){const e=x[t];F(e[0]+M*a,e[1]+M*a,e[2]+M*a)}}n.addGroup(t,i.length/3-t,0)}(),function(){const t=i.length/3;let e=0;P(S,e),e+=S.length;for(let t=0,n=w.length;t<n;t++){const n=w[t];P(n,e),e+=n.length}n.addGroup(t,i.length/3-t,1)}()}this.setAttribute("position",new Bb(i,3)),this.setAttribute("uv",new Bb(r,2)),this.computeVertexNormals()}toJSON(){const t=$b.prototype.toJSON.call(this);return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(let e=0,i=t.length;e<i;e++){const i=t[e];n.shapes.push(i.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,t)}}const wE={generateTopUV:function(t,e,n,i,r){const o=e[3*n],s=e[3*n+1],a=e[3*i],g=e[3*i+1],A=e[3*r],C=e[3*r+1];return[new Zv(o,s),new Zv(a,g),new Zv(A,C)]},generateSideWallUV:function(t,e,n,i,r,o){const s=e[3*n],a=e[3*n+1],g=e[3*n+2],A=e[3*i],C=e[3*i+1],I=e[3*i+2],c=e[3*r],l=e[3*r+1],u=e[3*r+2],h=e[3*o],d=e[3*o+1],f=e[3*o+2];return Math.abs(a-C)<.01?[new Zv(s,1-g),new Zv(A,1-I),new Zv(c,1-u),new Zv(h,1-f)]:[new Zv(a,1-g),new Zv(C,1-I),new Zv(l,1-u),new Zv(d,1-f)]}};class xE extends XS{constructor(t,e){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new _E(t,e)),this.mergeVertices()}toJSON(){const t=super.toJSON();return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(let e=0,i=t.length;e<i;e++){const i=t[e];n.shapes.push(i.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,t)}}function SE(t,e,n){$b.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};const i=[],r=[],o=[],s=[],a=1e-5,g=new iy,A=new iy,C=new iy,I=new iy,c=new iy;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const l=e+1;for(let i=0;i<=n;i++){const l=i/n;for(let n=0;n<=e;n++){const i=n/e;t(i,l,A),r.push(A.x,A.y,A.z),i-a>=0?(t(i-a,l,C),I.subVectors(A,C)):(t(i+a,l,C),I.subVectors(C,A)),l-a>=0?(t(i,l-a,C),c.subVectors(A,C)):(t(i,l+a,C),c.subVectors(C,A)),g.crossVectors(I,c).normalize(),o.push(g.x,g.y,g.z),s.push(i,l)}}for(let t=0;t<n;t++)for(let n=0;n<e;n++){const e=t*l+n,r=t*l+n+1,o=(t+1)*l+n+1,s=(t+1)*l+n;i.push(e,r,s),i.push(r,o,s)}this.setIndex(i),this.setAttribute("position",new Bb(r,3)),this.setAttribute("normal",new Bb(o,3)),this.setAttribute("uv",new Bb(s,2))}function EE(t,e,n){XS.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new SE(t,e,n)),this.mergeVertices()}SE.prototype=Object.create($b.prototype),SE.prototype.constructor=SE,EE.prototype=Object.create(XS.prototype),EE.prototype.constructor=EE;class ME extends $b{constructor(t,e=12){super(),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],i=[],r=[],o=[];let s=0,a=0;if(!1===Array.isArray(t))g(t);else for(let e=0;e<t.length;e++)g(t[e]),this.addGroup(s,a,e),s+=a,a=0;function g(t){const s=i.length/3,g=t.extractPoints(e);let A=g.shape;const C=g.holes;!1===vE.isClockWise(A)&&(A=A.reverse());for(let t=0,e=C.length;t<e;t++){const e=C[t];!0===vE.isClockWise(e)&&(C[t]=e.reverse())}const I=vE.triangulateShape(A,C);for(let t=0,e=C.length;t<e;t++){const e=C[t];A=A.concat(e)}for(let t=0,e=A.length;t<e;t++){const e=A[t];i.push(e.x,e.y,0),r.push(0,0,1),o.push(e.x,e.y)}for(let t=0,e=I.length;t<e;t++){const e=I[t],i=e[0]+s,r=e[1]+s,o=e[2]+s;n.push(i,r,o),a+=3}}this.setIndex(n),this.setAttribute("position",new Bb(i,3)),this.setAttribute("normal",new Bb(r,3)),this.setAttribute("uv",new Bb(o,2))}toJSON(){const t=$b.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}class TE extends XS{constructor(t,e){super(),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new ME(t,e)),this.mergeVertices()}toJSON(){const t=XS.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}function RE(t){Eb.call(this),this.type="ShadowMaterial",this.color=new wb(0),this.transparent=!0,this.setValues(t)}function OE(t){w_.call(this,t),this.type="RawShaderMaterial"}function LE(t){Eb.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new wb(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wb(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Zv(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}function kE(t){LE.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Zv(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=Vv.clamp(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}function DE(t){Eb.call(this),this.type="MeshPhongMaterial",this.color=new wb(16777215),this.specular=new wb(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wb(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Zv(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function NE(t){Eb.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new wb(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wb(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Zv(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function PE(t){Eb.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Zv(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function jE(t){Eb.call(this),this.type="MeshLambertMaterial",this.color=new wb(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wb(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function FE(t){Eb.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new wb(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Zv(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function zE(t){bS.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}RE.prototype=Object.create(Eb.prototype),RE.prototype.constructor=RE,RE.prototype.isShadowMaterial=!0,RE.prototype.copy=function(t){return Eb.prototype.copy.call(this,t),this.color.copy(t.color),this},OE.prototype=Object.create(w_.prototype),OE.prototype.constructor=OE,OE.prototype.isRawShaderMaterial=!0,LE.prototype=Object.create(Eb.prototype),LE.prototype.constructor=LE,LE.prototype.isMeshStandardMaterial=!0,LE.prototype.copy=function(t){return Eb.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this},kE.prototype=Object.create(LE.prototype),kE.prototype.constructor=kE,kE.prototype.isMeshPhysicalMaterial=!0,kE.prototype.copy=function(t){return LE.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,t.sheen?this.sheen=(this.sheen||new wb).copy(t.sheen):this.sheen=null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this},DE.prototype=Object.create(Eb.prototype),DE.prototype.constructor=DE,DE.prototype.isMeshPhongMaterial=!0,DE.prototype.copy=function(t){return Eb.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},NE.prototype=Object.create(Eb.prototype),NE.prototype.constructor=NE,NE.prototype.isMeshToonMaterial=!0,NE.prototype.copy=function(t){return Eb.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},PE.prototype=Object.create(Eb.prototype),PE.prototype.constructor=PE,PE.prototype.isMeshNormalMaterial=!0,PE.prototype.copy=function(t){return Eb.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},jE.prototype=Object.create(Eb.prototype),jE.prototype.constructor=jE,jE.prototype.isMeshLambertMaterial=!0,jE.prototype.copy=function(t){return Eb.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},FE.prototype=Object.create(Eb.prototype),FE.prototype.constructor=FE,FE.prototype.isMeshMatcapMaterial=!0,FE.prototype.copy=function(t){return Eb.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},zE.prototype=Object.create(bS.prototype),zE.prototype.constructor=zE,zE.prototype.isLineDashedMaterial=!0,zE.prototype.copy=function(t){return bS.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var BE=Object.freeze({__proto__:null,ShadowMaterial:RE,SpriteMaterial:Yx,RawShaderMaterial:OE,ShaderMaterial:w_,PointsMaterial:kS,MeshPhysicalMaterial:kE,MeshStandardMaterial:LE,MeshPhongMaterial:DE,MeshToonMaterial:NE,MeshNormalMaterial:PE,MeshLambertMaterial:jE,MeshDepthMaterial:Rx,MeshDistanceMaterial:Ox,MeshBasicMaterial:Mb,MeshMatcapMaterial:FE,LineDashedMaterial:zE,LineBasicMaterial:bS,Material:Eb});const UE={arraySlice:function(t,e,n){return UE.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){const e=t.length,n=new Array(e);for(let t=0;t!==e;++t)n[t]=t;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){const i=t.length,r=new t.constructor(i);for(let o=0,s=0;s!==i;++o){const i=n[o]*e;for(let n=0;n!==e;++n)r[s++]=t[i+n]}return r},flattenJSON:function(t,e,n,i){let r=1,o=t[0];for(;void 0!==o&&void 0===o[i];)o=t[r++];if(void 0===o)return;let s=o[i];if(void 0!==s)if(Array.isArray(s))do{s=o[i],void 0!==s&&(e.push(o.time),n.push.apply(n,s)),o=t[r++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[i],void 0!==s&&(e.push(o.time),s.toArray(n,n.length)),o=t[r++]}while(void 0!==o);else do{s=o[i],void 0!==s&&(e.push(o.time),n.push(s)),o=t[r++]}while(void 0!==o)},subclip:function(t,e,n,i,r=30){const o=t.clone();o.name=e;const s=[];for(let t=0;t<o.tracks.length;++t){const e=o.tracks[t],a=e.getValueSize(),g=[],A=[];for(let t=0;t<e.times.length;++t){const o=e.times[t]*r;if(!(o<n||o>=i)){g.push(e.times[t]);for(let n=0;n<a;++n)A.push(e.values[t*a+n])}}0!==g.length&&(e.times=UE.convertArray(g,e.times.constructor),e.values=UE.convertArray(A,e.values.constructor),s.push(e))}o.tracks=s;let a=1/0;for(let t=0;t<o.tracks.length;++t)a>o.tracks[t].times[0]&&(a=o.tracks[t].times[0]);for(let t=0;t<o.tracks.length;++t)o.tracks[t].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,o=e/i;for(let e=0;e<r;++e){const i=n.tracks[e],r=i.ValueTypeName;if("bool"===r||"string"===r)continue;const s=t.tracks.find((function(t){return t.name===i.name&&t.ValueTypeName===r}));if(void 0===s)continue;let a=0;const g=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=g/3);let A=0;const C=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(A=C/3);const I=i.times.length-1;let c;if(o<=i.times[0]){const t=a,e=g-a;c=UE.arraySlice(i.values,t,e)}else if(o>=i.times[I]){const t=I*g+a,e=t+g-a;c=UE.arraySlice(i.values,t,e)}else{const t=i.createInterpolant(),e=a,n=g-a;t.evaluate(o),c=UE.arraySlice(t.resultBuffer,e,n)}"quaternion"===r&&(new ny).fromArray(c).normalize().conjugate().toArray(c);const l=s.times.length;for(let t=0;t<l;++t){const e=t*C+A;if("quaternion"===r)ny.multiplyQuaternionsFlat(s.values,e,c,0,s.values,e);else{const t=C-2*A;for(let n=0;n<t;++n)s.values[e+n]-=c[n]}}}return t.blendMode=2501,t}};function HE(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function GE(t,e,n,i){HE.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function WE(t,e,n,i){HE.call(this,t,e,n,i)}function VE(t,e,n,i){HE.call(this,t,e,n,i)}function ZE(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=UE.convertArray(e,this.TimeBufferType),this.values=UE.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function YE(t,e,n){ZE.call(this,t,e,n)}function XE(t,e,n,i){ZE.call(this,t,e,n,i)}function JE(t,e,n,i){ZE.call(this,t,e,n,i)}function KE(t,e,n,i){HE.call(this,t,e,n,i)}function qE(t,e,n,i){ZE.call(this,t,e,n,i)}function QE(t,e,n,i){ZE.call(this,t,e,n,i)}function $E(t,e,n,i){ZE.call(this,t,e,n,i)}function tM(t,e,n,i){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.blendMode=void 0!==i?i:2500,this.uuid=Vv.generateUUID(),this.duration<0&&this.resetDuration()}function eM(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return JE;case"vector":case"vector2":case"vector3":case"vector4":return $E;case"color":return XE;case"quaternion":return qE;case"bool":case"boolean":return YE;case"string":return QE}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],n=[];UE.flattenJSON(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(HE.prototype,{evaluate:function(t){const e=this.parameterPositions;let n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{let o;n:{i:if(!(t<i)){for(let o=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===o)break;if(r=i,i=e[++n],t<i)break e}o=e.length;break n}if(t>=r)break t;{const s=e[1];t<s&&(n=2,r=s);for(let o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===o)break;if(i=r,r=e[--n-1],t>=r)break e}o=n,n=0}}for(;n<o;){const i=n+o>>>1;t<e[i]?o=i:n=i+1}if(i=e[n],r=e[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i;for(let t=0;t!==i;++t)e[t]=n[r+t];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(HE.prototype,{beforeStart_:HE.prototype.copySampleValue_,afterEnd_:HE.prototype.copySampleValue_}),GE.prototype=Object.assign(Object.create(HE.prototype),{constructor:GE,DefaultSettings_:{endingStart:Dv,endingEnd:Dv},intervalChanged_:function(t,e,n){const i=this.parameterPositions;let r=t-2,o=t+1,s=i[r],a=i[o];if(void 0===s)switch(this.getSettings_().endingStart){case Nv:r=t,s=2*e-n;break;case Pv:r=i.length-2,s=e+i[r]-i[r+1];break;default:r=t,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case Nv:o=t,a=2*n-e;break;case Pv:o=1,a=n+i[1]-i[0];break;default:o=t-1,a=e}const g=.5*(n-e),A=this.valueSize;this._weightPrev=g/(e-s),this._weightNext=g/(a-n),this._offsetPrev=r*A,this._offsetNext=o*A},interpolate_:function(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,g=a-s,A=this._offsetPrev,C=this._offsetNext,I=this._weightPrev,c=this._weightNext,l=(n-e)/(i-e),u=l*l,h=u*l,d=-I*h+2*I*u-I*l,f=(1+I)*h+(-1.5-2*I)*u+(-.5+I)*l+1,p=(-1-c)*h+(1.5+c)*u+.5*l,m=c*h-c*u;for(let t=0;t!==s;++t)r[t]=d*o[A+t]+f*o[g+t]+p*o[a+t]+m*o[C+t];return r}}),WE.prototype=Object.assign(Object.create(HE.prototype),{constructor:WE,interpolate_:function(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,g=a-s,A=(n-e)/(i-e),C=1-A;for(let t=0;t!==s;++t)r[t]=o[g+t]*C+o[a+t]*A;return r}}),VE.prototype=Object.assign(Object.create(HE.prototype),{constructor:VE,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(ZE,{toJSON:function(t){const e=t.constructor;let n;if(void 0!==e.toJSON)n=e.toJSON(t);else{n={name:t.name,times:UE.convertArray(t.times,Array),values:UE.convertArray(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}}),Object.assign(ZE.prototype,{constructor:ZE,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Lv,InterpolantFactoryMethodDiscrete:function(t){return new VE(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new WE(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new GE(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){let e;switch(t){case Ov:e=this.InterpolantFactoryMethodDiscrete;break;case Lv:e=this.InterpolantFactoryMethodLinear;break;case kv:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ov;case this.InterpolantFactoryMethodLinear:return Lv;case this.InterpolantFactoryMethodSmooth:return kv}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]+=t}return this},scale:function(t){if(1!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]*=t}return this},trim:function(t,e){const n=this.times,i=n.length;let r=0,o=i-1;for(;r!==i&&n[r]<t;)++r;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const t=this.getValueSize();this.times=UE.arraySlice(n,r,o),this.values=UE.arraySlice(this.values,r*t,o*t)}return this},validate:function(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let e=0;e!==r;e++){const i=n[e];if("number"==typeof i&&isNaN(i)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,e,i),t=!1;break}if(null!==o&&o>i){console.error("THREE.KeyframeTrack: Out of order keys.",this,e,i,o),t=!1;break}o=i}if(void 0!==i&&UE.isTypedArray(i))for(let e=0,n=i.length;e!==n;++e){const n=i[e];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,e,n),t=!1;break}}return t},optimize:function(){const t=UE.arraySlice(this.times),e=UE.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===kv,r=t.length-1;let o=1;for(let s=1;s<r;++s){let r=!1;const a=t[s];if(a!==t[s+1]&&(1!==s||a!==a[0]))if(i)r=!0;else{const t=s*n,i=t-n,o=t+n;for(let s=0;s!==n;++s){const n=e[t+s];if(n!==e[i+s]||n!==e[o+s]){r=!0;break}}}if(r){if(s!==o){t[o]=t[s];const i=s*n,r=o*n;for(let t=0;t!==n;++t)e[r+t]=e[i+t]}++o}}if(r>0){t[o]=t[r];for(let t=r*n,i=o*n,s=0;s!==n;++s)e[i+s]=e[t+s];++o}return o!==t.length?(this.times=UE.arraySlice(t,0,o),this.values=UE.arraySlice(e,0,o*n)):(this.times=t,this.values=e),this},clone:function(){const t=UE.arraySlice(this.times,0),e=UE.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}),YE.prototype=Object.assign(Object.create(ZE.prototype),{constructor:YE,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Ov,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),XE.prototype=Object.assign(Object.create(ZE.prototype),{constructor:XE,ValueTypeName:"color"}),JE.prototype=Object.assign(Object.create(ZE.prototype),{constructor:JE,ValueTypeName:"number"}),KE.prototype=Object.assign(Object.create(HE.prototype),{constructor:KE,interpolate_:function(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-e)/(i-e);let g=t*s;for(let t=g+s;g!==t;g+=4)ny.slerpFlat(r,0,o,g-s,o,g,a);return r}}),qE.prototype=Object.assign(Object.create(ZE.prototype),{constructor:qE,ValueTypeName:"quaternion",DefaultInterpolation:Lv,InterpolantFactoryMethodLinear:function(t){return new KE(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),QE.prototype=Object.assign(Object.create(ZE.prototype),{constructor:QE,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Ov,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),$E.prototype=Object.assign(Object.create(ZE.prototype),{constructor:$E,ValueTypeName:"vector"}),Object.assign(tM,{parse:function(t){const e=[],n=t.tracks,i=1/(t.fps||1);for(let t=0,r=n.length;t!==r;++t)e.push(eM(n[t]).scale(i));const r=new tM(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r},toJSON:function(t){const e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,i=n.length;t!==i;++t)e.push(ZE.toJSON(n[t]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){const r=e.length,o=[];for(let t=0;t<r;t++){let s=[],a=[];s.push((t+r-1)%r,t,(t+1)%r),a.push(0,1,0);const g=UE.getKeyframeOrder(s);s=UE.sortedArray(s,1,g),a=UE.sortedArray(a,1,g),i||0!==s[0]||(s.push(r),a.push(a[0])),o.push(new JE(".morphTargetInfluences["+e[t].name+"]",s,a).scale(1/n))}return new tM(t,-1,o)},findByName:function(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let t=0;t<n.length;t++)if(n[t].name===e)return n[t];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let e=0,n=t.length;e<n;e++){const n=t[e],o=n.name.match(r);if(o&&o.length>1){const t=o[1];let e=i[t];e||(i[t]=e=[]),e.push(n)}}const o=[];for(const t in i)o.push(tM.CreateFromMorphTargetSequence(t,i[t],e,n));return o},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(t,e,n,i,r){if(0!==n.length){const o=[],s=[];UE.flattenJSON(n,o,s,i),0!==o.length&&r.push(new t(e,o,s))}},i=[],r=t.name||"default",o=t.fps||30,s=t.blendMode;let a=t.length||-1;const g=t.hierarchy||[];for(let t=0;t<g.length;t++){const r=g[t].keys;if(r&&0!==r.length)if(r[0].morphTargets){const t={};let e;for(e=0;e<r.length;e++)if(r[e].morphTargets)for(let n=0;n<r[e].morphTargets.length;n++)t[r[e].morphTargets[n]]=-1;for(const n in t){const t=[],o=[];for(let i=0;i!==r[e].morphTargets.length;++i){const i=r[e];t.push(i.time),o.push(i.morphTarget===n?1:0)}i.push(new JE(".morphTargetInfluence["+n+"]",t,o))}a=t.length*(o||1)}else{const o=".bones["+e[t].name+"]";n($E,o+".position",r,"pos",i),n(qE,o+".quaternion",r,"rot",i),n($E,o+".scale",r,"scl",i)}}return 0===i.length?null:new tM(r,a,i,s)}}),Object.assign(tM.prototype,{resetDuration:function(){let t=0;for(let e=0,n=this.tracks.length;e!==n;++e){const n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this},trim:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new tM(this.name,this.duration,t,this.blendMode)},toJSON:function(){return tM.toJSON(this)}});const nM={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};const iM=new function(t,e,n){const i=this;let r,o=!1,s=0,a=0;const g=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===o&&void 0!==i.onStart&&i.onStart(t,s,a),o=!0},this.itemEnd=function(t){s++,void 0!==i.onProgress&&i.onProgress(t,s,a),s===a&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,e){return g.push(t,e),this},this.removeHandler=function(t){const e=g.indexOf(t);return-1!==e&&g.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=g.length;e<n;e+=2){const n=g[e],i=g[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return i}return null}};function rM(t){this.manager=void 0!==t?t:iM,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(rM.prototype,{load:function(){},loadAsync:function(t,e){const n=this;return new Promise((function(i,r){n.load(t,i,e,r)}))},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});const oM={};function sM(t){rM.call(this,t)}function aM(t){rM.call(this,t)}function gM(t){rM.call(this,t)}function AM(t){rM.call(this,t)}function CM(t){rM.call(this,t)}function IM(t){rM.call(this,t)}function cM(t){rM.call(this,t)}function lM(){this.type="Curve",this.arcLengthDivisions=200}function uM(t,e,n,i,r,o,s,a){lM.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=s||!1,this.aRotation=a||0}function hM(t,e,n,i,r,o){uM.call(this,t,e,n,n,i,r,o),this.type="ArcCurve"}function dM(){let t=0,e=0,n=0,i=0;function r(r,o,s,a){t=r,e=s,n=-3*r+3*o-2*s-a,i=2*r-2*o+s+a}return{initCatmullRom:function(t,e,n,i,o){r(e,n,o*(n-t),o*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,o,s,a){let g=(e-t)/o-(n-t)/(o+s)+(n-e)/s,A=(n-e)/s-(i-e)/(s+a)+(i-n)/a;g*=s,A*=s,r(e,n,g,A)},calc:function(r){const o=r*r;return t+e*r+n*o+i*(o*r)}}}sM.prototype=Object.assign(Object.create(rM.prototype),{constructor:sM,load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=nM.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;if(void 0!==oM[t])return void oM[t].push({onLoad:e,onProgress:n,onError:i});const s=t.match(/^data:(.*?)(;base64)?,(.*)$/);let a;if(s){const n=s[1],o=!!s[2];let a=s[3];a=decodeURIComponent(a),o&&(a=atob(a));try{let i;const o=(this.responseType||"").toLowerCase();switch(o){case"arraybuffer":case"blob":const t=new Uint8Array(a.length);for(let e=0;e<a.length;e++)t[e]=a.charCodeAt(e);i="blob"===o?new Blob([t.buffer],{type:n}):t.buffer;break;case"document":const e=new DOMParser;i=e.parseFromString(a,n);break;case"json":i=JSON.parse(a);break;default:i=a}setTimeout((function(){e&&e(i),r.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}),0)}}else{oM[t]=[],oM[t].push({onLoad:e,onProgress:n,onError:i}),a=new XMLHttpRequest,a.open("GET",t,!0),a.addEventListener("load",(function(e){const n=this.response,i=oM[t];if(delete oM[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),nM.add(t,n);for(let t=0,e=i.length;t<e;t++){const e=i[t];e.onLoad&&e.onLoad(n)}r.manager.itemEnd(t)}else{for(let t=0,n=i.length;t<n;t++){const n=i[t];n.onError&&n.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}}),!1),a.addEventListener("progress",(function(e){const n=oM[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onProgress&&i.onProgress(e)}}),!1),a.addEventListener("error",(function(e){const n=oM[t];delete oM[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),a.addEventListener("abort",(function(e){const n=oM[t];delete oM[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.overrideMimeType&&a.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const t in this.requestHeader)a.setRequestHeader(t,this.requestHeader[t]);a.send(null)}return r.manager.itemStart(t),a},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}}),aM.prototype=Object.assign(Object.create(rM.prototype),{constructor:aM,load:function(t,e,n,i){const r=this,o=new sM(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(e){i?i(e):console.error(e),r.manager.itemError(t)}}),n,i)},parse:function(t){const e=[];for(let n=0;n<t.length;n++){const i=tM.parse(t[n]);e.push(i)}return e}}),gM.prototype=Object.assign(Object.create(rM.prototype),{constructor:gM,load:function(t,e,n,i){const r=this,o=[],s=new US;s.image=o;const a=new sM(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(r.withCredentials);let g=0;function A(A){a.load(t[A],(function(t){const n=r.parse(t,!0);o[A]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},g+=1,6===g&&(1===n.mipmapCount&&(s.minFilter=vv),s.format=n.format,s.needsUpdate=!0,e&&e(s))}),n,i)}if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)A(e);else a.load(t,(function(t){const n=r.parse(t,!0);if(n.isCubemap){const t=n.mipmaps.length/n.mipmapCount;for(let e=0;e<t;e++){o[e]={mipmaps:[]};for(let t=0;t<n.mipmapCount;t++)o[e].mipmaps.push(n.mipmaps[e*n.mipmapCount+t]),o[e].format=n.format,o[e].width=n.width,o[e].height=n.height}}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=vv),s.format=n.format,s.needsUpdate=!0,e&&e(s)}),n,i);return s}}),AM.prototype=Object.assign(Object.create(rM.prototype),{constructor:AM,load:function(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=nM.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;const s=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){s.removeEventListener("load",a,!1),s.removeEventListener("error",g,!1),nM.add(t,this),e&&e(this),r.manager.itemEnd(t)}function g(e){s.removeEventListener("load",a,!1),s.removeEventListener("error",g,!1),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}return s.addEventListener("load",a,!1),s.addEventListener("error",g,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(t),s.src=t,s}}),CM.prototype=Object.assign(Object.create(rM.prototype),{constructor:CM,load:function(t,e,n,i){const r=new T_,o=new AM(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function a(n){o.load(t[n],(function(t){r.images[n]=t,s++,6===s&&(r.needsUpdate=!0,e&&e(r))}),void 0,i)}for(let e=0;e<t.length;++e)a(e);return r}}),IM.prototype=Object.assign(Object.create(rM.prototype),{constructor:IM,load:function(t,e,n,i){const r=this,o=new O_,s=new sM(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(r.withCredentials),s.load(t,(function(t){const n=r.parse(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:fv,o.wrapT=void 0!==n.wrapT?n.wrapT:fv,o.magFilter=void 0!==n.magFilter?n.magFilter:vv,o.minFilter=void 0!==n.minFilter?n.minFilter:vv,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=yv),1===n.mipmapCount&&(o.minFilter=vv),o.needsUpdate=!0,e&&e(o,n))}),n,i),o}}),cM.prototype=Object.assign(Object.create(rM.prototype),{constructor:cM,load:function(t,e,n,i){const r=new qv,o=new AM(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(n){r.image=n;const i=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?Ev:Mv,r.needsUpdate=!0,void 0!==e&&e(r)}),n,i),r}}),Object.assign(lM.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){const t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,i=this.getPoint(0),r=0;e.push(0);for(let o=1;o<=t;o++)n=this.getPoint(o/t),r+=n.distanceTo(i),e.push(r),i=n;return this.cacheArcLengths=e,e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){const n=this.getLengths();let i=0;const r=n.length;let o;o=e||t*n[r-1];let s,a=0,g=r-1;for(;a<=g;)if(i=Math.floor(a+(g-a)/2),s=n[i]-o,s<0)a=i+1;else{if(!(s>0)){g=i;break}g=i-1}if(i=g,n[i]===o)return i/(r-1);const A=n[i];return(i+(o-A)/(n[i+1]-A))/(r-1)},getTangent:function(t,e){const n=1e-4;let i=t-n,r=t+n;i<0&&(i=0),r>1&&(r=1);const o=this.getPoint(i),s=this.getPoint(r),a=e||(o.isVector2?new Zv:new iy);return a.copy(s).sub(o).normalize(),a},getTangentAt:function(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)},computeFrenetFrames:function(t,e){const n=new iy,i=[],r=[],o=[],s=new iy,a=new Oy;for(let e=0;e<=t;e++){const n=e/t;i[e]=this.getTangentAt(n,new iy),i[e].normalize()}r[0]=new iy,o[0]=new iy;let g=Number.MAX_VALUE;const A=Math.abs(i[0].x),C=Math.abs(i[0].y),I=Math.abs(i[0].z);A<=g&&(g=A,n.set(1,0,0)),C<=g&&(g=C,n.set(0,1,0)),I<=g&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],s),o[0].crossVectors(i[0],r[0]);for(let e=1;e<=t;e++){if(r[e]=r[e-1].clone(),o[e]=o[e-1].clone(),s.crossVectors(i[e-1],i[e]),s.length()>Number.EPSILON){s.normalize();const t=Math.acos(Vv.clamp(i[e-1].dot(i[e]),-1,1));r[e].applyMatrix4(a.makeRotationAxis(s,t))}o[e].crossVectors(i[e],r[e])}if(!0===e){let e=Math.acos(Vv.clamp(r[0].dot(r[t]),-1,1));e/=t,i[0].dot(s.crossVectors(r[0],r[t]))>0&&(e=-e);for(let n=1;n<=t;n++)r[n].applyMatrix4(a.makeRotationAxis(i[n],e*n)),o[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:o}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),uM.prototype=Object.create(lM.prototype),uM.prototype.constructor=uM,uM.prototype.isEllipseCurve=!0,uM.prototype.getPoint=function(t,e){const n=e||new Zv,i=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=o?0:i),!0!==this.aClockwise||o||(r===i?r=-i:r-=i);const s=this.aStartAngle+t*r;let a=this.aX+this.xRadius*Math.cos(s),g=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),n=a-this.aX,i=g-this.aY;a=n*t-i*e+this.aX,g=n*e+i*t+this.aY}return n.set(a,g)},uM.prototype.copy=function(t){return lM.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},uM.prototype.toJSON=function(){const t=lM.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},uM.prototype.fromJSON=function(t){return lM.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},hM.prototype=Object.create(uM.prototype),hM.prototype.constructor=hM,hM.prototype.isArcCurve=!0;const fM=new iy,pM=new dM,mM=new dM,vM=new dM;function yM(t=[],e=!1,n="centripetal",i=.5){lM.call(this),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=i}function bM(t,e,n,i,r){const o=.5*(i-e),s=.5*(r-n),a=t*t;return(2*n-2*i+o+s)*(t*a)+(-3*n+3*i-2*o-s)*a+o*t+n}function _M(t,e,n,i){return function(t,e){const n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,i)}function wM(t,e,n,i,r){return function(t,e){const n=1-t;return n*n*n*e}(t,e)+function(t,e){const n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,r)}function xM(t=new Zv,e=new Zv,n=new Zv,i=new Zv){lM.call(this),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=i}function SM(t=new iy,e=new iy,n=new iy,i=new iy){lM.call(this),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=i}function EM(t=new Zv,e=new Zv){lM.call(this),this.type="LineCurve",this.v1=t,this.v2=e}function MM(t=new iy,e=new iy){lM.call(this),this.type="LineCurve3",this.v1=t,this.v2=e}function TM(t=new Zv,e=new Zv,n=new Zv){lM.call(this),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}function RM(t=new iy,e=new iy,n=new iy){lM.call(this),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}function OM(t=[]){lM.call(this),this.type="SplineCurve",this.points=t}yM.prototype=Object.create(lM.prototype),yM.prototype.constructor=yM,yM.prototype.isCatmullRomCurve3=!0,yM.prototype.getPoint=function(t,e=new iy){const n=e,i=this.points,r=i.length,o=(r-(this.closed?0:1))*t;let s,a,g=Math.floor(o),A=o-g;this.closed?g+=g>0?0:(Math.floor(Math.abs(g)/r)+1)*r:0===A&&g===r-1&&(g=r-2,A=1),this.closed||g>0?s=i[(g-1)%r]:(fM.subVectors(i[0],i[1]).add(i[0]),s=fM);const C=i[g%r],I=i[(g+1)%r];if(this.closed||g+2<r?a=i[(g+2)%r]:(fM.subVectors(i[r-1],i[r-2]).add(i[r-1]),a=fM),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(s.distanceToSquared(C),t),n=Math.pow(C.distanceToSquared(I),t),i=Math.pow(I.distanceToSquared(a),t);n<1e-4&&(n=1),e<1e-4&&(e=n),i<1e-4&&(i=n),pM.initNonuniformCatmullRom(s.x,C.x,I.x,a.x,e,n,i),mM.initNonuniformCatmullRom(s.y,C.y,I.y,a.y,e,n,i),vM.initNonuniformCatmullRom(s.z,C.z,I.z,a.z,e,n,i)}else"catmullrom"===this.curveType&&(pM.initCatmullRom(s.x,C.x,I.x,a.x,this.tension),mM.initCatmullRom(s.y,C.y,I.y,a.y,this.tension),vM.initCatmullRom(s.z,C.z,I.z,a.z,this.tension));return n.set(pM.calc(A),mM.calc(A),vM.calc(A)),n},yM.prototype.copy=function(t){lM.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},yM.prototype.toJSON=function(){const t=lM.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},yM.prototype.fromJSON=function(t){lM.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new iy).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},xM.prototype=Object.create(lM.prototype),xM.prototype.constructor=xM,xM.prototype.isCubicBezierCurve=!0,xM.prototype.getPoint=function(t,e=new Zv){const n=e,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(wM(t,i.x,r.x,o.x,s.x),wM(t,i.y,r.y,o.y,s.y)),n},xM.prototype.copy=function(t){return lM.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},xM.prototype.toJSON=function(){const t=lM.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},xM.prototype.fromJSON=function(t){return lM.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},SM.prototype=Object.create(lM.prototype),SM.prototype.constructor=SM,SM.prototype.isCubicBezierCurve3=!0,SM.prototype.getPoint=function(t,e=new iy){const n=e,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(wM(t,i.x,r.x,o.x,s.x),wM(t,i.y,r.y,o.y,s.y),wM(t,i.z,r.z,o.z,s.z)),n},SM.prototype.copy=function(t){return lM.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},SM.prototype.toJSON=function(){const t=lM.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},SM.prototype.fromJSON=function(t){return lM.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},EM.prototype=Object.create(lM.prototype),EM.prototype.constructor=EM,EM.prototype.isLineCurve=!0,EM.prototype.getPoint=function(t,e=new Zv){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},EM.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},EM.prototype.getTangent=function(t,e){const n=e||new Zv;return n.copy(this.v2).sub(this.v1).normalize(),n},EM.prototype.copy=function(t){return lM.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},EM.prototype.toJSON=function(){const t=lM.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},EM.prototype.fromJSON=function(t){return lM.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},MM.prototype=Object.create(lM.prototype),MM.prototype.constructor=MM,MM.prototype.isLineCurve3=!0,MM.prototype.getPoint=function(t,e=new iy){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},MM.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},MM.prototype.copy=function(t){return lM.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},MM.prototype.toJSON=function(){const t=lM.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},MM.prototype.fromJSON=function(t){return lM.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},TM.prototype=Object.create(lM.prototype),TM.prototype.constructor=TM,TM.prototype.isQuadraticBezierCurve=!0,TM.prototype.getPoint=function(t,e=new Zv){const n=e,i=this.v0,r=this.v1,o=this.v2;return n.set(_M(t,i.x,r.x,o.x),_M(t,i.y,r.y,o.y)),n},TM.prototype.copy=function(t){return lM.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},TM.prototype.toJSON=function(){const t=lM.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},TM.prototype.fromJSON=function(t){return lM.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},RM.prototype=Object.create(lM.prototype),RM.prototype.constructor=RM,RM.prototype.isQuadraticBezierCurve3=!0,RM.prototype.getPoint=function(t,e=new iy){const n=e,i=this.v0,r=this.v1,o=this.v2;return n.set(_M(t,i.x,r.x,o.x),_M(t,i.y,r.y,o.y),_M(t,i.z,r.z,o.z)),n},RM.prototype.copy=function(t){return lM.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},RM.prototype.toJSON=function(){const t=lM.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},RM.prototype.fromJSON=function(t){return lM.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},OM.prototype=Object.create(lM.prototype),OM.prototype.constructor=OM,OM.prototype.isSplineCurve=!0,OM.prototype.getPoint=function(t,e=new Zv){const n=e,i=this.points,r=(i.length-1)*t,o=Math.floor(r),s=r-o,a=i[0===o?o:o-1],g=i[o],A=i[o>i.length-2?i.length-1:o+1],C=i[o>i.length-3?i.length-1:o+2];return n.set(bM(s,a.x,g.x,A.x,C.x),bM(s,a.y,g.y,A.y,C.y)),n},OM.prototype.copy=function(t){lM.prototype.copy.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this},OM.prototype.toJSON=function(){const t=lM.prototype.toJSON.call(this);t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t},OM.prototype.fromJSON=function(t){lM.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new Zv).fromArray(n))}return this};var LM=Object.freeze({__proto__:null,ArcCurve:hM,CatmullRomCurve3:yM,CubicBezierCurve:xM,CubicBezierCurve3:SM,EllipseCurve:uM,LineCurve:EM,LineCurve3:MM,QuadraticBezierCurve:TM,QuadraticBezierCurve3:RM,SplineCurve:OM});function kM(){lM.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function DM(t){kM.call(this),this.type="Path",this.currentPoint=new Zv,t&&this.setFromPoints(t)}function NM(t){DM.call(this,t),this.uuid=Vv.generateUUID(),this.type="Shape",this.holes=[]}function PM(t,e=1){nb.call(this),this.type="Light",this.color=new wb(t),this.intensity=e}function jM(t,e,n){PM.call(this,t,n),this.type="HemisphereLight",this.position.copy(nb.DefaultUp),this.updateMatrix(),this.groundColor=new wb(e)}function FM(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Zv(512,512),this.map=null,this.mapPass=null,this.matrix=new Oy,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new D_,this._frameExtents=new Zv(1,1),this._viewportCount=1,this._viewports=[new $v(0,0,1,1)]}function zM(){FM.call(this,new S_(50,1,.5,500)),this.focus=1}function BM(t,e,n,i,r,o){PM.call(this,t,e),this.type="SpotLight",this.position.copy(nb.DefaultUp),this.updateMatrix(),this.target=new nb,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==o?o:1,this.shadow=new zM}function UM(){FM.call(this,new S_(90,1,.5,500)),this._frameExtents=new Zv(4,2),this._viewportCount=6,this._viewports=[new $v(2,1,1,1),new $v(0,1,1,1),new $v(3,1,1,1),new $v(1,1,1,1),new $v(3,0,1,1),new $v(1,0,1,1)],this._cubeDirections=[new iy(1,0,0),new iy(-1,0,0),new iy(0,0,1),new iy(0,0,-1),new iy(0,1,0),new iy(0,-1,0)],this._cubeUps=[new iy(0,1,0),new iy(0,1,0),new iy(0,1,0),new iy(0,1,0),new iy(0,0,1),new iy(0,0,-1)]}function HM(t,e,n,i){PM.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new UM}function GM(t,e,n,i,r,o){x_.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==n?n:1,this.bottom=void 0!==i?i:-1,this.near=void 0!==r?r:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function WM(){FM.call(this,new GM(-5,5,5,-5,.5,500))}function VM(t,e){PM.call(this,t,e),this.type="DirectionalLight",this.position.copy(nb.DefaultUp),this.updateMatrix(),this.target=new nb,this.shadow=new WM}function ZM(t,e){PM.call(this,t,e),this.type="AmbientLight"}function YM(t,e,n,i){PM.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}kM.prototype=Object.assign(Object.create(lM.prototype),{constructor:kM,add:function(t){this.curves.push(t)},closePath:function(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new EM(e,t))},getPoint:function(t){const e=t*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=e){const t=n[i]-e,r=this.curves[i],o=r.getLength(),s=0===o?0:1-t/o;return r.getPointAt(s)}i++}return null},getLength:function(){const t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t=12){const e=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const o=r[i],s=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,a=o.getPoints(s);for(let t=0;t<a.length;t++){const i=a[t];n&&n.equals(i)||(e.push(i),n=i)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},copy:function(t){lM.prototype.copy.call(this,t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){const t=lM.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++){const n=this.curves[e];t.curves.push(n.toJSON())}return t},fromJSON:function(t){lM.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push((new LM[n.type]).fromJSON(n))}return this}}),DM.prototype=Object.assign(Object.create(kM.prototype),{constructor:DM,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){const n=new EM(this.currentPoint.clone(),new Zv(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,n,i){const r=new TM(this.currentPoint.clone(),new Zv(t,e),new Zv(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(t,e,n,i,r,o){const s=new xM(this.currentPoint.clone(),new Zv(t,e),new Zv(n,i),new Zv(r,o));return this.curves.push(s),this.currentPoint.set(r,o),this},splineThru:function(t){const e=new OM([this.currentPoint.clone()].concat(t));return this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,n,i,r,o){const s=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(t+s,e+a,n,i,r,o),this},absarc:function(t,e,n,i,r,o){return this.absellipse(t,e,n,n,i,r,o),this},ellipse:function(t,e,n,i,r,o,s,a){const g=this.currentPoint.x,A=this.currentPoint.y;return this.absellipse(t+g,e+A,n,i,r,o,s,a),this},absellipse:function(t,e,n,i,r,o,s,a){const g=new uM(t,e,n,i,r,o,s,a);if(this.curves.length>0){const t=g.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(g);const A=g.getPoint(1);return this.currentPoint.copy(A),this},copy:function(t){return kM.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){const t=kM.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return kM.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),NM.prototype=Object.assign(Object.create(DM.prototype),{constructor:NM,getPointsHoles:function(t){const e=[];for(let n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){DM.prototype.copy.call(this,t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push(n.clone())}return this},toJSON:function(){const t=DM.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++){const n=this.holes[e];t.holes.push(n.toJSON())}return t},fromJSON:function(t){DM.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push((new DM).fromJSON(n))}return this}}),PM.prototype=Object.assign(Object.create(nb.prototype),{constructor:PM,isLight:!0,copy:function(t){return nb.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){const e=nb.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),jM.prototype=Object.assign(Object.create(PM.prototype),{constructor:jM,isHemisphereLight:!0,copy:function(t){return PM.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(FM.prototype,{_projScreenMatrix:new Oy,_lightPositionWorld:new iy,_lookTarget:new iy,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){const e=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(t.matrixWorld),e.position.copy(o),r.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(r),e.updateMatrixWorld(),i.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),zM.prototype=Object.assign(Object.create(FM.prototype),{constructor:zM,isSpotLightShadow:!0,updateMatrices:function(t){const e=this.camera,n=2*Vv.RAD2DEG*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix()),FM.prototype.updateMatrices.call(this,t)}}),BM.prototype=Object.assign(Object.create(PM.prototype),{constructor:BM,isSpotLight:!0,copy:function(t){return PM.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),UM.prototype=Object.assign(Object.create(FM.prototype),{constructor:UM,isPointLightShadow:!0,updateMatrices:function(t,e=0){const n=this.camera,i=this.matrix,r=this._lightPositionWorld,o=this._lookTarget,s=this._projScreenMatrix;r.setFromMatrixPosition(t.matrixWorld),n.position.copy(r),o.copy(n.position),o.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(o),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),s.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(s)}}),HM.prototype=Object.assign(Object.create(PM.prototype),{constructor:HM,isPointLight:!0,copy:function(t){return PM.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),GM.prototype=Object.assign(Object.create(x_.prototype),{constructor:GM,isOrthographicCamera:!0,copy:function(t,e){return x_.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-t,o=n+t,s=i+e,a=i-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=t*this.view.offsetX,o=r+t*this.view.width,s-=e*this.view.offsetY,a=s-e*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=nb.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),WM.prototype=Object.assign(Object.create(FM.prototype),{constructor:WM,isDirectionalLightShadow:!0,updateMatrices:function(t){FM.prototype.updateMatrices.call(this,t)}}),VM.prototype=Object.assign(Object.create(PM.prototype),{constructor:VM,isDirectionalLight:!0,copy:function(t){return PM.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),ZM.prototype=Object.assign(Object.create(PM.prototype),{constructor:ZM,isAmbientLight:!0}),YM.prototype=Object.assign(Object.create(PM.prototype),{constructor:YM,isRectAreaLight:!0,copy:function(t){return PM.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){const e=PM.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});class XM{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new iy)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const n=t.x,i=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*i),e.addScaledVector(o[2],.488603*r),e.addScaledVector(o[3],.488603*n),e.addScaledVector(o[4],n*i*1.092548),e.addScaledVector(o[5],i*r*1.092548),e.addScaledVector(o[6],.315392*(3*r*r-1)),e.addScaledVector(o[7],n*r*1.092548),e.addScaledVector(o[8],.546274*(n*n-i*i)),e}getIrradianceAt(t,e){const n=t.x,i=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],1.023328*i),e.addScaledVector(o[2],1.023328*r),e.addScaledVector(o[3],1.023328*n),e.addScaledVector(o[4],.858086*n*i),e.addScaledVector(o[5],.858086*i*r),e.addScaledVector(o[6],.743125*r*r-.247708),e.addScaledVector(o[7],.858086*n*r),e.addScaledVector(o[8],.429043*(n*n-i*i)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this}toArray(t=[],e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}static getBasisAt(t,e){const n=t.x,i=t.y,r=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-i*i)}}function JM(t,e){PM.call(this,void 0,e),this.type="LightProbe",this.sh=void 0!==t?t:new XM}function KM(t){rM.call(this,t),this.textures={}}JM.prototype=Object.assign(Object.create(PM.prototype),{constructor:JM,isLightProbe:!0,copy:function(t){return PM.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){const e=PM.prototype.toJSON.call(this,t);return e.object.sh=this.sh.toArray(),e}}),KM.prototype=Object.assign(Object.create(rM.prototype),{constructor:KM,load:function(t,e,n,i){const r=this,o=new sM(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(e){i?i(e):console.error(e),r.manager.itemError(t)}}),n,i)},parse:function(t){const e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}const i=new BE[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&void 0!==i.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.sheen&&(i.sheen=(new wb).setHex(t.sheen)),void 0!==t.emissive&&void 0!==i.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==i.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearcoat&&(i.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(i.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.combine&&(i.combine=t.combine),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(i.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(i.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(i.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(i.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(i.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(i.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(i.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(i.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),1!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(i.morphNormals=t.morphNormals),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.vertexTangents&&(i.vertexTangents=t.vertexTangents),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.toneMapped&&(i.toneMapped=t.toneMapped),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.vertexColors&&("number"==typeof t.vertexColors?i.vertexColors=t.vertexColors>0:i.vertexColors=t.vertexColors),void 0!==t.uniforms)for(const e in t.uniforms){const r=t.uniforms[e];switch(i.uniforms[e]={},r.type){case"t":i.uniforms[e].value=n(r.value);break;case"c":i.uniforms[e].value=(new wb).setHex(r.value);break;case"v2":i.uniforms[e].value=(new Zv).fromArray(r.value);break;case"v3":i.uniforms[e].value=(new iy).fromArray(r.value);break;case"v4":i.uniforms[e].value=(new $v).fromArray(r.value);break;case"m3":i.uniforms[e].value=(new Yv).fromArray(r.value);break;case"m4":i.uniforms[e].value=(new Oy).fromArray(r.value);break;default:i.uniforms[e].value=r.value}}if(void 0!==t.defines&&(i.defines=t.defines),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(const e in t.extensions)i.extensions[e]=t.extensions[e];if(void 0!==t.shading&&(i.flatShading=1===t.shading),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=n(t.map)),void 0!==t.matcap&&(i.matcap=n(t.matcap)),void 0!==t.alphaMap&&(i.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(i.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),i.normalScale=(new Zv).fromArray(e)}return void 0!==t.displacementMap&&(i.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=n(t.specularMap)),void 0!==t.envMap&&(i.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(i.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(i.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(i.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(i.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(i.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(i.clearcoatNormalScale=(new Zv).fromArray(t.clearcoatNormalScale)),void 0!==t.transmission&&(i.transmission=t.transmission),void 0!==t.transmissionMap&&(i.transmissionMap=n(t.transmissionMap)),i},setTextures:function(t){return this.textures=t,this}});function qM(){$b.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function QM(t,e,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Ob.call(this,t,e,n),this.meshPerAttribute=i||1}function $M(t){rM.call(this,t)}function tT(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),rM.call(this,t),this.options={premultiplyAlpha:"none"}}function eT(){this.type="ShapePath",this.color=new wb,this.subPaths=[],this.currentPath=null}function nT(t){this.type="Font",this.data=t}function iT(t,e,n,i,r){const o=r.glyphs[t]||r.glyphs["?"];if(!o)return void console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".");const s=new eT;let a,g,A,C,I,c,l,u;if(o.o){const t=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let r=0,o=t.length;r<o;)switch(t[r++]){case"m":a=t[r++]*e+n,g=t[r++]*e+i,s.moveTo(a,g);break;case"l":a=t[r++]*e+n,g=t[r++]*e+i,s.lineTo(a,g);break;case"q":A=t[r++]*e+n,C=t[r++]*e+i,I=t[r++]*e+n,c=t[r++]*e+i,s.quadraticCurveTo(I,c,A,C);break;case"b":A=t[r++]*e+n,C=t[r++]*e+i,I=t[r++]*e+n,c=t[r++]*e+i,l=t[r++]*e+n,u=t[r++]*e+i,s.bezierCurveTo(I,c,l,u,A,C)}}return{offsetX:o.ha*e,path:s}}function rT(t){rM.call(this,t)}let oT;qM.prototype=Object.assign(Object.create($b.prototype),{constructor:qM,isInstancedBufferGeometry:!0,copy:function(t){return $b.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t=$b.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),QM.prototype=Object.assign(Object.create(Ob.prototype),{constructor:QM,isInstancedBufferAttribute:!0,copy:function(t){return Ob.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){const t=Ob.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),$M.prototype=Object.assign(Object.create(rM.prototype),{constructor:$M,load:function(t,e,n,i){const r=this,o=new sM(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(e){i?i(e):console.error(e),r.manager.itemError(t)}}),n,i)},parse:function(t){const e={},n={};function i(t,i){if(void 0!==e[i])return e[i];const r=t.interleavedBuffers[i],o=function(t,e){if(void 0!==n[e])return n[e];const i=t.arrayBuffers[e],r=new Uint32Array(i).buffer;return n[e]=r,r}(t,r.buffer),s=new Wx(Vb(r.type,o),r.stride);return s.uuid=r.uuid,e[i]=s,s}const r=t.isInstancedBufferGeometry?new qM:new $b,o=t.data.index;if(void 0!==o){const t=Vb(o.type,o.array);r.setIndex(new Ob(t,1))}const s=t.data.attributes;for(const e in s){const n=s[e];let o;if(n.isInterleavedBufferAttribute)o=new Zx(i(t.data,n.data),n.itemSize,n.offset,n.normalized);else{const t=Vb(n.type,n.array);o=new(n.isInstancedBufferAttribute?QM:Ob)(t,n.itemSize,n.normalized)}void 0!==n.name&&(o.name=n.name),r.setAttribute(e,o)}const a=t.data.morphAttributes;if(a)for(const e in a){const n=a[e],o=[];for(let e=0,r=n.length;e<r;e++){const r=n[e];let s;s=r.isInterleavedBufferAttribute?new Zx(i(t.data,r.data),r.itemSize,r.offset,r.normalized):new Ob(Vb(r.type,r.array),r.itemSize,r.normalized),void 0!==r.name&&(s.name=r.name),o.push(s)}r.morphAttributes[e]=o}t.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const g=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==g)for(let t=0,e=g.length;t!==e;++t){const e=g[t];r.addGroup(e.start,e.count,e.materialIndex)}const A=t.data.boundingSphere;if(void 0!==A){const t=new iy;void 0!==A.center&&t.fromArray(A.center),r.boundingSphere=new by(t,A.radius)}return t.name&&(r.name=t.name),t.userData&&(r.userData=t.userData),r}}),tT.prototype=Object.assign(Object.create(rM.prototype),{constructor:tT,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=nM.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;const s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(t,s).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,r.options)})).then((function(n){nM.add(t,n),e&&e(n),r.manager.itemEnd(t)})).catch((function(e){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)})),r.manager.itemStart(t)}}),Object.assign(eT.prototype,{moveTo:function(t,e){return this.currentPath=new DM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,n,i){return this.currentPath.quadraticCurveTo(t,e,n,i),this},bezierCurveTo:function(t,e,n,i,r,o){return this.currentPath.bezierCurveTo(t,e,n,i,r,o),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function n(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n],r=new NM;r.curves=i.curves,e.push(r)}return e}function i(t,e){const n=e.length;let i=!1;for(let r=n-1,o=0;o<n;r=o++){let n=e[r],s=e[o],a=s.x-n.x,g=s.y-n.y;if(Math.abs(g)>Number.EPSILON){if(g<0&&(n=e[o],a=-a,s=e[r],g=-g),t.y<n.y||t.y>s.y)continue;if(t.y===n.y){if(t.x===n.x)return!0}else{const e=g*(t.x-n.x)-a*(t.y-n.y);if(0===e)return!0;if(e<0)continue;i=!i}}else{if(t.y!==n.y)continue;if(s.x<=t.x&&t.x<=n.x||n.x<=t.x&&t.x<=s.x)return!0}}return i}const r=vE.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return n(o);let s,a,g;const A=[];if(1===o.length)return a=o[0],g=new NM,g.curves=a.curves,A.push(g),A;let C=!r(o[0].getPoints());C=t?!C:C;const I=[],c=[];let l,u,h=[],d=0;c[d]=void 0,h[d]=[];for(let e=0,n=o.length;e<n;e++)a=o[e],l=a.getPoints(),s=r(l),s=t?!s:s,s?(!C&&c[d]&&d++,c[d]={s:new NM,p:l},c[d].s.curves=a.curves,C&&d++,h[d]=[]):h[d].push({h:a,p:l[0]});if(!c[0])return n(o);if(c.length>1){let t=!1;const e=[];for(let t=0,e=c.length;t<e;t++)I[t]=[];for(let n=0,r=c.length;n<r;n++){const r=h[n];for(let o=0;o<r.length;o++){const s=r[o];let a=!0;for(let r=0;r<c.length;r++)i(s.p,c[r].p)&&(n!==r&&e.push({froms:n,tos:r,hole:o}),a?(a=!1,I[r].push(s)):t=!0);a&&I[n].push(s)}}e.length>0&&(t||(h=I))}for(let t=0,e=c.length;t<e;t++){g=c[t].s,A.push(g),u=h[t];for(let t=0,e=u.length;t<e;t++)g.holes.push(u[t].h)}return A}}),Object.assign(nT.prototype,{isFont:!0,generateShapes:function(t,e=100){const n=[],i=function(t,e,n){const i=Array.from?Array.from(t):String(t).split(""),r=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,s=[];let a=0,g=0;for(let t=0;t<i.length;t++){const e=i[t];if("\n"===e)a=0,g-=o;else{const t=iT(e,r,a,g,n);a+=t.offsetX,s.push(t.path)}}return s}(t,e,this.data);for(let t=0,e=i.length;t<e;t++)Array.prototype.push.apply(n,i[t].toShapes());return n}}),rT.prototype=Object.assign(Object.create(rM.prototype),{constructor:rT,load:function(t,e,n,i){const r=this,o=new sM(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(t){let n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}const i=r.parse(n);e&&e(i)}),n,i)},parse:function(t){return new nT(t)}});function sT(t){rM.call(this,t)}function aT(t,e,n){JM.call(this,void 0,n);const i=(new wb).set(t),r=(new wb).set(e),o=new iy(i.r,i.g,i.b),s=new iy(r.r,r.g,r.b),a=Math.sqrt(Math.PI),g=a*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(s).multiplyScalar(a),this.sh.coefficients[1].copy(o).sub(s).multiplyScalar(g)}function gT(t,e){JM.call(this,void 0,e);const n=(new wb).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}sT.prototype=Object.assign(Object.create(rM.prototype),{constructor:sT,load:function(t,e,n,i){const r=this,o=new sM(r.manager);o.setResponseType("arraybuffer"),o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{const t=n.slice(0);(void 0===oT&&(oT=new(window.AudioContext||window.webkitAudioContext)),oT).decodeAudioData(t,(function(t){e(t)}))}catch(e){i?i(e):console.error(e),r.manager.itemError(t)}}),n,i)}}),aT.prototype=Object.assign(Object.create(JM.prototype),{constructor:aT,isHemisphereLightProbe:!0,copy:function(t){return JM.prototype.copy.call(this,t),this},toJSON:function(t){return JM.prototype.toJSON.call(this,t)}}),gT.prototype=Object.assign(Object.create(JM.prototype),{constructor:gT,isAmbientLightProbe:!0,copy:function(t){return JM.prototype.copy.call(this,t),this},toJSON:function(t){return JM.prototype.toJSON.call(this,t)}});const AT=new Oy,CT=new Oy;Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new S_,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new S_,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}.prototype,{update:function(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;const n=t.projectionMatrix.clone(),i=e.eyeSep/2,r=i*e.near/e.focus,o=e.near*Math.tan(Vv.DEG2RAD*e.fov*.5)/e.zoom;let s,a;CT.elements[12]=-i,AT.elements[12]=i,s=-o*e.aspect+r,a=o*e.aspect+r,n.elements[0]=2*e.near/(a-s),n.elements[8]=(a+s)/(a-s),this.cameraL.projectionMatrix.copy(n),s=-o*e.aspect-r,a=o*e.aspect-r,n.elements[0]=2*e.near/(a-s),n.elements[8]=(a+s)/(a-s),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(CT),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(AT)}});function IT(t,e,n){let i,r,o;switch(this.binding=t,this.valueSize=n,e){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(IT.prototype,{accumulate:function(t,e){const n=this.buffer,i=this.valueSize,r=t*i+i;let o=this.cumulativeWeight;if(0===o){for(let t=0;t!==i;++t)n[r+t]=n[t];o=e}else{o+=e;const t=e/o;this._mixBufferRegion(n,r,0,t,i)}this.cumulativeWeight=o},accumulateAdditive:function(t){const e=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,i,0,t,n),this.cumulativeWeightAdditive+=t},apply:function(t){const e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const t=e*this._origIndex;this._mixBufferRegion(n,i,t,1-r,e)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*e,1,e);for(let t=e,r=e+e;t!==r;++t)if(n[t]!==n[t+e]){s.setValue(n,i);break}},saveOriginalState:function(){const t=this.binding,e=this.buffer,n=this.valueSize,i=n*this._origIndex;t.getValue(e,i);for(let t=n,r=i;t!==r;++t)e[t]=e[i+t%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_setAdditiveIdentityNumeric:function(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]},_select:function(t,e,n,i,r){if(i>=.5)for(let i=0;i!==r;++i)t[e+i]=t[n+i]},_slerp:function(t,e,n,i){ny.slerpFlat(t,e,t,e,t,n,i)},_slerpAdditive:function(t,e,n,i,r){const o=this._workIndex*r;ny.multiplyQuaternionsFlat(t,o,t,e,t,n),ny.slerpFlat(t,e,t,e,t,o,i)},_lerp:function(t,e,n,i,r){const o=1-i;for(let s=0;s!==r;++s){const r=e+s;t[r]=t[r]*o+t[n+s]*i}},_lerpAdditive:function(t,e,n,i,r){for(let o=0;o!==r;++o){const r=e+o;t[r]=t[r]+t[n+o]*i}}});const cT=new RegExp("[\\[\\]\\.:\\/]","g"),lT="[^\\[\\]\\.:\\/]",uT="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",hT=/((?:WC+[\/:])*)/.source.replace("WC",lT),dT=/(WCOD+)?/.source.replace("WCOD",uT),fT=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",lT),pT=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",lT),mT=new RegExp("^"+hT+dT+fT+pT+"$"),vT=["material","materials","bones"];function yT(t,e,n){const i=n||bT.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}function bT(t,e,n){this.path=e,this.parsedPath=n||bT.parseTrackName(e),this.node=bT.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}Object.assign(yT.prototype,{getValue:function(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(t,e)},setValue:function(t,e){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(bT,{Composite:yT,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new bT.Composite(t,e,n):new bT(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(cT,"")},parseTrackName:function(t){const e=mT.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const t=n.nodeName.substring(i+1);-1!==vT.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let i=0;i<t.length;i++){const r=t[i];if(r.name===e||r.uuid===e)return r;const o=n(r.children);if(o)return o}return null},i=n(t.children);if(i)return i}return null}}),Object.assign(bT.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){let t=this.node;const e=this.parsedPath,n=e.objectName,i=e.propertyName;let r=e.propertyIndex;if(t||(t=bT.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let i=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===i){i=e;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==i){if(void 0===t[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[i]}}const o=t[i];if(void 0===o){const n=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+i+" but it wasn't found.",t)}let s=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(bT.prototype,{_getValue_unbound:bT.prototype.getValue,_setValue_unbound:bT.prototype.setValue}),Object.assign(function(){this.uuid=Vv.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){const t=this._objects,e=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,o=r.length;let s,a=t.length,g=this.nCachedObjects_;for(let A=0,C=arguments.length;A!==C;++A){const C=arguments[A],I=C.uuid;let c=e[I];if(void 0===c){c=a++,e[I]=c,t.push(C);for(let t=0,e=o;t!==e;++t)r[t].push(new bT(C,n[t],i[t]))}else if(c<g){s=t[c];const a=--g,A=t[a];e[A.uuid]=c,t[c]=A,e[I]=a,t[a]=C;for(let t=0,e=o;t!==e;++t){const e=r[t],o=e[a];let s=e[c];e[c]=o,void 0===s&&(s=new bT(C,n[t],i[t])),e[a]=s}}else t[c]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=g},remove:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o],a=s.uuid,g=e[a];if(void 0!==g&&g>=r){const o=r++,A=t[o];e[A.uuid]=g,t[g]=A,e[a]=o,t[o]=s;for(let t=0,e=i;t!==e;++t){const e=n[t],i=e[o],r=e[g];e[g]=i,e[o]=r}}}this.nCachedObjects_=r},uncache:function(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,o=t.length;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s].uuid,g=e[a];if(void 0!==g)if(delete e[a],g<r){const s=--r,a=t[s],A=--o,C=t[A];e[a.uuid]=g,t[g]=a,e[C.uuid]=s,t[s]=C,t.pop();for(let t=0,e=i;t!==e;++t){const e=n[t],i=e[s],r=e[A];e[g]=i,e[s]=r,e.pop()}}else{const r=--o,s=t[r];r>0&&(e[s.uuid]=g),t[g]=s,t.pop();for(let t=0,e=i;t!==e;++t){const e=n[t];e[g]=e[r],e.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){const n=this._bindingsIndicesByPath;let i=n[t];const r=this._bindings;if(void 0!==i)return r[i];const o=this._paths,s=this._parsedPaths,a=this._objects,g=a.length,A=this.nCachedObjects_,C=new Array(g);i=r.length,n[t]=i,o.push(t),s.push(e),r.push(C);for(let n=A,i=a.length;n!==i;++n){const i=a[n];C[n]=new bT(i,t,e)}return C},unsubscribe_:function(t){const e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){const i=this._paths,r=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s];e[t[s]]=n,o[n]=a,o.pop(),r[n]=r[s],r.pop(),i[n]=i[s],i.pop()}}});class _T{constructor(t,e,n=null,i=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=i;const r=e.tracks,o=r.length,s=new Array(o),a={endingStart:Dv,endingEnd:Dv};for(let t=0;t!==o;++t){const e=r[t].createInterpolant(null);s[t]=e,e.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){const n=this._clip.duration,i=t._clip.duration,r=i/n,o=n/i;t.warp(1,r,e),this.warp(o,1,e)}return this}crossFadeTo(t,e,n){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const i=this._mixer,r=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const a=s.parameterPositions,g=s.sampleValues;return a[0]=r,a[1]=r+n,g[0]=t/o,g[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,i){if(!this.enabled)return void this._updateWeight(t);const r=this._startTime;if(null!==r){const i=(t-r)*n;if(i<0||0===n)return;this._startTime=null,e=n*i}e*=this._updateTimeScale(t);const o=this._updateTime(e),s=this._updateWeight(t);if(s>0){const t=this._interpolants,e=this._propertyBindings;if(2501===this.blendMode)for(let n=0,i=t.length;n!==i;++n)t[n].evaluate(o),e[n].accumulateAdditive(s);else for(let n=0,r=t.length;n!==r;++n)t[n].evaluate(o),e[n].accumulate(i,s)}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(null!==n){const i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let i=this.time+t,r=this._loopCount;const o=2202===n;if(0===t)return-1===r?i:o&&1==(1&r)?e-i:i;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(i>=e)i=e;else{if(!(i<0)){this.time=i;break t}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),i>=e||i<0){const n=Math.floor(i/e);i-=e*n,r+=Math.abs(n);const s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=t>0?e:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){const e=t<0;this._setEndings(e,!e,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(o&&1==(1&r))return e-i}return i}_setEndings(t,e,n){const i=this._interpolantSettings;n?(i.endingStart=Nv,i.endingEnd=Nv):(i.endingStart=t?this.zeroSlopeAtStart?Nv:Dv:Pv,i.endingEnd=e?this.zeroSlopeAtEnd?Nv:Dv:Pv)}_scheduleFading(t,e,n){const i=this._mixer,r=i.time;let o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,a=o.sampleValues;return s[0]=r,a[0]=e,s[1]=r+t,a[1]=n,this}}function wT(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}wT.prototype=Object.assign(Object.create(Hv.prototype),{constructor:wT,_bindAction:function(t,e){const n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,o=t._propertyBindings,s=t._interpolants,a=n.uuid,g=this._bindingsByRootAndName;let A=g[a];void 0===A&&(A={},g[a]=A);for(let t=0;t!==r;++t){const r=i[t],g=r.name;let C=A[g];if(void 0!==C)o[t]=C;else{if(C=o[t],void 0!==C){null===C._cacheIndex&&(++C.referenceCount,this._addInactiveBinding(C,a,g));continue}const i=e&&e._propertyBindings[t].binding.parsedPath;C=new IT(bT.create(n,g,i),r.ValueTypeName,r.getValueSize()),++C.referenceCount,this._addInactiveBinding(C,a,g),o[t]=C}s[t].resultBuffer=C.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){const i=this._actions,r=this._actionsByClip;let o=r[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=o;else{const e=o.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=i.length,i.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){const e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,o=this._actionsByClip,s=o[r],a=s.knownActions,g=a[a.length-1],A=t._byClipCacheIndex;g._byClipCacheIndex=A,a[A]=g,a.pop(),t._byClipCacheIndex=null,delete s.actionByRoot[(t._localRoot||this._root).uuid],0===a.length&&delete o[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){const e=t._propertyBindings;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(t){const e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackAction:function(t){const e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_addInactiveBinding:function(t,e,n){const i=this._bindingsByRootAndName,r=this._bindings;let o=i[e];void 0===o&&(o={},i[e]=o),o[n]=t,t._cacheIndex=r.length,r.push(t)},_removeInactiveBinding:function(t){const e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,s=o[i],a=e[e.length-1],g=t._cacheIndex;a._cacheIndex=g,e[g]=a,e.pop(),delete s[r],0===Object.keys(s).length&&delete o[i]},_lendBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackBinding:function(t){const e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_lendControlInterpolant:function(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return void 0===n&&(n=new WE(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){const e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,n){const i=e||this._root,r=i.uuid;let o="string"==typeof t?tM.findByName(i,t):t;const s=null!==o?o.uuid:t,a=this._actionsByClip[s];let g=null;if(void 0===n&&(n=null!==o?o.blendMode:2500),void 0!==a){const t=a.actionByRoot[r];if(void 0!==t&&t.blendMode===n)return t;g=a.knownActions[0],null===o&&(o=g._clip)}if(null===o)return null;const A=new _T(this,o,e,n);return this._bindAction(A,g),this._addInactiveAction(A,s,r),A},existingAction:function(t,e){const n=e||this._root,i=n.uuid,r="string"==typeof t?tM.findByName(n,t):t,o=r?r.uuid:t,s=this._actionsByClip[o];return void 0!==s&&s.actionByRoot[i]||null},stopAllAction:function(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this},update:function(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,i=this.time+=t,r=Math.sign(t),o=this._accuIndex^=1;for(let s=0;s!==n;++s)e[s]._update(i,t,r,o);const s=this._bindings,a=this._nActiveBindings;for(let t=0;t!==a;++t)s[t].apply(o);return this},setTime:function(t){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){const e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){const t=r.knownActions;for(let n=0,i=t.length;n!==i;++n){const i=t[n];this._deactivateAction(i);const r=i._cacheIndex,o=e[e.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,o._cacheIndex=r,e[r]=o,e.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}},uncacheRoot:function(t){const e=t.uuid,n=this._actionsByClip;for(const t in n){const i=n[t].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}const i=this._bindingsByRootAndName[e];if(void 0!==i)for(const t in i){const e=i[t];e.restoreOriginalState(),this._removeInactiveBinding(e)}},uncacheAction:function(t,e){const n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});class xT{constructor(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new xT(void 0===this.value.clone?this.value:this.value.clone())}}function ST(t,e,n){Wx.call(this,t,e),this.meshPerAttribute=n||1}function ET(t,e,n,i,r){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}function MT(t,e,n,i){this.ray=new Ry(t,e),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new Hy,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function TT(t,e){return t.distance-e.distance}function RT(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===i){const i=t.children;for(let t=0,r=i.length;t<r;t++)RT(i[t],e,n,!0)}}ST.prototype=Object.assign(Object.create(Wx.prototype),{constructor:ST,isInstancedInterleavedBuffer:!0,copy:function(t){return Wx.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){const e=Wx.prototype.clone.call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e},toJSON:function(t){const e=Wx.prototype.toJSON.call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}),Object.defineProperty(ET.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(ET.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}}),Object.assign(MT.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,n){const i=n||[];return RT(t,this,i,e),i.sort(TT),i},intersectObjects:function(t,e,n){const i=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let n=0,r=t.length;n<r;n++)RT(t[n],this,i,e);return i.sort(TT),i}});class OT{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}clone(){return(new this.constructor).copy(this)}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(Vv.clamp(e/this.radius,-1,1))),this}}const LT=new Zv;function kT(t){nb.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}kT.prototype=Object.create(nb.prototype),kT.prototype.constructor=kT,kT.prototype.isImmediateRenderObject=!0;const DT=new iy,NT=new Oy,PT=new Oy;function jT(t){const e=[];t&&t.isBone&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,jT(t.children[n]));return e}const FT=new Float32Array(1),zT=(new Int32Array(FT.buffer),Math.pow(2,8),[.125,.215,.35,.446,.526,.582]),BT=5+zT.length,{_lodPlanes:UT,_sizeLods:HT,_sigmas:GT}=WT();function WT(){const t=[],e=[],n=[];let i=8;for(let r=0;r<BT;r++){const o=Math.pow(2,i);e.push(o);let s=1/o;r>4?s=zT[r-8+4-1]:0==r&&(s=0),n.push(s);const a=1/(o-1),g=-a/2,A=1+a/2,C=[g,g,A,g,A,A,g,g,A,A,g,A],I=6,c=6,l=3,u=2,h=1,d=new Float32Array(l*c*I),f=new Float32Array(u*c*I),p=new Float32Array(h*c*I);for(let t=0;t<I;t++){const e=t%3*2/3-1,n=t>2?0:-1,i=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];d.set(i,l*c*t),f.set(C,u*c*t);const r=[t,t,t,t,t,t];p.set(r,h*c*t)}const m=new $b;m.setAttribute("position",new Ob(d,l)),m.setAttribute("uv",new Ob(f,u)),m.setAttribute("faceIndex",new Ob(p,h)),t.push(m),i>4&&i--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}function VT(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),yM.call(this,t),this.type="catmullrom"}Math.sqrt(5),lM.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(lM.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(kM.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const e=new XS;for(let n=0,i=t.length;n<i;n++){const i=t[n];e.vertices.push(new iy(i.x,i.y,i.z||0))}return e}}),Object.assign(DM.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),Object.create(yM.prototype),Object.create(yM.prototype),VT.prototype=Object.create(yM.prototype),Object.assign(VT.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),class extends OS{constructor(t=10,e=10,n=4473924,i=8947848){n=new wb(n),i=new wb(i);const r=e/2,o=t/e,s=t/2,a=[],g=[];for(let t=0,A=0,C=-s;t<=e;t++,C+=o){a.push(-s,0,C,s,0,C),a.push(C,0,-s,C,0,s);const e=t===r?n:i;e.toArray(g,A),A+=3,e.toArray(g,A),A+=3,e.toArray(g,A),A+=3,e.toArray(g,A),A+=3}const A=new $b;A.setAttribute("position",new Bb(a,3)),A.setAttribute("color",new Bb(g,3)),super(A,new bS({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class extends OS{constructor(t){const e=jT(t),n=new $b,i=[],r=[],o=new wb(0,0,1),s=new wb(0,1,0);for(let t=0;t<e.length;t++){const n=e[t];n.parent&&n.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(o.r,o.g,o.b),r.push(s.r,s.g,s.b))}n.setAttribute("position",new Bb(i,3)),n.setAttribute("color",new Bb(r,3)),super(n,new bS({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,n=this.geometry,i=n.getAttribute("position");PT.copy(this.root.matrixWorld).invert();for(let t=0,n=0;t<e.length;t++){const r=e[t];r.parent&&r.parent.isBone&&(NT.multiplyMatrices(PT,r.matrixWorld),DT.setFromMatrixPosition(NT),i.setXYZ(n,DT.x,DT.y,DT.z),NT.multiplyMatrices(PT,r.parent.matrixWorld),DT.setFromMatrixPosition(NT),i.setXYZ(n+1,DT.x,DT.y,DT.z),n+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(rM.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),function(t){const e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}(t)}}),rM.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(class{constructor(t,e){Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==t?t:new Zv(1/0,1/0),this.max=void 0!==e?e:new Zv(-1/0,-1/0)}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=LT.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new Zv),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new Zv),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new Zv),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new Zv),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return LT.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(sy.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(by.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),D_.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},Object.assign(Vv,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Vv.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Vv.ceilPowerOfTwo(t)}}),Object.assign(Yv.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Object.assign(Oy.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new iy).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,i,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,o)},getInverse:function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),sb.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Object.assign(ny.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(Ry.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(fb.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(fb,{barycoordFromPoint:function(t,e,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),fb.getBarycoord(t,e,n,i,r)},normal:function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),fb.getNormal(t,e,n,i)}}),Object.assign(NM.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new xE(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new TE(this,t)}}),Object.assign(Zv.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(iy.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign($v.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(XS.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.assign(nb.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(nb.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(f_.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(f_.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(IS.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(dS.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),cS.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(lM.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),S_.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(PM.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(Ob.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Bv},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Bv)}}}),Object.assign(Ob.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?Bv:zv),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign($b.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new Ob(arguments[1],arguments[2])))},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties($b.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(qM.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Object.defineProperties(MT.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Object.defineProperties(Wx.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Bv},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(Wx.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?Bv:zv),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(_E.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign(Gx.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(xT.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Eb.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new wb}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(DE.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(kE.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}}),Object.defineProperties(w_.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Ux.prototype,{clearTarget:function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Ux.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?3001:jv}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Lx.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ty.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(class extends nb{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return(new sT).load(t,(function(t){e.setBuffer(t)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),M_.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},M_.prototype.clear=function(t,e,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,i)},Jv.crossOrigin=void 0,Jv.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new cM;r.setCrossOrigin(this.crossOrigin);const o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},Jv.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new CM;r.setCrossOrigin(this.crossOrigin);const o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},Jv.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Jv.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"123"}}));var ZT=function(t,e){var n,i,r,o,s,a;void 0===e&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=e,this.enabled=!0,this.target=new iy,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return h.phi},this.getAzimuthalAngle=function(){return h.theta},this.saveState=function(){g.target0.copy(g.target),g.position0.copy(g.object.position),g.zoom0=g.object.zoom},this.reset=function(){g.target.copy(g.target0),g.object.position.copy(g.position0),g.object.zoom=g.zoom0,g.object.updateProjectionMatrix(),g.dispatchEvent(A),g.update(),l=c.NONE},this.update=(n=new iy,i=(new ny).setFromUnitVectors(t.up,new iy(0,1,0)),r=i.clone().invert(),o=new iy,s=new ny,a=2*Math.PI,function(){var t=g.object.position;n.copy(t).sub(g.target),n.applyQuaternion(i),h.setFromVector3(n),g.autoRotate&&l===c.NONE&&R(2*Math.PI/60/60*g.autoRotateSpeed),g.enableDamping?(h.theta+=d.theta*g.dampingFactor,h.phi+=d.phi*g.dampingFactor):(h.theta+=d.theta,h.phi+=d.phi);var e=g.minAzimuthAngle,C=g.maxAzimuthAngle;return isFinite(e)&&isFinite(C)&&(e<-Math.PI?e+=a:e>Math.PI&&(e-=a),C<-Math.PI?C+=a:C>Math.PI&&(C-=a),h.theta=e<=C?Math.max(e,Math.min(C,h.theta)):h.theta>(e+C)/2?Math.max(e,h.theta):Math.min(C,h.theta)),h.phi=Math.max(g.minPolarAngle,Math.min(g.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=f,h.radius=Math.max(g.minDistance,Math.min(g.maxDistance,h.radius)),!0===g.enableDamping?g.target.addScaledVector(p,g.dampingFactor):g.target.add(p),n.setFromSpherical(h),n.applyQuaternion(r),t.copy(g.target).add(n),g.object.lookAt(g.target),!0===g.enableDamping?(d.theta*=1-g.dampingFactor,d.phi*=1-g.dampingFactor,p.multiplyScalar(1-g.dampingFactor)):(d.set(0,0,0),p.set(0,0,0)),f=1,!!(m||o.distanceToSquared(g.object.position)>u||8*(1-s.dot(g.object.quaternion))>u)&&(g.dispatchEvent(A),o.copy(g.object.position),s.copy(g.object.quaternion),m=!1,!0)}),this.dispose=function(){g.domElement.removeEventListener("contextmenu",tt,!1),g.domElement.removeEventListener("pointerdown",Z,!1),g.domElement.removeEventListener("wheel",J,!1),g.domElement.removeEventListener("touchstart",q,!1),g.domElement.removeEventListener("touchend",$,!1),g.domElement.removeEventListener("touchmove",Q,!1),g.domElement.ownerDocument.removeEventListener("pointermove",Y,!1),g.domElement.ownerDocument.removeEventListener("pointerup",X,!1),g.domElement.removeEventListener("keydown",K,!1)};var g=this,A={type:"change"},C={type:"start"},I={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},l=c.NONE,u=1e-6,h=new OT,d=new OT,f=1,p=new iy,m=!1,v=new Zv,y=new Zv,b=new Zv,_=new Zv,w=new Zv,x=new Zv,S=new Zv,E=new Zv,M=new Zv;function T(){return Math.pow(.95,g.zoomSpeed)}function R(t){d.theta-=t}function O(t){d.phi-=t}var L,k=(L=new iy,function(t,e){L.setFromMatrixColumn(e,0),L.multiplyScalar(-t),p.add(L)}),D=function(){var t=new iy;return function(e,n){!0===g.screenSpacePanning?t.setFromMatrixColumn(n,1):(t.setFromMatrixColumn(n,0),t.crossVectors(g.object.up,t)),t.multiplyScalar(e),p.add(t)}}(),N=function(){var t=new iy;return function(e,n){var i=g.domElement;if(g.object.isPerspectiveCamera){var r=g.object.position;t.copy(r).sub(g.target);var o=t.length();o*=Math.tan(g.object.fov/2*Math.PI/180),k(2*e*o/i.clientHeight,g.object.matrix),D(2*n*o/i.clientHeight,g.object.matrix)}else g.object.isOrthographicCamera?(k(e*(g.object.right-g.object.left)/g.object.zoom/i.clientWidth,g.object.matrix),D(n*(g.object.top-g.object.bottom)/g.object.zoom/i.clientHeight,g.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),g.enablePan=!1)}}();function P(t){g.object.isPerspectiveCamera?f/=t:g.object.isOrthographicCamera?(g.object.zoom=Math.max(g.minZoom,Math.min(g.maxZoom,g.object.zoom*t)),g.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),g.enableZoom=!1)}function j(t){g.object.isPerspectiveCamera?f*=t:g.object.isOrthographicCamera?(g.object.zoom=Math.max(g.minZoom,Math.min(g.maxZoom,g.object.zoom/t)),g.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),g.enableZoom=!1)}function F(t){v.set(t.clientX,t.clientY)}function z(t){_.set(t.clientX,t.clientY)}function B(t){if(1==t.touches.length)v.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);v.set(e,n)}}function U(t){if(1==t.touches.length)_.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);_.set(e,n)}}function H(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+n*n);S.set(0,i)}function G(t){if(1==t.touches.length)y.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);y.set(e,n)}b.subVectors(y,v).multiplyScalar(g.rotateSpeed);var i=g.domElement;R(2*Math.PI*b.x/i.clientHeight),O(2*Math.PI*b.y/i.clientHeight),v.copy(y)}function W(t){if(1==t.touches.length)w.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);w.set(e,n)}x.subVectors(w,_).multiplyScalar(g.panSpeed),N(x.x,x.y),_.copy(w)}function V(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+n*n);E.set(0,i),M.set(0,Math.pow(E.y/S.y,g.zoomSpeed)),P(M.y),S.copy(E)}function Z(t){if(!1!==g.enabled)switch(t.pointerType){case"mouse":case"pen":!function(t){var e;switch(t.preventDefault(),g.domElement.focus?g.domElement.focus():window.focus(),t.button){case 0:e=g.mouseButtons.LEFT;break;case 1:e=g.mouseButtons.MIDDLE;break;case 2:e=g.mouseButtons.RIGHT;break;default:e=-1}switch(e){case 1:if(!1===g.enableZoom)return;!function(t){S.set(t.clientX,t.clientY)}(t),l=c.DOLLY;break;case 0:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===g.enablePan)return;z(t),l=c.PAN}else{if(!1===g.enableRotate)return;F(t),l=c.ROTATE}break;case 2:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===g.enableRotate)return;F(t),l=c.ROTATE}else{if(!1===g.enablePan)return;z(t),l=c.PAN}break;default:l=c.NONE}l!==c.NONE&&(g.domElement.ownerDocument.addEventListener("pointermove",Y,!1),g.domElement.ownerDocument.addEventListener("pointerup",X,!1),g.dispatchEvent(C))}(t)}}function Y(t){if(!1!==g.enabled)switch(t.pointerType){case"mouse":case"pen":!function(t){if(!1!==g.enabled)switch(t.preventDefault(),l){case c.ROTATE:if(!1===g.enableRotate)return;!function(t){y.set(t.clientX,t.clientY),b.subVectors(y,v).multiplyScalar(g.rotateSpeed);var e=g.domElement;R(2*Math.PI*b.x/e.clientHeight),O(2*Math.PI*b.y/e.clientHeight),v.copy(y),g.update()}(t);break;case c.DOLLY:if(!1===g.enableZoom)return;!function(t){E.set(t.clientX,t.clientY),M.subVectors(E,S),M.y>0?P(T()):M.y<0&&j(T()),S.copy(E),g.update()}(t);break;case c.PAN:if(!1===g.enablePan)return;!function(t){w.set(t.clientX,t.clientY),x.subVectors(w,_).multiplyScalar(g.panSpeed),N(x.x,x.y),_.copy(w),g.update()}(t)}}(t)}}function X(t){switch(t.pointerType){case"mouse":case"pen":g.domElement.ownerDocument.removeEventListener("pointermove",Y,!1),g.domElement.ownerDocument.removeEventListener("pointerup",X,!1),!1!==g.enabled&&(g.dispatchEvent(I),l=c.NONE)}}function J(t){!1===g.enabled||!1===g.enableZoom||l!==c.NONE&&l!==c.ROTATE||(t.preventDefault(),t.stopPropagation(),g.dispatchEvent(C),function(t){t.deltaY<0?j(T()):t.deltaY>0&&P(T()),g.update()}(t),g.dispatchEvent(I))}function K(t){!1!==g.enabled&&!1!==g.enableKeys&&!1!==g.enablePan&&function(t){var e=!1;switch(t.keyCode){case g.keys.UP:N(0,g.keyPanSpeed),e=!0;break;case g.keys.BOTTOM:N(0,-g.keyPanSpeed),e=!0;break;case g.keys.LEFT:N(g.keyPanSpeed,0),e=!0;break;case g.keys.RIGHT:N(-g.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),g.update())}(t)}function q(t){if(!1!==g.enabled){switch(t.preventDefault(),t.touches.length){case 1:switch(g.touches.ONE){case 0:if(!1===g.enableRotate)return;B(t),l=c.TOUCH_ROTATE;break;case 1:if(!1===g.enablePan)return;U(t),l=c.TOUCH_PAN;break;default:l=c.NONE}break;case 2:switch(g.touches.TWO){case 2:if(!1===g.enableZoom&&!1===g.enablePan)return;!function(t){g.enableZoom&&H(t),g.enablePan&&U(t)}(t),l=c.TOUCH_DOLLY_PAN;break;case 3:if(!1===g.enableZoom&&!1===g.enableRotate)return;!function(t){g.enableZoom&&H(t),g.enableRotate&&B(t)}(t),l=c.TOUCH_DOLLY_ROTATE;break;default:l=c.NONE}break;default:l=c.NONE}l!==c.NONE&&g.dispatchEvent(C)}}function Q(t){if(!1!==g.enabled)switch(t.preventDefault(),t.stopPropagation(),l){case c.TOUCH_ROTATE:if(!1===g.enableRotate)return;G(t),g.update();break;case c.TOUCH_PAN:if(!1===g.enablePan)return;W(t),g.update();break;case c.TOUCH_DOLLY_PAN:if(!1===g.enableZoom&&!1===g.enablePan)return;!function(t){g.enableZoom&&V(t),g.enablePan&&W(t)}(t),g.update();break;case c.TOUCH_DOLLY_ROTATE:if(!1===g.enableZoom&&!1===g.enableRotate)return;!function(t){g.enableZoom&&V(t),g.enableRotate&&G(t)}(t),g.update();break;default:l=c.NONE}}function $(t){!1!==g.enabled&&(g.dispatchEvent(I),l=c.NONE)}function tt(t){!1!==g.enabled&&t.preventDefault()}g.domElement.addEventListener("contextmenu",tt,!1),g.domElement.addEventListener("pointerdown",Z,!1),g.domElement.addEventListener("wheel",J,!1),g.domElement.addEventListener("touchstart",q,!1),g.domElement.addEventListener("touchend",$,!1),g.domElement.addEventListener("touchmove",Q,!1),g.domElement.addEventListener("keydown",K,!1),this.update()};(ZT.prototype=Object.create(Hv.prototype)).constructor=ZT;var YT=function(t,e){ZT.call(this,t,e),this.screenSpacePanning=!1,this.mouseButtons.LEFT=2,this.mouseButtons.RIGHT=0,this.touches.ONE=1,this.touches.TWO=3};function XT(t,e,n){var i,r,o,s;return(i=new S_(70,window.innerWidth/window.innerHeight,.01,10)).position.z=1,r=new Gx,s=new f_(new JS(.2,.2,.2),new PE),r.add(s),(o=new Ux({antialias:!0})).setSize(e.width,e.height),new ZT(i,o.domElement).addEventListener("change",(function(){o.render(r,i),n.postMessage(JSON.parse(JSON.stringify(i.position)))})),o.render(r,i),t.appendChild(o.domElement),function(t){i.position.x=t.x,i.position.y=t.y,i.position.z=t.z,i.lookAt(r.position),o.render(r,i)}}(YT.prototype=Object.create(Hv.prototype)).constructor=YT;var JT=function(t,e){return function(e,n){e.setState(n);var i=r(e),o=new Ft,s=new Cm(t.bridge,o,n,(function(t){n.io=t}));i.appendChild(s);var a=document.createElement("hr");i.appendChild(a);var g=document.createElement("div");g.style.position="relative",i.appendChild(g);var A=XT(g,e,o);return e.on("resize",(function(){g.innerHTML="",A=XT(g,e,o)})),o.onMessage=function(t,e){"x"in t&&"y"in t&&"z"in t&&A(t)},function(){o.close()}}};var KT=new f;KT.Register(jm),KT.Register(sv),KT.Register(uv),KT.Register(new tt("ThreeJS-Demo","0.0.1",JT,{},[]));const qT=KT;function QT(t){return QT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QT(t)}function $T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tR(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function eR(t,e,n){return eR="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rR(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},eR(t,e,n||t)}function nR(t,e){return nR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nR(t,e)}function iR(t,e){if(e&&("object"===QT(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rR(t){return rR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rR(t)}var oR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nR(t,e)}(s,t);var e,n,i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rR(i);if(r){var n=rR(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return iR(this,t)});function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sand";return $T(this,s),(t=o.call(this,e+"-center")).namespace=e,t.core={namespace:e},t.packages=qT,t.layouts=cI,t}return e=s,(n=[{key:"destroy",value:function(){this.namespace=null,this.core=null,this.packages=null,eR(rR(s.prototype),"distroy",this).call(this)}},{key:"init",value:function(){var t=this;this._initServices().then((function(e){t.emit("inited")}))}},{key:"_initPackages",value:function(){}},{key:"_initServices",value:function(){var t=this.core,e=Yh.List().map((function(e){var n;return(n="init"in e&&"options"in e?new e.init(t,e.options):new e(t)).init().then((function(t){n.start()}))}));return Promise.all(e)}},{key:"createLayout",value:function(t){var e=this.layouts.Get(t);if(null==e)return null;var n=new e(this.namespace);return n.layouts=this.layouts.ListKeys(),n.namespace=this.namespace,n.core=this.core,n.packages=this.packages,n}}])&&tR(e.prototype,n),s}(i.EventEmitter);const sR=oR;function aR(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}},6266:(t,e,n)=>{n(5767),n(8132),n(8388),n(7470),n(4882),n(1520),n(7476),n(9622),n(9375),n(3533),n(4672),n(4157),n(5095),n(9892),n(5115),n(9176),n(8838),n(6253),n(9730),n(6059),n(8377),n(1084),n(4299),n(1246),n(726),n(1901),n(5972),n(3403),n(2516),n(9371),n(6479),n(1736),n(1889),n(5177),n(6943),n(6503),n(6786),n(932),n(7526),n(1591),n(9073),n(347),n(579),n(4669),n(7710),n(5789),n(3514),n(9978),n(8472),n(6946),n(5068),n(413),n(191),n(8306),n(4564),n(9115),n(9539),n(6620),n(2850),n(823),n(7732),n(856),n(703),n(1539),n(5292),n(6629),n(3694),n(7648),n(7795),n(4531),n(3605),n(6780),n(9937),n(511),n(1822),n(9977),n(1031),n(6331),n(1560),n(774),n(522),n(8295),n(7842),n(110),n(75),n(4336),n(1802),n(8837),n(6773),n(5745),n(3057),n(3750),n(3369),n(9564),n(2e3),n(8977),n(2310),n(4899),n(1842),n(6997),n(3946),n(8269),n(6108),n(6774),n(1466),n(9357),n(6142),n(1876),n(851),n(8416),n(8184),n(147),n(9192),n(142),n(1786),n(5368),n(6964),n(2152),n(4821),n(9103),n(1303),n(3318),n(162),n(3834),n(1572),n(2139),n(685),n(5535),n(7347),n(3049),n(6633),n(8989),n(8270),n(4510),n(3984),n(5769),n(55),n(6014),t.exports=n(5645)},911:(t,e,n)=>{n(1268),t.exports=n(5645).Array.flatMap},990:(t,e,n)=>{n(2773),t.exports=n(5645).Array.includes},5434:(t,e,n)=>{n(3276),t.exports=n(5645).Object.entries},8051:(t,e,n)=>{n(8351),t.exports=n(5645).Object.getOwnPropertyDescriptors},8250:(t,e,n)=>{n(6409),t.exports=n(5645).Object.values},4952:(t,e,n)=>{"use strict";n(851),n(9865),t.exports=n(5645).Promise.finally},6197:(t,e,n)=>{n(2770),t.exports=n(5645).String.padEnd},4160:(t,e,n)=>{n(1784),t.exports=n(5645).String.padStart},4039:(t,e,n)=>{n(4325),t.exports=n(5645).String.trimRight},6728:(t,e,n)=>{n(5869),t.exports=n(5645).String.trimLeft},3568:(t,e,n)=>{n(9665),t.exports=n(8787).f("asyncIterator")},115:(t,e,n)=>{n(4579),t.exports=n(1327).global},5663:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},2159:(t,e,n)=>{var i=n(6727);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},1327:t=>{var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},9216:(t,e,n)=>{var i=n(5663);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},9666:(t,e,n)=>{t.exports=!n(7929)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},7467:(t,e,n)=>{var i=n(6727),r=n(3938).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},3856:(t,e,n)=>{var i=n(3938),r=n(1327),o=n(9216),s=n(1818),a=n(7069),g=function(t,e,n){var A,C,I,c=t&g.F,l=t&g.G,u=t&g.S,h=t&g.P,d=t&g.B,f=t&g.W,p=l?r:r[e]||(r[e]={}),m=p.prototype,v=l?i:u?i[e]:(i[e]||{}).prototype;for(A in l&&(n=e),n)(C=!c&&v&&void 0!==v[A])&&a(p,A)||(I=C?v[A]:n[A],p[A]=l&&"function"!=typeof v[A]?n[A]:d&&C?o(I,i):f&&v[A]==I?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(I):h&&"function"==typeof I?o(Function.call,I):I,h&&((p.virtual||(p.virtual={}))[A]=I,t&g.R&&m&&!m[A]&&s(m,A,I)))};g.F=1,g.G=2,g.S=4,g.P=8,g.B=16,g.W=32,g.U=64,g.R=128,t.exports=g},7929:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},3938:t=>{var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},7069:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},1818:(t,e,n)=>{var i=n(4743),r=n(3101);t.exports=n(9666)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},3758:(t,e,n)=>{t.exports=!n(9666)&&!n(7929)((function(){return 7!=Object.defineProperty(n(7467)("div"),"a",{get:function(){return 7}}).a}))},6727:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},4743:(t,e,n)=>{var i=n(2159),r=n(3758),o=n(3206),s=Object.defineProperty;e.f=n(9666)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},3101:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},3206:(t,e,n)=>{var i=n(6727);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},4579:(t,e,n)=>{var i=n(3856);i(i.G,{global:n(3938)})},4963:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},3365:(t,e,n)=>{var i=n(2032);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},7722:(t,e,n)=>{var i=n(6314)("unscopables"),r=Array.prototype;null==r[i]&&n(7728)(r,i,{}),t.exports=function(t){r[i][t]=!0}},6793:(t,e,n)=>{"use strict";var i=n(4496)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},3328:t=>{t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},7007:(t,e,n)=>{var i=n(5286);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},5216:(t,e,n)=>{"use strict";var i=n(508),r=n(2337),o=n(875);t.exports=[].copyWithin||function(t,e){var n=i(this),s=o(n.length),a=r(t,s),g=r(e,s),A=arguments.length>2?arguments[2]:void 0,C=Math.min((void 0===A?s:r(A,s))-g,s-a),I=1;for(g<a&&a<g+C&&(I=-1,g+=C-1,a+=C-1);C-- >0;)g in n?n[a]=n[g]:delete n[a],a+=I,g+=I;return n}},6852:(t,e,n)=>{"use strict";var i=n(508),r=n(2337),o=n(875);t.exports=function(t){for(var e=i(this),n=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,n),g=s>2?arguments[2]:void 0,A=void 0===g?n:r(g,n);A>a;)e[a++]=t;return e}},9315:(t,e,n)=>{var i=n(2110),r=n(875),o=n(2337);t.exports=function(t){return function(e,n,s){var a,g=i(e),A=r(g.length),C=o(s,A);if(t&&n!=n){for(;A>C;)if((a=g[C++])!=a)return!0}else for(;A>C;C++)if((t||C in g)&&g[C]===n)return t||C||0;return!t&&-1}}},50:(t,e,n)=>{var i=n(741),r=n(9797),o=n(508),s=n(875),a=n(6886);t.exports=function(t,e){var n=1==t,g=2==t,A=3==t,C=4==t,I=6==t,c=5==t||I,l=e||a;return function(e,a,u){for(var h,d,f=o(e),p=r(f),m=i(a,u,3),v=s(p.length),y=0,b=n?l(e,v):g?l(e,0):void 0;v>y;y++)if((c||y in p)&&(d=m(h=p[y],y,f),t))if(n)b[y]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:b.push(h)}else if(C)return!1;return I?-1:A||C?C:b}}},7628:(t,e,n)=>{var i=n(4963),r=n(508),o=n(9797),s=n(875);t.exports=function(t,e,n,a,g){i(e);var A=r(t),C=o(A),I=s(A.length),c=g?I-1:0,l=g?-1:1;if(n<2)for(;;){if(c in C){a=C[c],c+=l;break}if(c+=l,g?c<0:I<=c)throw TypeError("Reduce of empty array with no initial value")}for(;g?c>=0:I>c;c+=l)c in C&&(a=e(a,C[c],c,A));return a}},2736:(t,e,n)=>{var i=n(5286),r=n(4302),o=n(6314)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},6886:(t,e,n)=>{var i=n(2736);t.exports=function(t,e){return new(i(t))(e)}},4398:(t,e,n)=>{"use strict";var i=n(4963),r=n(5286),o=n(7242),s=[].slice,a={},g=function(t,e,n){if(!(e in a)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";a[e]=Function("F,a","return new F("+i.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=s.call(arguments,1),a=function(){var i=n.concat(s.call(arguments));return this instanceof a?g(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(a.prototype=e.prototype),a}},1488:(t,e,n)=>{var i=n(2032),r=n(6314)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},2032:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},9824:(t,e,n)=>{"use strict";var i=n(9275).f,r=n(2503),o=n(4408),s=n(741),a=n(3328),g=n(3531),A=n(2923),C=n(5436),I=n(2974),c=n(7057),l=n(4728).fastKey,u=n(1616),h=c?"_s":"size",d=function(t,e){var n,i=l(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,A){var C=t((function(t,i){a(t,C,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[h]=0,null!=i&&g(i,n,t[A],t)}));return o(C.prototype,{clear:function(){for(var t=u(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[h]=0},delete:function(t){var n=u(this,e),i=d(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[h]--}return!!i},forEach:function(t){u(this,e);for(var n,i=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!d(u(this,e),t)}}),c&&i(C.prototype,"size",{get:function(){return u(this,e)[h]}}),C},def:function(t,e,n){var i,r,o=d(t,e);return o?o.v=n:(t._l=o={i:r=l(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[h]++,"F"!==r&&(t._i[r]=o)),t},getEntry:d,setStrong:function(t,e,n){A(t,e,(function(t,n){this._t=u(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?C(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,C(1))}),n?"entries":"values",!n,!0),I(e)}}},3657:(t,e,n)=>{"use strict";var i=n(4408),r=n(4728).getWeak,o=n(7007),s=n(5286),a=n(3328),g=n(3531),A=n(50),C=n(9181),I=n(1616),c=A(5),l=A(6),u=0,h=function(t){return t._l||(t._l=new d)},d=function(){this.a=[]},f=function(t,e){return c(t.a,(function(t){return t[0]===e}))};d.prototype={get:function(t){var e=f(this,t);if(e)return e[1]},has:function(t){return!!f(this,t)},set:function(t,e){var n=f(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=l(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var A=t((function(t,i){a(t,A,e,"_i"),t._t=e,t._i=u++,t._l=void 0,null!=i&&g(i,n,t[o],t)}));return i(A.prototype,{delete:function(t){if(!s(t))return!1;var n=r(t);return!0===n?h(I(this,e)).delete(t):n&&C(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=r(t);return!0===n?h(I(this,e)).has(t):n&&C(n,this._i)}}),A},def:function(t,e,n){var i=r(o(e),!0);return!0===i?h(t).set(e,n):i[t._i]=n,t},ufstore:h}},5795:(t,e,n)=>{"use strict";var i=n(3816),r=n(2985),o=n(7234),s=n(4408),a=n(4728),g=n(3531),A=n(3328),C=n(5286),I=n(4253),c=n(7462),l=n(2943),u=n(266);t.exports=function(t,e,n,h,d,f){var p=i[t],m=p,v=d?"set":"add",y=m&&m.prototype,b={},_=function(t){var e=y[t];o(y,t,"delete"==t||"has"==t?function(t){return!(f&&!C(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return f&&!C(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof m&&(f||y.forEach&&!I((function(){(new m).entries().next()})))){var w=new m,x=w[v](f?{}:-0,1)!=w,S=I((function(){w.has(1)})),E=c((function(t){new m(t)})),M=!f&&I((function(){for(var t=new m,e=5;e--;)t[v](e,e);return!t.has(-0)}));E||((m=e((function(e,n){A(e,m,t);var i=u(new p,e,m);return null!=n&&g(n,d,i[v],i),i}))).prototype=y,y.constructor=m),(S||M)&&(_("delete"),_("has"),d&&_("get")),(M||x)&&_(v),f&&y.clear&&delete y.clear}else m=h.getConstructor(e,t,d,v),s(m.prototype,n),a.NEED=!0;return l(m,t),b[t]=m,r(r.G+r.W+r.F*(m!=p),b),f||h.setStrong(m,t,d),m}},5645:t=>{var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},2811:(t,e,n)=>{"use strict";var i=n(9275),r=n(681);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},741:(t,e,n)=>{var i=n(4963);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},3537:(t,e,n)=>{"use strict";var i=n(4253),r=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!i((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},870:(t,e,n)=>{"use strict";var i=n(7007),r=n(1689),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),t!=o)}},1355:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},7057:(t,e,n)=>{t.exports=!n(4253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},2457:(t,e,n)=>{var i=n(5286),r=n(3816).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},4430:t=>{t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5541:(t,e,n)=>{var i=n(7184),r=n(4548),o=n(4682);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var s,a=n(t),g=o.f,A=0;a.length>A;)g.call(t,s=a[A++])&&e.push(s);return e}},2985:(t,e,n)=>{var i=n(3816),r=n(5645),o=n(7728),s=n(7234),a=n(741),g=function(t,e,n){var A,C,I,c,l=t&g.F,u=t&g.G,h=t&g.S,d=t&g.P,f=t&g.B,p=u?i:h?i[e]||(i[e]={}):(i[e]||{}).prototype,m=u?r:r[e]||(r[e]={}),v=m.prototype||(m.prototype={});for(A in u&&(n=e),n)I=((C=!l&&p&&void 0!==p[A])?p:n)[A],c=f&&C?a(I,i):d&&"function"==typeof I?a(Function.call,I):I,p&&s(p,A,I,t&g.U),m[A]!=I&&o(m,A,c),d&&v[A]!=I&&(v[A]=I)};i.core=r,g.F=1,g.G=2,g.S=4,g.P=8,g.B=16,g.W=32,g.U=64,g.R=128,t.exports=g},8852:(t,e,n)=>{var i=n(6314)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},4253:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},8082:(t,e,n)=>{"use strict";n(8269);var i=n(7234),r=n(7728),o=n(4253),s=n(1355),a=n(6314),g=n(1165),A=a("species"),C=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),I=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var c=a(t),l=!o((function(){var e={};return e[c]=function(){return 7},7!=""[t](e)})),u=l?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[A]=function(){return n}),n[c](""),!e})):void 0;if(!l||!u||"replace"===t&&!C||"split"===t&&!I){var h=/./[c],d=n(s,c,""[t],(function(t,e,n,i,r){return e.exec===g?l&&!r?{done:!0,value:h.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),f=d[0],p=d[1];i(String.prototype,t,f),r(RegExp.prototype,c,2==e?function(t,e){return p.call(t,this,e)}:function(t){return p.call(t,this)})}}},3218:(t,e,n)=>{"use strict";var i=n(7007);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},3325:(t,e,n)=>{"use strict";var i=n(4302),r=n(5286),o=n(875),s=n(741),a=n(6314)("isConcatSpreadable");t.exports=function t(e,n,g,A,C,I,c,l){for(var u,h,d=C,f=0,p=!!c&&s(c,l,3);f<A;){if(f in g){if(u=p?p(g[f],f,n):g[f],h=!1,r(u)&&(h=void 0!==(h=u[a])?!!h:i(u)),h&&I>0)d=t(e,n,u,o(u.length),d,I-1)-1;else{if(d>=9007199254740991)throw TypeError();e[d]=u}d++}f++}return d}},3531:(t,e,n)=>{var i=n(741),r=n(8851),o=n(6555),s=n(7007),a=n(875),g=n(9002),A={},C={},I=t.exports=function(t,e,n,I,c){var l,u,h,d,f=c?function(){return t}:g(t),p=i(n,I,e?2:1),m=0;if("function"!=typeof f)throw TypeError(t+" is not iterable!");if(o(f)){for(l=a(t.length);l>m;m++)if((d=e?p(s(u=t[m])[0],u[1]):p(t[m]))===A||d===C)return d}else for(h=f.call(t);!(u=h.next()).done;)if((d=r(h,p,u.value,e))===A||d===C)return d};I.BREAK=A,I.RETURN=C},18:(t,e,n)=>{t.exports=n(3825)("native-function-to-string",Function.toString)},3816:t=>{var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},9181:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},7728:(t,e,n)=>{var i=n(9275),r=n(681);t.exports=n(7057)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},639:(t,e,n)=>{var i=n(3816).document;t.exports=i&&i.documentElement},1734:(t,e,n)=>{t.exports=!n(7057)&&!n(4253)((function(){return 7!=Object.defineProperty(n(2457)("div"),"a",{get:function(){return 7}}).a}))},266:(t,e,n)=>{var i=n(5286),r=n(7375).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},7242:t=>{t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},9797:(t,e,n)=>{var i=n(2032);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},6555:(t,e,n)=>{var i=n(2803),r=n(6314)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},4302:(t,e,n)=>{var i=n(2032);t.exports=Array.isArray||function(t){return"Array"==i(t)}},8367:(t,e,n)=>{var i=n(5286),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},5286:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},5364:(t,e,n)=>{var i=n(5286),r=n(2032),o=n(6314)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},8851:(t,e,n)=>{var i=n(7007);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},9988:(t,e,n)=>{"use strict";var i=n(2503),r=n(681),o=n(2943),s={};n(7728)(s,n(6314)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},2923:(t,e,n)=>{"use strict";var i=n(4461),r=n(2985),o=n(7234),s=n(7728),a=n(2803),g=n(9988),A=n(2943),C=n(468),I=n(6314)("iterator"),c=!([].keys&&"next"in[].keys()),l="keys",u="values",h=function(){return this};t.exports=function(t,e,n,d,f,p,m){g(n,e,d);var v,y,b,_=function(t){if(!c&&t in E)return E[t];switch(t){case l:case u:return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",x=f==u,S=!1,E=t.prototype,M=E[I]||E["@@iterator"]||f&&E[f],T=M||_(f),R=f?x?_("entries"):T:void 0,O="Array"==e&&E.entries||M;if(O&&(b=C(O.call(new t)))!==Object.prototype&&b.next&&(A(b,w,!0),i||"function"==typeof b[I]||s(b,I,h)),x&&M&&M.name!==u&&(S=!0,T=function(){return M.call(this)}),i&&!m||!c&&!S&&E[I]||s(E,I,T),a[e]=T,a[w]=h,f)if(v={values:x?T:_(u),keys:p?T:_(l),entries:R},m)for(y in v)y in E||o(E,y,v[y]);else r(r.P+r.F*(c||S),e,v);return v}},7462:(t,e,n)=>{var i=n(6314)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(t){}return n}},5436:t=>{t.exports=function(t,e){return{value:e,done:!!t}}},2803:t=>{t.exports={}},4461:t=>{t.exports=!1},3086:t=>{var e=Math.expm1;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},4934:(t,e,n)=>{var i=n(1801),r=Math.pow,o=r(2,-52),s=r(2,-23),a=r(2,127)*(2-s),g=r(2,-126);t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),A=i(t);return r<g?A*(r/g/s+1/o-1/o)*g*s:(n=(e=(1+s/o)*r)-(e-r))>a||n!=n?A*(1/0):A*n}},6206:t=>{t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},1801:t=>{t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},4728:(t,e,n)=>{var i=n(3953)("meta"),r=n(5286),o=n(9181),s=n(9275).f,a=0,g=Object.isExtensible||function(){return!0},A=!n(4253)((function(){return g(Object.preventExtensions({}))})),C=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},I=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!g(t))return"F";if(!e)return"E";C(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!g(t))return!0;if(!e)return!1;C(t)}return t[i].w},onFreeze:function(t){return A&&I.NEED&&g(t)&&!o(t,i)&&C(t),t}}},4351:(t,e,n)=>{var i=n(3816),r=n(4193).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,g="process"==n(2032)(s);t.exports=function(){var t,e,n,A=function(){var i,r;for(g&&(i=s.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(g)n=function(){s.nextTick(A)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var C=a.resolve(void 0);n=function(){C.then(A)}}else n=function(){r.call(i,A)};else{var I=!0,c=document.createTextNode("");new o(A).observe(c,{characterData:!0}),n=function(){c.data=I=!I}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},3499:(t,e,n)=>{"use strict";var i=n(4963);function r(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new r(t)}},5345:(t,e,n)=>{"use strict";var i=n(7057),r=n(7184),o=n(4548),s=n(4682),a=n(508),g=n(9797),A=Object.assign;t.exports=!A||n(4253)((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=A({},t)[n]||Object.keys(A({},e)).join("")!=i}))?function(t,e){for(var n=a(t),A=arguments.length,C=1,I=o.f,c=s.f;A>C;)for(var l,u=g(arguments[C++]),h=I?r(u).concat(I(u)):r(u),d=h.length,f=0;d>f;)l=h[f++],i&&!c.call(u,l)||(n[l]=u[l]);return n}:A},2503:(t,e,n)=>{var i=n(7007),r=n(5588),o=n(4430),s=n(9335)("IE_PROTO"),a=function(){},g=function(){var t,e=n(2457)("iframe"),i=o.length;for(e.style.display="none",n(639).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),g=t.F;i--;)delete g.prototype[o[i]];return g()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[s]=t):n=g(),void 0===e?n:r(n,e)}},9275:(t,e,n)=>{var i=n(7007),r=n(1734),o=n(1689),s=Object.defineProperty;e.f=n(7057)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},5588:(t,e,n)=>{var i=n(9275),r=n(7007),o=n(7184);t.exports=n(7057)?Object.defineProperties:function(t,e){r(t);for(var n,s=o(e),a=s.length,g=0;a>g;)i.f(t,n=s[g++],e[n]);return t}},8693:(t,e,n)=>{var i=n(4682),r=n(681),o=n(2110),s=n(1689),a=n(9181),g=n(1734),A=Object.getOwnPropertyDescriptor;e.f=n(7057)?A:function(t,e){if(t=o(t),e=s(e,!0),g)try{return A(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},9327:(t,e,n)=>{var i=n(2110),r=n(616).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},616:(t,e,n)=>{var i=n(189),r=n(4430).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},4548:(t,e)=>{e.f=Object.getOwnPropertySymbols},468:(t,e,n)=>{var i=n(9181),r=n(508),o=n(9335)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},189:(t,e,n)=>{var i=n(9181),r=n(2110),o=n(9315)(!1),s=n(9335)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),g=0,A=[];for(n in a)n!=s&&i(a,n)&&A.push(n);for(;e.length>g;)i(a,n=e[g++])&&(~o(A,n)||A.push(n));return A}},7184:(t,e,n)=>{var i=n(189),r=n(4430);t.exports=Object.keys||function(t){return i(t,r)}},4682:(t,e)=>{e.f={}.propertyIsEnumerable},3160:(t,e,n)=>{var i=n(2985),r=n(5645),o=n(4253);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",s)}},1131:(t,e,n)=>{var i=n(7057),r=n(7184),o=n(2110),s=n(4682).f;t.exports=function(t){return function(e){for(var n,a=o(e),g=r(a),A=g.length,C=0,I=[];A>C;)n=g[C++],i&&!s.call(a,n)||I.push(t?[n,a[n]]:a[n]);return I}}},7643:(t,e,n)=>{var i=n(616),r=n(4548),o=n(7007),s=n(3816).Reflect;t.exports=s&&s.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},7743:(t,e,n)=>{var i=n(3816).parseFloat,r=n(9599).trim;t.exports=1/i(n(4644)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},5960:(t,e,n)=>{var i=n(3816).parseInt,r=n(9599).trim,o=n(4644),s=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},188:t=>{t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},94:(t,e,n)=>{var i=n(7007),r=n(5286),o=n(3499);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},681:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4408:(t,e,n)=>{var i=n(7234);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},7234:(t,e,n)=>{var i=n(3816),r=n(7728),o=n(9181),s=n(3953)("src"),a=n(18),g="toString",A=(""+a).split(g);n(5645).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var g="function"==typeof n;g&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(g&&(o(n,s)||r(n,s,t[e]?""+t[e]:A.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,g,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},7787:(t,e,n)=>{"use strict";var i=n(1488),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},1165:(t,e,n)=>{"use strict";var i,r,o=n(3218),s=RegExp.prototype.exec,a=String.prototype.replace,g=s,A=(i=/a/,r=/b*/g,s.call(i,"a"),s.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),C=void 0!==/()??/.exec("")[1];(A||C)&&(g=function(t){var e,n,i,r,g=this;return C&&(n=new RegExp("^"+g.source+"$(?!\\s)",o.call(g))),A&&(e=g.lastIndex),i=s.call(g,t),A&&i&&(g.lastIndex=g.global?i.index+i[0].length:e),C&&i&&i.length>1&&a.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),t.exports=g},7195:t=>{t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},7375:(t,e,n)=>{var i=n(5286),r=n(7007),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(741)(Function.call,n(8693).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},2974:(t,e,n)=>{"use strict";var i=n(3816),r=n(9275),o=n(7057),s=n(6314)("species");t.exports=function(t){var e=i[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},2943:(t,e,n)=>{var i=n(9275).f,r=n(9181),o=n(6314)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},9335:(t,e,n)=>{var i=n(3825)("keys"),r=n(3953);t.exports=function(t){return i[t]||(i[t]=r(t))}},3825:(t,e,n)=>{var i=n(5645),r=n(3816),o="__core-js_shared__",s=r[o]||(r[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(4461)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},8364:(t,e,n)=>{var i=n(7007),r=n(4963),o=n(6314)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||null==(n=i(s)[o])?e:r(n)}},7717:(t,e,n)=>{"use strict";var i=n(4253);t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},4496:(t,e,n)=>{var i=n(1467),r=n(1355);t.exports=function(t){return function(e,n){var o,s,a=String(r(e)),g=i(n),A=a.length;return g<0||g>=A?t?"":void 0:(o=a.charCodeAt(g))<55296||o>56319||g+1===A||(s=a.charCodeAt(g+1))<56320||s>57343?t?a.charAt(g):o:t?a.slice(g,g+2):s-56320+(o-55296<<10)+65536}}},2094:(t,e,n)=>{var i=n(5364),r=n(1355);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},9395:(t,e,n)=>{var i=n(2985),r=n(4253),o=n(1355),s=/"/g,a=function(t,e,n,i){var r=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),a+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),i(i.P+i.F*r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},5442:(t,e,n)=>{var i=n(875),r=n(8595),o=n(1355);t.exports=function(t,e,n,s){var a=String(o(t)),g=a.length,A=void 0===n?" ":String(n),C=i(e);if(C<=g||""==A)return a;var I=C-g,c=r.call(A,Math.ceil(I/A.length));return c.length>I&&(c=c.slice(0,I)),s?c+a:a+c}},8595:(t,e,n)=>{"use strict";var i=n(1467),r=n(1355);t.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},9599:(t,e,n)=>{var i=n(2985),r=n(1355),o=n(4253),s=n(4644),a="["+s+"]",g=RegExp("^"+a+a+"*"),A=RegExp(a+a+"*$"),C=function(t,e,n){var r={},a=o((function(){return!!s[t]()||"​"!="​"[t]()})),g=r[t]=a?e(I):s[t];n&&(r[n]=g),i(i.P+i.F*a,"String",r)},I=C.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(g,"")),2&e&&(t=t.replace(A,"")),t};t.exports=C},4644:t=>{t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},4193:(t,e,n)=>{var i,r,o,s=n(741),a=n(7242),g=n(639),A=n(2457),C=n(3816),I=C.process,c=C.setImmediate,l=C.clearImmediate,u=C.MessageChannel,h=C.Dispatch,d=0,f={},p=function(){var t=+this;if(f.hasOwnProperty(t)){var e=f[t];delete f[t],e()}},m=function(t){p.call(t.data)};c&&l||(c=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return f[++d]=function(){a("function"==typeof t?t:Function(t),e)},i(d),d},l=function(t){delete f[t]},"process"==n(2032)(I)?i=function(t){I.nextTick(s(p,t,1))}:h&&h.now?i=function(t){h.now(s(p,t,1))}:u?(o=(r=new u).port2,r.port1.onmessage=m,i=s(o.postMessage,o,1)):C.addEventListener&&"function"==typeof postMessage&&!C.importScripts?(i=function(t){C.postMessage(t+"","*")},C.addEventListener("message",m,!1)):i="onreadystatechange"in A("script")?function(t){g.appendChild(A("script")).onreadystatechange=function(){g.removeChild(this),p.call(t)}}:function(t){setTimeout(s(p,t,1),0)}),t.exports={set:c,clear:l}},2337:(t,e,n)=>{var i=n(1467),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},4843:(t,e,n)=>{var i=n(1467),r=n(875);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},1467:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},2110:(t,e,n)=>{var i=n(9797),r=n(1355);t.exports=function(t){return i(r(t))}},875:(t,e,n)=>{var i=n(1467),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},508:(t,e,n)=>{var i=n(1355);t.exports=function(t){return Object(i(t))}},1689:(t,e,n)=>{var i=n(5286);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},8440:(t,e,n)=>{"use strict";if(n(7057)){var i=n(4461),r=n(3816),o=n(4253),s=n(2985),a=n(9383),g=n(1125),A=n(741),C=n(3328),I=n(681),c=n(7728),l=n(4408),u=n(1467),h=n(875),d=n(4843),f=n(2337),p=n(1689),m=n(9181),v=n(1488),y=n(5286),b=n(508),_=n(6555),w=n(2503),x=n(468),S=n(616).f,E=n(9002),M=n(3953),T=n(6314),R=n(50),O=n(9315),L=n(8364),k=n(6997),D=n(2803),N=n(7462),P=n(2974),j=n(6852),F=n(5216),z=n(9275),B=n(8693),U=z.f,H=B.f,G=r.RangeError,W=r.TypeError,V=r.Uint8Array,Z="ArrayBuffer",Y="SharedArrayBuffer",X="BYTES_PER_ELEMENT",J=Array.prototype,K=g.ArrayBuffer,q=g.DataView,Q=R(0),$=R(2),tt=R(3),et=R(4),nt=R(5),it=R(6),rt=O(!0),ot=O(!1),st=k.values,at=k.keys,gt=k.entries,At=J.lastIndexOf,Ct=J.reduce,It=J.reduceRight,ct=J.join,lt=J.sort,ut=J.slice,ht=J.toString,dt=J.toLocaleString,ft=T("iterator"),pt=T("toStringTag"),mt=M("typed_constructor"),vt=M("def_constructor"),yt=a.CONSTR,bt=a.TYPED,_t=a.VIEW,wt="Wrong length!",xt=R(1,(function(t,e){return Rt(L(t,t[vt]),e)})),St=o((function(){return 1===new V(new Uint16Array([1]).buffer)[0]})),Et=!!V&&!!V.prototype.set&&o((function(){new V(1).set({})})),Mt=function(t,e){var n=u(t);if(n<0||n%e)throw G("Wrong offset!");return n},Tt=function(t){if(y(t)&&bt in t)return t;throw W(t+" is not a typed array!")},Rt=function(t,e){if(!y(t)||!(mt in t))throw W("It is not a typed array constructor!");return new t(e)},Ot=function(t,e){return Lt(L(t,t[vt]),e)},Lt=function(t,e){for(var n=0,i=e.length,r=Rt(t,i);i>n;)r[n]=e[n++];return r},kt=function(t,e,n){U(t,e,{get:function(){return this._d[n]}})},Dt=function(t){var e,n,i,r,o,s,a=b(t),g=arguments.length,C=g>1?arguments[1]:void 0,I=void 0!==C,c=E(a);if(null!=c&&!_(c)){for(s=c.call(a),i=[],e=0;!(o=s.next()).done;e++)i.push(o.value);a=i}for(I&&g>2&&(C=A(C,arguments[2],2)),e=0,n=h(a.length),r=Rt(this,n);n>e;e++)r[e]=I?C(a[e],e):a[e];return r},Nt=function(){for(var t=0,e=arguments.length,n=Rt(this,e);e>t;)n[t]=arguments[t++];return n},Pt=!!V&&o((function(){dt.call(new V(1))})),jt=function(){return dt.apply(Pt?ut.call(Tt(this)):Tt(this),arguments)},Ft={copyWithin:function(t,e){return F.call(Tt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return et(Tt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return j.apply(Tt(this),arguments)},filter:function(t){return Ot(this,$(Tt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Tt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Q(Tt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ot(Tt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return rt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Tt(this),arguments)},lastIndexOf:function(t){return At.apply(Tt(this),arguments)},map:function(t){return xt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return Ct.apply(Tt(this),arguments)},reduceRight:function(t){return It.apply(Tt(this),arguments)},reverse:function(){for(var t,e=this,n=Tt(e).length,i=Math.floor(n/2),r=0;r<i;)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return tt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return lt.call(Tt(this),t)},subarray:function(t,e){var n=Tt(this),i=n.length,r=f(t,i);return new(L(n,n[vt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,h((void 0===e?i:f(e,i))-r))}},zt=function(t,e){return Ot(this,ut.call(Tt(this),t,e))},Bt=function(t){Tt(this);var e=Mt(arguments[1],1),n=this.length,i=b(t),r=h(i.length),o=0;if(r+e>n)throw G(wt);for(;o<r;)this[e+o]=i[o++]},Ut={entries:function(){return gt.call(Tt(this))},keys:function(){return at.call(Tt(this))},values:function(){return st.call(Tt(this))}},Ht=function(t,e){return y(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Gt=function(t,e){return Ht(t,e=p(e,!0))?I(2,t[e]):H(t,e)},Wt=function(t,e,n){return!(Ht(t,e=p(e,!0))&&y(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?U(t,e,n):(t[e]=n.value,t)};yt||(B.f=Gt,z.f=Wt),s(s.S+s.F*!yt,"Object",{getOwnPropertyDescriptor:Gt,defineProperty:Wt}),o((function(){ht.call({})}))&&(ht=dt=function(){return ct.call(this)});var Vt=l({},Ft);l(Vt,Ut),c(Vt,ft,Ut.values),l(Vt,{slice:zt,set:Bt,constructor:function(){},toString:ht,toLocaleString:jt}),kt(Vt,"buffer","b"),kt(Vt,"byteOffset","o"),kt(Vt,"byteLength","l"),kt(Vt,"length","e"),U(Vt,pt,{get:function(){return this[bt]}}),t.exports=function(t,e,n,g){var A=t+((g=!!g)?"Clamped":"")+"Array",I="get"+t,l="set"+t,u=r[A],f=u||{},p=u&&x(u),m=!u||!a.ABV,b={},_=u&&u.prototype,E=function(t,n){U(t,n,{get:function(){return function(t,n){var i=t._d;return i.v[I](n*e+i.o,St)}(this,n)},set:function(t){return function(t,n,i){var r=t._d;g&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[l](n*e+r.o,i,St)}(this,n,t)},enumerable:!0})};m?(u=n((function(t,n,i,r){C(t,u,A,"_d");var o,s,a,g,I=0,l=0;if(y(n)){if(!(n instanceof K||(g=v(n))==Z||g==Y))return bt in n?Lt(u,n):Dt.call(u,n);o=n,l=Mt(i,e);var f=n.byteLength;if(void 0===r){if(f%e)throw G(wt);if((s=f-l)<0)throw G(wt)}else if((s=h(r)*e)+l>f)throw G(wt);a=s/e}else a=d(n),o=new K(s=a*e);for(c(t,"_d",{b:o,o:l,l:s,e:a,v:new q(o)});I<a;)E(t,I++)})),_=u.prototype=w(Vt),c(_,"constructor",u)):o((function(){u(1)}))&&o((function(){new u(-1)}))&&N((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||(u=n((function(t,n,i,r){var o;return C(t,u,A),y(n)?n instanceof K||(o=v(n))==Z||o==Y?void 0!==r?new f(n,Mt(i,e),r):void 0!==i?new f(n,Mt(i,e)):new f(n):bt in n?Lt(u,n):Dt.call(u,n):new f(d(n))})),Q(p!==Function.prototype?S(f).concat(S(p)):S(f),(function(t){t in u||c(u,t,f[t])})),u.prototype=_,i||(_.constructor=u));var M=_[ft],T=!!M&&("values"==M.name||null==M.name),R=Ut.values;c(u,mt,!0),c(_,bt,A),c(_,_t,!0),c(_,vt,u),(g?new u(1)[pt]==A:pt in _)||U(_,pt,{get:function(){return A}}),b[A]=u,s(s.G+s.W+s.F*(u!=f),b),s(s.S,A,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o((function(){f.of.call(u,1)})),A,{from:Dt,of:Nt}),X in _||c(_,X,e),s(s.P,A,Ft),P(A),s(s.P+s.F*Et,A,{set:Bt}),s(s.P+s.F*!T,A,Ut),i||_.toString==ht||(_.toString=ht),s(s.P+s.F*o((function(){new u(1).slice()})),A,{slice:zt}),s(s.P+s.F*(o((function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()}))||!o((function(){_.toLocaleString.call([1,2])}))),A,{toLocaleString:jt}),D[A]=T?M:R,i||T||c(_,ft,R)}}else t.exports=function(){}},1125:(t,e,n)=>{"use strict";var i=n(3816),r=n(7057),o=n(4461),s=n(9383),a=n(7728),g=n(4408),A=n(4253),C=n(3328),I=n(1467),c=n(875),l=n(4843),u=n(616).f,h=n(9275).f,d=n(6852),f=n(2943),p="ArrayBuffer",m="DataView",v="Wrong index!",y=i.ArrayBuffer,b=i.DataView,_=i.Math,w=i.RangeError,x=i.Infinity,S=y,E=_.abs,M=_.pow,T=_.floor,R=_.log,O=_.LN2,L="buffer",k="byteLength",D="byteOffset",N=r?"_b":L,P=r?"_l":k,j=r?"_o":D;function F(t,e,n){var i,r,o,s=new Array(n),a=8*n-e-1,g=(1<<a)-1,A=g>>1,C=23===e?M(2,-24)-M(2,-77):0,I=0,c=t<0||0===t&&1/t<0?1:0;for((t=E(t))!=t||t===x?(r=t!=t?1:0,i=g):(i=T(R(t)/O),t*(o=M(2,-i))<1&&(i--,o*=2),(t+=i+A>=1?C/o:C*M(2,1-A))*o>=2&&(i++,o/=2),i+A>=g?(r=0,i=g):i+A>=1?(r=(t*o-1)*M(2,e),i+=A):(r=t*M(2,A-1)*M(2,e),i=0));e>=8;s[I++]=255&r,r/=256,e-=8);for(i=i<<e|r,a+=e;a>0;s[I++]=255&i,i/=256,a-=8);return s[--I]|=128*c,s}function z(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,s=o>>1,a=r-7,g=n-1,A=t[g--],C=127&A;for(A>>=7;a>0;C=256*C+t[g],g--,a-=8);for(i=C&(1<<-a)-1,C>>=-a,a+=e;a>0;i=256*i+t[g],g--,a-=8);if(0===C)C=1-s;else{if(C===o)return i?NaN:A?-x:x;i+=M(2,e),C-=s}return(A?-1:1)*i*M(2,C-e)}function B(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function U(t){return[255&t]}function H(t){return[255&t,t>>8&255]}function G(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function W(t){return F(t,52,8)}function V(t){return F(t,23,4)}function Z(t,e,n){h(t.prototype,e,{get:function(){return this[n]}})}function Y(t,e,n,i){var r=l(+n);if(r+e>t[P])throw w(v);var o=t[N]._b,s=r+t[j],a=o.slice(s,s+e);return i?a:a.reverse()}function X(t,e,n,i,r,o){var s=l(+n);if(s+e>t[P])throw w(v);for(var a=t[N]._b,g=s+t[j],A=i(+r),C=0;C<e;C++)a[g+C]=A[o?C:e-C-1]}if(s.ABV){if(!A((function(){y(1)}))||!A((function(){new y(-1)}))||A((function(){return new y,new y(1.5),new y(NaN),y.name!=p}))){for(var J,K=(y=function(t){return C(this,y),new S(l(t))}).prototype=S.prototype,q=u(S),Q=0;q.length>Q;)(J=q[Q++])in y||a(y,J,S[J]);o||(K.constructor=y)}var $=new b(new y(2)),tt=b.prototype.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||g(b.prototype,{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else y=function(t){C(this,y,p);var e=l(t);this._b=d.call(new Array(e),0),this[P]=e},b=function(t,e,n){C(this,b,m),C(t,y,m);var i=t[P],r=I(e);if(r<0||r>i)throw w("Wrong offset!");if(r+(n=void 0===n?i-r:c(n))>i)throw w("Wrong length!");this[N]=t,this[j]=r,this[P]=n},r&&(Z(y,k,"_l"),Z(b,L,"_b"),Z(b,k,"_l"),Z(b,D,"_o")),g(b.prototype,{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var e=Y(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Y(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return B(Y(this,4,t,arguments[1]))},getUint32:function(t){return B(Y(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return z(Y(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return z(Y(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){X(this,1,t,U,e)},setUint8:function(t,e){X(this,1,t,U,e)},setInt16:function(t,e){X(this,2,t,H,e,arguments[2])},setUint16:function(t,e){X(this,2,t,H,e,arguments[2])},setInt32:function(t,e){X(this,4,t,G,e,arguments[2])},setUint32:function(t,e){X(this,4,t,G,e,arguments[2])},setFloat32:function(t,e){X(this,4,t,V,e,arguments[2])},setFloat64:function(t,e){X(this,8,t,W,e,arguments[2])}});f(y,p),f(b,m),a(b.prototype,s.VIEW,!0),e.ArrayBuffer=y,e.DataView=b},9383:(t,e,n)=>{for(var i,r=n(3816),o=n(7728),s=n(3953),a=s("typed_array"),g=s("view"),A=!(!r.ArrayBuffer||!r.DataView),C=A,I=0,c="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");I<9;)(i=r[c[I++]])?(o(i.prototype,a,!0),o(i.prototype,g,!0)):C=!1;t.exports={ABV:A,CONSTR:C,TYPED:a,VIEW:g}},3953:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},575:(t,e,n)=>{var i=n(3816).navigator;t.exports=i&&i.userAgent||""},1616:(t,e,n)=>{var i=n(5286);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},6074:(t,e,n)=>{var i=n(3816),r=n(5645),o=n(4461),s=n(8787),a=n(9275).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},8787:(t,e,n)=>{e.f=n(6314)},6314:(t,e,n)=>{var i=n(3825)("wks"),r=n(3953),o=n(3816).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},9002:(t,e,n)=>{var i=n(1488),r=n(6314)("iterator"),o=n(2803);t.exports=n(5645).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},2e3:(t,e,n)=>{var i=n(2985);i(i.P,"Array",{copyWithin:n(5216)}),n(7722)("copyWithin")},5745:(t,e,n)=>{"use strict";var i=n(2985),r=n(50)(4);i(i.P+i.F*!n(7717)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},8977:(t,e,n)=>{var i=n(2985);i(i.P,"Array",{fill:n(6852)}),n(7722)("fill")},8837:(t,e,n)=>{"use strict";var i=n(2985),r=n(50)(2);i(i.P+i.F*!n(7717)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},4899:(t,e,n)=>{"use strict";var i=n(2985),r=n(50)(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),i(i.P+i.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(7722)(o)},2310:(t,e,n)=>{"use strict";var i=n(2985),r=n(50)(5),o="find",s=!0;o in[]&&Array(1).find((function(){s=!1})),i(i.P+i.F*s,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(7722)(o)},4336:(t,e,n)=>{"use strict";var i=n(2985),r=n(50)(0),o=n(7717)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},522:(t,e,n)=>{"use strict";var i=n(741),r=n(2985),o=n(508),s=n(8851),a=n(6555),g=n(875),A=n(2811),C=n(9002);r(r.S+r.F*!n(7462)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,I,c=o(t),l="function"==typeof this?this:Array,u=arguments.length,h=u>1?arguments[1]:void 0,d=void 0!==h,f=0,p=C(c);if(d&&(h=i(h,u>2?arguments[2]:void 0,2)),null==p||l==Array&&a(p))for(n=new l(e=g(c.length));e>f;f++)A(n,f,d?h(c[f],f):c[f]);else for(I=p.call(c),n=new l;!(r=I.next()).done;f++)A(n,f,d?s(I,h,[r.value,f],!0):r.value);return n.length=f,n}})},3369:(t,e,n)=>{"use strict";var i=n(2985),r=n(9315)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!n(7717)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},774:(t,e,n)=>{var i=n(2985);i(i.S,"Array",{isArray:n(4302)})},6997:(t,e,n)=>{"use strict";var i=n(7722),r=n(5436),o=n(2803),s=n(2110);t.exports=n(2923)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},7842:(t,e,n)=>{"use strict";var i=n(2985),r=n(2110),o=[].join;i(i.P+i.F*(n(9797)!=Object||!n(7717)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},9564:(t,e,n)=>{"use strict";var i=n(2985),r=n(2110),o=n(1467),s=n(875),a=[].lastIndexOf,g=!!a&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(g||!n(7717)(a)),"Array",{lastIndexOf:function(t){if(g)return a.apply(this,arguments)||0;var e=r(this),n=s(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},1802:(t,e,n)=>{"use strict";var i=n(2985),r=n(50)(1);i(i.P+i.F*!n(7717)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},8295:(t,e,n)=>{"use strict";var i=n(2985),r=n(2811);i(i.S+i.F*n(4253)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},3750:(t,e,n)=>{"use strict";var i=n(2985),r=n(7628);i(i.P+i.F*!n(7717)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},3057:(t,e,n)=>{"use strict";var i=n(2985),r=n(7628);i(i.P+i.F*!n(7717)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},110:(t,e,n)=>{"use strict";var i=n(2985),r=n(639),o=n(2032),s=n(2337),a=n(875),g=[].slice;i(i.P+i.F*n(4253)((function(){r&&g.call(r)})),"Array",{slice:function(t,e){var n=a(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return g.call(this,t,e);for(var r=s(t,n),A=s(e,n),C=a(A-r),I=new Array(C),c=0;c<C;c++)I[c]="String"==i?this.charAt(r+c):this[r+c];return I}})},6773:(t,e,n)=>{"use strict";var i=n(2985),r=n(50)(3);i(i.P+i.F*!n(7717)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},75:(t,e,n)=>{"use strict";var i=n(2985),r=n(4963),o=n(508),s=n(4253),a=[].sort,g=[1,2,3];i(i.P+i.F*(s((function(){g.sort(void 0)}))||!s((function(){g.sort(null)}))||!n(7717)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},1842:(t,e,n)=>{n(2974)("Array")},1822:(t,e,n)=>{var i=n(2985);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},1031:(t,e,n)=>{var i=n(2985),r=n(3537);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},9977:(t,e,n)=>{"use strict";var i=n(2985),r=n(508),o=n(1689);i(i.P+i.F*n(4253)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},1560:(t,e,n)=>{var i=n(6314)("toPrimitive"),r=Date.prototype;i in r||n(7728)(r,i,n(870))},6331:(t,e,n)=>{var i=Date.prototype,r="Invalid Date",o=i.toString,s=i.getTime;new Date(NaN)+""!=r&&n(7234)(i,"toString",(function(){var t=s.call(this);return t==t?o.call(this):r}))},9730:(t,e,n)=>{var i=n(2985);i(i.P,"Function",{bind:n(4398)})},8377:(t,e,n)=>{"use strict";var i=n(5286),r=n(468),o=n(6314)("hasInstance"),s=Function.prototype;o in s||n(9275).f(s,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},6059:(t,e,n)=>{var i=n(9275).f,r=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in r||n(7057)&&i(r,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},8416:(t,e,n)=>{"use strict";var i=n(9824),r=n(1616),o="Map";t.exports=n(5795)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=i.getEntry(r(this,o),t);return e&&e.v},set:function(t,e){return i.def(r(this,o),0===t?0:t,e)}},i,!0)},6503:(t,e,n)=>{var i=n(2985),r=n(6206),o=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},6786:(t,e,n)=>{var i=n(2985),r=Math.asinh;i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},932:(t,e,n)=>{var i=n(2985),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},7526:(t,e,n)=>{var i=n(2985),r=n(1801);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},1591:(t,e,n)=>{var i=n(2985);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},9073:(t,e,n)=>{var i=n(2985),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},347:(t,e,n)=>{var i=n(2985),r=n(3086);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},579:(t,e,n)=>{var i=n(2985);i(i.S,"Math",{fround:n(4934)})},4669:(t,e,n)=>{var i=n(2985),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,o=0,s=0,a=arguments.length,g=0;s<a;)g<(n=r(arguments[s++]))?(o=o*(i=g/n)*i+1,g=n):o+=n>0?(i=n/g)*i:n;return g===1/0?1/0:g*Math.sqrt(o)}})},7710:(t,e,n)=>{var i=n(2985),r=Math.imul;i(i.S+i.F*n(4253)((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(t,e){var n=65535,i=+t,r=+e,o=n&i,s=n&r;return 0|o*s+((n&i>>>16)*s+o*(n&r>>>16)<<16>>>0)}})},5789:(t,e,n)=>{var i=n(2985);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},3514:(t,e,n)=>{var i=n(2985);i(i.S,"Math",{log1p:n(6206)})},9978:(t,e,n)=>{var i=n(2985);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},8472:(t,e,n)=>{var i=n(2985);i(i.S,"Math",{sign:n(1801)})},6946:(t,e,n)=>{var i=n(2985),r=n(3086),o=Math.exp;i(i.S+i.F*n(4253)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},5068:(t,e,n)=>{var i=n(2985),r=n(3086),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},413:(t,e,n)=>{var i=n(2985);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},1246:(t,e,n)=>{"use strict";var i=n(3816),r=n(9181),o=n(2032),s=n(266),a=n(1689),g=n(4253),A=n(616).f,C=n(8693).f,I=n(9275).f,c=n(9599).trim,l="Number",u=i.Number,h=u,d=u.prototype,f=o(n(2503)(d))==l,p="trim"in String.prototype,m=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,o=(e=p?e.trim():c(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,g=e.slice(2),A=0,C=g.length;A<C;A++)if((s=g.charCodeAt(A))<48||s>r)return NaN;return parseInt(g,i)}}return+e};if(!u(" 0o1")||!u("0b1")||u("+0x1")){u=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof u&&(f?g((function(){d.valueOf.call(n)})):o(n)!=l)?s(new h(m(e)),n,u):m(e)};for(var v,y=n(7057)?A(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;y.length>b;b++)r(h,v=y[b])&&!r(u,v)&&I(u,v,C(h,v));u.prototype=d,d.constructor=u,n(7234)(i,l,u)}},5972:(t,e,n)=>{var i=n(2985);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},3403:(t,e,n)=>{var i=n(2985),r=n(3816).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},2516:(t,e,n)=>{var i=n(2985);i(i.S,"Number",{isInteger:n(8367)})},9371:(t,e,n)=>{var i=n(2985);i(i.S,"Number",{isNaN:function(t){return t!=t}})},6479:(t,e,n)=>{var i=n(2985),r=n(8367),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},1736:(t,e,n)=>{var i=n(2985);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},1889:(t,e,n)=>{var i=n(2985);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},5177:(t,e,n)=>{var i=n(2985),r=n(7743);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},6943:(t,e,n)=>{var i=n(2985),r=n(5960);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},726:(t,e,n)=>{"use strict";var i=n(2985),r=n(1467),o=n(3365),s=n(8595),a=1..toFixed,g=Math.floor,A=[0,0,0,0,0,0],C="Number.toFixed: incorrect invocation!",I="0",c=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*A[n],A[n]=i%1e7,i=g(i/1e7)},l=function(t){for(var e=6,n=0;--e>=0;)n+=A[e],A[e]=g(n/t),n=n%t*1e7},u=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==A[t]){var n=String(A[t]);e=""===e?n:e+s.call(I,7-n.length)+n}return e},h=function(t,e,n){return 0===e?n:e%2==1?h(t,e-1,n*t):h(t*t,e/2,n)};i(i.P+i.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(4253)((function(){a.call({})}))),"Number",{toFixed:function(t){var e,n,i,a,g=o(this,C),A=r(t),d="",f=I;if(A<0||A>20)throw RangeError(C);if(g!=g)return"NaN";if(g<=-1e21||g>=1e21)return String(g);if(g<0&&(d="-",g=-g),g>1e-21)if(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(g*h(2,69,1))-69,n=e<0?g*h(2,-e,1):g/h(2,e,1),n*=4503599627370496,(e=52-e)>0){for(c(0,n),i=A;i>=7;)c(1e7,0),i-=7;for(c(h(10,i,1),0),i=e-1;i>=23;)l(1<<23),i-=23;l(1<<i),c(1,1),l(2),f=u()}else c(0,n),c(1<<-e,0),f=u()+s.call(I,A);return A>0?d+((a=f.length)<=A?"0."+s.call(I,A-a)+f:f.slice(0,a-A)+"."+f.slice(a-A)):d+f}})},1901:(t,e,n)=>{"use strict";var i=n(2985),r=n(4253),o=n(3365),s=1..toPrecision;i(i.P+i.F*(r((function(){return"1"!==s.call(1,void 0)}))||!r((function(){s.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},5115:(t,e,n)=>{var i=n(2985);i(i.S+i.F,"Object",{assign:n(5345)})},8132:(t,e,n)=>{var i=n(2985);i(i.S,"Object",{create:n(2503)})},7470:(t,e,n)=>{var i=n(2985);i(i.S+i.F*!n(7057),"Object",{defineProperties:n(5588)})},8388:(t,e,n)=>{var i=n(2985);i(i.S+i.F*!n(7057),"Object",{defineProperty:n(9275).f})},9375:(t,e,n)=>{var i=n(5286),r=n(4728).onFreeze;n(3160)("freeze",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},4882:(t,e,n)=>{var i=n(2110),r=n(8693).f;n(3160)("getOwnPropertyDescriptor",(function(){return function(t,e){return r(i(t),e)}}))},9622:(t,e,n)=>{n(3160)("getOwnPropertyNames",(function(){return n(9327).f}))},1520:(t,e,n)=>{var i=n(508),r=n(468);n(3160)("getPrototypeOf",(function(){return function(t){return r(i(t))}}))},9892:(t,e,n)=>{var i=n(5286);n(3160)("isExtensible",(function(t){return function(e){return!!i(e)&&(!t||t(e))}}))},4157:(t,e,n)=>{var i=n(5286);n(3160)("isFrozen",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},5095:(t,e,n)=>{var i=n(5286);n(3160)("isSealed",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},9176:(t,e,n)=>{var i=n(2985);i(i.S,"Object",{is:n(7195)})},7476:(t,e,n)=>{var i=n(508),r=n(7184);n(3160)("keys",(function(){return function(t){return r(i(t))}}))},4672:(t,e,n)=>{var i=n(5286),r=n(4728).onFreeze;n(3160)("preventExtensions",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},3533:(t,e,n)=>{var i=n(5286),r=n(4728).onFreeze;n(3160)("seal",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},8838:(t,e,n)=>{var i=n(2985);i(i.S,"Object",{setPrototypeOf:n(7375).set})},6253:(t,e,n)=>{"use strict";var i=n(1488),r={};r[n(6314)("toStringTag")]="z",r+""!="[object z]"&&n(7234)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},4299:(t,e,n)=>{var i=n(2985),r=n(7743);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},1084:(t,e,n)=>{var i=n(2985),r=n(5960);i(i.G+i.F*(parseInt!=r),{parseInt:r})},851:(t,e,n)=>{"use strict";var i,r,o,s,a=n(4461),g=n(3816),A=n(741),C=n(1488),I=n(2985),c=n(5286),l=n(4963),u=n(3328),h=n(3531),d=n(8364),f=n(4193).set,p=n(4351)(),m=n(3499),v=n(188),y=n(575),b=n(94),_="Promise",w=g.TypeError,x=g.process,S=x&&x.versions,E=S&&S.v8||"",M=g.Promise,T="process"==C(x),R=function(){},O=r=m.f,L=!!function(){try{var t=M.resolve(1),e=(t.constructor={})[n(6314)("species")]=function(t){t(R,R)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(R)instanceof e&&0!==E.indexOf("6.6")&&-1===y.indexOf("Chrome/66")}catch(t){}}(),k=function(t){var e;return!(!c(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;p((function(){for(var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s,a=r?e.ok:e.fail,g=e.resolve,A=e.reject,C=e.domain;try{a?(r||(2==t._h&&j(t),t._h=1),!0===a?n=i:(C&&C.enter(),n=a(i),C&&(C.exit(),s=!0)),n===e.promise?A(w("Promise-chain cycle")):(o=k(n))?o.call(n,g,A):g(n)):A(i)}catch(t){C&&!s&&C.exit(),A(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&N(t)}))}},N=function(t){f.call(g,(function(){var e,n,i,r=t._v,o=P(t);if(o&&(e=v((function(){T?x.emit("unhandledRejection",r,t):(n=g.onunhandledrejection)?n({promise:t,reason:r}):(i=g.console)&&i.error&&i.error("Unhandled promise rejection",r)})),t._h=T||P(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},P=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){f.call(g,(function(){var e;T?x.emit("rejectionHandled",t):(e=g.onrejectionhandled)&&e({promise:t,reason:t._v})}))},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},z=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(e=k(t))?p((function(){var i={_w:n,_d:!1};try{e.call(t,A(z,i,1),A(F,i,1))}catch(t){F.call(i,t)}})):(n._v=t,n._s=1,D(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};L||(M=function(t){u(this,M,_,"_h"),l(t),i.call(this);try{t(A(z,this,1),A(F,this,1))}catch(t){F.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(4408)(M.prototype,{then:function(t,e){var n=O(d(this,M));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=A(z,t,1),this.reject=A(F,t,1)},m.f=O=function(t){return t===M||t===s?new o(t):r(t)}),I(I.G+I.W+I.F*!L,{Promise:M}),n(2943)(M,_),n(2974)(_),s=n(5645).Promise,I(I.S+I.F*!L,_,{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),I(I.S+I.F*(a||!L),_,{resolve:function(t){return b(a&&this===s?M:this,t)}}),I(I.S+I.F*!(L&&n(7462)((function(t){M.all(t).catch(R)}))),_,{all:function(t){var e=this,n=O(e),i=n.resolve,r=n.reject,o=v((function(){var n=[],o=0,s=1;h(t,!1,(function(t){var a=o++,g=!1;n.push(void 0),s++,e.resolve(t).then((function(t){g||(g=!0,n[a]=t,--s||i(n))}),r)})),--s||i(n)}));return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=O(e),i=n.reject,r=v((function(){h(t,!1,(function(t){e.resolve(t).then(n.resolve,i)}))}));return r.e&&i(r.v),n.promise}})},1572:(t,e,n)=>{var i=n(2985),r=n(4963),o=n(7007),s=(n(3816).Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!n(4253)((function(){s((function(){}))})),"Reflect",{apply:function(t,e,n){var i=r(t),g=o(n);return s?s(i,e,g):a.call(i,e,g)}})},2139:(t,e,n)=>{var i=n(2985),r=n(2503),o=n(4963),s=n(7007),a=n(5286),g=n(4253),A=n(4398),C=(n(3816).Reflect||{}).construct,I=g((function(){function t(){}return!(C((function(){}),[],t)instanceof t)})),c=!g((function(){C((function(){}))}));i(i.S+i.F*(I||c),"Reflect",{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(c&&!I)return C(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(A.apply(t,i))}var g=n.prototype,l=r(a(g)?g:Object.prototype),u=Function.apply.call(t,l,e);return a(u)?u:l}})},685:(t,e,n)=>{var i=n(9275),r=n(2985),o=n(7007),s=n(1689);r(r.S+r.F*n(4253)((function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},5535:(t,e,n)=>{var i=n(2985),r=n(8693).f,o=n(7007);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},7347:(t,e,n)=>{"use strict";var i=n(2985),r=n(7007),o=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(9988)(o,"Object",(function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}})),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},6633:(t,e,n)=>{var i=n(8693),r=n(2985),o=n(7007);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},8989:(t,e,n)=>{var i=n(2985),r=n(468),o=n(7007);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},3049:(t,e,n)=>{var i=n(8693),r=n(468),o=n(9181),s=n(2985),a=n(5286),g=n(7007);s(s.S,"Reflect",{get:function t(e,n){var s,A,C=arguments.length<3?e:arguments[2];return g(e)===C?e[n]:(s=i.f(e,n))?o(s,"value")?s.value:void 0!==s.get?s.get.call(C):void 0:a(A=r(e))?t(A,n,C):void 0}})},8270:(t,e,n)=>{var i=n(2985);i(i.S,"Reflect",{has:function(t,e){return e in t}})},4510:(t,e,n)=>{var i=n(2985),r=n(7007),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},3984:(t,e,n)=>{var i=n(2985);i(i.S,"Reflect",{ownKeys:n(7643)})},5769:(t,e,n)=>{var i=n(2985),r=n(7007),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},6014:(t,e,n)=>{var i=n(2985),r=n(7375);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},55:(t,e,n)=>{var i=n(9275),r=n(8693),o=n(468),s=n(9181),a=n(2985),g=n(681),A=n(7007),C=n(5286);a(a.S,"Reflect",{set:function t(e,n,a){var I,c,l=arguments.length<4?e:arguments[3],u=r.f(A(e),n);if(!u){if(C(c=o(e)))return t(c,n,a,l);u=g(0)}if(s(u,"value")){if(!1===u.writable||!C(l))return!1;if(I=r.f(l,n)){if(I.get||I.set||!1===I.writable)return!1;I.value=a,i.f(l,n,I)}else i.f(l,n,g(0,a));return!0}return void 0!==u.set&&(u.set.call(l,a),!0)}})},3946:(t,e,n)=>{var i=n(3816),r=n(266),o=n(9275).f,s=n(616).f,a=n(5364),g=n(3218),A=i.RegExp,C=A,I=A.prototype,c=/a/g,l=/a/g,u=new A(c)!==c;if(n(7057)&&(!u||n(4253)((function(){return l[n(6314)("match")]=!1,A(c)!=c||A(l)==l||"/a/i"!=A(c,"i")})))){A=function(t,e){var n=this instanceof A,i=a(t),o=void 0===e;return!n&&i&&t.constructor===A&&o?t:r(u?new C(i&&!o?t.source:t,e):C((i=t instanceof A)?t.source:t,i&&o?g.call(t):e),n?this:I,A)};for(var h=function(t){t in A||o(A,t,{configurable:!0,get:function(){return C[t]},set:function(e){C[t]=e}})},d=s(C),f=0;d.length>f;)h(d[f++]);I.constructor=A,A.prototype=I,n(7234)(i,"RegExp",A)}n(2974)("RegExp")},8269:(t,e,n)=>{"use strict";var i=n(1165);n(2985)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},6774:(t,e,n)=>{n(7057)&&"g"!=/./g.flags&&n(9275).f(RegExp.prototype,"flags",{configurable:!0,get:n(3218)})},1466:(t,e,n)=>{"use strict";var i=n(7007),r=n(875),o=n(6793),s=n(7787);n(8082)("match",1,(function(t,e,n,a){return[function(n){var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=a(n,t,this);if(e.done)return e.value;var g=i(t),A=String(this);if(!g.global)return s(g,A);var C=g.unicode;g.lastIndex=0;for(var I,c=[],l=0;null!==(I=s(g,A));){var u=String(I[0]);c[l]=u,""===u&&(g.lastIndex=o(A,r(g.lastIndex),C)),l++}return 0===l?null:c}]}))},9357:(t,e,n)=>{"use strict";var i=n(7007),r=n(508),o=n(875),s=n(1467),a=n(6793),g=n(7787),A=Math.max,C=Math.min,I=Math.floor,c=/\$([$&`']|\d\d?|<[^>]*>)/g,l=/\$([$&`']|\d\d?)/g;n(8082)("replace",2,(function(t,e,n,u){return[function(i,r){var o=t(this),s=null==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},function(t,e){var r=u(n,t,this,e);if(r.done)return r.value;var I=i(t),c=String(this),l="function"==typeof e;l||(e=String(e));var d=I.global;if(d){var f=I.unicode;I.lastIndex=0}for(var p=[];;){var m=g(I,c);if(null===m)break;if(p.push(m),!d)break;""===String(m[0])&&(I.lastIndex=a(c,o(I.lastIndex),f))}for(var v,y="",b=0,_=0;_<p.length;_++){m=p[_];for(var w=String(m[0]),x=A(C(s(m.index),c.length),0),S=[],E=1;E<m.length;E++)S.push(void 0===(v=m[E])?v:String(v));var M=m.groups;if(l){var T=[w].concat(S,x,c);void 0!==M&&T.push(M);var R=String(e.apply(void 0,T))}else R=h(w,c,x,S,M,e);x>=b&&(y+=c.slice(b,x)+R,b=x+w.length)}return y+c.slice(b)}];function h(t,e,i,o,s,a){var g=i+t.length,A=o.length,C=l;return void 0!==s&&(s=r(s),C=c),n.call(a,C,(function(n,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(g);case"<":a=s[r.slice(1,-1)];break;default:var C=+r;if(0===C)return n;if(C>A){var c=I(C/10);return 0===c?n:c<=A?void 0===o[c-1]?r.charAt(1):o[c-1]+r.charAt(1):n}a=o[C-1]}return void 0===a?"":a}))}}))},6142:(t,e,n)=>{"use strict";var i=n(7007),r=n(7195),o=n(7787);n(8082)("search",1,(function(t,e,n,s){return[function(n){var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=s(n,t,this);if(e.done)return e.value;var a=i(t),g=String(this),A=a.lastIndex;r(A,0)||(a.lastIndex=0);var C=o(a,g);return r(a.lastIndex,A)||(a.lastIndex=A),null===C?-1:C.index}]}))},1876:(t,e,n)=>{"use strict";var i=n(5364),r=n(7007),o=n(8364),s=n(6793),a=n(875),g=n(7787),A=n(1165),C=n(4253),I=Math.min,c=[].push,l=4294967295,u=!C((function(){RegExp(l,"y")}));n(8082)("split",2,(function(t,e,n,C){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);for(var o,s,a,g=[],C=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),I=0,u=void 0===e?l:e>>>0,h=new RegExp(t.source,C+"g");(o=A.call(h,r))&&!((s=h.lastIndex)>I&&(g.push(r.slice(I,o.index)),o.length>1&&o.index<r.length&&c.apply(g,o.slice(1)),a=o[0].length,I=s,g.length>=u));)h.lastIndex===o.index&&h.lastIndex++;return I===r.length?!a&&h.test("")||g.push(""):g.push(r.slice(I)),g.length>u?g.slice(0,u):g}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r,i):h.call(String(r),n,i)},function(t,e){var i=C(h,t,this,e,h!==n);if(i.done)return i.value;var A=r(t),c=String(this),d=o(A,RegExp),f=A.unicode,p=(A.ignoreCase?"i":"")+(A.multiline?"m":"")+(A.unicode?"u":"")+(u?"y":"g"),m=new d(u?A:"^(?:"+A.source+")",p),v=void 0===e?l:e>>>0;if(0===v)return[];if(0===c.length)return null===g(m,c)?[c]:[];for(var y=0,b=0,_=[];b<c.length;){m.lastIndex=u?b:0;var w,x=g(m,u?c:c.slice(b));if(null===x||(w=I(a(m.lastIndex+(u?0:b)),c.length))===y)b=s(c,b,f);else{if(_.push(c.slice(y,b)),_.length===v)return _;for(var S=1;S<=x.length-1;S++)if(_.push(x[S]),_.length===v)return _;b=y=w}}return _.push(c.slice(y)),_}]}))},6108:(t,e,n)=>{"use strict";n(6774);var i=n(7007),r=n(3218),o=n(7057),s="toString",a=/./.toString,g=function(t){n(7234)(RegExp.prototype,s,t,!0)};n(4253)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?g((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):a.name!=s&&g((function(){return a.call(this)}))},8184:(t,e,n)=>{"use strict";var i=n(9824),r=n(1616);t.exports=n(5795)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},856:(t,e,n)=>{"use strict";n(9395)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},703:(t,e,n)=>{"use strict";n(9395)("big",(function(t){return function(){return t(this,"big","","")}}))},1539:(t,e,n)=>{"use strict";n(9395)("blink",(function(t){return function(){return t(this,"blink","","")}}))},5292:(t,e,n)=>{"use strict";n(9395)("bold",(function(t){return function(){return t(this,"b","","")}}))},9539:(t,e,n)=>{"use strict";var i=n(2985),r=n(4496)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},6620:(t,e,n)=>{"use strict";var i=n(2985),r=n(875),o=n(2094),s="endsWith",a="".endsWith;i(i.P+i.F*n(8852)(s),"String",{endsWith:function(t){var e=o(this,t,s),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),g=void 0===n?i:Math.min(r(n),i),A=String(t);return a?a.call(e,A,g):e.slice(g-A.length,g)===A}})},6629:(t,e,n)=>{"use strict";n(9395)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},3694:(t,e,n)=>{"use strict";n(9395)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},7648:(t,e,n)=>{"use strict";n(9395)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},191:(t,e,n)=>{var i=n(2985),r=n(2337),o=String.fromCharCode,s=String.fromCodePoint;i(i.S+i.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,s=0;i>s;){if(e=+arguments[s++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},2850:(t,e,n)=>{"use strict";var i=n(2985),r=n(2094),o="includes";i(i.P+i.F*n(8852)(o),"String",{includes:function(t){return!!~r(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},7795:(t,e,n)=>{"use strict";n(9395)("italics",(function(t){return function(){return t(this,"i","","")}}))},9115:(t,e,n)=>{"use strict";var i=n(4496)(!0);n(2923)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},4531:(t,e,n)=>{"use strict";n(9395)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},8306:(t,e,n)=>{var i=n(2985),r=n(2110),o=n(875);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,s=[],a=0;n>a;)s.push(String(e[a++])),a<i&&s.push(String(arguments[a]));return s.join("")}})},823:(t,e,n)=>{var i=n(2985);i(i.P,"String",{repeat:n(8595)})},3605:(t,e,n)=>{"use strict";n(9395)("small",(function(t){return function(){return t(this,"small","","")}}))},7732:(t,e,n)=>{"use strict";var i=n(2985),r=n(875),o=n(2094),s="startsWith",a="".startsWith;i(i.P+i.F*n(8852)(s),"String",{startsWith:function(t){var e=o(this,t,s),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return a?a.call(e,i,n):e.slice(n,n+i.length)===i}})},6780:(t,e,n)=>{"use strict";n(9395)("strike",(function(t){return function(){return t(this,"strike","","")}}))},9937:(t,e,n)=>{"use strict";n(9395)("sub",(function(t){return function(){return t(this,"sub","","")}}))},511:(t,e,n)=>{"use strict";n(9395)("sup",(function(t){return function(){return t(this,"sup","","")}}))},4564:(t,e,n)=>{"use strict";n(9599)("trim",(function(t){return function(){return t(this,3)}}))},5767:(t,e,n)=>{"use strict";var i=n(3816),r=n(9181),o=n(7057),s=n(2985),a=n(7234),g=n(4728).KEY,A=n(4253),C=n(3825),I=n(2943),c=n(3953),l=n(6314),u=n(8787),h=n(6074),d=n(5541),f=n(4302),p=n(7007),m=n(5286),v=n(508),y=n(2110),b=n(1689),_=n(681),w=n(2503),x=n(9327),S=n(8693),E=n(4548),M=n(9275),T=n(7184),R=S.f,O=M.f,L=x.f,k=i.Symbol,D=i.JSON,N=D&&D.stringify,P=l("_hidden"),j=l("toPrimitive"),F={}.propertyIsEnumerable,z=C("symbol-registry"),B=C("symbols"),U=C("op-symbols"),H=Object.prototype,G="function"==typeof k&&!!E.f,W=i.QObject,V=!W||!W.prototype||!W.prototype.findChild,Z=o&&A((function(){return 7!=w(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=R(H,e);i&&delete H[e],O(t,e,n),i&&t!==H&&O(H,e,i)}:O,Y=function(t){var e=B[t]=w(k.prototype);return e._k=t,e},X=G&&"symbol"==typeof k.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof k},J=function(t,e,n){return t===H&&J(U,e,n),p(t),e=b(e,!0),p(n),r(B,e)?(n.enumerable?(r(t,P)&&t[P][e]&&(t[P][e]=!1),n=w(n,{enumerable:_(0,!1)})):(r(t,P)||O(t,P,_(1,{})),t[P][e]=!0),Z(t,e,n)):O(t,e,n)},K=function(t,e){p(t);for(var n,i=d(e=y(e)),r=0,o=i.length;o>r;)J(t,n=i[r++],e[n]);return t},q=function(t){var e=F.call(this,t=b(t,!0));return!(this===H&&r(B,t)&&!r(U,t))&&(!(e||!r(this,t)||!r(B,t)||r(this,P)&&this[P][t])||e)},Q=function(t,e){if(t=y(t),e=b(e,!0),t!==H||!r(B,e)||r(U,e)){var n=R(t,e);return!n||!r(B,e)||r(t,P)&&t[P][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=L(y(t)),i=[],o=0;n.length>o;)r(B,e=n[o++])||e==P||e==g||i.push(e);return i},tt=function(t){for(var e,n=t===H,i=L(n?U:y(t)),o=[],s=0;i.length>s;)!r(B,e=i[s++])||n&&!r(H,e)||o.push(B[e]);return o};G||(k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var t=c(arguments.length>0?arguments[0]:void 0),e=function(n){this===H&&e.call(U,n),r(this,P)&&r(this[P],t)&&(this[P][t]=!1),Z(this,t,_(1,n))};return o&&V&&Z(H,t,{configurable:!0,set:e}),Y(t)},a(k.prototype,"toString",(function(){return this._k})),S.f=Q,M.f=J,n(616).f=x.f=$,n(4682).f=q,E.f=tt,o&&!n(4461)&&a(H,"propertyIsEnumerable",q,!0),u.f=function(t){return Y(l(t))}),s(s.G+s.W+s.F*!G,{Symbol:k});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)l(et[nt++]);for(var it=T(l.store),rt=0;it.length>rt;)h(it[rt++]);s(s.S+s.F*!G,"Symbol",{for:function(t){return r(z,t+="")?z[t]:z[t]=k(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in z)if(z[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!G,"Object",{create:function(t,e){return void 0===e?w(t):K(w(t),e)},defineProperty:J,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:tt});var ot=A((function(){E.f(1)}));s(s.S+s.F*ot,"Object",{getOwnPropertySymbols:function(t){return E.f(v(t))}}),D&&s(s.S+s.F*(!G||A((function(){var t=k();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(m(e)||void 0!==t)&&!X(t))return f(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!X(e))return e}),i[1]=e,N.apply(D,i)}}),k.prototype[j]||n(7728)(k.prototype,j,k.prototype.valueOf),I(k,"Symbol"),I(Math,"Math",!0),I(i.JSON,"JSON",!0)},142:(t,e,n)=>{"use strict";var i=n(2985),r=n(9383),o=n(1125),s=n(7007),a=n(2337),g=n(875),A=n(5286),C=n(3816).ArrayBuffer,I=n(8364),c=o.ArrayBuffer,l=o.DataView,u=r.ABV&&C.isView,h=c.prototype.slice,d=r.VIEW,f="ArrayBuffer";i(i.G+i.W+i.F*(C!==c),{ArrayBuffer:c}),i(i.S+i.F*!r.CONSTR,f,{isView:function(t){return u&&u(t)||A(t)&&d in t}}),i(i.P+i.U+i.F*n(4253)((function(){return!new c(2).slice(1,void 0).byteLength})),f,{slice:function(t,e){if(void 0!==h&&void 0===e)return h.call(s(this),t);for(var n=s(this).byteLength,i=a(t,n),r=a(void 0===e?n:e,n),o=new(I(this,c))(g(r-i)),A=new l(this),C=new l(o),u=0;i<r;)C.setUint8(u++,A.getUint8(i++));return o}}),n(2974)(f)},1786:(t,e,n)=>{var i=n(2985);i(i.G+i.W+i.F*!n(9383).ABV,{DataView:n(1125).DataView})},162:(t,e,n)=>{n(8440)("Float32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},3834:(t,e,n)=>{n(8440)("Float64",8,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},4821:(t,e,n)=>{n(8440)("Int16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},1303:(t,e,n)=>{n(8440)("Int32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},5368:(t,e,n)=>{n(8440)("Int8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},9103:(t,e,n)=>{n(8440)("Uint16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},3318:(t,e,n)=>{n(8440)("Uint32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},6964:(t,e,n)=>{n(8440)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},2152:(t,e,n)=>{n(8440)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}),!0)},147:(t,e,n)=>{"use strict";var i,r=n(3816),o=n(50)(0),s=n(7234),a=n(4728),g=n(5345),A=n(3657),C=n(5286),I=n(1616),c=n(1616),l=!r.ActiveXObject&&"ActiveXObject"in r,u="WeakMap",h=a.getWeak,d=Object.isExtensible,f=A.ufstore,p=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(t){if(C(t)){var e=h(t);return!0===e?f(I(this,u)).get(t):e?e[this._i]:void 0}},set:function(t,e){return A.def(I(this,u),t,e)}},v=t.exports=n(5795)(u,p,m,A,!0,!0);c&&l&&(g((i=A.getConstructor(p,u)).prototype,m),a.NEED=!0,o(["delete","has","get","set"],(function(t){var e=v.prototype,n=e[t];s(e,t,(function(e,r){if(C(e)&&!d(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)}))})))},9192:(t,e,n)=>{"use strict";var i=n(3657),r=n(1616),o="WeakSet";n(5795)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,o),t,!0)}},i,!1,!0)},1268:(t,e,n)=>{"use strict";var i=n(2985),r=n(3325),o=n(508),s=n(875),a=n(4963),g=n(6886);i(i.P,"Array",{flatMap:function(t){var e,n,i=o(this);return a(t),e=s(i.length),n=g(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),n(7722)("flatMap")},2773:(t,e,n)=>{"use strict";var i=n(2985),r=n(9315)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(7722)("includes")},3276:(t,e,n)=>{var i=n(2985),r=n(1131)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},8351:(t,e,n)=>{var i=n(2985),r=n(7643),o=n(2110),s=n(8693),a=n(2811);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),g=s.f,A=r(i),C={},I=0;A.length>I;)void 0!==(n=g(i,e=A[I++]))&&a(C,e,n);return C}})},6409:(t,e,n)=>{var i=n(2985),r=n(1131)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},9865:(t,e,n)=>{"use strict";var i=n(2985),r=n(5645),o=n(3816),s=n(8364),a=n(94);i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},2770:(t,e,n)=>{"use strict";var i=n(2985),r=n(5442),o=n(575),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*s,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},1784:(t,e,n)=>{"use strict";var i=n(2985),r=n(5442),o=n(575),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*s,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},5869:(t,e,n)=>{"use strict";n(9599)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},4325:(t,e,n)=>{"use strict";n(9599)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},9665:(t,e,n)=>{n(6074)("asyncIterator")},1181:(t,e,n)=>{for(var i=n(6997),r=n(7184),o=n(7234),s=n(3816),a=n(7728),g=n(2803),A=n(6314),C=A("iterator"),I=A("toStringTag"),c=g.Array,l={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},u=r(l),h=0;h<u.length;h++){var d,f=u[h],p=l[f],m=s[f],v=m&&m.prototype;if(v&&(v[C]||a(v,C,c),v[I]||a(v,I,f),g[f]=c,p))for(d in i)v[d]||o(v,d,i[d],!0)}},4633:(t,e,n)=>{var i=n(2985),r=n(4193);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},2564:(t,e,n)=>{var i=n(3816),r=n(2985),o=n(575),s=[].slice,a=/MSIE .\./.test(o),g=function(t){return function(e,n){var i=arguments.length>2,r=!!i&&s.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*a,{setTimeout:g(i.setTimeout),setInterval:g(i.setInterval)})},6337:(t,e,n)=>{n(2564),n(4633),n(1181),t.exports=n(5645)},4087:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,".lm_root{\n\tposition: relative;\n}\n\n.lm_row > .lm_item{\n\tfloat: left;\n}\n\n.lm_content{\n\toverflow: hidden;\n}\n\n.lm_dragging, .lm_dragging *{\n\tcursor: move !important;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\t-o-user-select: none;\n\tuser-select: none;\n}\n\n.lm_maximised{\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tz-index: 40;\n}\n\n.lm_maximise_placeholder{\n\tdisplay: none;\n}\n\n.lm_splitter{\n\tposition: relative;\n\tz-index: 2;\n}\n\n.lm_splitter:hover{\n\tbackground: orange;\n}\n\n.lm_splitter.lm_vertical .lm_drag_handle{\n\tposition: absolute;\n\theight: 25px;\n\ttop: -10px;\n\tcursor: n-resize;\n\twidth: 100%;\n}\n\n.lm_splitter.lm_horizontal{\n\theight: 100%;\n\tfloat: left;\n}\n\n.lm_splitter.lm_horizontal .lm_drag_handle{\n\tposition: absolute;\n\twidth: 25px;\n\tleft: -10px;\n\tcursor: e-resize;\n\theight: 100%;\n}\n\n.lm_header{\n\tposition: relative;\n\toverflow: visible;\n}\n\n.lm_header * {\n\tbox-sizing: content-box !important;\n}\n\n.lm_header > ul{\n\tlist-style-type: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.lm_header .lm_controls{\n\tright: 3px;\n\tposition: absolute;\n}\n\n.lm_header .lm_controls > li{\n\twidth: 18px;\n\theight: 18px;\n\tfloat: left;\n\ttext-align: center;\n\tcursor: pointer;\n}\n\n.lm_header .lm_tabs{\n\tposition: absolute;\n}\n\n.lm_header .lm_tab{\n\tfloat: left;\n\tpadding: 0px 10px 5px;\n\theight: 14px;\n\tmargin-top: 1px;\n\tcursor: pointer;\n\tposition: relative;\n\tpadding-right: 25px;\n}\n\n.lm_header .lm_tab i{\n\theight: 19px;\n\twidth: 2px;\n\tposition: absolute;\n}\n\n.lm_header .lm_tab i.lm_left{\n\tleft: -2px;\n\ttop: 0;\n}\n\n.lm_header .lm_tab i.lm_right{\n\tright: -2px;\n\ttop: 0;\n}\n\n.lm_header .lm_tab .lm_title{\n\ttext-overflow: ellipsis;\n\tdisplay: inline-block;\n\toverflow: hidden;\n}\n\n.lm_header .lm_tab .lm_close_tab{\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\twidth: 14px;\n\theight: 14px;\n\ttext-align: center;\n}\n\n.lm_drop_tab_placeholder{\n\twidth: 100px;\n\theight: 10px;\n\tfloat: left;\n\tvisibility: hidden;\n}\n\n/***********************************\n* Drag Proxy\n***********************************/\n.lm_dragProxy{\n\tposition: absolute;\n\tz-index: 3;\n\ttop: 0;\n\tleft: 0;\n}\n\n.lm_dragProxy .lm_header{\n\tbackground: transparent;\n}\n\n.lm_dragProxy .lm_content{\n\tborder-top: none;\n\toverflow: hidden;\n}\n\n.lm_dropTargetIndicator{\n\tposition: absolute;\n\tz-index: 2;\n\tdisplay: none;\n}\n\n.lm_dropTargetIndicator .lm_inner{\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n\tleft: 0;\n\ttop: 0;\n}\n\n.lm_transition_indicator{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: none;\n\twidth: 20px;\n\theight: 20px;\n\tz-index: 2;\n}\n\n\n.lm_popin{\n\twidth: 20px;\n\theight: 20px;\n\tposition: absolute;\n\tz-index: 9999;\n\tbottom: 0;\n\tright: 0;\n}\n\n.lm_popin > *{\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.lm_popin > .lm_bg{\n\tz-index: 1;\n}\n\n.lm_popin > .lm_icon{\n\tz-index: 2;\n}",""]);const o=r},6406:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,".lm_goldenlayout{\n\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAGFBMVEX29vb19fXw8PDy8vL09PTz8/Pv7+/x8fGKuegbAAAAyUlEQVR42pXRQQ7CMBRDwST9pfe/MahEmgURbt7WmpVb6+vG0dd9REnn66xRy/qXiCgmEIIJhGACIZhACCYQgvlDCDFIEAwSBIMEwSBBMEgQDBIEgwTBIEEwCJEMQiSDENFMQmQzCZEbNyGemd6KeGZ6u4hnXe2qbdLHFjhf1XqNLXHev4wdMd9nspiEiWISJgqECQJhgkCYIBAmCIQJAmGCQJggECYJhAkCEUMEwhCBMEQgDJEIQ2RSg0iEIRJhiB/S+rrjqvXQ3paIJUgPBXxiAAAAAElFTkSuQmCC);\n}\n\n.lm_content{\n\tbackground: #e1e1e1;\n\tborder: 1px solid #ccc;\n}\n\n.lm_dragProxy .lm_content{\n\tbox-shadow: 2px 2px 4px rgba( 0, 0, 0, 0.2 );\n}\n\n.lm_dropTargetIndicator{\n\tbox-shadow: inset 0 0 30px rgba(0,0,0,0.4);\n\toutline: 1px dashed #ccc;\n\tmargin: 1px;\n\ttransition: all 200ms ease;\n}\n\n.lm_dropTargetIndicator .lm_inner{\n\tbackground: #000;\n\topacity: 0.1;\n\tfilter: alpha(opacity=1);\n}\n\n.lm_splitter{\n\tbackground: #999;\n\topacity: 0.001;\n\ttransition: opacity 200ms ease;\n}\n\n.lm_splitter:hover{\n\topacity: 1;\n\tbackground: #bbb;\n}\n\n.lm_header{\n\theight: 20px;\n}\n\n.lm_header.lm_selectable{\n\tcursor: pointer;\n}\n\n.lm_selected .lm_header{\n\tbackground-color: #452500;\n}\n\n.lm_maximised .lm_header{\n\tbackground-color: #fff;\n}\n\n.lm_header .lm_tab{\n\tbackground: #fafafa;\n\tcolor: #888;\n\tfont-size: 12px;\n\tpadding-bottom: 4px;\n\tfont-family: Arial, sans-serif;\n\tmargin-right: 2px;\n\tborder: 1px solid #ccc;\n\tborder-bottom: none;\n}\n.lm_header .lm_tab .lm_title{\n\tpadding-top: 1px;\n}\n\n.lm_tab.lm_active, \n.lm_tab:hover{\n\tcolor: #777;\n\tbackground: #e1e1e1;\n}\n\n.lm_header .lm_tab.lm_active{\n\tpadding-bottom: 5px;\n\tborder-bottom: none;\n\tbox-shadow: 2px -2px 2px -2px rgba(0,0,0,0.2);\n}\n\n.lm_header .lm_tab .lm_close_tab{\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\topacity: 0.4;\n\tfilter: alpha(opacity=40);\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5kmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNC0wOS0xNlQwODo0MTo0NiswMTowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE0LTA5LTE2VDA4OjQzOjE0KzAxOjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wOS0xNlQwODo0MzoxNCswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDphODMwZjcyMS05NDE1LWU4NDQtOWYzMi00YTY0MDA1N2JkNDg8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6RUNBMEI2MkRGMzlBMTFFMzgxM0VDNkYyMDI0MDVFRjM8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6RUNBMEI2MkFGMzlBMTFFMzgxM0VDNkYyMDI0MDVFRjM8L3N0UmVmOmluc3RhbmNlSUQ+CiAgICAgICAgICAgIDxzdFJlZjpkb2N1bWVudElEPnhtcC5kaWQ6RUNBMEI2MkJGMzlBMTFFMzgxM0VDNkYyMDI0MDVFRjM8L3N0UmVmOmRvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpFQ0EwQjYyREYzOUExMUUzODEzRUM2RjIwMjQwNUVGMzwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6YTgzMGY3MjEtOTQxNS1lODQ0LTlmMzItNGE2NDAwNTdiZDQ4PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTA5LTE2VDA4OjQzOjE0KzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj43PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjc8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PiqUBwkAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAClJREFUeNpiYGBg+M+AHfzHYODgwwVwmURY4j8hHf8JGfUfAAAA//8DABACDPQtb9jEAAAAAElFTkSuQmCC);\n}\n\n.lm_header .lm_tab .lm_close_tab{\n\twidth: 11px;\n\theight: 11px;\n\tright: 6px;\n\ttop: 4px;\n\tbackground-repeat: no-repeat;\n}\n\n.lm_header .lm_tab .lm_close_tab:hover,\n.lm_header .lm_tab.lm_active .lm_close_tab{\n\topacity: 1;\n\tfilter: alpha(opacity=100);\n}\n\n.lm_controls > li{\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n\topacity: 0.4;\n\tfilter: alpha(opacity=40);\n\t-webkit-transition: opacity 300ms ease;\n\t-o-transition: opacity 300ms ease;\n\t-ms-transition: opacity 300ms ease;\n\t-moz-transition: opacity 300ms ease;\n\ttransition: opacity 300ms ease;\n}\n\n.lm_controls > li:hover{\n\topacity: 1;\n\tfilter: alpha(opacity=100);\n}\n\n.lm_controls .lm_popout{\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5nmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpjOWFlODE3Zi0zMjcxLWJkNDItOTY0Mi03MDJiZjVkNGJmOWE8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpEOUM3NzIyQkZCNjIxMUUzQjNBQThGQjJDM0NEMjQwODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDpiZDE4NjdiYy1kZWIxLTZlNDUtOGVlMi0zNGVlZmE2MjhiMDU8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6YzlhZTgxN2YtMzI3MS1iZDQyLTk2NDItNzAyYmY1ZDRiZjlhPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOmM5YWU4MTdmLTMyNzEtYmQ0Mi05NjQyLTcwMmJmNWQ0YmY5YTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmJkMTg2N2JjLWRlYjEtNmU0NS04ZWUyLTM0ZWVmYTYyOGIwNTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wOS0xNlQwODozNTo1MCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDktMTZUMDg6MzQ6NDMrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wOS0xNlQwODozNTo1MCswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDktMTZUMDg6MzU6NTArMDE6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj45PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjk8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PrKVgHMAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAADlJREFUeNpiZECA/wxEAFyK/jMRo5uRgDWMDAwM/1mQODitZyLGnSxEOIeBKIezEBNGAAAAAP//AwArYwgQninC8AAAAABJRU5ErkJggg==);\n}\n\n.lm_controls .lm_maximise{\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5nmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpjOWFlODE3Zi0zMjcxLWJkNDItOTY0Mi03MDJiZjVkNGJmOWE8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpEOUNDRjE1RUZCNjIxMUUzQjNBQThGQjJDM0NEMjQwODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDo4NTQ0MTJmNi0zNzNlLWI0NGQtOTYzOS1hOWFjOWM0YmI2ZGU8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6YzlhZTgxN2YtMzI3MS1iZDQyLTk2NDItNzAyYmY1ZDRiZjlhPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOmM5YWU4MTdmLTMyNzEtYmQ0Mi05NjQyLTcwMmJmNWQ0YmY5YTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjg1NDQxMmY2LTM3M2UtYjQ0ZC05NjM5LWE5YWM5YzRiYjZkZTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wOS0xNlQwODozNTozOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDktMTZUMDg6MzQ6MDYrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wOS0xNlQwODozNTozOSswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDktMTZUMDg6MzU6MzkrMDE6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj45PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjk8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PsQ6Tk0AAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAACZJREFUeNpiZGBg+M9AADAxEAkImfSfKJMGoyJGYsIJAAAA//8DAE+8BAv7T9o1AAAAAElFTkSuQmCC);\n}\n\n.lm_maximised .lm_controls .lm_maximise{\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAA7U2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpjOWFlODE3Zi0zMjcxLWJkNDItOTY0Mi03MDJiZjVkNGJmOWE8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpEOUNDRjE1RUZCNjIxMUUzQjNBQThGQjJDM0NEMjQwODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDoyM2Q5NmRmZi02NjcxLTFmNDgtYmU3MC05MTc2NDQ1ODIzNDY8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6YzlhZTgxN2YtMzI3MS1iZDQyLTk2NDItNzAyYmY1ZDRiZjlhPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOmM5YWU4MTdmLTMyNzEtYmQ0Mi05NjQyLTcwMmJmNWQ0YmY5YTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjg1NDQxMmY2LTM3M2UtYjQ0ZC05NjM5LWE5YWM5YzRiYjZkZTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wOS0xNlQwODozNTozOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MjNkOTZkZmYtNjY3MS0xZjQ4LWJlNzAtOTE3NjQ0NTgyMzQ2PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTA5LTI4VDE2OjMxOjIxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNC0wOS0xNlQwODozNDowNiswMTowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE0LTA5LTI4VDE2OjMxOjIxKzAxOjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wOS0yOFQxNjozMToyMSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjk8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+OTwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+OroafQAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAALUlEQVR42mL8//8/AyHAxEAEGLKKWBgYGBgYGRlxhsP///8ZiTIJAAAA//8DAKUpBxFhGkvtAAAAAElFTkSuQmCC);\n}\n\n.lm_controls .lm_close{\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5nmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpjOWFlODE3Zi0zMjcxLWJkNDItOTY0Mi03MDJiZjVkNGJmOWE8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpEOUNDRjE2NkZCNjIxMUUzQjNBQThGQjJDM0NEMjQwODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDo0OTg3YmY4OC1lZDI3LWZmNDQtOWEzYS0yZDYwY2MzMDViNzg8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6YzlhZTgxN2YtMzI3MS1iZDQyLTk2NDItNzAyYmY1ZDRiZjlhPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOmM5YWU4MTdmLTMyNzEtYmQ0Mi05NjQyLTcwMmJmNWQ0YmY5YTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjQ5ODdiZjg4LWVkMjctZmY0NC05YTNhLTJkNjBjYzMwNWI3ODwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wOS0xNlQwODozNToyNCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDktMTZUMDg6MzM6MzcrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wOS0xNlQwODozNToyNCswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDktMTZUMDg6MzU6MjQrMDE6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj45PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjk8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PnzIv+YAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAADJJREFUeNpiYGBg+M+AH/zHYOBSgEvgPyGjCTmBeAX/iTXhP7FW/CfWDf8BAAAA//8DAOvuEPDOl61rAAAAAElFTkSuQmCC);\n}\n\n.lm_transition_indicator{\n\tbackground-color: #000;\n\tborder: 1px dashed #555;\n}\n\n.lm_popin{\n\tcursor: pointer;\n}\n\n.lm_popin .lm_bg{\n\tbackground: #000;\n\topacity: 0.7;\n\tfilter:alpha(opacity=70);\n}\n\n.lm_popin .lm_icon{\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\topacity: 0.7;\n\tfilter:alpha(opacity=70);\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxNTlCMjk5QzM3MUMxMUU0OTBFOUQ3QUI0Q0UzREQ0RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxNTlCMjk5RDM3MUMxMUU0OTBFOUQ3QUI0Q0UzREQ0RSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjE1OUIyOTlBMzcxQzExRTQ5MEU5RDdBQjRDRTNERDRFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjE1OUIyOTlCMzcxQzExRTQ5MEU5RDdBQjRDRTNERDRFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+3fq+uQAAAFxJREFUeNqcjosJwCAMRBNxgey/YzLCacRADaJtH/jlnh6rKoiIRYQCMwMdqC70gR4c6zzzwUGZmxBewQBynaVqxrNDelwsgZ3sUvEph2/U28s7Cv0gfvpUsQkwAKQyLdc+L4T6AAAAAElFTkSuQmCC);\n}\n\n.lm_popin:hover .lm_icon{\n\topacity: 1;\n\tfilter:alpha(opacity=100);\n}\n",""]);const o=r},5694:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,'#wrapper {\n    height: calc(100% - 32px);\n    position: relative;\n    width: 100%;\n    overflow: hidden;\n}\n\n#menuContainer {\n    width: 20%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background: #222;\n}\n\n#menuContainer li {\n    cursor: move;\n    border-bottom: 1px solid #000;\n    border-top: 1px solid #333;\n    cursor: pointer;\n    padding: 10px 5px;\n    color: #BBB;\n    background: #1a1a1a;\n    font: 12px Arial, sans-serif;\n}\n\n#menuContainer li:hover {\n    background: #111;\n    color: #CCC;\n}\n\n#layoutContainer {\n    width: 80%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 20%;\n    box-shadow: -3px 0px 9px 0px rgba( 0, 0, 0, 0.4);\n}\n\n\n/* PANEL BASE */\n.lm_controls .lm_cfgbtn {\n\n}\n.mainWin .lm_inbtn {\n  display: none;\n}\n.extWin .lm_outbtn {\n  display: none;\n}\n\n.s_content svg {\n    padding: 0;\n    position: absolute;\n}\n\n.s_content canvas {\n    padding : 0;\n    position: absolute;\n}\n.s_content .cfg {\n    display: none;\n    background-color: #000gff;\n}\n\n/*LAYOUT BASE*/\nbody .lm_content{\n  overflow: auto;\n}\n\n/* MENU BASE */\nbody {\n    font-size: 13px;\n    margin: 0;\n    color: #000;\n    overflow: hidden;\n    font-family: Helvetica;\n}\n.menu li {\n  padding-right:5px;\n}\n.fn-left {\n    float: left;\n}\n\n.fn-right {\n    float: right;\n}\n\n.fn-clear:before,\n.fn-clear:after {\n    display: table;\n    content: "";\n}\n\n.fn-clear:after {\n    clear: both;\n}\n\n.fn-none {\n    display: none;\n}\n\n.ft-small {\n    color: #999;\n    font-size: 12px;\n}\n\n.ft-red {\n    color: #9d0000;\n}\n.note {\n    position: absolute;\n    width: 320px;\n    display: none;\n    z-index: 922;\n    border-radius: 6px;\n    border: 1px solid #5F5F5F;\n    padding: 5px 0;\n    box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);\n    background-color: #F6F5D7;\n}\n\n/* start frame */\n.frame {\n    position: absolute;\n    width: 320px;\n    z-index: 10921;\n    display: none;\n}\n\n.frame li {\n    padding: 0 5px;\n    line-height: 25px;\n    cursor: pointer;\n}\n\n.frame li.disabled,\n.frame li.disabled .font-ico,\n.frame li.disabled:hover .font-ico {\n    color: #999;\n}\n\n.frame a {\n    color: #000;\n    background-color: aliceblue;\n    text-decoration: none;\n}\n\n.frame li:hover a,\n.frame a:hover {\n    color: #FFF;\n}\n\n.frame .space {\n    display: inline-block;\n    width: 20px;\n    height: 15px;\n}\n\n.frame .font-ico {\n    margin-right: 5px;\n    width: 15px;\n    display: inline-block;\n    text-align: center;\n}\n/* end frame */\n/* start menu */\n.menu {\n    display: block !important;\n}\nul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n}\n.menu > ul > li {\n    float: left;\n}\n\n.menu > ul > li > span {\n    font-size: 12px;\n    line-height: 21px;\n    cursor: pointer;\n    padding: 4px 7px;\n}\n.menu > ul > li > image {\n    height: 21px;\n    width : 21px;\n    padding: 4px 7px;\n}\n\n.menu .split {\n    float: left;\n    border-left: 1px solid #919191;\n    height: 21px;\n    margin: 0 5px 0 0px\n}\n.menu img.gravatar {\n    float: left;\n    margin: 2px 8px;\n    height: 17px;\n    width: 17px;\n    border-radius: 9px;\n}\n\n.fixedLayout #addPanel {\n    display: none;\n}\n.fixedLayout .lm_header {\n    display: none;\n}\n\n.liteVersion #menuUser {\n    display : none;\n}\n.extWin .mainWinOnly {\n  display : none;\n}\n\n.modal-ul > .selected {\n    background-color: #40f218\n}\n\n.hide {\n    display:none;\n}\n\n\n',""]);const o=r},1460:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,"/* MENU LIGHT THEME */\n.menu {\n    background: #F0F0F0;\n    box-shadow: 0 1px 0 0 #E7E7E7 inset;\n    border-bottom: 1px solid #919191;\n}\n\n.menu > ul > li > span {\n    color: #000;\n    text-shadow: 0px 1px 0px #efefef;\n}\n\n.menu > ul > li.selected {\n    background-color: #cfcfcf;\n    box-shadow: 1px 0 0 0 #b6b6b6 inset, 1px 0 0 0 #b6b6b6, 0 1px 0 0 rgba(255, 255, 255, 0.15) inset;\n    color: #393939;\n}\n\n.menu .split {\n    border-color: #b6b6b6;\n}\n\n\n\n.frame {\n    border: 1px solid #5F5F5F;\n    box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);\n    background-color: #F8F8F8;\n}\n\n.frame li:hover,\n.zeroclipboard-is-hover {\n    background-color: #3875D7;\n    color: #FFF;\n}\n\n.frame li.disabled:hover {\n    background-color: #F8F8F8;\n    color: #999;\n}\n\n.frame .hr {\n    font-size: 1px;\n    margin: 2px 3px;\n    border-top: 1px solid #e6e6e6;\n    border-bottom: 1px solid #F8F8F8;\n    height: 0;\n}\n\n\n/* Light Theme */\n.lm_cfgbtn {\n    background-image: \n    url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAC1QTFRF7+/vv7+/MDAwICAgr6+v////39/ff39/cHBwYGBgEBAQz8/Pn5+fAAAA////eHRIIwAAAA90Uk5T//////////////////8A1NyYoQAAAFpJREFUeNpcz0kWgCAMRMEOODEk9z+uCARbs4H6jyyA+YgI2gF3Ug0c3Cuo6nNNHPo7DufW9jxUnTPDch2B3EN3LmMZP7fwtaGEGskGufZENhw5st/f+twCDACeCAydcWJZCwAAAABJRU5ErkJggg==')\n }\n.lm_renamebtn {\n    background-image: \n\turl('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACpQTFRFMDAwYGBgj4+Pr6+vICAg7+/v39/fn5+fz8/PQEBAv7+/f39/AAAA////vxZEXgAAAA50Uk5T/////////////////wBFwNzIAAAAV0lEQVR42pzOSw6AMAhFUWjrB3jd/3YFSa2aOPFMmtwQCvUXykdR1MFmSFdYVEsMrR4YN+wBTU4EkoYINtZot7/hwUO1xGCzOg7b81vZPk+PjW6G6RBgAAd5C2kJojCEAAAAAElFTkSuQmCC')\n }\n\n.lm_savebtn {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABtQTFRFICAgEBAQcHBwUFBQQEBAgICA////AAAA////c2xJXwAAAAl0Uk5T//////////8AU094EgAAADlJREFUeNpi4EADDBzs7CwgBiM7B5DJjhBgJyjAxIwQQAYQFaxQwAAVYGWDAhZaCmBYi+YwNAAQYACjIwa4m+UwrwAAAABJRU5ErkJggg==')\n  }\n.lm_dupbtn {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACpQTFRFMDAwICAgj4+PEBAQr6+vYGBg39/ff39/gICAQEBAv7+/////AAAA////bEbiUAAAAA50Uk5T/////////////////wBFwNzIAAAAVklEQVR42oTOQRaAIAhFUTSNMP7+t1tySE406A2vKBL2scIdYdNVNVA7mAk7tBiSCV3K4XWdQEVObxgMjmcd6NlbHT5X/iBvYUkApC1Ai2+QwatLgAEAnRsKolTtZboAAAAASUVORK5CYII=')\n   }\n .lm_outbtn {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFEBAQgICAn5+fYGBgz8/P39/fr6+vj4+PUFBQICAg7+/vQEBAv7+/AAAA////////U6mvJQAAABB0Uk5T////////////////////AOAjXRkAAABgSURBVHjatM9ZDsAgCEVRcKgtymP/uy2YVN1Ab2Ii54MEsh0AMzrH5LIAwp26gOzqUSqkXnaYH5VOmZ8GB1VmTuUWoJbYoerrcPmTprYgGvon7CggH5DmtXV8iR/5CjAAkN0MiIjGPZIAAAAASUVORK5CYII=')\n  }\n.lm_inbtn {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADZQTFRFEBAQgICA7+/vn5+fcHBwz8/Pj4+P39/fMDAwICAgUFBQr6+vf39/QEBAv7+/////AAAA////UqnGkQAAABJ0Uk5T//////////////////////8A4r+/EgAAAF9JREFUeNqsz8sSwDAEBVAiz77w/z9bMmmT6bp3g7MwgH4CqiQzhwMsIA4i+Rp54OKRHyEH6/cXONkctkSI6MCcG0aood8FBrE3Cb00MigVzlh4PsdMtm79dh1VbwEGAN0lDkpfbPAGAAAAAElFTkSuQmCC')\n }\n .lm_maximise {\n\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABhQTFRFYGBgQEBAEBAQ7+/vf39/v7+/AAAA////Yit6QAAAAAh0Uk5T/////////wDeg71ZAAAANElEQVR42mJgRwMM7IxsSIARKMCGAogTYEGYyDKQAgyscMAAEmBCdigTUICZFQkwswMEGABYSQYleX94+wAAAABJRU5ErkJggg==')\n}\n.lm_close {\n\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA9QTFRFz8/PEBAQn5+fAAAA////TsHBEAAAAAV0Uk5T/////wD7tg5TAAAAR0lEQVR42nSPSxIAMARDg9z/zDWj6SKmNnjEBzQDEakko1NG1SVZFQ3aDZkACuSgkhqhZgnBR5J/4BIf6mvXYev09ZzZEWAAv18DSfxrNxYAAAAASUVORK5CYII=')\n}\n\n.s_cfg .lm_controls .lm_cfgbtn {\n    background-color: #3f7f41;\n}\n\n.s_content .cfg {\n    display: none;\n    background-color: #FFFFFF;\n}\n.s_content .content {\n  background-color: #FFFFFF;\n}\n\n.s_cfg .cfg {\n    background-color: #FFFFFF;\n}\n.s_cfg .content {\n  display: none;\n  background-color: #FFFFFF;\n}\n\n.s_content svg {\n    padding: 0;\n    position: absolute;\n}\n\n.s_content canvas {\n    padding : 0;\n    position: absolute;\n}\n\nbody .lm_content{\n  overflow: auto;\n  background-color: #F7F7F7;\n}\n",""]);const o=r},9180:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,".controls {\n\tlist-style-type: none;\n\tmargin: 0;\n\tpadding: 0;\n}\n\n\n.controls{\n\tright: 3px; \n    top: 1px;\n\tposition: absolute;\n}\n\n.controls > li{\n\twidth: 18px;\n\theight: 18px;\n\tfloat: left;\n\ttext-align: center;\n\tcursor: pointer;\n}\n\n\n.controls > li{\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n\topacity: 0.4;\n\tfilter: alpha(opacity=40);\n\t-webkit-transition: opacity 300ms ease;\n\t-o-transition: opacity 300ms ease;\n\t-ms-transition: opacity 300ms ease;\n\t-moz-transition: opacity 300ms ease;\n\ttransition: opacity 300ms ease;\n}\n\n.controls > li:hover{\n\topacity: 1;\n\tfilter: alpha(opacity=100);\n}\n\n.controls .save {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABtQTFRFICAgEBAQcHBwUFBQQEBAgICA////AAAA////c2xJXwAAAAl0Uk5T//////////8AU094EgAAADlJREFUeNpi4EADDBzs7CwgBiM7B5DJjhBgJyjAxIwQQAYQFaxQwAAVYGWDAhZaCmBYi+YwNAAQYACjIwa4m+UwrwAAAABJRU5ErkJggg==')\n}\n\n.controls .maximise{\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5nmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpjOWFlODE3Zi0zMjcxLWJkNDItOTY0Mi03MDJiZjVkNGJmOWE8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpEOUNDRjE1RUZCNjIxMUUzQjNBQThGQjJDM0NEMjQwODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDo4NTQ0MTJmNi0zNzNlLWI0NGQtOTYzOS1hOWFjOWM0YmI2ZGU8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6YzlhZTgxN2YtMzI3MS1iZDQyLTk2NDItNzAyYmY1ZDRiZjlhPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOmM5YWU4MTdmLTMyNzEtYmQ0Mi05NjQyLTcwMmJmNWQ0YmY5YTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjg1NDQxMmY2LTM3M2UtYjQ0ZC05NjM5LWE5YWM5YzRiYjZkZTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wOS0xNlQwODozNTozOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDktMTZUMDg6MzQ6MDYrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wOS0xNlQwODozNTozOSswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDktMTZUMDg6MzU6MzkrMDE6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj45PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjk8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PsQ6Tk0AAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAACZJREFUeNpiZGBg+M9AADAxEAkImfSfKJMGoyJGYsIJAAAA//8DAE+8BAv7T9o1AAAAAElFTkSuQmCC);\n}\n\n.controls .minimise{\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAA7U2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpjOWFlODE3Zi0zMjcxLWJkNDItOTY0Mi03MDJiZjVkNGJmOWE8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpEOUNDRjE1RUZCNjIxMUUzQjNBQThGQjJDM0NEMjQwODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDoyM2Q5NmRmZi02NjcxLTFmNDgtYmU3MC05MTc2NDQ1ODIzNDY8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6YzlhZTgxN2YtMzI3MS1iZDQyLTk2NDItNzAyYmY1ZDRiZjlhPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOmM5YWU4MTdmLTMyNzEtYmQ0Mi05NjQyLTcwMmJmNWQ0YmY5YTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjg1NDQxMmY2LTM3M2UtYjQ0ZC05NjM5LWE5YWM5YzRiYjZkZTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wOS0xNlQwODozNTozOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MjNkOTZkZmYtNjY3MS0xZjQ4LWJlNzAtOTE3NjQ0NTgyMzQ2PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTA5LTI4VDE2OjMxOjIxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNC0wOS0xNlQwODozNDowNiswMTowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE0LTA5LTI4VDE2OjMxOjIxKzAxOjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wOS0yOFQxNjozMToyMSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjk8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+OTwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+OroafQAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAALUlEQVR42mL8//8/AyHAxEAEGLKKWBgYGBgYGRlxhsP///8ZiTIJAAAA//8DAKUpBxFhGkvtAAAAAElFTkSuQmCC);\n}\n\n.controls .close{\n\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5nmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpjOWFlODE3Zi0zMjcxLWJkNDItOTY0Mi03MDJiZjVkNGJmOWE8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpEOUNDRjE2NkZCNjIxMUUzQjNBQThGQjJDM0NEMjQwODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDo0OTg3YmY4OC1lZDI3LWZmNDQtOWEzYS0yZDYwY2MzMDViNzg8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6YzlhZTgxN2YtMzI3MS1iZDQyLTk2NDItNzAyYmY1ZDRiZjlhPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOmM5YWU4MTdmLTMyNzEtYmQ0Mi05NjQyLTcwMmJmNWQ0YmY5YTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjQ5ODdiZjg4LWVkMjctZmY0NC05YTNhLTJkNjBjYzMwNWI3ODwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wOS0xNlQwODozNToyNCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDktMTZUMDg6MzM6MzcrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wOS0xNlQwODozNToyNCswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDktMTZUMDg6MzU6MjQrMDE6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj45PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjk8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PnzIv+YAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAADJJREFUeNpiYGBg+M+AH/zHYOBSgEvgPyGjCTmBeAX/iTXhP7FW/CfWDf8BAAAA//8DAOvuEPDOl61rAAAAAElFTkSuQmCC);\n}\n\n\n",""]);const o=r},883:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,":host{\n    all:initial;\n}\n.container {\n    position: relative;\n    font-family: sans-serif;\n    font-size: 14px;\n    resize: both;\n    border-radius: 5px;  \n    min-height:400px;\n    width:100%;\n    display: flex;\n    flex-direction: column;\n}\n\n\n.dir {\n    list-style-type: none;\n}\n\n.item {\n    position: relative;\n    display: inline-block;\n    width: 6em;\n    height: 9em;\n    overflow: visible;\n    vertical-align:middle;\n    z-index: 1;\n}\n.item .thumbnail {\n    width: 4em; \n    height: 4em; \n    margin-left: 1em;\n    margin-right: 1em;\n    padding-top: 1em;\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n    vertical-align:middle;\n    text-align: center;\n    word-wrap:break-word; \n }\n.item .unselected {\n    color: grey; \n    background-color: #EEE;\n}\n.item .selected {\n    background-color: lightgreen;\n    color: white;\n}\n\n.item .filename {\n    text-align: center;\n    word-wrap:break-word; \n    padding: 2px;\n}\n\n.content {\n    position: absolute;\n    top: 30px;\n    left: 0px;\n    background-color: #F7F7F7;\n    width: 100%;\n    height: calc(100% - 30px);\n    border-radius: 0px 0px 5px 0px;\n}\n.menubar {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    padding: 2px 2px 0px 2px;\n    height: 28px;\n    background-color: #333;\n    color: #FFFFFF;\n    width: calc(100% - 5px);\n    border-radius: 5px 5px 0px 0px;\n}\n\n.footer {\n    position: absolute;\n    left: 0px;\n    background-color: #333;\n    color: # FFFFFF;\n    height: 30px;\n    border-radius: 0px 0px 5px 0px;\n}\n.content-menu {\n    padding: 3px;\n    background-color:white;\n    min-height: 27px;\n}\n\n.content-menu input {\n    margin-left: 2px;\n}\n\n",""]);const o=r},6135:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3645),r=n.n(i)()((function(t){return t[1]}));r.push([t.id,':host {\n    all: initial;\n}\n\n.container {\n    position: relative;\n    font-family: sans-serif;\n    font-size: 14px;\n    resize: both;\n    border-radius: 5px;  \n    min-height:400px;\n    width:100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.sidebar {\n    margin: 0;\n    padding: 0;\n    width: 200px;\n    background-color: #f1f1f1;\n    position: absolute;\n    overflow: auto;\n    top: 30px;\n    left: 0px;\n    border-radius: 0px 0px 0px 5px;\n    height: calc(100% - 30px);\n}\n\n.sidebar a {\n    display: block;\n    color: black;\n    padding: 16px;\n    text-decoration: none;\n}\n\n.sidebar a.active {\n    background-color: #4CAF58;\n    color: white;\n}\n\n.sidebar a:hover:not(.active) {\n    background-color: #555;\n    color: white;\n}\n.sidebar-menu,.content-menu {\n    padding: 3px;\n}\n.content-menu input {\n    margin-left: 2px;\n}\n.sidebar-menu input {\n    margin-left: 2px;\n}\n\n.content {\n    position: absolute;\n    top: 30px;\n    left: 200px;\n    background-color: #F7F7F7;\n    width: calc(100% - 200px);\n    height: calc(100% - 30px);\n    border-radius: 0px 0px 5px 0px;\n}\n.menubar {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    padding: 2px 2px 0px 2px;\n    height: 28px;\n    background-color: #333;\n    color: #FFFFFF;\n    width: calc(100% - 5px);\n    border-radius: 5px 5px 0px 0px;\n}\n\n.footer {\n    position: absolute;\n    left: 0px;\n    background-color: #333;\n    color: # FFFFFF;\n    height: 30px;\n    border-radius: 0px 0px 5px 0px;\n}\n\n.bottom {\n    position: absolute;\n    bottom: 0px;\n}\n\n.btn {\n    cursor: default;\n    text-align: center;\n}\n\n.btn: hover {\n    background-color: #006F6F;\n    color: white;\n}\n\n.dir {\n    list-style-type: none;\n}\n\n.item {\n    position: relative;\n    display: inline-block;\n    width: 6em;\n    height: 9em;\n    overflow: visible;\n    vertical-align:middle;\n    z-index: 1;\n}\n\n.item .thumbnail {\n    width: 4em; \n    height: 4em; \n    margin-left: 1em;\n    margin-right: 1em;\n    padding-top: 1em;\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n    vertical-align:middle;\n    text-align: center;\n    word-wrap:break-word; \n    color: grey; \n    background-color: #EEE;\n}\n\n.item .filename {\n    text-align: center;\n    word-wrap:break-word; \n    padding: 2px;\n}\n\n.sidebar-ul {\n    list-style-type: none;\n}\n\n.drive:hover {\n    background-color: #006F6F;\n    color: white;\n}\n\n.pwd-btn {\n    background-color: #006F6F; \n    color: white;\n    text-align: center;\n}\n\n\n.tooltip {\n  width: 150px;\n  border-radius: 3px;\n  box-shadow: 0 0 2px rgba(0,0,0,0.5);\n  padding: 10px;\n  text-align: center;\n  background: #777;\n  color: #FFFFFF;\n}\n.tooltip::after {\n    position: absolute;\n    content: "";\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 5px;\n    border-color: transparent;\n}\n\n.tooltip[data-popper-placement=bottom] {\n    margin-top: 5px;\n    font-size: x-small;\n}\n.tooltip[data-popper-placement=bottom]::after {\n    border-top-width: 0;\n    border-bottom-color: #777;\n    top: -5px;\n    left: calc(50% -5px);\n}\n',""]);const o=r},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var g=[].concat(t[a]);i&&r[g[0]]||(n&&(g[2]?g[2]="".concat(n," and ").concat(g[2]):g[2]=n),e.push(g))}},e}},5666:t=>{var e=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function g(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{g({},"")}catch(t){g=function(t,e,n){return t[e]=n}}function A(t,e,n,i){var r=e&&e.prototype instanceof d?e:d,o=Object.create(r.prototype),s=new M(i||[]);return o._invoke=function(t,e,n){var i=I;return function(r,o){if(i===l)throw new Error("Generator is already running");if(i===u){if("throw"===r)throw o;return R()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=x(s,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===I)throw i=u,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=l;var g=C(t,e,n);if("normal"===g.type){if(i=n.done?u:c,g.arg===h)continue;return{value:g.arg,done:n.done}}"throw"===g.type&&(i=u,n.method="throw",n.arg=g.arg)}}}(t,n,s),o}function C(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=A;var I="suspendedStart",c="suspendedYield",l="executing",u="completed",h={};function d(){}function f(){}function p(){}var m={};g(m,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(T([])));y&&y!==n&&i.call(y,o)&&(m=y);var b=p.prototype=d.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(e){g(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function n(r,o,s,a){var g=C(t[r],t,o);if("throw"!==g.type){var A=g.arg,I=A.value;return I&&"object"==typeof I&&i.call(I,"__await")?e.resolve(I.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(I).then((function(t){A.value=t,s(A)}),(function(t){return n("throw",t,s,a)}))}a(g.arg)}var r;this._invoke=function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}}function x(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=C(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:R}}function R(){return{value:e,done:!0}}return f.prototype=p,g(b,"constructor",p),g(p,"constructor",f),f.displayName=g(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,g(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),g(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new w(A(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},_(b),g(b,a,"Generator"),g(b,o,(function(){return this})),g(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=T,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var g=i.call(s,"catchLoc"),A=i.call(s,"finallyLoc");if(g&&A){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(g){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!A)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},9801:(t,e,n)=>{n.g,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"EventEmitter",(function(){return g}));var i=n(0),r=n.n(i),o=n(1),s=n.n(o),a=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";r()(this,t),this.name=e,this.events={}}return s()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i=i||{},"function"!=typeof e)throw new TypeError("Invalid callback");return a(t).forEach((function(t){n.events[t]||(n.events[t]=[]),n.events[t].push({callback:e,options:i})})),this}},{key:"once",value:function(t,e){return this.on(t,e,{once:!0})}},{key:"off",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(t).filter((function(t){return!!e.events[t]})).forEach((function(t){if(n)for(var r=e.events[t].length;r--;){var o=e.events[t][r];(!o.options.persist||i)&&o.callback===n&&e.events[t].splice(r,1)}else e.events[t]=i?[]:e.events[t].filter((function(t){return!0===t.options.persist}))})),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return a(t).forEach((function(t){if(e.events[t])for(var n=e.events[t].length;n--;){var r=e.events[t][n],o=r.options,s=r.callback;try{s.apply(void 0,i)}catch(t){console.warn(t)}o&&o.once&&e.events[t].splice(n,1)}})),this}}]),t}()}])},6001:(t,e,n)=>{t.exports=function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var g=new Error("Cannot find module '"+s+"'");throw g.code="MODULE_NOT_FOUND",g}var A=n[s]={exports:{}};e[s][0].call(A.exports,(function(t){return r(e[s][1][t]||t)}),A,A.exports,t,e,n,i)}return n[s].exports}for(var o=void 0,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,i){(function(t){"use strict";var n,i,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var o=0,s=new r(C),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){C(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(C,0)};else{var g=new t.MessageChannel;g.port1.onmessage=C,n=function(){g.port2.postMessage(0)}}var A=[];function C(){var t,e;i=!0;for(var n=A.length;n;){for(e=A,A=[],t=-1;++t<n;)e[t]();n=A.length}i=!1}e.exports=function(t){1!==A.push(t)||i||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var i=t(1);function r(){}var o={},s=["REJECTED"],a=["FULFILLED"],g=["PENDING"];function A(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,t!==r&&l(this,t)}function C(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function I(t,e,n){i((function(){var i;try{i=e(n)}catch(e){return o.reject(t,e)}i===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,i)}))}function c(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function l(t,e){var n=!1;function i(e){n||(n=!0,o.reject(t,e))}function r(e){n||(n=!0,o.resolve(t,e))}var s=u((function(){e(r,i)}));"error"===s.status&&i(s.value)}function u(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}e.exports=A,A.prototype.catch=function(t){return this.then(null,t)},A.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var n=new this.constructor(r);return this.state!==g?I(n,this.state===a?t:e,this.outcome):this.queue.push(new C(n,t,e)),n},C.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},C.prototype.otherCallFulfilled=function(t){I(this.promise,this.onFulfilled,t)},C.prototype.callRejected=function(t){o.reject(this.promise,t)},C.prototype.otherCallRejected=function(t){I(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=u(c,e);if("error"===n.status)return o.reject(t,n.value);var i=n.value;if(i)l(t,i);else{t.state=a,t.outcome=e;for(var r=-1,s=t.queue.length;++r<s;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=s,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},A.resolve=function(t){return t instanceof this?t:o.resolve(new this(r),t)},A.reject=function(t){var e=new this(r);return o.reject(e,t)},A.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,g=-1,A=new this(r);++g<n;)C(t[g],g);return A;function C(t,r){e.resolve(t).then((function(t){s[r]=t,++a!==n||i||(i=!0,o.resolve(A,s))}),(function(t){i||(i=!0,o.reject(A,t))}))}},A.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n,i=t.length,s=!1;if(!i)return this.resolve([]);for(var a=-1,g=new this(r);++a<i;)n=t[a],e.resolve(n).then((function(t){s||(s=!0,o.resolve(g,t))}),(function(t){s||(s=!0,o.reject(g,t))}));return g}},{1:1}],3:[function(t,e,i){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<t.length;i+=1)n.append(t[i]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var s=Promise;function a(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function g(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function A(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function C(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var I="local-forage-detect-blob-support",c=void 0,l={},u=Object.prototype.toString,h="readonly",d="readwrite";function f(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n),r=0;r<e;r++)i[r]=t.charCodeAt(r);return n}function p(t){return"boolean"==typeof c?s.resolve(c):function(t){return new s((function(e){var n=t.transaction(I,d),i=o([""]);n.objectStore(I).put(i,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return c=t}))}function m(t){var e=l[t.name],n={};n.promise=new s((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then((function(){return n.promise})):e.dbReady=n.promise}function v(t){var e=l[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function y(t,e){var n=l[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function b(t,e){return new s((function(n,i){if(l[t.name]=l[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);m(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var s=r.open.apply(r,o);e&&(s.onupgradeneeded=function(e){var n=s.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(I)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),s.onerror=function(t){t.preventDefault(),i(s.error)},s.onsuccess=function(){n(s.result),v(t)}}))}function _(t){return b(t,!1)}function w(t){return b(t,!0)}function x(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),i=t.version<t.db.version,r=t.version>t.db.version;if(i&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),r||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function S(t){return o([f(atob(t.data))],{type:t.type})}function E(t){return t&&t.__local_forage_encoded_blob}function M(t){var e=this,n=e._initReady().then((function(){var t=l[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return g(n,t,t),n}function T(t,e,n,i){void 0===i&&(i=1);try{var r=t.db.transaction(t.storeName,e);n(null,r)}catch(r){if(i>0&&(!t.db||"InvalidStateError"===r.name||"NotFoundError"===r.name))return s.resolve().then((function(){if(!t.db||"NotFoundError"===r.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),w(t)})).then((function(){return function(t){m(t);for(var e=l[t.name],n=e.forages,i=0;i<n.length;i++){var r=n[i];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return t.db=null,_(t).then((function(e){return t.db=e,x(t)?w(t):e})).then((function(i){t.db=e.db=i;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=i})).catch((function(e){throw y(t,e),e}))}(t).then((function(){T(t,e,n,i-1)}))})).catch(n);n(r)}}var R={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]=t[i];var r=l[n.name];r||(r={forages:[],db:null,dbReady:null,deferredOperations:[]},l[n.name]=r),r.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=M);var o=[];function a(){return s.resolve()}for(var g=0;g<r.forages.length;g++){var A=r.forages[g];A!==e&&o.push(A._initReady().catch(a))}var C=r.forages.slice(0);return s.all(o).then((function(){return n.db=r.db,_(n)})).then((function(t){return n.db=t,x(n,e._defaultConfig.version)?w(n):t})).then((function(t){n.db=r.db=t,e._dbInfo=n;for(var i=0;i<C.length;i++){var o=C[i];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!r||!r.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=new s((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var i=n.value;E(i)&&(i=S(i));var r=t(i,n.key,a++);void 0!==r?e(r):n.continue()}else e()},s.onerror=function(){i(s.error)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName).get(t);s.onsuccess=function(){var t=s.result;void 0===t&&(t=null),E(t)&&(t=S(t)),e(t)},s.onerror=function(){i(s.error)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=new s((function(n,r){var o;i.ready().then((function(){return o=i._dbInfo,"[object Blob]"===u.call(e)?p(o.db).then((function(t){return t?e:(n=e,new s((function(t,e){var i=new FileReader;i.onerror=e,i.onloadend=function(e){var i=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:n.type})},i.readAsBinaryString(n)})));var n})):e})).then((function(e){T(i._dbInfo,d,(function(o,s){if(o)return r(o);try{var a=s.objectStore(i._dbInfo.storeName);null===e&&(e=void 0);var g=a.put(e,t);s.oncomplete=function(){void 0===e&&(e=null),n(e)},s.onabort=s.onerror=function(){var t=g.error?g.error:g.transaction.error;r(t)}}catch(t){r(t)}}))})).catch(r)}));return a(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){T(n._dbInfo,d,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){i(s.error)},o.onabort=function(){var t=s.error?s.error:s.transaction.error;i(t)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},clear:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){T(e._dbInfo,d,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).clear();r.oncomplete=function(){t()},r.onabort=r.onerror=function(){var t=o.error?o.error:o.transaction.error;n(t)}}catch(t){n(t)}}))})).catch(n)}));return a(n,t),n},length:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,t),n},key:function(t,e){var n=this,i=new s((function(e,i){t<0?e(null):n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,g=s.openKeyCursor();g.onsuccess=function(){var n=g.result;n?0===t||a?e(n.key):(a=!0,n.advance(t)):e(null)},g.onerror=function(){i(g.error)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},keys:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).openKeyCursor(),s=[];o.onsuccess=function(){var e=o.result;e?(s.push(e.key),e.continue()):t(s)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,o=this;if(t.name){var g=t.name===n.name&&o._dbInfo.db?s.resolve(o._dbInfo.db):_(t).then((function(e){var n=l[t.name],i=n.forages;n.db=e;for(var r=0;r<i.length;r++)i[r]._dbInfo.db=e;return e}));i=t.storeName?g.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;m(t);var i=l[t.name],o=i.forages;e.close();for(var a=0;a<o.length;a++){var g=o[a];g._dbInfo.db=null,g._dbInfo.version=n}var A=new s((function(e,i){var o=r.open(t.name,n);o.onerror=function(t){o.result.close(),i(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}}));return A.then((function(t){i.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,v(n._dbInfo)}})).catch((function(e){throw(y(t,e)||s.resolve()).catch((function(){})),e}))}})):g.then((function(e){m(t);var n=l[t.name],i=n.forages;e.close();for(var o=0;o<i.length;o++)i[o]._dbInfo.db=null;var a=new s((function(e,n){var i=r.deleteDatabase(t.name);i.onerror=i.onblocked=function(t){var e=i.result;e&&e.close(),n(t)},i.onsuccess=function(){var t=i.result;t&&t.close(),e(t)}}));return a.then((function(t){n.db=t;for(var e=0;e<i.length;e++)v(i[e]._dbInfo)})).catch((function(e){throw(y(t,e)||s.resolve()).catch((function(){})),e}))}))}else i=s.reject("Invalid arguments");return a(i,e),i}};var O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=/^~~local_forage_type~([^~]+)~/,k="__lfsc__:",D=k.length,N="arbf",P="blob",j="si08",F="ui08",z="uic8",B="si16",U="si32",H="ur16",G="ui32",W="fl32",V="fl64",Z=D+N.length,Y=Object.prototype.toString;function X(t){var e,n,i,r,o,s=.75*t.length,a=t.length,g=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var A=new ArrayBuffer(s),C=new Uint8Array(A);for(e=0;e<a;e+=4)n=O.indexOf(t[e]),i=O.indexOf(t[e+1]),r=O.indexOf(t[e+2]),o=O.indexOf(t[e+3]),C[g++]=n<<2|i>>4,C[g++]=(15&i)<<4|r>>2,C[g++]=(3&r)<<6|63&o;return A}function J(t){var e,n=new Uint8Array(t),i="";for(e=0;e<n.length;e+=3)i+=O[n[e]>>2],i+=O[(3&n[e])<<4|n[e+1]>>4],i+=O[(15&n[e+1])<<2|n[e+2]>>6],i+=O[63&n[e+2]];return n.length%3==2?i=i.substring(0,i.length-1)+"=":n.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}var K={serialize:function(t,e){var n="";if(t&&(n=Y.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===Y.call(t.buffer))){var i,r=k;t instanceof ArrayBuffer?(i=t,r+=N):(i=t.buffer,"[object Int8Array]"===n?r+=j:"[object Uint8Array]"===n?r+=F:"[object Uint8ClampedArray]"===n?r+=z:"[object Int16Array]"===n?r+=B:"[object Uint16Array]"===n?r+=H:"[object Int32Array]"===n?r+=U:"[object Uint32Array]"===n?r+=G:"[object Float32Array]"===n?r+=W:"[object Float64Array]"===n?r+=V:e(new Error("Failed to get type for BinaryArray"))),e(r+J(i))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+t.type+"~"+J(this.result);e("__lfsc__:blob"+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}},deserialize:function(t){if(t.substring(0,D)!==k)return JSON.parse(t);var e,n=t.substring(Z),i=t.substring(D,Z);if(i===P&&L.test(n)){var r=n.match(L);e=r[1],n=n.substring(r[0].length)}var s=X(n);switch(i){case N:return s;case P:return o([s],{type:e});case j:return new Int8Array(s);case F:return new Uint8Array(s);case z:return new Uint8ClampedArray(s);case B:return new Int16Array(s);case H:return new Uint16Array(s);case U:return new Int32Array(s);case G:return new Uint32Array(s);case W:return new Float32Array(s);case V:return new Float64Array(s);default:throw new Error("Unkown type: "+i)}},stringToBuffer:X,bufferToString:J};function q(t,e,n,i){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function Q(t,e,n,i,r,o){t.executeSql(n,i,r,(function(t,s){s.code===s.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,a){a.rows.length?o(t,s):q(t,e,(function(){t.executeSql(n,i,r,o)}),o)}),o):o(t,s)}),o)}function $(t,e,n,i){var r=this;t=A(t);var o=new s((function(o,s){r.ready().then((function(){void 0===e&&(e=null);var a=e,g=r._dbInfo;g.serializer.serialize(e,(function(e,A){A?s(A):g.db.transaction((function(n){Q(n,g,"INSERT OR REPLACE INTO "+g.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){o(a)}),(function(t,e){s(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(i>0)return void o($.apply(r,[t,a,n,i-1]));s(e)}}))}))})).catch(s)}));return a(o,n),o}function tt(t){return new s((function(e,n){t.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,i){for(var r=[],o=0;o<i.rows.length;o++)r.push(i.rows.item(o).name);e({db:t,storeNames:r})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}var et={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]="string"!=typeof t[i]?t[i].toString():t[i];var r=new s((function(t,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return i(t)}n.db.transaction((function(r){q(r,n,(function(){e._dbInfo=n,t()}),(function(t,e){i(e)}))}),i)}));return n.serializer=K,r},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName,[],(function(n,i){for(var o=i.rows,s=o.length,a=0;a<s;a++){var g=o.item(a),A=g.value;if(A&&(A=r.serializer.deserialize(A)),void 0!==(A=t(A,g.key,a+1)))return void e(A)}e()}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},setItem:function(t,e,n){return $.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},clear:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"DELETE FROM "+i.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},length:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(e,n){var i=n.rows.item(0).c;t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},key:function(t,e){var n=this,i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var i=n.rows.length?n.rows.item(0).key:null;e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},keys:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT key FROM "+i.storeName,[],(function(e,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,r=this;return a(i=t.name?new s((function(e){var i;i=t.name===n.name?r._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:i,storeNames:[t.storeName]}):e(tt(i))})).then((function(t){return new s((function(e,n){t.db.transaction((function(i){function r(t){return new s((function(e,n){i.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var o=[],a=0,g=t.storeNames.length;a<g;a++)o.push(r(t.storeNames[a]));s.all(o).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):s.reject("Invalid arguments"),e),i}};function nt(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function it(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||localStorage.length>0}var rt={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=nt(t,this._defaultConfig),it()?(this._dbInfo=e,e.serializer=K,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=n.ready().then((function(){for(var e=n._dbInfo,i=e.keyPrefix,r=i.length,o=localStorage.length,s=1,a=0;a<o;a++){var g=localStorage.key(a);if(0===g.indexOf(i)){var A=localStorage.getItem(g);if(A&&(A=e.serializer.deserialize(A)),void 0!==(A=t(A,g.substring(r),s++)))return A}}}));return a(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo,i=localStorage.getItem(e.keyPrefix+t);return i&&(i=e.serializer.deserialize(i)),i}));return a(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=i.ready().then((function(){void 0===e&&(e=null);var n=e;return new s((function(r,o){var s=i._dbInfo;s.serializer.serialize(e,(function(e,i){if(i)o(i);else try{localStorage.setItem(s.keyPrefix+t,e),r(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||o(t),o(t)}}))}))}));return a(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return a(i,e),i},clear:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);0===i.indexOf(t)&&localStorage.removeItem(i)}}));return a(n,t),n},length:function(t){var e=this.keys().then((function(t){return t.length}));return a(e,t),e},key:function(t,e){var n=this,i=n.ready().then((function(){var e,i=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(i.keyPrefix.length)),e}));return a(i,e),i},keys:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,i=[],r=0;r<n;r++){var o=localStorage.key(r);0===o.indexOf(t.keyPrefix)&&i.push(o.substring(t.keyPrefix.length))}return i}));return a(n,t),n},dropInstance:function(t,e){if(e=C.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var i,r=this;return i=t.name?new s((function(e){t.storeName?e(nt(t,r._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):s.reject("Invalid arguments"),a(i,e),i}},ot=function(t,e){for(var n=t.length,i=0;i<n;){if((r=t[i])===(o=e)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;i++}var r,o;return!1},st=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},at={},gt={},At={INDEXEDDB:R,WEBSQL:et,LOCALSTORAGE:rt},Ct=[At.INDEXEDDB._driver,At.WEBSQL._driver,At.LOCALSTORAGE._driver],It=["dropInstance"],ct=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(It),lt={description:"",driver:Ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ut(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function ht(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(st(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var dt=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),At)if(At.hasOwnProperty(n)){var i=At[n],r=i._driver;this[n]=r,at[r]||this.defineDriver(i)}this._defaultConfig=ht({},lt),this._config=ht({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":i(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var i=new s((function(e,n){try{var i=t._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(r);for(var o=ct.concat("_initStorage"),g=0,A=o.length;g<A;g++){var C=o[g];if((!ot(It,C)||t[C])&&"function"!=typeof t[C])return void n(r)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=s.reject(e);return a(n,arguments[arguments.length-1]),n}},n=0,i=It.length;n<i;n++){var r=It[n];t[r]||(t[r]=e(r))}}();var I=function(n){at[i]&&console.info("Redefining LocalForage driver: "+i),at[i]=t,gt[i]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(I,n):I(!!t._support):I(!0)}catch(t){n(t)}}));return g(i,e,n),i},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var i=at[t]?s.resolve(at[t]):s.reject(new Error("Driver not found."));return g(i,e,n),i},t.prototype.getSerializer=function(t){var e=s.resolve(K);return g(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return g(n,t,t),n},t.prototype.setDriver=function(t,e,n){var i=this;st(t)||(t=[t]);var r=this._getSupportedDrivers(t);function o(){i._config.driver=i.driver()}function a(t){return i._extend(t),o(),i._ready=i._initStorage(i._config),i._ready}var A=null!==this._driverSet?this._driverSet.catch((function(){return s.resolve()})):s.resolve();return this._driverSet=A.then((function(){var t=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(t).then((function(t){i._driver=t._driver,o(),i._wrapLibraryMethodsWithReady(),i._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var r=t[e];return e++,i._dbInfo=null,i._ready=null,i.getDriver(r).then(a).catch(n)}o();var g=new Error("No available storage method found.");return i._driverSet=s.reject(g),i._driverSet}()}}(r)}))})).catch((function(){o();var t=new Error("No available storage method found.");return i._driverSet=s.reject(t),i._driverSet})),g(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!gt[t]},t.prototype._extend=function(t){ht(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];this.supports(r)&&e.push(r)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ct.length;t<e;t++)ut(this,ct[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),ft=new dt;e.exports=ft},{3:3}]},{},[4])(4)},5183:(t,e,n)=>{n.g,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"EventEmitter",(function(){return g}));var i=n(0),r=n.n(i),o=n(1),s=n.n(o),a=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";r()(this,t),this.name=e,this.events={}}return s()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i=i||{},"function"!=typeof e)throw new TypeError("Invalid callback");return a(t).forEach((function(t){n.events[t]||(n.events[t]=[]),n.events[t].push({callback:e,options:i})})),this}},{key:"once",value:function(t,e){return this.on(t,e,{once:!0})}},{key:"off",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(t).filter((function(t){return!!e.events[t]})).forEach((function(t){if(n)for(var r=e.events[t].length;r--;){var o=e.events[t][r];(!o.options.persist||i)&&o.callback===n&&e.events[t].splice(r,1)}else e.events[t]=i?[]:e.events[t].filter((function(t){return!0===t.options.persist}))})),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return a(t).forEach((function(t){if(e.events[t])for(var n=e.events[t].length;n--;){var r=e.events[t][n],o=r.options,s=r.callback;try{s.apply(void 0,i)}catch(t){console.warn(t)}o&&o.once&&e.events[t].splice(n,1)}})),this}}]),t}()}])},7198:(t,e,n)=>{n.g,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"EventEmitter",(function(){return g}));var i=n(0),r=n.n(i),o=n(1),s=n.n(o),a=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";r()(this,t),this.name=e,this.events={}}return s()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i=i||{},"function"!=typeof e)throw new TypeError("Invalid callback");return a(t).forEach((function(t){n.events[t]||(n.events[t]=[]),n.events[t].push({callback:e,options:i})})),this}},{key:"once",value:function(t,e){return this.on(t,e,{once:!0})}},{key:"off",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(t).filter((function(t){return!!e.events[t]})).forEach((function(t){if(n)for(var r=e.events[t].length;r--;){var o=e.events[t][r];(!o.options.persist||i)&&o.callback===n&&e.events[t].splice(r,1)}else e.events[t]=i?[]:e.events[t].filter((function(t){return!0===t.options.persist}))})),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return a(t).forEach((function(t){if(e.events[t])for(var n=e.events[t].length;n--;){var r=e.events[t][n],o=r.options,s=r.callback;try{s.apply(void 0,i)}catch(t){console.warn(t)}o&&o.once&&e.events[t].splice(n,1)}})),this}}]),t}()}])},4272:(t,e,n)=>{t.exports=function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var g=new Error("Cannot find module '"+s+"'");throw g.code="MODULE_NOT_FOUND",g}var A=n[s]={exports:{}};e[s][0].call(A.exports,(function(t){return r(e[s][1][t]||t)}),A,A.exports,t,e,n,i)}return n[s].exports}for(var o=void 0,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,i){(function(t){"use strict";var n,i,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var o=0,s=new r(C),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){C(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(C,0)};else{var g=new t.MessageChannel;g.port1.onmessage=C,n=function(){g.port2.postMessage(0)}}var A=[];function C(){var t,e;i=!0;for(var n=A.length;n;){for(e=A,A=[],t=-1;++t<n;)e[t]();n=A.length}i=!1}e.exports=function(t){1!==A.push(t)||i||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var i=t(1);function r(){}var o={},s=["REJECTED"],a=["FULFILLED"],g=["PENDING"];function A(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,t!==r&&l(this,t)}function C(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function I(t,e,n){i((function(){var i;try{i=e(n)}catch(e){return o.reject(t,e)}i===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,i)}))}function c(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function l(t,e){var n=!1;function i(e){n||(n=!0,o.reject(t,e))}function r(e){n||(n=!0,o.resolve(t,e))}var s=u((function(){e(r,i)}));"error"===s.status&&i(s.value)}function u(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}e.exports=A,A.prototype.catch=function(t){return this.then(null,t)},A.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var n=new this.constructor(r);return this.state!==g?I(n,this.state===a?t:e,this.outcome):this.queue.push(new C(n,t,e)),n},C.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},C.prototype.otherCallFulfilled=function(t){I(this.promise,this.onFulfilled,t)},C.prototype.callRejected=function(t){o.reject(this.promise,t)},C.prototype.otherCallRejected=function(t){I(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=u(c,e);if("error"===n.status)return o.reject(t,n.value);var i=n.value;if(i)l(t,i);else{t.state=a,t.outcome=e;for(var r=-1,s=t.queue.length;++r<s;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=s,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},A.resolve=function(t){return t instanceof this?t:o.resolve(new this(r),t)},A.reject=function(t){var e=new this(r);return o.reject(e,t)},A.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,g=-1,A=new this(r);++g<n;)C(t[g],g);return A;function C(t,r){e.resolve(t).then((function(t){s[r]=t,++a!==n||i||(i=!0,o.resolve(A,s))}),(function(t){i||(i=!0,o.reject(A,t))}))}},A.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n,i=t.length,s=!1;if(!i)return this.resolve([]);for(var a=-1,g=new this(r);++a<i;)n=t[a],e.resolve(n).then((function(t){s||(s=!0,o.resolve(g,t))}),(function(t){s||(s=!0,o.reject(g,t))}));return g}},{1:1}],3:[function(t,e,i){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<t.length;i+=1)n.append(t[i]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var s=Promise;function a(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function g(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function A(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function C(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var I="local-forage-detect-blob-support",c=void 0,l={},u=Object.prototype.toString,h="readonly",d="readwrite";function f(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n),r=0;r<e;r++)i[r]=t.charCodeAt(r);return n}function p(t){return"boolean"==typeof c?s.resolve(c):function(t){return new s((function(e){var n=t.transaction(I,d),i=o([""]);n.objectStore(I).put(i,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return c=t}))}function m(t){var e=l[t.name],n={};n.promise=new s((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then((function(){return n.promise})):e.dbReady=n.promise}function v(t){var e=l[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function y(t,e){var n=l[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function b(t,e){return new s((function(n,i){if(l[t.name]=l[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);m(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var s=r.open.apply(r,o);e&&(s.onupgradeneeded=function(e){var n=s.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(I)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),s.onerror=function(t){t.preventDefault(),i(s.error)},s.onsuccess=function(){n(s.result),v(t)}}))}function _(t){return b(t,!1)}function w(t){return b(t,!0)}function x(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),i=t.version<t.db.version,r=t.version>t.db.version;if(i&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),r||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function S(t){return o([f(atob(t.data))],{type:t.type})}function E(t){return t&&t.__local_forage_encoded_blob}function M(t){var e=this,n=e._initReady().then((function(){var t=l[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return g(n,t,t),n}function T(t,e,n,i){void 0===i&&(i=1);try{var r=t.db.transaction(t.storeName,e);n(null,r)}catch(r){if(i>0&&(!t.db||"InvalidStateError"===r.name||"NotFoundError"===r.name))return s.resolve().then((function(){if(!t.db||"NotFoundError"===r.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),w(t)})).then((function(){return function(t){m(t);for(var e=l[t.name],n=e.forages,i=0;i<n.length;i++){var r=n[i];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return t.db=null,_(t).then((function(e){return t.db=e,x(t)?w(t):e})).then((function(i){t.db=e.db=i;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=i})).catch((function(e){throw y(t,e),e}))}(t).then((function(){T(t,e,n,i-1)}))})).catch(n);n(r)}}var R={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]=t[i];var r=l[n.name];r||(r={forages:[],db:null,dbReady:null,deferredOperations:[]},l[n.name]=r),r.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=M);var o=[];function a(){return s.resolve()}for(var g=0;g<r.forages.length;g++){var A=r.forages[g];A!==e&&o.push(A._initReady().catch(a))}var C=r.forages.slice(0);return s.all(o).then((function(){return n.db=r.db,_(n)})).then((function(t){return n.db=t,x(n,e._defaultConfig.version)?w(n):t})).then((function(t){n.db=r.db=t,e._dbInfo=n;for(var i=0;i<C.length;i++){var o=C[i];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!r||!r.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=new s((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var i=n.value;E(i)&&(i=S(i));var r=t(i,n.key,a++);void 0!==r?e(r):n.continue()}else e()},s.onerror=function(){i(s.error)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName).get(t);s.onsuccess=function(){var t=s.result;void 0===t&&(t=null),E(t)&&(t=S(t)),e(t)},s.onerror=function(){i(s.error)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=new s((function(n,r){var o;i.ready().then((function(){return o=i._dbInfo,"[object Blob]"===u.call(e)?p(o.db).then((function(t){return t?e:(n=e,new s((function(t,e){var i=new FileReader;i.onerror=e,i.onloadend=function(e){var i=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:n.type})},i.readAsBinaryString(n)})));var n})):e})).then((function(e){T(i._dbInfo,d,(function(o,s){if(o)return r(o);try{var a=s.objectStore(i._dbInfo.storeName);null===e&&(e=void 0);var g=a.put(e,t);s.oncomplete=function(){void 0===e&&(e=null),n(e)},s.onabort=s.onerror=function(){var t=g.error?g.error:g.transaction.error;r(t)}}catch(t){r(t)}}))})).catch(r)}));return a(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){T(n._dbInfo,d,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){i(s.error)},o.onabort=function(){var t=s.error?s.error:s.transaction.error;i(t)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},clear:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){T(e._dbInfo,d,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).clear();r.oncomplete=function(){t()},r.onabort=r.onerror=function(){var t=o.error?o.error:o.transaction.error;n(t)}}catch(t){n(t)}}))})).catch(n)}));return a(n,t),n},length:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,t),n},key:function(t,e){var n=this,i=new s((function(e,i){t<0?e(null):n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,g=s.openKeyCursor();g.onsuccess=function(){var n=g.result;n?0===t||a?e(n.key):(a=!0,n.advance(t)):e(null)},g.onerror=function(){i(g.error)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},keys:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).openKeyCursor(),s=[];o.onsuccess=function(){var e=o.result;e?(s.push(e.key),e.continue()):t(s)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,o=this;if(t.name){var g=t.name===n.name&&o._dbInfo.db?s.resolve(o._dbInfo.db):_(t).then((function(e){var n=l[t.name],i=n.forages;n.db=e;for(var r=0;r<i.length;r++)i[r]._dbInfo.db=e;return e}));i=t.storeName?g.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;m(t);var i=l[t.name],o=i.forages;e.close();for(var a=0;a<o.length;a++){var g=o[a];g._dbInfo.db=null,g._dbInfo.version=n}var A=new s((function(e,i){var o=r.open(t.name,n);o.onerror=function(t){o.result.close(),i(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}}));return A.then((function(t){i.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,v(n._dbInfo)}})).catch((function(e){throw(y(t,e)||s.resolve()).catch((function(){})),e}))}})):g.then((function(e){m(t);var n=l[t.name],i=n.forages;e.close();for(var o=0;o<i.length;o++)i[o]._dbInfo.db=null;var a=new s((function(e,n){var i=r.deleteDatabase(t.name);i.onerror=i.onblocked=function(t){var e=i.result;e&&e.close(),n(t)},i.onsuccess=function(){var t=i.result;t&&t.close(),e(t)}}));return a.then((function(t){n.db=t;for(var e=0;e<i.length;e++)v(i[e]._dbInfo)})).catch((function(e){throw(y(t,e)||s.resolve()).catch((function(){})),e}))}))}else i=s.reject("Invalid arguments");return a(i,e),i}};var O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=/^~~local_forage_type~([^~]+)~/,k="__lfsc__:",D=k.length,N="arbf",P="blob",j="si08",F="ui08",z="uic8",B="si16",U="si32",H="ur16",G="ui32",W="fl32",V="fl64",Z=D+N.length,Y=Object.prototype.toString;function X(t){var e,n,i,r,o,s=.75*t.length,a=t.length,g=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var A=new ArrayBuffer(s),C=new Uint8Array(A);for(e=0;e<a;e+=4)n=O.indexOf(t[e]),i=O.indexOf(t[e+1]),r=O.indexOf(t[e+2]),o=O.indexOf(t[e+3]),C[g++]=n<<2|i>>4,C[g++]=(15&i)<<4|r>>2,C[g++]=(3&r)<<6|63&o;return A}function J(t){var e,n=new Uint8Array(t),i="";for(e=0;e<n.length;e+=3)i+=O[n[e]>>2],i+=O[(3&n[e])<<4|n[e+1]>>4],i+=O[(15&n[e+1])<<2|n[e+2]>>6],i+=O[63&n[e+2]];return n.length%3==2?i=i.substring(0,i.length-1)+"=":n.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}var K={serialize:function(t,e){var n="";if(t&&(n=Y.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===Y.call(t.buffer))){var i,r=k;t instanceof ArrayBuffer?(i=t,r+=N):(i=t.buffer,"[object Int8Array]"===n?r+=j:"[object Uint8Array]"===n?r+=F:"[object Uint8ClampedArray]"===n?r+=z:"[object Int16Array]"===n?r+=B:"[object Uint16Array]"===n?r+=H:"[object Int32Array]"===n?r+=U:"[object Uint32Array]"===n?r+=G:"[object Float32Array]"===n?r+=W:"[object Float64Array]"===n?r+=V:e(new Error("Failed to get type for BinaryArray"))),e(r+J(i))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+t.type+"~"+J(this.result);e("__lfsc__:blob"+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}},deserialize:function(t){if(t.substring(0,D)!==k)return JSON.parse(t);var e,n=t.substring(Z),i=t.substring(D,Z);if(i===P&&L.test(n)){var r=n.match(L);e=r[1],n=n.substring(r[0].length)}var s=X(n);switch(i){case N:return s;case P:return o([s],{type:e});case j:return new Int8Array(s);case F:return new Uint8Array(s);case z:return new Uint8ClampedArray(s);case B:return new Int16Array(s);case H:return new Uint16Array(s);case U:return new Int32Array(s);case G:return new Uint32Array(s);case W:return new Float32Array(s);case V:return new Float64Array(s);default:throw new Error("Unkown type: "+i)}},stringToBuffer:X,bufferToString:J};function q(t,e,n,i){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function Q(t,e,n,i,r,o){t.executeSql(n,i,r,(function(t,s){s.code===s.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,a){a.rows.length?o(t,s):q(t,e,(function(){t.executeSql(n,i,r,o)}),o)}),o):o(t,s)}),o)}function $(t,e,n,i){var r=this;t=A(t);var o=new s((function(o,s){r.ready().then((function(){void 0===e&&(e=null);var a=e,g=r._dbInfo;g.serializer.serialize(e,(function(e,A){A?s(A):g.db.transaction((function(n){Q(n,g,"INSERT OR REPLACE INTO "+g.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){o(a)}),(function(t,e){s(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(i>0)return void o($.apply(r,[t,a,n,i-1]));s(e)}}))}))})).catch(s)}));return a(o,n),o}function tt(t){return new s((function(e,n){t.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,i){for(var r=[],o=0;o<i.rows.length;o++)r.push(i.rows.item(o).name);e({db:t,storeNames:r})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}var et={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]="string"!=typeof t[i]?t[i].toString():t[i];var r=new s((function(t,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return i(t)}n.db.transaction((function(r){q(r,n,(function(){e._dbInfo=n,t()}),(function(t,e){i(e)}))}),i)}));return n.serializer=K,r},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName,[],(function(n,i){for(var o=i.rows,s=o.length,a=0;a<s;a++){var g=o.item(a),A=g.value;if(A&&(A=r.serializer.deserialize(A)),void 0!==(A=t(A,g.key,a+1)))return void e(A)}e()}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},setItem:function(t,e,n){return $.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},clear:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"DELETE FROM "+i.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},length:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(e,n){var i=n.rows.item(0).c;t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},key:function(t,e){var n=this,i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var i=n.rows.length?n.rows.item(0).key:null;e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},keys:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT key FROM "+i.storeName,[],(function(e,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,r=this;return a(i=t.name?new s((function(e){var i;i=t.name===n.name?r._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:i,storeNames:[t.storeName]}):e(tt(i))})).then((function(t){return new s((function(e,n){t.db.transaction((function(i){function r(t){return new s((function(e,n){i.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var o=[],a=0,g=t.storeNames.length;a<g;a++)o.push(r(t.storeNames[a]));s.all(o).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):s.reject("Invalid arguments"),e),i}};function nt(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function it(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||localStorage.length>0}var rt={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=nt(t,this._defaultConfig),it()?(this._dbInfo=e,e.serializer=K,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=n.ready().then((function(){for(var e=n._dbInfo,i=e.keyPrefix,r=i.length,o=localStorage.length,s=1,a=0;a<o;a++){var g=localStorage.key(a);if(0===g.indexOf(i)){var A=localStorage.getItem(g);if(A&&(A=e.serializer.deserialize(A)),void 0!==(A=t(A,g.substring(r),s++)))return A}}}));return a(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo,i=localStorage.getItem(e.keyPrefix+t);return i&&(i=e.serializer.deserialize(i)),i}));return a(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=i.ready().then((function(){void 0===e&&(e=null);var n=e;return new s((function(r,o){var s=i._dbInfo;s.serializer.serialize(e,(function(e,i){if(i)o(i);else try{localStorage.setItem(s.keyPrefix+t,e),r(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||o(t),o(t)}}))}))}));return a(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return a(i,e),i},clear:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);0===i.indexOf(t)&&localStorage.removeItem(i)}}));return a(n,t),n},length:function(t){var e=this.keys().then((function(t){return t.length}));return a(e,t),e},key:function(t,e){var n=this,i=n.ready().then((function(){var e,i=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(i.keyPrefix.length)),e}));return a(i,e),i},keys:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,i=[],r=0;r<n;r++){var o=localStorage.key(r);0===o.indexOf(t.keyPrefix)&&i.push(o.substring(t.keyPrefix.length))}return i}));return a(n,t),n},dropInstance:function(t,e){if(e=C.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var i,r=this;return i=t.name?new s((function(e){t.storeName?e(nt(t,r._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):s.reject("Invalid arguments"),a(i,e),i}},ot=function(t,e){for(var n=t.length,i=0;i<n;){if((r=t[i])===(o=e)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;i++}var r,o;return!1},st=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},at={},gt={},At={INDEXEDDB:R,WEBSQL:et,LOCALSTORAGE:rt},Ct=[At.INDEXEDDB._driver,At.WEBSQL._driver,At.LOCALSTORAGE._driver],It=["dropInstance"],ct=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(It),lt={description:"",driver:Ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ut(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function ht(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(st(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var dt=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),At)if(At.hasOwnProperty(n)){var i=At[n],r=i._driver;this[n]=r,at[r]||this.defineDriver(i)}this._defaultConfig=ht({},lt),this._config=ht({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":i(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var i=new s((function(e,n){try{var i=t._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(r);for(var o=ct.concat("_initStorage"),g=0,A=o.length;g<A;g++){var C=o[g];if((!ot(It,C)||t[C])&&"function"!=typeof t[C])return void n(r)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=s.reject(e);return a(n,arguments[arguments.length-1]),n}},n=0,i=It.length;n<i;n++){var r=It[n];t[r]||(t[r]=e(r))}}();var I=function(n){at[i]&&console.info("Redefining LocalForage driver: "+i),at[i]=t,gt[i]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(I,n):I(!!t._support):I(!0)}catch(t){n(t)}}));return g(i,e,n),i},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var i=at[t]?s.resolve(at[t]):s.reject(new Error("Driver not found."));return g(i,e,n),i},t.prototype.getSerializer=function(t){var e=s.resolve(K);return g(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return g(n,t,t),n},t.prototype.setDriver=function(t,e,n){var i=this;st(t)||(t=[t]);var r=this._getSupportedDrivers(t);function o(){i._config.driver=i.driver()}function a(t){return i._extend(t),o(),i._ready=i._initStorage(i._config),i._ready}var A=null!==this._driverSet?this._driverSet.catch((function(){return s.resolve()})):s.resolve();return this._driverSet=A.then((function(){var t=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(t).then((function(t){i._driver=t._driver,o(),i._wrapLibraryMethodsWithReady(),i._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var r=t[e];return e++,i._dbInfo=null,i._ready=null,i.getDriver(r).then(a).catch(n)}o();var g=new Error("No available storage method found.");return i._driverSet=s.reject(g),i._driverSet}()}}(r)}))})).catch((function(){o();var t=new Error("No available storage method found.");return i._driverSet=s.reject(t),i._driverSet})),g(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!gt[t]},t.prototype._extend=function(t){ht(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];this.supports(r)&&e.push(r)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ct.length;t<e;t++)ut(this,ct[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),ft=new dt;e.exports=ft},{3:3}]},{},[4])(4)},5971:()=>{(()=>{var t,e,n;const i=Symbol(),r=Symbol(),o=Symbol(),s=Symbol(),a=Symbol(),g=Symbol(),A=Symbol(),C=Symbol(),I=Symbol(),c=Symbol(),l=Symbol(),u=Symbol(),h=Symbol();class d{constructor(){this[t]=[],this[e]=[],this[n]=new Set}destructor(){this[I](this[o]);const t=this;t[i]=null,t[o]=null,t[r]=null}get top(){const t=this[i];return t[t.length-1]||null}push(t){t&&t!==this.top&&(this.remove(t),this[g](t),this[i].push(t))}remove(t){const e=this[i].indexOf(t);return-1!==e&&(this[i].splice(e,1),e===this[i].length&&this[g](this.top),!0)}pop(){const t=this.top;return t&&this.remove(t),t}has(t){return-1!==this[i].indexOf(t)}[(t=i,e=o,n=r,g)](t){const e=this[r],n=this[o];if(!t)return this[I](n),e.clear(),void(this[o]=[]);const i=this[c](t);if(i[i.length-1].parentNode!==document.body)throw Error("Non-connected element cannot be a blocking element");this[o]=i;const s=this[l](t);if(!n.length)return void this[C](i,s,e);let a=n.length-1,g=i.length-1;for(;a>0&&g>0&&n[a]===i[g];)a--,g--;n[a]!==i[g]&&this[A](n[a],i[g]),a>0&&this[I](n.slice(0,a)),g>0&&this[C](i.slice(0,g),s,null)}[A](t,e){const n=t[s];this[u](t)&&!t.inert&&(t.inert=!0,n.add(t)),n.has(e)&&(e.inert=!1,n.delete(e)),e[a]=t[a],e[s]=n,t[a]=void 0,t[s]=void 0}[I](t){for(const e of t){e[a].disconnect(),e[a]=void 0;const t=e[s];for(const e of t)e.inert=!1;e[s]=void 0}}[C](t,e,n){for(const i of t){const t=i.parentNode,r=t.children,o=new Set;for(let t=0;t<r.length;t++){const s=r[t];s===i||!this[u](s)||e&&e.has(s)||(n&&s.inert?n.add(s):(s.inert=!0,o.add(s)))}i[s]=o;const g=new MutationObserver(this[h].bind(this));i[a]=g;let A=t;const C=A;C.__shady&&C.host&&(A=C.host),g.observe(A,{childList:!0})}}[h](t){const e=this[o],n=this[r];for(const i of t){const t=i.target.host||i.target,r=t===document.body?e.length:e.indexOf(t),o=e[r-1],a=o[s];for(let t=0;t<i.removedNodes.length;t++){const e=i.removedNodes[t];if(e===o)return console.info("Detected removal of the top Blocking Element."),void this.pop();a.has(e)&&(e.inert=!1,a.delete(e))}for(let t=0;t<i.addedNodes.length;t++){const e=i.addedNodes[t];this[u](e)&&(n&&e.inert?n.add(e):(e.inert=!0,a.add(e)))}}}[u](t){return!1===/^(style|template|script)$/.test(t.localName)}[c](t){const e=[];let n=t;for(;n&&n!==document.body;)if(n.nodeType===Node.ELEMENT_NODE&&e.push(n),n.assignedSlot){for(;n=n.assignedSlot;)e.push(n);n=e.pop()}else n=n.parentNode||n.host;return e}[l](t){const e=t.shadowRoot;if(!e)return null;const n=new Set;let i,r,o;const s=e.querySelectorAll("slot");if(s.length&&s[0].assignedNodes)for(i=0;i<s.length;i++)for(o=s[i].assignedNodes({flatten:!0}),r=0;r<o.length;r++)o[r].nodeType===Node.ELEMENT_NODE&&n.add(o[r]);return n}}document.$blockingElements=new d})()},9883:(t,e,n)=>{var i,r,o,s;o=window.$,(s={config:{},container:{},controls:{},errors:{},items:{},utils:{}}).utils.F=function(){},s.utils.extend=function(t,e){t.prototype=s.utils.createObject(e.prototype),t.prototype.contructor=t},s.utils.createObject=function(t){return"function"==typeof Object.create?Object.create(t):(s.utils.F.prototype=t,new s.utils.F)},s.utils.objectKeys=function(t){var e,n;if("function"==typeof Object.keys)return Object.keys(t);for(n in e=[],t)e.push(n);return e},s.utils.getHashValue=function(t){var e=location.hash.match(new RegExp(t+"=([^&]*)"));return e?e[1]:null},s.utils.getQueryStringParam=function(t){if(window.location.hash)return s.utils.getHashValue(t);if(!window.location.search)return null;var e,n,i=window.location.search.substr(1).split("&"),r={};for(n=0;n<i.length;n++)r[(e=i[n].split("="))[0]]=e[1];return r[t]||null},s.utils.copy=function(t,e){for(var n in e)t[n]=e[n];return t},s.utils.animFrame=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})((function(){t()}))},s.utils.indexOf=function(t,e){if(!(e instanceof Array))throw new Error("Haystack is not an Array");if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},"object"!=typeof Int8Array?s.utils.isFunction=function(t){return"function"==typeof t||!1}:s.utils.isFunction=function(t){return"[object Function]"===toString.call(t)},s.utils.fnBind=function(t,e,n){if(void 0!==Function.prototype.bind)return Function.prototype.bind.apply(t,[e].concat(n||[]));var i=function(){var r=(n||[]).concat(Array.prototype.slice.call(arguments,0));if(!(this instanceof i))return t.apply(e,r);t.apply(this,r)};return i.prototype=t.prototype,i},s.utils.removeFromArray=function(t,e){var n=s.utils.indexOf(t,e);if(-1===n)throw new Error("Can't remove item from array. Item is not in the array");e.splice(n,1)},s.utils.now=function(){return"function"==typeof Date.now?Date.now():(new Date).getTime()},s.utils.getUniqueId=function(){return(1e15*Math.random()).toString(36).replace(".","")},s.utils.filterXss=function(t,e){var n=t.replace(/javascript/gi,"j&#97;vascript").replace(/expression/gi,"expr&#101;ssion").replace(/onload/gi,"onlo&#97;d").replace(/script/gi,"&#115;cript").replace(/onerror/gi,"on&#101;rror");return!0===e?n:n.replace(/>/g,"&gt;").replace(/</g,"&lt;")},s.utils.stripTags=function(t){return o.trim(t.replace(/(<([^>]+)>)/gi,""))},s.utils.EventEmitter=function(){this._mSubscriptions={},this._mSubscriptions[s.utils.EventEmitter.ALL_EVENT]=[],this.on=function(t,e,n){if(!s.utils.isFunction(e))throw new Error("Tried to listen to event "+t+" with non-function callback "+e);this._mSubscriptions[t]||(this._mSubscriptions[t]=[]),this._mSubscriptions[t].push({fn:e,ctx:n})},this.emit=function(t){var e,n,i;i=Array.prototype.slice.call(arguments,1);var r=this._mSubscriptions[t];if(r)for(r=r.slice(),e=0;e<r.length;e++)n=r[e].ctx||{},r[e].fn.apply(n,i);i.unshift(t);var o=this._mSubscriptions[s.utils.EventEmitter.ALL_EVENT].slice();for(e=0;e<o.length;e++)n=o[e].ctx||{},o[e].fn.apply(n,i)},this.unbind=function(t,e,n){if(!this._mSubscriptions[t])throw new Error("No subscribtions to unsubscribe for event "+t);var i,r=!1;for(i=0;i<this._mSubscriptions[t].length;i++)e&&this._mSubscriptions[t][i].fn!==e||n&&n!==this._mSubscriptions[t][i].ctx||(this._mSubscriptions[t].splice(i,1),r=!0);if(!1===r)throw new Error("Nothing to unbind for "+t)},this.off=this.unbind,this.trigger=this.emit},s.utils.EventEmitter.ALL_EVENT="__all",s.utils.DragListener=function(t,e){s.utils.EventEmitter.call(this),this._eElement=o(t),this._oDocument=o(document),this._eBody=o(document.body),this._nButtonCode=e||0,this._nDelay=200,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._bDragging=!1,this._fMove=s.utils.fnBind(this.onMouseMove,this),this._fUp=s.utils.fnBind(this.onMouseUp,this),this._fDown=s.utils.fnBind(this.onMouseDown,this),this._eElement.on("mousedown touchstart",this._fDown)},s.utils.DragListener.timeout=null,s.utils.copy(s.utils.DragListener.prototype,{destroy:function(){this._eElement.unbind("mousedown touchstart",this._fDown),this._oDocument.unbind("mouseup touchend",this._fUp),this._eElement=null,this._oDocument=null,this._eBody=null},onMouseDown:function(t){if(t.preventDefault(),0==t.button||"touchstart"===t.type){var e=this._getCoordinates(t);this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.on("mousemove touchmove",this._fMove),this._oDocument.one("mouseup touchend",this._fUp),this._timeout=setTimeout(s.utils.fnBind(this._startDrag,this),this._nDelay)}},onMouseMove:function(t){if(null!=this._timeout){t.preventDefault();var e=this._getCoordinates(t);this._nX=e.x-this._nOriginalX,this._nY=e.y-this._nOriginalY,!1===this._bDragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&(clearTimeout(this._timeout),this._startDrag()),this._bDragging&&this.emit("drag",this._nX,this._nY,t)}},onMouseUp:function(t){null!=this._timeout&&(clearTimeout(this._timeout),this._eBody.removeClass("lm_dragging"),this._eElement.removeClass("lm_dragging"),this._oDocument.find("iframe").css("pointer-events",""),this._oDocument.unbind("mousemove touchmove",this._fMove),this._oDocument.unbind("mouseup touchend",this._fUp),!0===this._bDragging&&(this._bDragging=!1,this.emit("dragStop",t,this._nOriginalX+this._nX)))},_startDrag:function(){this._bDragging=!0,this._eBody.addClass("lm_dragging"),this._eElement.addClass("lm_dragging"),this._oDocument.find("iframe").css("pointer-events","none"),this.emit("dragStart",this._nOriginalX,this._nOriginalY)},_getCoordinates:function(t){return{x:(t=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t).pageX,y:t.pageY}}}),s.LayoutManager=function(t,e){if(!o||"function"!=typeof o.noConflict)throw new Error('jQuery is missing as dependency for GoldenLayout. Please either expose $ on GoldenLayout\'s scope (e.g. window) or add "jquery" to your paths when using RequireJS/AMD');s.utils.EventEmitter.call(this),this.isInitialised=!1,this._isFullPage=!1,this._resizeTimeoutId=null,this._components={"lm-react-component":s.utils.ReactComponentHandler},this._itemAreas=[],this._resizeFunction=s.utils.fnBind(this._onResize,this),this._unloadFunction=s.utils.fnBind(this._onUnload,this),this._maximisedItem=null,this._maximisePlaceholder=o('<div class="lm_maximise_place"></div>'),this._creationTimeoutPassed=!1,this._subWindowsCreated=!1,this._dragSources=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this.width=null,this.height=null,this.root=null,this.openPopouts=[],this.selectedItem=null,this.isSubWindow=!1,this.eventHub=new s.utils.EventHub(this),this.config=this._createConfig(t),this.container=e,this.dropTargetIndicator=null,this.transitionIndicator=null,this.tabDropPlaceholder=o('<div class="lm_drop_tab_placeholder"></div>'),!0===this.isSubWindow&&o("body").css("visibility","hidden"),this._typeToItem={column:s.utils.fnBind(s.items.RowOrColumn,this,[!0]),row:s.utils.fnBind(s.items.RowOrColumn,this,[!1]),stack:s.items.Stack,component:s.items.Component}},s.LayoutManager.__lm=s,s.LayoutManager.minifyConfig=function(t){return(new s.utils.ConfigMinifier).minifyConfig(t)},s.LayoutManager.unminifyConfig=function(t){return(new s.utils.ConfigMinifier).unminifyConfig(t)},s.utils.copy(s.LayoutManager.prototype,{registerComponent:function(t,e){if("function"!=typeof e)throw new Error("Please register a constructor function");if(void 0!==this._components[t])throw new Error("Component "+t+" is already registered");this._components[t]=e},toConfig:function(t){var e,n,i;if(!1===this.isInitialised)throw new Error("Can't create config, layout not yet initialised");if(t&&!(t instanceof s.items.AbstractContentItem))throw new Error("Root must be a ContentItem");for((e={settings:s.utils.copy({},this.config.settings),dimensions:s.utils.copy({},this.config.dimensions),labels:s.utils.copy({},this.config.labels)}).content=[],n=function(t,e){var i,r;for(i in e.config)"content"!==i&&(t[i]=e.config[i]);if(e.contentItems.length)for(t.content=[],r=0;r<e.contentItems.length;r++)t.content[r]={},n(t.content[r],e.contentItems[r])},n(e,t?{contentItems:[t]}:this.root),this._$reconcilePopoutWindows(),e.openPopouts=[],i=0;i<this.openPopouts.length;i++)e.openPopouts.push(this.openPopouts[i].toConfig());return e.maximisedItemId=this._maximisedItem?"__glMaximised":null,e},getComponent:function(t){if(void 0===this._components[t])throw new s.errors.ConfigurationError('Unknown component "'+t+'"');return this._components[t]},init:function(){if(!1===this._subWindowsCreated&&(this._createSubWindows(),this._subWindowsCreated=!0),"loading"!==document.readyState&&null!==document.body){if(!0===this.isSubWindow&&!1===this._creationTimeoutPassed)return setTimeout(s.utils.fnBind(this.init,this),7),void(this._creationTimeoutPassed=!0);!0===this.isSubWindow&&this._adjustToWindowMode(),this._setContainer(),this.dropTargetIndicator=new s.controls.DropTargetIndicator(this.container),this.transitionIndicator=new s.controls.TransitionIndicator,this.updateSize(),this._create(this.config),this._bindEvents(),this.isInitialised=!0,this._adjustColumnsResponsive(),this.emit("initialised")}else o(document).ready(s.utils.fnBind(this.init,this))},updateSize:function(t,e){2===arguments.length?(this.width=t,this.height=e):(this.width=this.container.width(),this.height=this.container.height()),!0===this.isInitialised&&(this.root.callDownwards("setSize",[this.width,this.height]),this._maximisedItem&&(this._maximisedItem.element.width(this.container.width()),this._maximisedItem.element.height(this.container.height()),this._maximisedItem.callDownwards("setSize")),this._adjustColumnsResponsive())},destroy:function(){!1!==this.isInitialised&&(this._onUnload(),o(window).off("resize",this._resizeFunction),o(window).off("unload beforeunload",this._unloadFunction),this.root.callDownwards("_$destroy",[],!0),this.root.contentItems=[],this.tabDropPlaceholder.remove(),this.dropTargetIndicator.destroy(),this.transitionIndicator.destroy(),this.eventHub.destroy(),this._dragSources.forEach((function(t){t._dragListener.destroy(),t._element=null,t._itemConfig=null,t._dragListener=null})),this._dragSources=[])},createContentItem:function(t,e){var n;if("string"!=typeof t.type)throw new s.errors.ConfigurationError("Missing parameter 'type'",t);if("react-component"===t.type&&(t.type="component",t.componentName="lm-react-component"),!this._typeToItem[t.type])throw n="Unknown type '"+t.type+"'. Valid types are "+s.utils.objectKeys(this._typeToItem).join(","),new s.errors.ConfigurationError(n);return"component"!==t.type||e instanceof s.items.Stack||!e||!0===this.isSubWindow&&e instanceof s.items.Root||(t={type:"stack",width:t.width,height:t.height,content:[t]}),new this._typeToItem[t.type](this,t,e)},createPopout:function(t,e,n,i){var r,o,a,g,A,C,I=t,c=t instanceof s.items.AbstractContentItem,l=this;if(n=n||null,c){for(I=this.toConfig(t).content,n=s.utils.getUniqueId(),g=t.parent,A=t;1===g.contentItems.length&&!g.isRoot;)g=g.parent,A=A.parent;g.addId(n),isNaN(i)&&(i=s.utils.indexOf(A,g.contentItems))}else I instanceof Array||(I=[I]);return!e&&c&&(r=window.screenX||window.screenLeft,o=window.screenY||window.screenTop,e={left:r+(a=t.element.offset()).left,top:o+a.top,width:t.element.width(),height:t.element.height()}),e||c||(e={left:window.screenX||window.screenLeft+20,top:window.screenY||window.screenTop+20,width:500,height:309}),c&&t.remove(),(C=new s.controls.BrowserPopout(I,e,n,i,this)).on("initialised",(function(){l.emit("windowOpened",C)})),C.on("closed",(function(){l._$reconcilePopoutWindows()})),this.openPopouts.push(C),C},createDragSource:function(t,e){this.config.settings.constrainDragToContainer=!1;var n=new s.controls.DragSource(o(t),e,this);return this._dragSources.push(n),n},selectItem:function(t,e){if(!0!==this.config.settings.selectionEnabled)throw new Error("Please set selectionEnabled to true to use this feature");t!==this.selectedItem&&(null!==this.selectedItem&&this.selectedItem.deselect(),t&&!0!==e&&t.select(),this.selectedItem=t,this.emit("selectionChanged",t))},_$maximiseItem:function(t){null!==this._maximisedItem&&this._$minimiseItem(this._maximisedItem),this._maximisedItem=t,this._maximisedItem.addId("__glMaximised"),t.element.addClass("lm_maximised"),t.element.after(this._maximisePlaceholder),this.root.element.prepend(t.element),t.element.width(this.container.width()),t.element.height(this.container.height()),t.callDownwards("setSize"),this._maximisedItem.emit("maximised"),this.emit("stateChanged")},_$minimiseItem:function(t){t.element.removeClass("lm_maximised"),t.removeId("__glMaximised"),this._maximisePlaceholder.after(t.element),this._maximisePlaceholder.remove(),t.parent.callDownwards("setSize"),this._maximisedItem=null,t.emit("minimised"),this.emit("stateChanged")},_$closeWindow:function(){window.setTimeout((function(){window.close()}),1)},_$getArea:function(t,e){var n,i,r=1/0,o=null;for(n=0;n<this._itemAreas.length;n++)t>(i=this._itemAreas[n]).x1&&t<i.x2&&e>i.y1&&e<i.y2&&r>i.surface&&(r=i.surface,o=i);return o},_$createRootItemAreas:function(){var t={y2:0,x2:0,y1:"y2",x1:"x2"};for(var e in t){var n=this.root._$getArea();n.side=e,n[e]=t[e]?n[t[e]]-50:50,n.surface=(n.x2-n.x1)*(n.y2-n.y1),this._itemAreas.push(n)}},_$calculateItemAreas:function(){var t,e,n=this._getAllContentItems();if(this._itemAreas=[],1!==n.length){for(this._$createRootItemAreas(),t=0;t<n.length;t++)if(n[t].isStack&&null!==(e=n[t]._$getArea()))if(e instanceof Array)this._itemAreas=this._itemAreas.concat(e);else{this._itemAreas.push(e);var i={};s.utils.copy(i,e),s.utils.copy(i,e.contentItem._contentAreaDimensions.header.highlightArea),i.surface=(i.x2-i.x1)*(i.y2-i.y1),this._itemAreas.push(i)}}else this._itemAreas.push(this.root._$getArea())},_$normalizeContentItem:function(t,e){if(!t)throw new Error("No content item defined");if(s.utils.isFunction(t)&&(t=t()),t instanceof s.items.AbstractContentItem)return t;if(o.isPlainObject(t)&&t.type){var n=this.createContentItem(t,e);return n.callDownwards("_$init"),n}throw new Error("Invalid contentItem")},_$reconcilePopoutWindows:function(){var t,e=[];for(t=0;t<this.openPopouts.length;t++)!1===this.openPopouts[t].getWindow().closed?e.push(this.openPopouts[t]):this.emit("windowClosed",this.openPopouts[t]);this.openPopouts.length!==e.length&&(this.emit("stateChanged"),this.openPopouts=e)},_getAllContentItems:function(){var t=[],e=function(n){if(t.push(n),n.contentItems instanceof Array)for(var i=0;i<n.contentItems.length;i++)e(n.contentItems[i])};return e(this.root),t},_bindEvents:function(){this._isFullPage&&o(window).resize(this._resizeFunction),o(window).on("unload beforeunload",this._unloadFunction)},_onResize:function(){clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=setTimeout(s.utils.fnBind(this.updateSize,this),100)},_createConfig:function(t){var e=s.utils.getQueryStringParam("gl-window");e&&(this.isSubWindow=!0,t=localStorage.getItem(e),t=JSON.parse(t),t=(new s.utils.ConfigMinifier).unminifyConfig(t),localStorage.removeItem(e)),t=o.extend(!0,{},s.config.defaultConfig,t);var n=function(t){for(var e in t)"props"!==e&&"object"==typeof t[e]?n(t[e]):"type"===e&&"react-component"===t[e]&&(t.type="component",t.componentName="lm-react-component")};return n(t),!1===t.settings.hasHeaders&&(t.dimensions.headerHeight=0),t},_adjustToWindowMode:function(){var t=o('<div class="lm_popin" title="'+this.config.labels.popin+'"><div class="lm_icon"></div><div class="lm_bg"></div></div>');t.click(s.utils.fnBind((function(){this.emit("popIn")}),this)),document.title=s.utils.stripTags(this.config.content[0].title),o("head").append(o("body link, body style, template, .gl_keep")),this.container=o("body").html("").css("visibility","visible").append(t),document.body.offsetHeight,window.__glInstance=this},_createSubWindows:function(){var t,e;for(t=0;t<this.config.openPopouts.length;t++)e=this.config.openPopouts[t],this.createPopout(e.content,e.dimensions,e.parentId,e.indexInParent)},_setContainer:function(){var t=o(this.container||"body");if(0===t.length)throw new Error("GoldenLayout container not found");if(t.length>1)throw new Error("GoldenLayout more than one container element specified");t[0]===document.body&&(this._isFullPage=!0,o("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"})),this.container=t},_create:function(t){var e;if(!(t.content instanceof Array))throw e=void 0===t.content?"Missing setting 'content' on top level of configuration":"Configuration parameter 'content' must be an array",new s.errors.ConfigurationError(e,t);if(t.content.length>1)throw e="Top level content can't contain more then one element.",new s.errors.ConfigurationError(e,t);this.root=new s.items.Root(this,{content:t.content},this.container),this.root.callDownwards("_$init"),"__glMaximised"===t.maximisedItemId&&this.root.getItemsById(t.maximisedItemId)[0].toggleMaximise()},_onUnload:function(){if(!0===this.config.settings.closePopoutsOnUnload)for(var t=0;t<this.openPopouts.length;t++)this.openPopouts[t].close()},_adjustColumnsResponsive:function(){if(this._useResponsiveLayout()&&!this._updatingColumnsResponsive&&this.config.dimensions&&this.config.dimensions.minItemWidth&&0!==this.root.contentItems.length&&this.root.contentItems[0].isRow){this._firstLoad=!1;var t=this.root.contentItems[0].contentItems.length;if(!(t<=1)){var e=this.config.dimensions.minItemWidth;if(!(t*e<=this.width)){this._updatingColumnsResponsive=!0;for(var n=t-Math.max(Math.floor(this.width/e),1),i=this.root.contentItems[0],r=this._findAllStackContainers()[0],o=0;o<n;o++){var s=i.contentItems[i.contentItems.length-1];this._addChildContentItemsToContainer(r,s)}this._updatingColumnsResponsive=!1}}}else this._firstLoad=!1},_useResponsiveLayout:function(){return this.config.settings&&("always"==this.config.settings.responsiveMode||"onload"==this.config.settings.responsiveMode&&this._firstLoad)},_addChildContentItemsToContainer:function(t,e){"stack"===e.type?e.contentItems.forEach((function(n){t.addChild(n),e.removeChild(n,!0)})):e.contentItems.forEach(s.utils.fnBind((function(e){this._addChildContentItemsToContainer(t,e)}),this))},_findAllStackContainers:function(){var t=[];return this._findAllStackContainersRecursive(t,this.root),t},_findAllStackContainersRecursive:function(t,e){e.contentItems.forEach(s.utils.fnBind((function(e){"stack"==e.type?t.push(e):e.isComponent||this._findAllStackContainersRecursive(t,e)}),this))}}),i=[n(8483)],void 0===(r=function(t){return o=t,s.LayoutManager}.apply(e,i))||(t.exports=r),s.config.itemDefaultConfig={isClosable:!0,reorderEnabled:!0,title:""},s.config.defaultConfig={openPopouts:[],settings:{hasHeaders:!0,constrainDragToContainer:!0,reorderEnabled:!0,selectionEnabled:!1,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,showPopoutIcon:!0,showMaximiseIcon:!0,showCloseIcon:!0,responsiveMode:"onload",tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10},dimensions:{borderWidth:5,borderGrabWidth:15,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200},labels:{close:"close",maximise:"maximise",minimise:"minimise",popout:"open in new window",popin:"pop in",tabDropdown:"additional tabs"}},s.container.ItemContainer=function(t,e,n){s.utils.EventEmitter.call(this),this.width=null,this.height=null,this.title=t.componentName,this.parent=e,this.layoutManager=n,this.isHidden=!1,this._config=t,this._element=o(['<div class="lm_item_container">','<div class="lm_content"></div>',"</div>"].join("")),this._contentElement=this._element.find(".lm_content")},s.utils.copy(s.container.ItemContainer.prototype,{getElement:function(){return this._contentElement},hide:function(){this.emit("hide"),this.isHidden=!0,this._element.hide()},show:function(){this.emit("show"),this.isHidden=!1,this._element.show(),0==this.height&&0==this.width||this.emit("shown")},setSize:function(t,e){for(var n,i,r,o,s=this.parent,a=this;!s.isColumn&&!s.isRow;)if(a=s,(s=s.parent).isRoot)return!1;for(n=("height"==(i=s.isColumn?"height":"width")?e:t)/(this[i]*(1/(a.config[i]/100)))*100,r=(a.config[i]-n)/(s.contentItems.length-1),o=0;o<s.contentItems.length;o++)s.contentItems[o]===a?s.contentItems[o].config[i]=n:s.contentItems[o].config[i]+=r;return s.callDownwards("setSize"),!0},close:function(){this._config.isClosable&&(this.emit("close"),this.parent.close())},getState:function(){return this._config.componentState},extendState:function(t){this.setState(o.extend(!0,this.getState(),t))},setState:function(t){this._config.componentState=t,this.parent.emitBubblingEvent("stateChanged")},setTitle:function(t){this.parent.setTitle(t)},_$setSize:function(t,e){if(t!==this.width||e!==this.height){this.width=t,this.height=e;var n=this._contentElement[0],i=n.offsetWidth-n.clientWidth,r=n.offsetHeight-n.clientHeight;this._contentElement.width(this.width-i).height(this.height-r),this.emit("resize")}}}),s.controls.BrowserPopout=function(t,e,n,i,r){s.utils.EventEmitter.call(this),this.isInitialised=!1,this._config=t,this._dimensions=e,this._parentId=n,this._indexInParent=i,this._layoutManager=r,this._popoutWindow=null,this._id=null,this._createWindow()},s.utils.copy(s.controls.BrowserPopout.prototype,{toConfig:function(){if(!1===this.isInitialised)throw new Error("Can't create config, layout not yet initialised");return{dimensions:{width:this.getGlInstance().width,height:this.getGlInstance().height,left:this._popoutWindow.screenX||this._popoutWindow.screenLeft,top:this._popoutWindow.screenY||this._popoutWindow.screenTop},content:this.getGlInstance().toConfig().content,parentId:this._parentId,indexInParent:this._indexInParent}},getGlInstance:function(){return this._popoutWindow.__glInstance},getWindow:function(){return this._popoutWindow},close:function(){if(this.getGlInstance())this.getGlInstance()._$closeWindow();else try{this.getWindow().close()}catch(t){}},popIn:function(){var t,e;this._indexInParent,this._parentId&&(t=o.extend(!0,{},this.getGlInstance().toConfig()).content[0],(e=this._layoutManager.root.getItemsById(this._parentId)[0])||(e=this._layoutManager.root.contentItems.length>0?this._layoutManager.root.contentItems[0]:this._layoutManager.root)),e.addChild(t,this._indexInParent),this.close()},_createWindow:function(){var t,e=this._createUrl(),n=Math.floor(1e6*Math.random()).toString(36),i=this._serializeWindowOptions({width:this._dimensions.width,height:this._dimensions.height,innerWidth:this._dimensions.width,innerHeight:this._dimensions.height,menubar:"no",toolbar:"no",location:"no",personalbar:"no",resizable:"yes",scrollbars:"no",status:"no"});if(this._popoutWindow=window.open(e,n,i),this._popoutWindow)o(this._popoutWindow).on("load",s.utils.fnBind(this._positionWindow,this)).on("unload beforeunload",s.utils.fnBind(this._onClose,this)),t=setInterval(s.utils.fnBind((function(){this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this._onInitialised(),clearInterval(t))}),this),10);else if(!0===this._layoutManager.config.settings.blockedPopoutsThrowError){var r=new Error("Popout blocked");throw r.type="popoutBlocked",r}},_serializeWindowOptions:function(t){var e,n=[];for(e in t)n.push(e+"="+t[e]);return n.join(",")},_createUrl:function(){var t,e={content:this._config},n="gl-window-config-"+s.utils.getUniqueId();e=(new s.utils.ConfigMinifier).minifyConfig(e);try{localStorage.setItem(n,JSON.stringify(e))}catch(t){throw new Error("Error while writing to localStorage "+t.toString())}return 1===(t=document.location.href.split("?")).length?t[0]+"?gl-window="+n:document.location.href+"&gl-window="+n},_positionWindow:function(){this._popoutWindow.moveTo(this._dimensions.left,this._dimensions.top),this._popoutWindow.focus()},_onInitialised:function(){this.isInitialised=!0,this.getGlInstance().on("popIn",this.popIn,this),this.emit("initialised")},_onClose:function(){setTimeout(s.utils.fnBind(this.emit,this,["closed"]),50)}}),s.controls.DragProxy=function(t,e,n,i,r,a){s.utils.EventEmitter.call(this),this._dragListener=n,this._layoutManager=i,this._contentItem=r,this._originalParent=a,this._area=null,this._lastValidArea=null,this._dragListener.on("drag",this._onDrag,this),this._dragListener.on("dragStop",this._onDrop,this),this.element=o(s.controls.DragProxy._template),a&&a._side&&(this._sided=a._sided,this.element.addClass("lm_"+a._side),["right","bottom"].indexOf(a._side)>=0&&this.element.find(".lm_content").after(this.element.find(".lm_header"))),this.element.css({left:t,top:e}),this.element.find(".lm_tab").attr("title",s.utils.stripTags(this._contentItem.config.title)),this.element.find(".lm_title").html(this._contentItem.config.title),this.childElementContainer=this.element.find(".lm_content"),this.childElementContainer.append(r.element),this._updateTree(),this._layoutManager._$calculateItemAreas(),this._setDimensions(),o(document.body).append(this.element);var g=this._layoutManager.container.offset();this._minX=g.left,this._minY=g.top,this._maxX=this._layoutManager.container.width()+this._minX,this._maxY=this._layoutManager.container.height()+this._minY,this._width=this.element.width(),this._height=this.element.height(),this._setDropPosition(t,e)},s.controls.DragProxy._template='<div class="lm_dragProxy"><div class="lm_header"><ul class="lm_tabs"><li class="lm_tab lm_active"><i class="lm_left"></i><span class="lm_title"></span><i class="lm_right"></i></li></ul></div><div class="lm_content"></div></div>',s.utils.copy(s.controls.DragProxy.prototype,{_onDrag:function(t,e,n){var i=(n=n.originalEvent&&n.originalEvent.touches?n.originalEvent.touches[0]:n).pageX,r=n.pageY;(i>this._minX&&i<this._maxX&&r>this._minY&&r<this._maxY||!0!==this._layoutManager.config.settings.constrainDragToContainer)&&this._setDropPosition(i,r)},_setDropPosition:function(t,e){this.element.css({left:t,top:e}),this._area=this._layoutManager._$getArea(t,e),null!==this._area&&(this._lastValidArea=this._area,this._area.contentItem._$highlightDropZone(t,e,this._area))},_onDrop:function(){this._layoutManager.dropTargetIndicator.hide(),null!==this._area?this._area.contentItem._$onDrop(this._contentItem,this._area):null!==this._lastValidArea?this._lastValidArea.contentItem._$onDrop(this._contentItem,this._lastValidArea):this._originalParent?this._originalParent.addChild(this._contentItem):this._contentItem._$destroy(),this.element.remove(),this._layoutManager.emit("itemDropped",this._contentItem)},_updateTree:function(){this._contentItem.parent&&this._contentItem.parent.removeChild(this._contentItem,!0),this._contentItem._$setParent(this)},_setDimensions:function(){var t=this._layoutManager.config.dimensions,e=t.dragProxyWidth,n=t.dragProxyHeight;this.element.width(e),this.element.height(n),e-=this._sided?t.headerHeight:0,n-=this._sided?0:t.headerHeight,this.childElementContainer.width(e),this.childElementContainer.height(n),this._contentItem.element.width(e),this._contentItem.element.height(n),this._contentItem.callDownwards("_$show"),this._contentItem.callDownwards("setSize")}}),s.controls.DragSource=function(t,e,n){this._element=t,this._itemConfig=e,this._layoutManager=n,this._dragListener=null,this._createDragListener()},s.utils.copy(s.controls.DragSource.prototype,{_createDragListener:function(){null!==this._dragListener&&this._dragListener.destroy(),this._dragListener=new s.utils.DragListener(this._element),this._dragListener.on("dragStart",this._onDragStart,this),this._dragListener.on("dragStop",this._createDragListener,this)},_onDragStart:function(t,e){var n=this._itemConfig;s.utils.isFunction(n)&&(n=n());var i=this._layoutManager._$normalizeContentItem(o.extend(!0,{},n)),r=new s.controls.DragProxy(t,e,this._dragListener,this._layoutManager,i,null);this._layoutManager.transitionIndicator.transitionElements(this._element,r.element)}}),s.controls.DropTargetIndicator=function(){this.element=o(s.controls.DropTargetIndicator._template),o(document.body).append(this.element)},s.controls.DropTargetIndicator._template='<div class="lm_dropTargetIndicator"><div class="lm_inner"></div></div>',s.utils.copy(s.controls.DropTargetIndicator.prototype,{destroy:function(){this.element.remove()},highlight:function(t,e,n,i){this.highlightArea({x1:t,y1:e,x2:n,y2:i})},highlightArea:function(t){this.element.css({left:t.x1,top:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}).show()},hide:function(){this.element.hide()}}),s.controls.Header=function(t,e){s.utils.EventEmitter.call(this),this.layoutManager=t,this.element=o(s.controls.Header._template),!0===this.layoutManager.config.settings.selectionEnabled&&(this.element.addClass("lm_selectable"),this.element.on("click touchstart",s.utils.fnBind(this._onHeaderClick,this))),this.tabsContainer=this.element.find(".lm_tabs"),this.tabDropdownContainer=this.element.find(".lm_tabdropdown_list"),this.tabDropdownContainer.hide(),this.controlsContainer=this.element.find(".lm_controls"),this.parent=e,this.parent.on("resize",this._updateTabSizes,this),this.tabs=[],this.activeContentItem=null,this.closeButton=null,this.tabDropdownButton=null,this.hideAdditionalTabsDropdown=s.utils.fnBind(this._hideAdditionalTabsDropdown,this),o(document).mouseup(this.hideAdditionalTabsDropdown),this._lastVisibleTabIndex=-1,this._tabControlOffset=this.layoutManager.config.settings.tabControlOffset,this._createControls()},s.controls.Header._template=['<div class="lm_header">','<ul class="lm_tabs"></ul>','<ul class="lm_controls"></ul>','<ul class="lm_tabdropdown_list"></ul>',"</div>"].join(""),s.utils.copy(s.controls.Header.prototype,{createTab:function(t,e){var n,i;for(i=0;i<this.tabs.length;i++)if(this.tabs[i].contentItem===t)return;if(n=new s.controls.Tab(this,t),0===this.tabs.length)return this.tabs.push(n),void this.tabsContainer.append(n.element);void 0===e&&(e=this.tabs.length),e>0?this.tabs[e-1].element.after(n.element):this.tabs[0].element.before(n.element),this.tabs.splice(e,0,n),this._updateTabSizes()},removeTab:function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].contentItem===t)return this.tabs[e]._$destroy(),void this.tabs.splice(e,1);throw new Error("contentItem is not controlled by this header")},setActiveContentItem:function(t){var e,n,i,r;for(e=0;e<this.tabs.length;e++)i=this.tabs[e].contentItem===t,this.tabs[e].setActive(i),!0===i&&(this.activeContentItem=t,this.parent.config.activeItemIndex=e);if(this.layoutManager.config.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&this.parent.config.activeItemIndex>this._lastVisibleTabIndex){for(r=this.tabs[this.parent.config.activeItemIndex],n=this.parent.config.activeItemIndex;n>0;n--)this.tabs[n]=this.tabs[n-1];this.tabs[0]=r,this.parent.config.activeItemIndex=0}this._updateTabSizes(),this.parent.emitBubblingEvent("stateChanged")},position:function(t){var e=this.parent._header.show;return e&&!this.parent._side&&(e="top"),void 0!==t&&this.parent._header.show!=t&&(this.parent._header.show=t,this.parent._setupHeaderPosition()),e},_$setClosable:function(t){return!(!this.closeButton||!this._isClosable()||(this.closeButton.element[t?"show":"hide"](),0))},_$destroy:function(){this.emit("destroy",this);for(var t=0;t<this.tabs.length;t++)this.tabs[t]._$destroy();o(document).off("mouseup",this.hideAdditionalTabsDropdown),this.element.remove()},_getHeaderSetting:function(t){if(t in this.parent._header)return this.parent._header[t]},_createControls:function(){var t,e,n,i,r,o,a,g,A;A=s.utils.fnBind(this._showAdditionalTabsDropdown,this),g=this.layoutManager.config.labels.tabDropdown,this.tabDropdownButton=new s.controls.HeaderButton(this,g,"lm_tabdropdown",A),this.tabDropdownButton.element.hide(),this._getHeaderSetting("popout")&&(e=s.utils.fnBind(this._onPopoutClick,this),n=this._getHeaderSetting("popout"),new s.controls.HeaderButton(this,n,"lm_popout",e)),this._getHeaderSetting("maximise")&&(o=s.utils.fnBind(this.parent.toggleMaximise,this.parent),i=this._getHeaderSetting("maximise"),r=this._getHeaderSetting("minimise"),a=new s.controls.HeaderButton(this,i,"lm_maximise",o),this.parent.on("maximised",(function(){a.element.attr("title",r)})),this.parent.on("minimised",(function(){a.element.attr("title",i)}))),this._isClosable()&&(t=s.utils.fnBind(this.parent.remove,this.parent),n=this._getHeaderSetting("close"),this.closeButton=new s.controls.HeaderButton(this,n,"lm_close",t))},_showAdditionalTabsDropdown:function(){this.tabDropdownContainer.show()},_hideAdditionalTabsDropdown:function(t){this.tabDropdownContainer.hide()},_isClosable:function(){return this.parent.config.isClosable&&this.layoutManager.config.settings.showCloseIcon},_onPopoutClick:function(){!0===this.layoutManager.config.settings.popoutWholeStack?this.parent.popout():this.activeContentItem.popout()},_onHeaderClick:function(t){t.target===this.element[0]&&this.parent.select()},_updateTabSizes:function(t){if(0!==this.tabs.length){this.tabDropdownButton.element.toggle(!0===t);var e=function(t){return t?"width":"height"};this.element.css(e(!this.parent._sided),""),this.element[e(this.parent._sided)](this.layoutManager.config.dimensions.headerHeight);var n,i,r,o,s=this.element.outerWidth()-this.controlsContainer.outerWidth()-this._tabControlOffset,a=0,g=0,A=0,C=this.layoutManager.config.settings.tabOverlapAllowance,I=!1,c=this.activeContentItem?this.tabs.indexOf(this.activeContentItem.tab):0,l=this.tabs[c];for(this.parent._sided&&(s=this.element.outerHeight()-this.controlsContainer.outerHeight()-this._tabControlOffset),this._lastVisibleTabIndex=-1,i=0;i<this.tabs.length;i++)if(n=this.tabs[i].element,this.tabsContainer.append(n),a+=n.outerWidth()+parseInt(n.css("margin-right"),10),(g=c<=i?a:a+l.element.outerWidth()+parseInt(l.element.css("margin-right"),10))>s){if(I)i===c&&(n.css({"z-index":"auto","margin-left":""}),this.tabsContainer.append(n));else if((A=c>0&&c<=i?(g-s)/(i-1):(g-s)/i)<C){for(r=0;r<=i;r++)o=r!==c&&0!==r?"-"+A+"px":"",this.tabs[r].element.css({"z-index":i-r,"margin-left":o});this._lastVisibleTabIndex=i,this.tabsContainer.append(n)}else I=!0;if(I&&i!==c){if(!t)return void this._updateTabSizes(!0);n.css({"z-index":"auto","margin-left":""}),this.tabDropdownContainer.append(n)}}else this._lastVisibleTabIndex=i,n.css({"z-index":"auto","margin-left":""}),this.tabsContainer.append(n)}}}),s.controls.HeaderButton=function(t,e,n,i){this._header=t,this.element=o('<li class="'+n+'" title="'+e+'"></li>'),this._header.on("destroy",this._$destroy,this),this._action=i,this.element.on("click touchstart",this._action),this._header.controlsContainer.append(this.element)},s.utils.copy(s.controls.HeaderButton.prototype,{_$destroy:function(){this.element.off(),this.element.remove()}}),s.controls.Splitter=function(t,e,n){this._isVertical=t,this._size=e,this._grabSize=n<e?e:n,this.element=this._createElement(),this._dragListener=new s.utils.DragListener(this.element)},s.utils.copy(s.controls.Splitter.prototype,{on:function(t,e,n){this._dragListener.on(t,e,n)},_$destroy:function(){this.element.remove()},_createElement:function(){var t=o('<div class="lm_drag_handle"></div>'),e=o('<div class="lm_splitter"></div>');e.append(t);var n=this._grabSize-this._size,i=n/2;return this._isVertical?(t.css("top",-i),t.css("height",this._size+n),e.addClass("lm_vertical"),e.height(this._size)):(t.css("left",-i),t.css("width",this._size+n),e.addClass("lm_horizontal"),e.width(this._size)),e}}),s.controls.Tab=function(t,e){this.header=t,this.contentItem=e,this.element=o(s.controls.Tab._template),this.titleElement=this.element.find(".lm_title"),this.closeElement=this.element.find(".lm_close_tab"),this.closeElement[e.config.isClosable?"show":"hide"](),this.isActive=!1,this.setTitle(e.config.title),this.contentItem.on("titleChanged",this.setTitle,this),this._layoutManager=this.contentItem.layoutManager,!0===this._layoutManager.config.settings.reorderEnabled&&!0===e.config.reorderEnabled&&(this._dragListener=new s.utils.DragListener(this.element),this._dragListener.on("dragStart",this._onDragStart,this),this.contentItem.on("destroy",this._dragListener.destroy,this._dragListener)),this._onTabClickFn=s.utils.fnBind(this._onTabClick,this),this._onCloseClickFn=s.utils.fnBind(this._onCloseClick,this),this.element.on("mousedown touchstart",this._onTabClickFn),this.contentItem.config.isClosable?(this.closeElement.on("click touchstart",this._onCloseClickFn),this.closeElement.on("mousedown",this._onCloseMousedown)):this.closeElement.remove(),this.contentItem.tab=this,this.contentItem.emit("tab",this),this.contentItem.layoutManager.emit("tabCreated",this),this.contentItem.isComponent&&(this.contentItem.container.tab=this,this.contentItem.container.emit("tab",this))},s.controls.Tab._template='<li class="lm_tab"><i class="lm_left"></i><span class="lm_title"></span><div class="lm_close_tab"></div><i class="lm_right"></i></li>',s.utils.copy(s.controls.Tab.prototype,{setTitle:function(t){this.element.attr("title",s.utils.stripTags(t)),this.titleElement.html(t)},setActive:function(t){t!==this.isActive&&(this.isActive=t,t?this.element.addClass("lm_active"):this.element.removeClass("lm_active"))},_$destroy:function(){this.element.off("mousedown touchstart",this._onTabClickFn),this.closeElement.off("click touchstart",this._onCloseClickFn),this._dragListener&&(this.contentItem.off("destroy",this._dragListener.destroy,this._dragListener),this._dragListener.off("dragStart",this._onDragStart),this._dragListener=null),this.element.remove()},_onDragStart:function(t,e){!0===this.contentItem.parent.isMaximised&&this.contentItem.parent.toggleMaximise(),new s.controls.DragProxy(t,e,this._dragListener,this._layoutManager,this.contentItem,this.header.parent)},_onTabClick:function(t){if(0===t.button||"touchstart"===t.type){var e=this.header.parent.getActiveContentItem();this.contentItem!==e&&this.header.parent.setActiveContentItem(this.contentItem)}else 1===t.button&&this.contentItem.config.isClosable&&this._onCloseClick(t)},_onCloseClick:function(t){t.stopPropagation(),this.header.parent.removeChild(this.contentItem)},_onCloseMousedown:function(t){t.stopPropagation()}}),s.controls.TransitionIndicator=function(){this._element=o('<div class="lm_transition_indicator"></div>'),o(document.body).append(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null},s.utils.copy(s.controls.TransitionIndicator.prototype,{destroy:function(){this._element.remove()},transitionElements:function(t,e){},_nextAnimationFrame:function(){var t,e=this._measure(this._toElement),n=(s.utils.now()-this._animationStartTime)/this._totalAnimationDuration,i={};if(n>=1)this._element.hide();else{for(t in e.opacity=0,this._fromDimensions)i[t]=this._fromDimensions[t]+(e[t]-this._fromDimensions[t])*n;this._element.css(i),s.utils.animFrame(s.utils.fnBind(this._nextAnimationFrame,this))}},_measure:function(t){var e=t.offset();return{left:e.left,top:e.top,width:t.outerWidth(),height:t.outerHeight()}}}),s.errors.ConfigurationError=function(t,e){Error.call(this),this.name="Configuration Error",this.message=t,this.node=e},s.errors.ConfigurationError.prototype=new Error,s.items.AbstractContentItem=function(t,e,n){s.utils.EventEmitter.call(this),this.config=this._extendItemNode(e),this.type=e.type,this.contentItems=[],this.parent=n,this.isInitialised=!1,this.isMaximised=!1,this.isRoot=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.layoutManager=t,this._pendingEventPropagations={},this._throttledEvents=["stateChanged"],this.on(s.utils.EventEmitter.ALL_EVENT,this._propagateEvent,this),e.content&&this._createContentItems(e)},s.utils.copy(s.items.AbstractContentItem.prototype,{setSize:function(){throw new Error("Abstract Method")},callDownwards:function(t,e,n,i){var r;for(!0!==n&&!0!==i&&this[t].apply(this,e||[]),r=0;r<this.contentItems.length;r++)this.contentItems[r].callDownwards(t,e,n);!0===n&&!0!==i&&this[t].apply(this,e||[])},removeChild:function(t,e){var n=s.utils.indexOf(t,this.contentItems);if(-1===n)throw new Error("Can't remove child item. Unknown content item");!0!==e&&this.contentItems[n]._$destroy(),this.contentItems.splice(n,1),this.config.content.splice(n,1),this.contentItems.length>0?this.callDownwards("setSize"):this instanceof s.items.Root||!0!==this.config.isClosable||this.parent.removeChild(this)},addChild:function(t,e){void 0===e&&(e=this.contentItems.length),this.contentItems.splice(e,0,t),void 0===this.config.content&&(this.config.content=[]),this.config.content.splice(e,0,t.config),t.parent=this,!0===t.parent.isInitialised&&!1===t.isInitialised&&t._$init()},replaceChild:function(t,e,n){e=this.layoutManager._$normalizeContentItem(e);var i=s.utils.indexOf(t,this.contentItems),r=t.element[0].parentNode;if(-1===i)throw new Error("Can't replace child. oldChild is not child of this");r.replaceChild(e.element[0],t.element[0]),!0===n&&(t.parent=null,t._$destroy()),this.contentItems[i]=e,e.parent=this,this.isStack&&(this.header.tabs[i].contentItem=e),!0===e.parent.isInitialised&&!1===e.isInitialised&&e._$init(),this.callDownwards("setSize")},remove:function(){this.parent.removeChild(this)},popout:function(){var t=this.layoutManager.createPopout(this);return this.emitBubblingEvent("stateChanged"),t},toggleMaximise:function(t){t&&t.preventDefault(),!0===this.isMaximised?this.layoutManager._$minimiseItem(this):this.layoutManager._$maximiseItem(this),this.isMaximised=!this.isMaximised,this.emitBubblingEvent("stateChanged")},select:function(){this.layoutManager.selectedItem!==this&&(this.layoutManager.selectItem(this,!0),this.element.addClass("lm_selected"))},deselect:function(){this.layoutManager.selectedItem===this&&(this.layoutManager.selectedItem=null,this.element.removeClass("lm_selected"))},setTitle:function(t){this.config.title=t,this.emit("titleChanged",t),this.emit("stateChanged")},hasId:function(t){return!!this.config.id&&("string"==typeof this.config.id?this.config.id===t:this.config.id instanceof Array?-1!==s.utils.indexOf(t,this.config.id):void 0)},addId:function(t){this.hasId(t)||(this.config.id?"string"==typeof this.config.id?this.config.id=[this.config.id,t]:this.config.id instanceof Array&&this.config.id.push(t):this.config.id=t)},removeId:function(t){if(!this.hasId(t))throw new Error("Id not found");if("string"==typeof this.config.id)delete this.config.id;else if(this.config.id instanceof Array){var e=s.utils.indexOf(t,this.config.id);this.config.id.splice(e,1)}},getItemsByFilter:function(t){var e=[],n=function(i){for(var r=0;r<i.contentItems.length;r++)!0===t(i.contentItems[r])&&e.push(i.contentItems[r]),n(i.contentItems[r])};return n(this),e},getItemsById:function(t){return this.getItemsByFilter((function(e){return e.config.id instanceof Array?-1!==s.utils.indexOf(t,e.config.id):e.config.id===t}))},getItemsByType:function(t){return this._$getItemsByProperty("type",t)},getComponentsByName:function(t){var e,n=this._$getItemsByProperty("componentName",t),i=[];for(e=0;e<n.length;e++)i.push(n[e].instance);return i},_$getItemsByProperty:function(t,e){return this.getItemsByFilter((function(n){return n[t]===e}))},_$setParent:function(t){this.parent=t},_$highlightDropZone:function(t,e,n){this.layoutManager.dropTargetIndicator.highlightArea(n)},_$onDrop:function(t){this.addChild(t)},_$hide:function(){this._callOnActiveComponents("hide"),this.element.hide(),this.layoutManager.updateSize()},_$show:function(){this._callOnActiveComponents("show"),this.element.show(),this.layoutManager.updateSize()},_callOnActiveComponents:function(t){var e,n,i=this.getItemsByType("stack");for(n=0;n<i.length;n++)(e=i[n].getActiveContentItem())&&e.isComponent&&e.container[t]()},_$destroy:function(){this.emitBubblingEvent("beforeItemDestroyed"),this.callDownwards("_$destroy",[],!0,!0),this.element.remove(),this.emitBubblingEvent("itemDestroyed")},_$getArea:function(t){var e=(t=t||this.element).offset(),n=t.width(),i=t.height();return{x1:e.left,y1:e.top,x2:e.left+n,y2:e.top+i,surface:n*i,contentItem:this}},_$init:function(){var t;for(this.setSize(),t=0;t<this.contentItems.length;t++)this.childElementContainer.append(this.contentItems[t].element);this.isInitialised=!0,this.emitBubblingEvent("itemCreated"),this.emitBubblingEvent(this.type+"Created")},emitBubblingEvent:function(t){var e=new s.utils.BubblingEvent(t,this);this.emit(t,e)},_createContentItems:function(t){var e,n;if(!(t.content instanceof Array))throw new s.errors.ConfigurationError("content must be an Array",t);for(n=0;n<t.content.length;n++)e=this.layoutManager.createContentItem(t.content[n],this),this.contentItems.push(e)},_extendItemNode:function(t){for(var e in s.config.itemDefaultConfig)void 0===t[e]&&(t[e]=s.config.itemDefaultConfig[e]);return t},_propagateEvent:function(t,e){e instanceof s.utils.BubblingEvent&&!1===e.isPropagationStopped&&!0===this.isInitialised&&(!1===this.isRoot&&this.parent?this.parent.emit.apply(this.parent,Array.prototype.slice.call(arguments,0)):this._scheduleEventPropagationToLayoutManager(t,e))},_scheduleEventPropagationToLayoutManager:function(t,e){-1===s.utils.indexOf(t,this._throttledEvents)?this.layoutManager.emit(t,e.origin):!0!==this._pendingEventPropagations[t]&&(this._pendingEventPropagations[t]=!0,s.utils.animFrame(s.utils.fnBind(this._propagateEventToLayoutManager,this,[t,e])))},_propagateEventToLayoutManager:function(t,e){this._pendingEventPropagations[t]=!1,this.layoutManager.emit(t,e)}}),s.items.Component=function(t,e,n){s.items.AbstractContentItem.call(this,t,e,n);var i=t.getComponent(this.config.componentName),r=o.extend(!0,{},this.config.componentState||{});r.componentName=this.config.componentName,this.componentName=this.config.componentName,""===this.config.title&&(this.config.title=this.config.componentName),this.isComponent=!0,this.container=new s.container.ItemContainer(this.config,this,t),this.instance=new i(this.container,r),this.element=this.container._element},s.utils.extend(s.items.Component,s.items.AbstractContentItem),s.utils.copy(s.items.Component.prototype,{close:function(){this.parent.removeChild(this)},setSize:function(){this.element.is(":visible")&&this.container._$setSize(this.element.width(),this.element.height())},_$init:function(){s.items.AbstractContentItem.prototype._$init.call(this),this.container.emit("open")},_$hide:function(){this.container.hide(),s.items.AbstractContentItem.prototype._$hide.call(this)},_$show:function(){this.container.show(),s.items.AbstractContentItem.prototype._$show.call(this)},_$shown:function(){this.container.shown(),s.items.AbstractContentItem.prototype._$shown.call(this)},_$destroy:function(){this.container.emit("destroy",this),s.items.AbstractContentItem.prototype._$destroy.call(this)},_$getArea:function(){return null}}),s.items.Root=function(t,e,n){s.items.AbstractContentItem.call(this,t,e,null),this.isRoot=!0,this.type="root",this.element=o('<div class="lm_goldenlayout lm_item lm_root"></div>'),this.childElementContainer=this.element,this._containerElement=n,this._containerElement.append(this.element)},s.utils.extend(s.items.Root,s.items.AbstractContentItem),s.utils.copy(s.items.Root.prototype,{addChild:function(t){if(this.contentItems.length>0)throw new Error("Root node can only have a single child");t=this.layoutManager._$normalizeContentItem(t,this),this.childElementContainer.append(t.element),s.items.AbstractContentItem.prototype.addChild.call(this,t),this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},setSize:function(t,e){t=void 0===t?this._containerElement.width():t,e=void 0===e?this._containerElement.height():e,this.element.width(t),this.element.height(e),this.contentItems[0]&&(this.contentItems[0].element.width(t),this.contentItems[0].element.height(e))},_$highlightDropZone:function(t,e,n){this.layoutManager.tabDropPlaceholder.remove(),s.items.AbstractContentItem.prototype._$highlightDropZone.apply(this,arguments)},_$onDrop:function(t,e){var n;if(t.isComponent&&((n=this.layoutManager.createContentItem({type:"stack",header:t.config.header||{}},this))._$init(),n.addChild(t),t=n),this.contentItems.length){var i="x"==e.side[0]?"row":"column",r="x"==e.side[0]?"width":"height",o="2"==e.side[1],a=this.contentItems[0];if(!a instanceof s.items.RowOrColumn||a.type!=i){var g=this.layoutManager.createContentItem({type:i},this);this.replaceChild(a,g),g.addChild(t,o?0:void 0,!0),g.addChild(a,o?void 0:0,!0),a.config[r]=50,t.config[r]=50,g.callDownwards("setSize")}else{var A=a.contentItems[o?0:a.contentItems.length-1];a.addChild(t,o?0:void 0,!0),A.config[r]*=.5,t.config[r]=A.config[r],a.callDownwards("setSize")}}else this.addChild(t)}}),s.items.RowOrColumn=function(t,e,n,i){s.items.AbstractContentItem.call(this,e,n,i),this.isRow=!t,this.isColumn=t,this.element=o('<div class="lm_item lm_'+(t?"column":"row")+'"></div>'),this.childElementContainer=this.element,this._splitterSize=e.config.dimensions.borderWidth,this._splitterGrabSize=e.config.dimensions.borderGrabWidth,this._isColumn=t,this._dimension=t?"height":"width",this._splitter=[],this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null},s.utils.extend(s.items.RowOrColumn,s.items.AbstractContentItem),s.utils.copy(s.items.RowOrColumn.prototype,{addChild:function(t,e,n){var i,r,o,a;if(t=this.layoutManager._$normalizeContentItem(t,this),void 0===e&&(e=this.contentItems.length),this.contentItems.length>0?(a=this._createSplitter(Math.max(0,e-1)).element,e>0?(this.contentItems[e-1].element.after(a),a.after(t.element)):(this.contentItems[0].element.before(a),a.before(t.element))):this.childElementContainer.append(t.element),s.items.AbstractContentItem.prototype.addChild.call(this,t,e),i=1/this.contentItems.length*100,!0!==n){for(o=0;o<this.contentItems.length;o++)this.contentItems[o]===t?t.config[this._dimension]=i:(r=this.contentItems[o].config[this._dimension]*=(100-i)/100,this.contentItems[o].config[this._dimension]=r);this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")}else this.emitBubblingEvent("stateChanged")},removeChild:function(t,e){var n,i,r=t.config[this._dimension],o=s.utils.indexOf(t,this.contentItems),a=Math.max(o-1,0);if(-1===o)throw new Error("Can't remove child. ContentItem is not child of this Row or Column");for(this._splitter[a]&&(this._splitter[a]._$destroy(),this._splitter.splice(a,1)),n=0;n<this.contentItems.length;n++)this.contentItems[n]!==t&&(this.contentItems[n].config[this._dimension]+=r/(this.contentItems.length-1));s.items.AbstractContentItem.prototype.removeChild.call(this,t,e),1===this.contentItems.length&&!0===this.config.isClosable?(i=this.contentItems[0],this.contentItems=[],this.parent.replaceChild(this,i,!0)):(this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged"))},replaceChild:function(t,e){var n=t.config[this._dimension];s.items.AbstractContentItem.prototype.replaceChild.call(this,t,e),e.config[this._dimension]=n,this.callDownwards("setSize"),this.emitBubblingEvent("stateChanged")},setSize:function(){this.contentItems.length>0&&(this._calculateRelativeSizes(),this._setAbsoluteSizes()),this.emitBubblingEvent("stateChanged"),this.emit("resize")},_$init:function(){var t;if(!0!==this.isInitialised)for(s.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.after(this._createSplitter(t).element)},_setAbsoluteSizes:function(){var t,e=this._calculateAbsoluteSizes();for(t=0;t<this.contentItems.length;t++)e.additionalPixel-t>0&&e.itemSizes[t]++,this._isColumn?(this.contentItems[t].element.width(e.totalWidth),this.contentItems[t].element.height(e.itemSizes[t])):(this.contentItems[t].element.width(e.itemSizes[t]),this.contentItems[t].element.height(e.totalHeight))},_calculateAbsoluteSizes:function(){var t,e,n=(this.contentItems.length-1)*this._splitterSize,i=this.element.width(),r=this.element.height(),o=0,s=[];for(this._isColumn?r-=n:i-=n,t=0;t<this.contentItems.length;t++)o+=e=this._isColumn?Math.floor(r*(this.contentItems[t].config.height/100)):Math.floor(i*(this.contentItems[t].config.width/100)),s.push(e);return{itemSizes:s,additionalPixel:Math.floor((this._isColumn?r:i)-o),totalWidth:i,totalHeight:r}},_calculateRelativeSizes:function(){var t,e=0,n=[],i=this._isColumn?"height":"width";for(t=0;t<this.contentItems.length;t++)void 0!==this.contentItems[t].config[i]?e+=this.contentItems[t].config[i]:n.push(this.contentItems[t]);if(100!==Math.round(e))if(Math.round(e)<100&&n.length>0){for(t=0;t<n.length;t++)n[t].config[i]=(100-e)/n.length;this._respectMinItemWidth()}else{if(Math.round(e)>100)for(t=0;t<n.length;t++)n[t].config[i]=50,e+=50;for(t=0;t<this.contentItems.length;t++)this.contentItems[t].config[i]=this.contentItems[t].config[i]/e*100;this._respectMinItemWidth()}else this._respectMinItemWidth()},_respectMinItemWidth:function(){var t,e,n,i,r=this.layoutManager.config.dimensions&&this.layoutManager.config.dimensions.minItemWidth||0,o=[],s=0,a=0,g=0,A=0,C=[];if(!(this._isColumn||!r||this.contentItems.length<=1)){t=this._calculateAbsoluteSizes();for(var I=0;I<this.contentItems.length;I++)this.contentItems[I],(A=t.itemSizes[I])<r?(a+=r-A,i={width:r}):(s+=A-r,i={width:A},o.push(i)),C.push(i);if(!(0===a||a>s)){for(e=a/s,g=a,I=0;I<o.length;I++)i=o[I],g-=n=Math.round((i.width-r)*e),i.width-=n;for(0!==g&&(C[C.length-1].width-=g),I=0;I<this.contentItems.length;I++)this.contentItems[I].config.width=C[I].width/t.totalWidth*100}}},_createSplitter:function(t){var e;return(e=new s.controls.Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize)).on("drag",s.utils.fnBind(this._onSplitterDrag,this,[e]),this),e.on("dragStop",s.utils.fnBind(this._onSplitterDragStop,this,[e]),this),e.on("dragStart",s.utils.fnBind(this._onSplitterDragStart,this,[e]),this),this._splitter.splice(t,0,e),e},_getItemsForSplitter:function(t){var e=s.utils.indexOf(t,this._splitter);return{before:this.contentItems[e],after:this.contentItems[e+1]}},_getMinimumDimensions:function(t){for(var e=0,n=0,i=0;i<t.length;++i)e=Math.max(t[i].minWidth||0,e),n=Math.max(t[i].minHeight||0,n);return{horizontal:e,vertical:n}},_onSplitterDragStart:function(t){var e=this._getItemsForSplitter(t),n=this.layoutManager.config.dimensions[this._isColumn?"minItemHeight":"minItemWidth"],i=this._getMinimumDimensions(e.before.config.content),r=this._isColumn?i.vertical:i.horizontal,o=this._getMinimumDimensions(e.after.config.content),s=this._isColumn?o.vertical:o.horizontal;this._splitterPosition=0,this._splitterMinPosition=-1*(e.before.element[this._dimension]()-(r||n)),this._splitterMaxPosition=e.after.element[this._dimension]()-(s||n)},_onSplitterDrag:function(t,e,n){var i=this._isColumn?n:e;i>this._splitterMinPosition&&i<this._splitterMaxPosition&&(this._splitterPosition=i,t.element.css(this._isColumn?"top":"left",i))},_onSplitterDragStop:function(t){var e=this._getItemsForSplitter(t),n=e.before.element[this._dimension](),i=e.after.element[this._dimension](),r=(this._splitterPosition+n)/(n+i),o=e.before.config[this._dimension]+e.after.config[this._dimension];e.before.config[this._dimension]=r*o,e.after.config[this._dimension]=(1-r)*o,t.element.css({top:0,left:0}),s.utils.animFrame(s.utils.fnBind(this.callDownwards,this,["setSize"]))}}),s.items.Stack=function(t,e,n){s.items.AbstractContentItem.call(this,t,e,n),this.element=o('<div class="lm_item lm_stack"></div>'),this._activeContentItem=null;var i=t.config;this._header={show:!0===i.settings.hasHeaders&&!1!==e.hasHeaders,popout:i.settings.showPopoutIcon&&i.labels.popout,maximise:i.settings.showMaximiseIcon&&i.labels.maximise,close:i.settings.showCloseIcon&&i.labels.close,minimise:i.labels.minimise},i.header&&s.utils.copy(this._header,i.header),e.header&&s.utils.copy(this._header,e.header),e.content&&e.content[0]&&e.content[0].header&&s.utils.copy(this._header,e.content[0].header),this._dropZones={},this._dropSegment=null,this._contentAreaDimensions=null,this._dropIndex=null,this.isStack=!0,this.childElementContainer=o('<div class="lm_items"></div>'),this.header=new s.controls.Header(t,this),this.element.append(this.header.element),this.element.append(this.childElementContainer),this._setupHeaderPosition(),this._$validateClosability()},s.utils.extend(s.items.Stack,s.items.AbstractContentItem),s.utils.copy(s.items.Stack.prototype,{setSize:function(){var t,e=this._header.show?this.layoutManager.config.dimensions.headerHeight:0,n=this.element.width()-(this._sided?e:0),i=this.element.height()-(this._sided?0:e);for(this.childElementContainer.width(n),this.childElementContainer.height(i),t=0;t<this.contentItems.length;t++)this.contentItems[t].element.width(n).height(i);this.emit("resize"),this.emitBubblingEvent("stateChanged")},_$init:function(){var t,e;if(!0!==this.isInitialised){for(s.items.AbstractContentItem.prototype._$init.call(this),t=0;t<this.contentItems.length;t++)this.header.createTab(this.contentItems[t]),this.contentItems[t]._$hide();if(this.contentItems.length>0){if(!(e=this.contentItems[this.config.activeItemIndex||0]))throw new Error("Configured activeItemIndex out of bounds");this.setActiveContentItem(e)}}},setActiveContentItem:function(t){if(-1===s.utils.indexOf(t,this.contentItems))throw new Error("contentItem is not a child of this stack");null!==this._activeContentItem&&this._activeContentItem._$hide(),this._activeContentItem=t,this.header.setActiveContentItem(t),t._$show(),this.emit("activeContentItemChanged",t),this.layoutManager.emit("activeContentItemChanged",t),this.emitBubblingEvent("stateChanged")},getActiveContentItem:function(){return this.header.activeContentItem},addChild:function(t,e){t=this.layoutManager._$normalizeContentItem(t,this),s.items.AbstractContentItem.prototype.addChild.call(this,t,e),this.childElementContainer.append(t.element),this.header.createTab(t,e),this.setActiveContentItem(t),this.callDownwards("setSize"),this._$validateClosability(),this.emitBubblingEvent("stateChanged")},removeChild:function(t,e){var n=s.utils.indexOf(t,this.contentItems);s.items.AbstractContentItem.prototype.removeChild.call(this,t,e),this.header.removeTab(t),this.header.activeContentItem===t&&(this.contentItems.length>0?this.setActiveContentItem(this.contentItems[Math.max(n-1,0)]):this._activeContentItem=null),this._$validateClosability(),this.emitBubblingEvent("stateChanged")},_$validateClosability:function(){var t,e,n;for(t=this.header._isClosable(),n=0,e=this.contentItems.length;n<e&&t;n++)t=this.contentItems[n].config.isClosable;this.header._$setClosable(t)},_$destroy:function(){s.items.AbstractContentItem.prototype._$destroy.call(this),this.header._$destroy()},_$onDrop:function(t){if("header"===this._dropSegment)return this._resetHeaderDropZone(),void this.addChild(t,this._dropIndex);if("body"!==this._dropSegment){var e,n,i,r="top"===this._dropSegment||"bottom"===this._dropSegment,o="left"===this._dropSegment||"right"===this._dropSegment,a="top"===this._dropSegment||"left"===this._dropSegment,g=r&&this.parent.isColumn||o&&this.parent.isRow,A=r?"column":"row",C=r?"height":"width";t.isComponent&&((n=this.layoutManager.createContentItem({type:"stack",header:t.config.header||{}},this))._$init(),n.addChild(t),t=n),g?(e=s.utils.indexOf(this,this.parent.contentItems),this.parent.addChild(t,a?e:e+1,!0),this.config[C]*=.5,t.config[C]=this.config[C],this.parent.callDownwards("setSize")):(A=r?"column":"row",i=this.layoutManager.createContentItem({type:A},this),this.parent.replaceChild(this,i),i.addChild(t,a?0:void 0,!0),i.addChild(this,a?void 0:0,!0),this.config[C]=50,t.config[C]=50,i.callDownwards("setSize"))}else this.addChild(t)},_$highlightDropZone:function(t,e){var n,i;for(n in this._contentAreaDimensions)if((i=this._contentAreaDimensions[n].hoverArea).x1<t&&i.x2>t&&i.y1<e&&i.y2>e)return void("header"===n?(this._dropSegment="header",this._highlightHeaderDropZone(this._sided?e:t)):(this._resetHeaderDropZone(),this._highlightBodyDropZone(n)))},_$getArea:function(){if(!1===this.element.is(":visible"))return null;var t=s.items.AbstractContentItem.prototype._$getArea,e=t.call(this,this.header.element),n=t.call(this,this.childElementContainer),i=n.x2-n.x1,r=n.y2-n.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}},this._activeContentItem&&!1===this._activeContentItem.isComponent?e:0===this.contentItems.length?(this._contentAreaDimensions.body={hoverArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2}},t.call(this,this.element)):(this._contentAreaDimensions.left={hoverArea:{x1:n.x1,y1:n.y1,x2:n.x1+.25*i,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x1+.5*i,y2:n.y2}},this._contentAreaDimensions.top={hoverArea:{x1:n.x1+.25*i,y1:n.y1,x2:n.x1+.75*i,y2:n.y1+.5*r},highlightArea:{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y1+.5*r}},this._contentAreaDimensions.right={hoverArea:{x1:n.x1+.75*i,y1:n.y1,x2:n.x2,y2:n.y2},highlightArea:{x1:n.x1+.5*i,y1:n.y1,x2:n.x2,y2:n.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:n.x1+.25*i,y1:n.y1+.5*r,x2:n.x1+.75*i,y2:n.y2},highlightArea:{x1:n.x1,y1:n.y1+.5*r,x2:n.x2,y2:n.y2}},t.call(this,this.element))},_highlightHeaderDropZone:function(t){var e,n,i,r,o,s,a,g,A=this.header.tabs.length,C=!1;if(0===A)return a=this.header.element.offset(),void this.layoutManager.dropTargetIndicator.highlightArea({x1:a.left,x2:a.left+100,y1:a.top+this.header.element.height()-20,y2:a.top+this.header.element.height()});for(e=0;e<A;e++)if(o=(n=this.header.tabs[e].element).offset(),this._sided?(r=o.top,i=o.left,g=n.height()):(r=o.left,i=o.top,g=n.width()),t>r&&t<r+g){C=!0;break}if(!(!1===C&&t<r)){if(t<r+g/2?(this._dropIndex=e,n.before(this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,A),n.after(this.layoutManager.tabDropPlaceholder)),this._sided)return placeHolderTop=this.layoutManager.tabDropPlaceholder.offset().top,void this.layoutManager.dropTargetIndicator.highlightArea({x1:i,x2:i+n.innerHeight(),y1:placeHolderTop,y2:placeHolderTop+this.layoutManager.tabDropPlaceholder.width()});s=this.layoutManager.tabDropPlaceholder.offset().left,this.layoutManager.dropTargetIndicator.highlightArea({x1:s,x2:s+this.layoutManager.tabDropPlaceholder.width(),y1:i,y2:i+n.innerHeight()})}},_resetHeaderDropZone:function(){this.layoutManager.tabDropPlaceholder.remove()},_setupHeaderPosition:function(){var t=["right","left","bottom"].indexOf(this._header.show)>=0&&this._header.show;if(this.header.element.toggle(!!this._header.show),this._side=t,this._sided=["right","left"].indexOf(this._side)>=0,this.element.removeClass("lm_left lm_right lm_bottom"),this._side&&this.element.addClass("lm_"+this._side),this.element.find(".lm_header").length&&this.childElementContainer){var e=["right","bottom"].indexOf(this._side)>=0?"before":"after";this.header.element[e](this.childElementContainer),this.callDownwards("setSize")}},_highlightBodyDropZone:function(t){var e=this._contentAreaDimensions[t].highlightArea;this.layoutManager.dropTargetIndicator.highlightArea(e),this._dropSegment=t}}),s.utils.BubblingEvent=function(t,e){this.name=t,this.origin=e,this.isPropagationStopped=!1},s.utils.BubblingEvent.prototype.stopPropagation=function(){this.isPropagationStopped=!0},s.utils.ConfigMinifier=function(){if(this._keys=["settings","hasHeaders","constrainDragToContainer","selectionEnabled","dimensions","borderWidth","minItemHeight","minItemWidth","headerHeight","dragProxyWidth","dragProxyHeight","labels","close","maximise","minimise","popout","content","componentName","componentState","id","width","type","height","isClosable","title","popoutWholeStack","openPopouts","parentId","activeItemIndex","reorderEnabled","borderGrabWidth"],this._keys.length>36)throw new Error("Too many keys in config minifier map");this._values=[!0,!1,"row","column","stack","component","close","maximise","minimise","open in new window"]},s.utils.copy(s.utils.ConfigMinifier.prototype,{minifyConfig:function(t){var e={};return this._nextLevel(t,e,"_min"),e},unminifyConfig:function(t){var e={};return this._nextLevel(t,e,"_max"),e},_nextLevel:function(t,e,n){var i,r;for(i in t)t instanceof Array&&(i=parseInt(i,10)),t.hasOwnProperty(i)&&(r=this[n](i,this._keys),"object"==typeof t[i]?(e[r]=t[i]instanceof Array?[]:{},this._nextLevel(t[i],e[r],n)):e[r]=this[n](t[i],this._values))},_min:function(t,e){if("string"==typeof t&&1===t.length)return"___"+t;var n=s.utils.indexOf(t,e);return-1===n?t:n.toString(36)},_max:function(t,e){return"string"==typeof t&&1===t.length?e[parseInt(t,36)]:"string"==typeof t&&"___"===t.substr(0,3)?t[3]:t}}),s.utils.EventHub=function(t){s.utils.EventEmitter.call(this),this._layoutManager=t,this._dontPropagateToParent=null,this._childEventSource=null,this.on(s.utils.EventEmitter.ALL_EVENT,s.utils.fnBind(this._onEventFromThis,this)),this._boundOnEventFromChild=s.utils.fnBind(this._onEventFromChild,this),o(window).on("gl_child_event",this._boundOnEventFromChild)},s.utils.EventHub.prototype._onEventFromThis=function(){var t=Array.prototype.slice.call(arguments);this._layoutManager.isSubWindow&&t[0]!==this._dontPropagateToParent&&this._propagateToParent(t),this._propagateToChildren(t),this._dontPropagateToParent=null,this._childEventSource=null},s.utils.EventHub.prototype._$onEventFromParent=function(t){this._dontPropagateToParent=t[0],this.emit.apply(this,t)},s.utils.EventHub.prototype._onEventFromChild=function(t){this._childEventSource=t.originalEvent.__gl,this.emit.apply(this,t.originalEvent.__glArgs)},s.utils.EventHub.prototype._propagateToParent=function(t){var e,n="gl_child_event";document.createEvent?(e=window.opener.document.createEvent("HTMLEvents")).initEvent(n,!0,!0):(e=window.opener.document.createEventObject()).eventType=n,e.eventName=n,e.__glArgs=t,e.__gl=this._layoutManager,document.createEvent?window.opener.dispatchEvent(e):window.opener.fireEvent("on"+e.eventType,e)},s.utils.EventHub.prototype._propagateToChildren=function(t){var e,n;for(n=0;n<this._layoutManager.openPopouts.length;n++)(e=this._layoutManager.openPopouts[n].getGlInstance())&&e!==this._childEventSource&&e.eventHub._$onEventFromParent(t)},s.utils.EventHub.prototype.destroy=function(){o(window).off("gl_child_event",this._boundOnEventFromChild)},s.utils.ReactComponentHandler=function(t,e){this._reactComponent=null,this._originalComponentWillUpdate=null,this._container=t,this._initialState=e,this._reactClass=this._getReactClass(),this._container.on("open",this._render,this),this._container.on("destroy",this._destroy,this)},s.utils.copy(s.utils.ReactComponentHandler.prototype,{_render:function(){this._reactComponent=ReactDOM.render(this._getReactComponent(),this._container.getElement()[0]),this._originalComponentWillUpdate=this._reactComponent.componentWillUpdate||function(){},this._reactComponent.componentWillUpdate=this._onUpdate.bind(this),this._container.getState()&&this._reactComponent.setState(this._container.getState())},_destroy:function(){ReactDOM.unmountComponentAtNode(this._container.getElement()[0]),this._container.off("open",this._render,this),this._container.off("destroy",this._destroy,this)},_onUpdate:function(t,e){this._container.setState(e),this._originalComponentWillUpdate.call(this._reactComponent,t,e)},_getReactClass:function(){var t,e=this._container._config.component;if(!e)throw new Error("No react component name. type: react-component needs a field `component`");if(!(t=this._container.layoutManager.getComponent(e)))throw new Error('React component "'+e+'" not found. Please register all components with GoldenLayout using `registerComponent(name, component)`');return t},_getReactComponent:function(){var t={glEventHub:this._container.layoutManager.eventHub,glContainer:this._container},e=o.extend(t,this._container._config.props);return React.createElement(this._reactClass,e)}})},8483:function(t,e){var n;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(i,r){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,g=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},A=o.push,C=o.indexOf,I={},c=I.toString,l=I.hasOwnProperty,u=l.toString,h=u.call(Object),d={},f=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},p=function(t){return null!=t&&t===t.window},m=i.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function y(t,e,n){var i,r,o=(n=n||m).createElement("script");if(o.text=t,e)for(i in v)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function b(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?I[c.call(t)]||"object":typeof t}var _="3.5.1",w=function(t,e){return new w.fn.init(t,e)};function x(t){var e=!!t&&"length"in t&&t.length,n=b(t);return!f(t)&&!p(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}w.fn=w.prototype={jquery:_,constructor:w,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:A,sort:o.sort,splice:o.splice},w.extend=w.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,g=arguments.length,A=!1;for("boolean"==typeof s&&(A=s,s=arguments[a]||{},a++),"object"==typeof s||f(s)||(s={}),a===g&&(s=this,a--);a<g;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(A&&i&&(w.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[e],o=r&&!Array.isArray(n)?[]:r||w.isPlainObject(n)?n:{},r=!1,s[e]=w.extend(A,o,i)):void 0!==i&&(s[e]=i));return s},w.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==c.call(t)||(e=s(t))&&("function"!=typeof(n=l.call(e,"constructor")&&e.constructor)||u.call(n)!==h))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){y(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(x(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(x(Object(t))?w.merge(n,"string"==typeof t?[t]:t):A.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:C.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(x(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return g(s)},guid:1,support:d}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=o[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){I["[object "+e+"]"]=e.toLowerCase()}));var S=function(t){var e,n,i,r,o,s,a,g,A,C,I,c,l,u,h,d,f,p,m,v="sizzle"+1*new Date,y=t.document,b=0,_=0,w=gt(),x=gt(),S=gt(),E=gt(),M=function(t,e){return t===e&&(I=!0),0},T={}.hasOwnProperty,R=[],O=R.pop,L=R.push,k=R.push,D=R.slice,N=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",z="\\[[\\x20\\t\\r\\n\\f]*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+j+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",U=new RegExp(j+"+","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),G=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),W=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),V=new RegExp(j+"|>"),Z=new RegExp(B),Y=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},J=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){c()},st=vt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{k.apply(R=D.call(y.childNodes),y.childNodes),R[y.childNodes.length].nodeType}catch(t){k={apply:R.length?function(t,e){L.apply(t,D.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,r){var o,a,A,C,I,u,f,p=e&&e.ownerDocument,y=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==y&&9!==y&&11!==y)return i;if(!r&&(c(e),e=e||l,h)){if(11!==y&&(I=$.exec(t)))if(o=I[1]){if(9===y){if(!(A=e.getElementById(o)))return i;if(A.id===o)return i.push(A),i}else if(p&&(A=p.getElementById(o))&&m(e,A)&&A.id===o)return i.push(A),i}else{if(I[2])return k.apply(i,e.getElementsByTagName(t)),i;if((o=I[3])&&n.getElementsByClassName&&e.getElementsByClassName)return k.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!E[t+" "]&&(!d||!d.test(t))&&(1!==y||"object"!==e.nodeName.toLowerCase())){if(f=t,p=e,1===y&&(V.test(t)||W.test(t))){for((p=tt.test(t)&&ft(e.parentNode)||e)===e&&n.scope||((C=e.getAttribute("id"))?C=C.replace(it,rt):e.setAttribute("id",C=v)),a=(u=s(t)).length;a--;)u[a]=(C?"#"+C:":scope")+" "+mt(u[a]);f=u.join(",")}try{return k.apply(i,p.querySelectorAll(f)),i}catch(e){E(t,!0)}finally{C===v&&e.removeAttribute("id")}}}return g(t.replace(H,"$1"),e,i,r)}function gt(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function At(t){return t[v]=!0,t}function Ct(t){var e=l.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function It(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function lt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ut(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function ht(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function dt(t){return At((function(e){return e=+e,At((function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function ft(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},o=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!J.test(e||n&&n.nodeName||"HTML")},c=at.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:y;return s!=l&&9===s.nodeType&&s.documentElement?(u=(l=s).documentElement,h=!o(l),y!=l&&(r=l.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),n.scope=Ct((function(t){return u.appendChild(t).appendChild(l.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=Ct((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=Ct((function(t){return t.appendChild(l.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(l.getElementsByClassName),n.getById=Ct((function(t){return u.appendChild(t).id=v,!l.getElementsByName||!l.getElementsByName(v).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&h)return e.getElementsByClassName(t)},f=[],d=[],(n.qsa=Q.test(l.querySelectorAll))&&(Ct((function(t){var e;u.appendChild(t).innerHTML="<a id='"+v+"'></a><select id='"+v+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&d.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||d.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+P+")"),t.querySelectorAll("[id~="+v+"-]").length||d.push("~="),(e=l.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||d.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||d.push(":checked"),t.querySelectorAll("a#"+v+"+*").length||d.push(".#.+[+~]"),t.querySelectorAll("\\\f"),d.push("[\\r\\n\\f]")})),Ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=l.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&d.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&d.push(":enabled",":disabled"),u.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),d.push(",.*:")}))),(n.matchesSelector=Q.test(p=u.matches||u.webkitMatchesSelector||u.mozMatchesSelector||u.oMatchesSelector||u.msMatchesSelector))&&Ct((function(t){n.disconnectedMatch=p.call(t,"*"),p.call(t,"[s!='']:x"),f.push("!=",B)})),d=d.length&&new RegExp(d.join("|")),f=f.length&&new RegExp(f.join("|")),e=Q.test(u.compareDocumentPosition),m=e||Q.test(u.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},M=e?function(t,e){if(t===e)return I=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==l||t.ownerDocument==y&&m(y,t)?-1:e==l||e.ownerDocument==y&&m(y,e)?1:C?N(C,t)-N(C,e):0:4&i?-1:1)}:function(t,e){if(t===e)return I=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t==l?-1:e==l?1:r?-1:o?1:C?N(C,t)-N(C,e):0;if(r===o)return ct(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ct(s[i],a[i]):s[i]==y?-1:a[i]==y?1:0},l):l},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(c(t),n.matchesSelector&&h&&!E[e+" "]&&(!f||!f.test(e))&&(!d||!d.test(e)))try{var i=p.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){E(e,!0)}return at(e,l,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=l&&c(t),m(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=l&&c(t);var r=i.attrHandle[e.toLowerCase()],o=r&&T.call(i.attrHandle,e.toLowerCase())?r(t,e,!h):void 0;return void 0!==o?o:n.attributes||!h?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},at.escape=function(t){return(t+"").replace(it,rt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],r=0,o=0;if(I=!n.detectDuplicates,C=!n.sortStable&&t.slice(0),t.sort(M),I){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return C=null,t},r=at.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},i=at.selectors={cacheLength:50,createPseudo:At,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Z.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=w[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+j+"|$)"))&&w(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=at.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(U," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,g){var A,C,I,c,l,u,h=o!==s?"nextSibling":"previousSibling",d=e.parentNode,f=a&&e.nodeName.toLowerCase(),p=!g&&!a,m=!1;if(d){if(o){for(;h;){for(c=e;c=c[h];)if(a?c.nodeName.toLowerCase()===f:1===c.nodeType)return!1;u=h="only"===t&&!u&&"nextSibling"}return!0}if(u=[s?d.firstChild:d.lastChild],s&&p){for(m=(l=(A=(C=(I=(c=d)[v]||(c[v]={}))[c.uniqueID]||(I[c.uniqueID]={}))[t]||[])[0]===b&&A[1])&&A[2],c=l&&d.childNodes[l];c=++l&&c&&c[h]||(m=l=0)||u.pop();)if(1===c.nodeType&&++m&&c===e){C[t]=[b,l,m];break}}else if(p&&(m=l=(A=(C=(I=(c=e)[v]||(c[v]={}))[c.uniqueID]||(I[c.uniqueID]={}))[t]||[])[0]===b&&A[1]),!1===m)for(;(c=++l&&c&&c[h]||(m=l=0)||u.pop())&&((a?c.nodeName.toLowerCase()!==f:1!==c.nodeType)||!++m||(p&&((C=(I=c[v]||(c[v]={}))[c.uniqueID]||(I[c.uniqueID]={}))[t]=[b,m]),c!==e)););return(m-=r)===i||m%i==0&&m/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return r[v]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?At((function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=N(t,o[s])]=!(n[i]=o[s])})):function(t){return r(t,0,n)}):r}},pseudos:{not:At((function(t){var e=[],n=[],i=a(t.replace(H,"$1"));return i[v]?At((function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:At((function(t){return function(e){return at(t,e).length>0}})),contains:At((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:At((function(t){return Y.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=h?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===u},focus:function(t){return t===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ht(!1),disabled:ht(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return q.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt((function(){return[0]})),last:dt((function(t,e){return[e-1]})),eq:dt((function(t,e,n){return[n<0?n+e:n]})),even:dt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:dt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:dt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:dt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=lt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ut(e);function pt(){}function mt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function vt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=_++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,g){var A,C,I,c=[b,a];if(g){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,g))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(C=(I=e[v]||(e[v]={}))[e.uniqueID]||(I[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((A=C[o])&&A[0]===b&&A[1]===a)return c[2]=A[2];if(C[o]=c,c[2]=t(e,n,g))return!0}return!1}}function yt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function bt(t,e,n,i,r){for(var o,s=[],a=0,g=t.length,A=null!=e;a<g;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),A&&e.push(a)));return s}function _t(t,e,n,i,r,o){return i&&!i[v]&&(i=_t(i)),r&&!r[v]&&(r=_t(r,o)),At((function(o,s,a,g){var A,C,I,c=[],l=[],u=s.length,h=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)at(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),d=!t||!o&&e?h:bt(h,c,t,a,g),f=n?r||(o?t:u||i)?[]:s:d;if(n&&n(d,f,a,g),i)for(A=bt(f,l),i(A,[],a,g),C=A.length;C--;)(I=A[C])&&(f[l[C]]=!(d[l[C]]=I));if(o){if(r||t){if(r){for(A=[],C=f.length;C--;)(I=f[C])&&A.push(d[C]=I);r(null,f=[],A,g)}for(C=f.length;C--;)(I=f[C])&&(A=r?N(o,I):c[C])>-1&&(o[A]=!(s[A]=I))}}else f=bt(f===s?f.splice(u,f.length):f),r?r(null,s,f,g):k.apply(s,f)}))}function wt(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],g=s?1:0,C=vt((function(t){return t===e}),a,!0),I=vt((function(t){return N(e,t)>-1}),a,!0),c=[function(t,n,i){var r=!s&&(i||n!==A)||((e=n).nodeType?C(t,n,i):I(t,n,i));return e=null,r}];g<o;g++)if(n=i.relative[t[g].type])c=[vt(yt(c),n)];else{if((n=i.filter[t[g].type].apply(null,t[g].matches))[v]){for(r=++g;r<o&&!i.relative[t[r].type];r++);return _t(g>1&&yt(c),g>1&&mt(t.slice(0,g-1).concat({value:" "===t[g-2].type?"*":""})).replace(H,"$1"),n,g<r&&wt(t.slice(g,r)),r<o&&wt(t=t.slice(r)),r<o&&mt(t))}c.push(n)}return yt(c)}return pt.prototype=i.filters=i.pseudos,i.setFilters=new pt,s=at.tokenize=function(t,e){var n,r,o,s,a,g,A,C=x[t+" "];if(C)return e?0:C.slice(0);for(a=t,g=[],A=i.preFilter;a;){for(s in n&&!(r=G.exec(a))||(r&&(a=a.slice(r[0].length)||a),g.push(o=[])),n=!1,(r=W.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(H," ")}),a=a.slice(n.length)),i.filter)!(r=X[s].exec(a))||A[s]&&!(r=A[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):x(t,g).slice(0)},a=at.compile=function(t,e){var n,r=[],o=[],a=S[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=wt(e[n]))[v]?r.push(a):o.push(a);a=S(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,g,C){var I,u,d,f=0,p="0",m=o&&[],v=[],y=A,_=o||r&&i.find.TAG("*",C),w=b+=null==y?1:Math.random()||.1,x=_.length;for(C&&(A=s==l||s||C);p!==x&&null!=(I=_[p]);p++){if(r&&I){for(u=0,s||I.ownerDocument==l||(c(I),a=!h);d=t[u++];)if(d(I,s||l,a)){g.push(I);break}C&&(b=w)}n&&((I=!d&&I)&&f--,o&&m.push(I))}if(f+=p,n&&p!==f){for(u=0;d=e[u++];)d(m,v,s,a);if(o){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=O.call(g));v=bt(v)}k.apply(g,v),C&&!o&&v.length>0&&f+e.length>1&&at.uniqueSort(g)}return C&&(b=w,A=y),m};return n?At(o):o}(o,r)),a.selector=t}return a},g=at.select=function(t,e,n,r){var o,g,A,C,I,c="function"==typeof t&&t,l=!r&&s(t=c.selector||t);if(n=n||[],1===l.length){if((g=l[0]=l[0].slice(0)).length>2&&"ID"===(A=g[0]).type&&9===e.nodeType&&h&&i.relative[g[1].type]){if(!(e=(i.find.ID(A.matches[0].replace(et,nt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(g.shift().value.length)}for(o=X.needsContext.test(t)?0:g.length;o--&&(A=g[o],!i.relative[C=A.type]);)if((I=i.find[C])&&(r=I(A.matches[0].replace(et,nt),tt.test(g[0].type)&&ft(e.parentNode)||e))){if(g.splice(o,1),!(t=r.length&&mt(g)))return k.apply(n,r),n;break}}return(c||a(t,l))(r,e,!h,n,!e||tt.test(t)&&ft(e.parentNode)||e),n},n.sortStable=v.split("").sort(M).join("")===v,n.detectDuplicates=!!I,c(),n.sortDetached=Ct((function(t){return 1&t.compareDocumentPosition(l.createElement("fieldset"))})),Ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||It("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&Ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||It("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),Ct((function(t){return null==t.getAttribute("disabled")}))||It(P,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(i);w.find=S,w.expr=S.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=S.uniqueSort,w.text=S.getText,w.isXMLDoc=S.isXML,w.contains=S.contains,w.escapeSelector=S.escape;var E=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&w(t).is(n))break;i.push(t)}return i},M=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},T=w.expr.match.needsContext;function R(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(t,e,n){return f(e)?w.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?w.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?w.grep(t,(function(t){return C.call(e,t)>-1!==n})):w.filter(e,t,n)}w.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?w.find.matchesSelector(i,t)?[i]:[]:w.find.matches(t,w.grep(e,(function(t){return 1===t.nodeType})))},w.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(w(t).filter((function(){for(e=0;e<i;e++)if(w.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)w.find(t,r[e],n);return i>1?w.uniqueSort(n):n},filter:function(t){return this.pushStack(L(this,t||[],!1))},not:function(t){return this.pushStack(L(this,t||[],!0))},is:function(t){return!!L(this,"string"==typeof t&&T.test(t)?w(t):t||[],!1).length}});var k,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||k,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof w?e[0]:e,w.merge(this,w.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:m,!0)),O.test(i[1])&&w.isPlainObject(e))for(i in e)f(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=m.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):f(t)?void 0!==n.ready?n.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,k=w(m);var N=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(w.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&w(t);if(!T.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?C.call(w(t),this[0]):C.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E(t,"parentNode")},parentsUntil:function(t,e,n){return E(t,"parentNode",n)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return E(t,"nextSibling")},prevAll:function(t){return E(t,"previousSibling")},nextUntil:function(t,e,n){return E(t,"nextSibling",n)},prevUntil:function(t,e,n){return E(t,"previousSibling",n)},siblings:function(t){return M((t.parentNode||{}).firstChild,t)},children:function(t){return M(t.firstChild)},contents:function(t){return null!=t.contentDocument&&s(t.contentDocument)?t.contentDocument:(R(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},(function(t,e){w.fn[t]=function(n,i){var r=w.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=w.filter(i,r)),this.length>1&&(P[t]||w.uniqueSort(r),N.test(t)&&r.reverse()),this.pushStack(r)}}));var F=/[^\x20\t\r\n\f]+/g;function z(t){return t}function B(t){throw t}function U(t,e,n,i){var r;try{t&&f(r=t.promise)?r.call(t).done(e).fail(n):t&&f(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}w.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return w.each(t.match(F)||[],(function(t,n){e[n]=!0})),e}(t):w.extend({},t);var e,n,i,r,o=[],s=[],a=-1,g=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},A={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){w.each(n,(function(n,i){f(i)?t.unique&&A.has(i)||o.push(i):i&&i.length&&"string"!==b(i)&&e(i)}))}(arguments),n&&!e&&g()),this},remove:function(){return w.each(arguments,(function(t,e){for(var n;(n=w.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(t){return t?w.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||g()),this},fire:function(){return A.fireWith(this,arguments),this},fired:function(){return!!i}};return A},w.extend({Deferred:function(t){var e=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return w.Deferred((function(n){w.each(e,(function(e,i){var r=f(t[i[4]])&&t[i[4]];o[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&f(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,r){var o=0;function s(t,e,n,r){return function(){var a=this,g=arguments,A=function(){var i,A;if(!(t<o)){if((i=n.apply(a,g))===e.promise())throw new TypeError("Thenable self-resolution");A=i&&("object"==typeof i||"function"==typeof i)&&i.then,f(A)?r?A.call(i,s(o,e,z,r),s(o,e,B,r)):(o++,A.call(i,s(o,e,z,r),s(o,e,B,r),s(o,e,z,e.notifyWith))):(n!==z&&(a=void 0,g=[i]),(r||e.resolveWith)(a,g))}},C=r?A:function(){try{A()}catch(i){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(i,C.stackTrace),t+1>=o&&(n!==B&&(a=void 0,g=[i]),e.rejectWith(a,g))}};t?C():(w.Deferred.getStackHook&&(C.stackTrace=w.Deferred.getStackHook()),i.setTimeout(C))}}return w.Deferred((function(i){e[0][3].add(s(0,i,f(r)?r:z,i.notifyWith)),e[1][3].add(s(0,i,f(t)?t:z)),e[2][3].add(s(0,i,f(n)?n:B))})).promise()},promise:function(t){return null!=t?w.extend(t,r):r}},o={};return w.each(e,(function(t,i){var s=i[2],a=i[5];r[i[1]]=s.add,a&&s.add((function(){n=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=s.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=a.call(arguments),o=w.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?a.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(U(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||f(r[n]&&r[n].then)))return o.then();for(;n--;)U(r[n],s(n),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&H.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},w.readyException=function(t){i.setTimeout((function(){throw t}))};var G=w.Deferred();function W(){m.removeEventListener("DOMContentLoaded",W),i.removeEventListener("load",W),w.ready()}w.fn.ready=function(t){return G.then(t).catch((function(t){w.readyException(t)})),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==t&&--w.readyWait>0||G.resolveWith(m,[w]))}}),w.ready.then=G.then,"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?i.setTimeout(w.ready):(m.addEventListener("DOMContentLoaded",W),i.addEventListener("load",W));var V=function(t,e,n,i,r,o,s){var a=0,g=t.length,A=null==n;if("object"===b(n))for(a in r=!0,n)V(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,f(i)||(s=!0),A&&(s?(e.call(t,i),e=null):(A=e,e=function(t,e,n){return A.call(w(t),n)})),e))for(;a<g;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:A?e.call(t):g?e(t[0],n):o},Z=/^-ms-/,Y=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function J(t){return t.replace(Z,"ms-").replace(Y,X)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function q(){this.expando=w.expando+q.uid++}q.uid=1,q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[J(e)]=n;else for(i in e)r[J(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][J(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(J):(e=J(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||w.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var Q=new q,$=new q,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}$.set(t,e,n)}else n=void 0;return n}w.extend({hasData:function(t){return $.hasData(t)||Q.hasData(t)},data:function(t,e,n){return $.access(t,e,n)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,n){return Q.access(t,e,n)},_removeData:function(t,e){Q.remove(t,e)}}),w.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=$.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=J(i.slice(5)),nt(o,i,r[i]));Q.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){$.set(this,t)})):V(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=$.get(o,t))||void 0!==(n=nt(o,t))?n:void 0;this.each((function(){$.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){$.remove(this,t)}))}}),w.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Q.get(t,e),n&&(!i||Array.isArray(n)?i=Q.access(t,e,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=w.queue(t,e),i=n.length,r=n.shift(),o=w._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,(function(){w.dequeue(t,e)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Q.get(t,n)||Q.access(t,n,{empty:w.Callbacks("once memory").add((function(){Q.remove(t,[e+"queue",n])}))})}}),w.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?w.queue(this[0],t):void 0===e?this:this.each((function(){var n=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&w.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){w.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=w.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Q.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=m.documentElement,at=function(t){return w.contains(t.ownerDocument,t)},gt={composed:!0};st.getRootNode&&(at=function(t){return w.contains(t.ownerDocument,t)||t.getRootNode(gt)===t.ownerDocument});var At=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===w.css(t,"display")};function Ct(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return w.css(t,e,"")},g=a(),A=n&&n[3]||(w.cssNumber[e]?"":"px"),C=t.nodeType&&(w.cssNumber[e]||"px"!==A&&+g)&&rt.exec(w.css(t,e));if(C&&C[3]!==A){for(g/=2,A=A||C[3],C=+g||1;s--;)w.style(t,e,C+A),(1-o)*(1-(o=a()/g||.5))<=0&&(s=0),C/=o;C*=2,w.style(t,e,C+A),n=n||[]}return n&&(C=+C||+g||0,r=n[1]?C+(n[1]+1)*n[2]:+n[2],i&&(i.unit=A,i.start=C,i.end=r)),r}var It={};function ct(t){var e,n=t.ownerDocument,i=t.nodeName,r=It[i];return r||(e=n.body.appendChild(n.createElement(i)),r=w.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),It[i]=r,r)}function lt(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=Q.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&At(i)&&(r[o]=ct(i))):"none"!==n&&(r[o]="none",Q.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}w.fn.extend({show:function(){return lt(this,!0)},hide:function(){return lt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){At(this)?w(this).show():w(this).hide()}))}});var ut,ht,dt=/^(?:checkbox|radio)$/i,ft=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pt=/^$|^module$|\/(?:java|ecma)script/i;ut=m.createDocumentFragment().appendChild(m.createElement("div")),(ht=m.createElement("input")).setAttribute("type","radio"),ht.setAttribute("checked","checked"),ht.setAttribute("name","t"),ut.appendChild(ht),d.checkClone=ut.cloneNode(!0).cloneNode(!0).lastChild.checked,ut.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!ut.cloneNode(!0).lastChild.defaultValue,ut.innerHTML="<option></option>",d.option=!!ut.lastChild;var mt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function vt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&R(t,e)?w.merge([t],n):n}function yt(t,e){for(var n=0,i=t.length;n<i;n++)Q.set(t[n],"globalEval",!e||Q.get(e[n],"globalEval"))}mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td,d.option||(mt.optgroup=mt.option=[1,"<select multiple='multiple'>","</select>"]);var bt=/<|&#?\w+;/;function _t(t,e,n,i,r){for(var o,s,a,g,A,C,I=e.createDocumentFragment(),c=[],l=0,u=t.length;l<u;l++)if((o=t[l])||0===o)if("object"===b(o))w.merge(c,o.nodeType?[o]:o);else if(bt.test(o)){for(s=s||I.appendChild(e.createElement("div")),a=(ft.exec(o)||["",""])[1].toLowerCase(),g=mt[a]||mt._default,s.innerHTML=g[1]+w.htmlPrefilter(o)+g[2],C=g[0];C--;)s=s.lastChild;w.merge(c,s.childNodes),(s=I.firstChild).textContent=""}else c.push(e.createTextNode(o));for(I.textContent="",l=0;o=c[l++];)if(i&&w.inArray(o,i)>-1)r&&r.push(o);else if(A=at(o),s=vt(I.appendChild(o),"script"),A&&yt(s),n)for(C=0;o=s[C++];)pt.test(o.type||"")&&n.push(o);return I}var wt=/^key/,xt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,St=/^([^.]*)(?:\.(.+)|)/;function Et(){return!0}function Mt(){return!1}function Tt(t,e){return t===function(){try{return m.activeElement}catch(t){}}()==("focus"===e)}function Rt(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Rt(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Mt;else if(!r)return t;return 1===o&&(s=r,r=function(t){return w().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=w.guid++)),t.each((function(){w.event.add(this,e,r,i,n)}))}function Ot(t,e,n){n?(Q.set(t,e,!1),w.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=Q.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(w.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=a.call(arguments),Q.set(this,e,o),i=n(this,e),this[e](),o!==(r=Q.get(this,e))||i?Q.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(Q.set(this,e,{value:w.event.trigger(w.extend(o[0],w.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Q.get(t,e)&&w.event.add(t,e,Et)}w.event={global:{},add:function(t,e,n,i,r){var o,s,a,g,A,C,I,c,l,u,h,d=Q.get(t);if(K(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&w.find.matchesSelector(st,r),n.guid||(n.guid=w.guid++),(g=d.events)||(g=d.events=Object.create(null)),(s=d.handle)||(s=d.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),A=(e=(e||"").match(F)||[""]).length;A--;)l=h=(a=St.exec(e[A])||[])[1],u=(a[2]||"").split(".").sort(),l&&(I=w.event.special[l]||{},l=(r?I.delegateType:I.bindType)||l,I=w.event.special[l]||{},C=w.extend({type:l,origType:h,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:u.join(".")},o),(c=g[l])||((c=g[l]=[]).delegateCount=0,I.setup&&!1!==I.setup.call(t,i,u,s)||t.addEventListener&&t.addEventListener(l,s)),I.add&&(I.add.call(t,C),C.handler.guid||(C.handler.guid=n.guid)),r?c.splice(c.delegateCount++,0,C):c.push(C),w.event.global[l]=!0)},remove:function(t,e,n,i,r){var o,s,a,g,A,C,I,c,l,u,h,d=Q.hasData(t)&&Q.get(t);if(d&&(g=d.events)){for(A=(e=(e||"").match(F)||[""]).length;A--;)if(l=h=(a=St.exec(e[A])||[])[1],u=(a[2]||"").split(".").sort(),l){for(I=w.event.special[l]||{},c=g[l=(i?I.delegateType:I.bindType)||l]||[],a=a[2]&&new RegExp("(^|\\.)"+u.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=c.length;o--;)C=c[o],!r&&h!==C.origType||n&&n.guid!==C.guid||a&&!a.test(C.namespace)||i&&i!==C.selector&&("**"!==i||!C.selector)||(c.splice(o,1),C.selector&&c.delegateCount--,I.remove&&I.remove.call(t,C));s&&!c.length&&(I.teardown&&!1!==I.teardown.call(t,u,d.handle)||w.removeEvent(t,l,d.handle),delete g[l])}else for(l in g)w.event.remove(t,l+e[A],n,i,!0);w.isEmptyObject(g)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=new Array(arguments.length),g=w.event.fix(t),A=(Q.get(this,"events")||Object.create(null))[g.type]||[],C=w.event.special[g.type]||{};for(a[0]=g,e=1;e<arguments.length;e++)a[e]=arguments[e];if(g.delegateTarget=this,!C.preDispatch||!1!==C.preDispatch.call(this,g)){for(s=w.event.handlers.call(this,g,A),e=0;(r=s[e++])&&!g.isPropagationStopped();)for(g.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!g.isImmediatePropagationStopped();)g.rnamespace&&!1!==o.namespace&&!g.rnamespace.test(o.namespace)||(g.handleObj=o,g.data=o.data,void 0!==(i=((w.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(g.result=i)&&(g.preventDefault(),g.stopPropagation()));return C.postDispatch&&C.postDispatch.call(this,g),g.result}},handlers:function(t,e){var n,i,r,o,s,a=[],g=e.delegateCount,A=t.target;if(g&&A.nodeType&&!("click"===t.type&&t.button>=1))for(;A!==this;A=A.parentNode||this)if(1===A.nodeType&&("click"!==t.type||!0!==A.disabled)){for(o=[],s={},n=0;n<g;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?w(r,this).index(A)>-1:w.find(r,this,null,[A]).length),s[r]&&o.push(i);o.length&&a.push({elem:A,handlers:o})}return A=this,g<e.length&&a.push({elem:A,handlers:e.slice(g)}),a},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:f(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return dt.test(e.type)&&e.click&&R(e,"input")&&Ot(e,"click",Et),!1},trigger:function(t){var e=this||t;return dt.test(e.type)&&e.click&&R(e,"input")&&Ot(e,"click"),!0},_default:function(t){var e=t.target;return dt.test(e.type)&&e.click&&R(e,"input")&&Q.get(e,"click")||R(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Et:Mt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Mt,isPropagationStopped:Mt,isImmediatePropagationStopped:Mt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Et,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Et,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Et,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&wt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&xt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(t,e){w.event.special[t]={setup:function(){return Ot(this,t,Tt),!1},trigger:function(){return Ot(this,t),!0},delegateType:e}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||w.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),w.fn.extend({on:function(t,e,n,i){return Rt(this,t,e,n,i)},one:function(t,e,n,i){return Rt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,w(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Mt),this.each((function(){w.event.remove(this,t,n,e)}))}});var Lt=/<script|<style|<link/i,kt=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Nt(t,e){return R(t,"table")&&R(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function Pt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function jt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ft(t,e){var n,i,r,o,s,a;if(1===e.nodeType){if(Q.hasData(t)&&(a=Q.get(t).events))for(r in Q.remove(e,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)w.event.add(e,r,a[r][n]);$.hasData(t)&&(o=$.access(t),s=w.extend({},o),$.set(e,s))}}function zt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&dt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Bt(t,e,n,i){e=g(e);var r,o,s,a,A,C,I=0,c=t.length,l=c-1,u=e[0],h=f(u);if(h||c>1&&"string"==typeof u&&!d.checkClone&&kt.test(u))return t.each((function(r){var o=t.eq(r);h&&(e[0]=u.call(this,r,o.html())),Bt(o,e,n,i)}));if(c&&(o=(r=_t(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=w.map(vt(r,"script"),Pt)).length;I<c;I++)A=r,I!==l&&(A=w.clone(A,!0,!0),a&&w.merge(s,vt(A,"script"))),n.call(t[I],A,I);if(a)for(C=s[s.length-1].ownerDocument,w.map(s,jt),I=0;I<a;I++)A=s[I],pt.test(A.type||"")&&!Q.access(A,"globalEval")&&w.contains(C,A)&&(A.src&&"module"!==(A.type||"").toLowerCase()?w._evalUrl&&!A.noModule&&w._evalUrl(A.src,{nonce:A.nonce||A.getAttribute("nonce")},C):y(A.textContent.replace(Dt,""),A,C))}return t}function Ut(t,e,n){for(var i,r=e?w.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||w.cleanData(vt(i)),i.parentNode&&(n&&at(i)&&yt(vt(i,"script")),i.parentNode.removeChild(i));return t}w.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),g=at(t);if(!(d.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(s=vt(a),i=0,r=(o=vt(t)).length;i<r;i++)zt(o[i],s[i]);if(e)if(n)for(o=o||vt(t),s=s||vt(a),i=0,r=o.length;i<r;i++)Ft(o[i],s[i]);else Ft(t,a);return(s=vt(a,"script")).length>0&&yt(s,!g&&vt(t,"script")),a},cleanData:function(t){for(var e,n,i,r=w.event.special,o=0;void 0!==(n=t[o]);o++)if(K(n)){if(e=n[Q.expando]){if(e.events)for(i in e.events)r[i]?w.event.remove(n,i):w.removeEvent(n,i,e.handle);n[Q.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Ut(this,t,!0)},remove:function(t){return Ut(this,t)},text:function(t){return V(this,(function(t){return void 0===t?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Bt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Nt(this,t).appendChild(t)}))},prepend:function(){return Bt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Nt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Bt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(vt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return w.clone(this,t,e)}))},html:function(t){return V(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Lt.test(t)&&!mt[(ft.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(w.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Bt(this,arguments,(function(e){var n=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(vt(this)),n&&n.replaceChild(e,this))}),t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){w.fn[t]=function(t){for(var n,i=[],r=w(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),w(r[s])[e](n),A.apply(i,n.get());return this.pushStack(i)}}));var Ht=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Gt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},Wt=function(t,e,n){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=o[r];return i},Vt=new RegExp(ot.join("|"),"i");function Zt(t,e,n){var i,r,o,s,a=t.style;return(n=n||Gt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||at(t)||(s=w.style(t,e)),!d.pixelBoxStyles()&&Ht.test(s)&&Vt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Yt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(C){A.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",C.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(A).appendChild(C);var t=i.getComputedStyle(C);n="1%"!==t.top,g=12===e(t.marginLeft),C.style.right="60%",s=36===e(t.right),r=36===e(t.width),C.style.position="absolute",o=12===e(C.offsetWidth/3),st.removeChild(A),C=null}}function e(t){return Math.round(parseFloat(t))}var n,r,o,s,a,g,A=m.createElement("div"),C=m.createElement("div");C.style&&(C.style.backgroundClip="content-box",C.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===C.style.backgroundClip,w.extend(d,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),g},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,n,r;return null==a&&(t=m.createElement("table"),e=m.createElement("tr"),n=m.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",n.style.height="9px",st.appendChild(t).appendChild(e).appendChild(n),r=i.getComputedStyle(e),a=parseInt(r.height)>3,st.removeChild(t)),a}}))}();var Xt=["Webkit","Moz","ms"],Jt=m.createElement("div").style,Kt={};function qt(t){return w.cssProps[t]||Kt[t]||(t in Jt?t:Kt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Xt.length;n--;)if((t=Xt[n]+e)in Jt)return t}(t)||t)}var Qt=/^(none|table(?!-c[ea]).+)/,$t=/^--/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ne(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ie(t,e,n,i,r,o){var s="width"===e?1:0,a=0,g=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(g+=w.css(t,n+ot[s],!0,r)),i?("content"===n&&(g-=w.css(t,"padding"+ot[s],!0,r)),"margin"!==n&&(g-=w.css(t,"border"+ot[s]+"Width",!0,r))):(g+=w.css(t,"padding"+ot[s],!0,r),"padding"!==n?g+=w.css(t,"border"+ot[s]+"Width",!0,r):a+=w.css(t,"border"+ot[s]+"Width",!0,r));return!i&&o>=0&&(g+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-g-a-.5))||0),g}function re(t,e,n){var i=Gt(t),r=(!d.boxSizingReliable()||n)&&"border-box"===w.css(t,"boxSizing",!1,i),o=r,s=Zt(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if(Ht.test(s)){if(!n)return s;s="auto"}return(!d.boxSizingReliable()&&r||!d.reliableTrDimensions()&&R(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===w.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===w.css(t,"boxSizing",!1,i),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+ie(t,e,n||(r?"border":"content"),o,i,s)+"px"}function oe(t,e,n,i,r){return new oe.prototype.init(t,e,n,i,r)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Zt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=J(e),g=$t.test(e),A=t.style;if(g||(e=qt(a)),s=w.cssHooks[e]||w.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:A[e];"string"==(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=Ct(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||g||(n+=r&&r[3]||(w.cssNumber[a]?"":"px")),d.clearCloneStyle||""!==n||0!==e.indexOf("background")||(A[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(g?A.setProperty(e,n):A[e]=n))}},css:function(t,e,n,i){var r,o,s,a=J(e);return $t.test(e)||(e=qt(a)),(s=w.cssHooks[e]||w.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Zt(t,e,i)),"normal"===r&&e in ee&&(r=ee[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),w.each(["height","width"],(function(t,e){w.cssHooks[e]={get:function(t,n,i){if(n)return!Qt.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?re(t,e,i):Wt(t,te,(function(){return re(t,e,i)}))},set:function(t,n,i){var r,o=Gt(t),s=!d.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===w.css(t,"boxSizing",!1,o),g=i?ie(t,e,i,a,o):0;return a&&s&&(g-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ie(t,e,"border",!1,o)-.5)),g&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=w.css(t,e)),ne(0,n,g)}}})),w.cssHooks.marginLeft=Yt(d.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Zt(t,"marginLeft"))||t.getBoundingClientRect().left-Wt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(t,e){w.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(w.cssHooks[t+e].set=ne)})),w.fn.extend({css:function(t,e){return V(this,(function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=Gt(t),r=e.length;s<r;s++)o[e[s]]=w.css(t,e[s],!1,i);return o}return void 0!==n?w.style(t,e,n):w.css(t,e)}),t,e,arguments.length>1)}}),w.Tween=oe,oe.prototype={constructor:oe,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var t=oe.propHooks[this.prop];return t&&t.get?t.get(this):oe.propHooks._default.get(this)},run:function(t){var e,n=oe.propHooks[this.prop];return this.options.duration?this.pos=e=w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):oe.propHooks._default.set(this),this}},oe.prototype.init.prototype=oe.prototype,oe.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||!w.cssHooks[t.prop]&&null==t.elem.style[qt(t.prop)]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}},oe.propHooks.scrollTop=oe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=oe.prototype.init,w.fx.step={};var se,ae,ge=/^(?:toggle|show|hide)$/,Ae=/queueHooks$/;function Ce(){ae&&(!1===m.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(Ce):i.setTimeout(Ce,w.fx.interval),w.fx.tick())}function Ie(){return i.setTimeout((function(){se=void 0})),se=Date.now()}function ce(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function le(t,e,n){for(var i,r=(ue.tweeners[e]||[]).concat(ue.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function ue(t,e,n){var i,r,o=0,s=ue.prefilters.length,a=w.Deferred().always((function(){delete g.elem})),g=function(){if(r)return!1;for(var e=se||Ie(),n=Math.max(0,A.startTime+A.duration-e),i=1-(n/A.duration||0),o=0,s=A.tweens.length;o<s;o++)A.tweens[o].run(i);return a.notifyWith(t,[A,i,n]),i<1&&s?n:(s||a.notifyWith(t,[A,1,0]),a.resolveWith(t,[A]),!1)},A=a.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:e,originalOptions:n,startTime:se||Ie(),duration:n.duration,tweens:[],createTween:function(e,n){var i=w.Tween(t,A.opts,e,n,A.opts.specialEasing[e]||A.opts.easing);return A.tweens.push(i),i},stop:function(e){var n=0,i=e?A.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)A.tweens[n].run(1);return e?(a.notifyWith(t,[A,1,0]),a.resolveWith(t,[A,e])):a.rejectWith(t,[A,e]),this}}),C=A.props;for(function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=J(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=w.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(C,A.opts.specialEasing);o<s;o++)if(i=ue.prefilters[o].call(A,t,C,A.opts))return f(i.stop)&&(w._queueHooks(A.elem,A.opts.queue).stop=i.stop.bind(i)),i;return w.map(C,le,A),f(A.opts.start)&&A.opts.start.call(t,A),A.progress(A.opts.progress).done(A.opts.done,A.opts.complete).fail(A.opts.fail).always(A.opts.always),w.fx.timer(w.extend(g,{elem:t,anim:A,queue:A.opts.queue})),A}w.Animation=w.extend(ue,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return Ct(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){f(t)?(e=t,t=["*"]):t=t.match(F);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ue.tweeners[n]=ue.tweeners[n]||[],ue.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,g,A,C,I="width"in e||"height"in e,c=this,l={},u=t.style,h=t.nodeType&&At(t),d=Q.get(t,"fxshow");for(i in n.queue||(null==(s=w._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,c.always((function(){c.always((function(){s.unqueued--,w.queue(t,"fx").length||s.empty.fire()}))}))),e)if(r=e[i],ge.test(r)){if(delete e[i],o=o||"toggle"===r,r===(h?"hide":"show")){if("show"!==r||!d||void 0===d[i])continue;h=!0}l[i]=d&&d[i]||w.style(t,i)}if((g=!w.isEmptyObject(e))||!w.isEmptyObject(l))for(i in I&&1===t.nodeType&&(n.overflow=[u.overflow,u.overflowX,u.overflowY],null==(A=d&&d.display)&&(A=Q.get(t,"display")),"none"===(C=w.css(t,"display"))&&(A?C=A:(lt([t],!0),A=t.style.display||A,C=w.css(t,"display"),lt([t]))),("inline"===C||"inline-block"===C&&null!=A)&&"none"===w.css(t,"float")&&(g||(c.done((function(){u.display=A})),null==A&&(C=u.display,A="none"===C?"":C)),u.display="inline-block")),n.overflow&&(u.overflow="hidden",c.always((function(){u.overflow=n.overflow[0],u.overflowX=n.overflow[1],u.overflowY=n.overflow[2]}))),g=!1,l)g||(d?"hidden"in d&&(h=d.hidden):d=Q.access(t,"fxshow",{display:A}),o&&(d.hidden=!h),h&&lt([t],!0),c.done((function(){for(i in h||lt([t]),Q.remove(t,"fxshow"),l)w.style(t,i,l[i])}))),g=le(h?d[i]:0,i,c),i in d||(d[i]=g.start,h&&(g.end=g.start,g.start=0))}],prefilter:function(t,e){e?ue.prefilters.unshift(t):ue.prefilters.push(t)}}),w.speed=function(t,e,n){var i=t&&"object"==typeof t?w.extend({},t):{complete:n||!n&&e||f(t)&&t,duration:t,easing:n&&e||e&&!f(e)&&e};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in w.fx.speeds?i.duration=w.fx.speeds[i.duration]:i.duration=w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){f(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(t,e,n,i){return this.filter(At).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=w.isEmptyObject(t),o=w.speed(e,n,i),s=function(){var e=ue(this,w.extend({},t),o);(r||Q.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=w.timers,s=Q.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&Ae.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||w.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Q.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=w.timers,s=i?i.length:0;for(n.finish=!0,w.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),w.each(["toggle","show","hide"],(function(t,e){var n=w.fn[e];w.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ce(e,!0),t,i,r)}})),w.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){w.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),w.timers=[],w.fx.tick=function(){var t,e=0,n=w.timers;for(se=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||w.fx.stop(),se=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){ae||(ae=!0,Ce())},w.fx.stop=function(){ae=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,e){return t=w.fx&&w.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}}))},function(){var t=m.createElement("input"),e=m.createElement("select").appendChild(m.createElement("option"));t.type="checkbox",d.checkOn=""!==t.value,d.optSelected=e.selected,(t=m.createElement("input")).value="t",t.type="radio",d.radioValue="t"===t.value}();var he,de=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return V(this,w.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){w.removeAttr(this,t)}))}}),w.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?w.prop(t,e,n):(1===o&&w.isXMLDoc(t)||(r=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?he:void 0)),void 0!==n?null===n?void w.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=w.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!d.radioValue&&"radio"===e&&R(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(F);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),he={set:function(t,e,n){return!1===e?w.removeAttr(t,n):t.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=de[e]||w.find.attr;de[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=de[s],de[s]=r,r=null!=n(t,e,i)?s:null,de[s]=o),r}}));var fe=/^(?:input|select|textarea|button)$/i,pe=/^(?:a|area)$/i;function me(t){return(t.match(F)||[]).join(" ")}function ve(t){return t.getAttribute&&t.getAttribute("class")||""}function ye(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}w.fn.extend({prop:function(t,e){return V(this,w.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[w.propFix[t]||t]}))}}),w.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(t)||(e=w.propFix[e]||e,r=w.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):fe.test(t.nodeName)||pe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(w.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,g=0;if(f(t))return this.each((function(e){w(this).addClass(t.call(this,e,ve(this)))}));if((e=ye(t)).length)for(;n=this[g++];)if(r=ve(n),i=1===n.nodeType&&" "+me(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=me(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,g=0;if(f(t))return this.each((function(e){w(this).removeClass(t.call(this,e,ve(this)))}));if(!arguments.length)return this.attr("class","");if((e=ye(t)).length)for(;n=this[g++];)if(r=ve(n),i=1===n.nodeType&&" "+me(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=me(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):f(t)?this.each((function(n){w(this).toggleClass(t.call(this,n,ve(this),e),e)})):this.each((function(){var e,r,o,s;if(i)for(r=0,o=w(this),s=ye(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ve(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+me(ve(n))+" ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g;w.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=f(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,w(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=w.map(r,(function(t){return null==t?"":t+""}))),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(be,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:me(w.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],g=s?o+1:r.length;for(i=o<0?g:s?o:0;i<g;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!R(n.parentNode,"optgroup"))){if(e=w(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=w.makeArray(e),s=r.length;s--;)((i=r[s]).selected=w.inArray(w.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=w.inArray(w(t).val(),e)>-1}},d.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),d.focusin="onfocusin"in i;var _e=/^(?:focusinfocus|focusoutblur)$/,we=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(t,e,n,r){var o,s,a,g,A,C,I,c,u=[n||m],h=l.call(t,"type")?t.type:t,d=l.call(t,"namespace")?t.namespace.split("."):[];if(s=c=a=n=n||m,3!==n.nodeType&&8!==n.nodeType&&!_e.test(h+w.event.triggered)&&(h.indexOf(".")>-1&&(d=h.split("."),h=d.shift(),d.sort()),A=h.indexOf(":")<0&&"on"+h,(t=t[w.expando]?t:new w.Event(h,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:w.makeArray(e,[t]),I=w.event.special[h]||{},r||!I.trigger||!1!==I.trigger.apply(n,e))){if(!r&&!I.noBubble&&!p(n)){for(g=I.delegateType||h,_e.test(g+h)||(s=s.parentNode);s;s=s.parentNode)u.push(s),a=s;a===(n.ownerDocument||m)&&u.push(a.defaultView||a.parentWindow||i)}for(o=0;(s=u[o++])&&!t.isPropagationStopped();)c=s,t.type=o>1?g:I.bindType||h,(C=(Q.get(s,"events")||Object.create(null))[t.type]&&Q.get(s,"handle"))&&C.apply(s,e),(C=A&&s[A])&&C.apply&&K(s)&&(t.result=C.apply(s,e),!1===t.result&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||I._default&&!1!==I._default.apply(u.pop(),e)||!K(n)||A&&f(n[h])&&!p(n)&&((a=n[A])&&(n[A]=null),w.event.triggered=h,t.isPropagationStopped()&&c.addEventListener(h,we),n[h](),t.isPropagationStopped()&&c.removeEventListener(h,we),w.event.triggered=void 0,a&&(n[A]=a)),t.result}},simulate:function(t,e,n){var i=w.extend(new w.Event,n,{type:t,isSimulated:!0});w.event.trigger(i,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each((function(){w.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return w.event.trigger(t,e,n,!0)}}),d.focusin||w.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=Q.access(i,e);r||i.addEventListener(t,n,!0),Q.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=Q.access(i,e)-1;r?Q.access(i,e,r):(i.removeEventListener(t,n,!0),Q.remove(i,e))}}}));var xe=i.location,Se={guid:Date.now()},Ee=/\?/;w.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),e};var Me=/\[\]$/,Te=/\r?\n/g,Re=/^(?:submit|button|image|reset|file)$/i,Oe=/^(?:input|select|textarea|keygen)/i;function Le(t,e,n,i){var r;if(Array.isArray(e))w.each(e,(function(e,r){n||Me.test(t)?i(t,r):Le(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==b(e))i(t,e);else for(r in e)Le(t+"["+r+"]",e[r],n,i)}w.param=function(t,e){var n,i=[],r=function(t,e){var n=f(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,(function(){r(this.name,this.value)}));else for(n in t)Le(n,t[n],e,r);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Oe.test(this.nodeName)&&!Re.test(t)&&(this.checked||!dt.test(t))})).map((function(t,e){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,(function(t){return{name:e.name,value:t.replace(Te,"\r\n")}})):{name:e.name,value:n.replace(Te,"\r\n")}})).get()}});var ke=/%20/g,De=/#.*$/,Ne=/([?&])_=[^&]*/,Pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:GET|HEAD)$/,Fe=/^\/\//,ze={},Be={},Ue="*/".concat("*"),He=m.createElement("a");function Ge(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(F)||[];if(f(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function We(t,e,n,i){var r={},o=t===Be;function s(a){var g;return r[a]=!0,w.each(t[a]||[],(function(t,a){var A=a(e,n,i);return"string"!=typeof A||o||r[A]?o?!(g=A):void 0:(e.dataTypes.unshift(A),s(A),!1)})),g}return s(e.dataTypes[0])||!r["*"]&&s("*")}function Ve(t,e){var n,i,r=w.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&w.extend(!0,t,i),t}He.href=xe.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ve(Ve(t,w.ajaxSettings),e):Ve(w.ajaxSettings,t)},ajaxPrefilter:Ge(ze),ajaxTransport:Ge(Be),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,o,s,a,g,A,C,I,c,l=w.ajaxSetup({},e),u=l.context||l,h=l.context&&(u.nodeType||u.jquery)?w(u):w.event,d=w.Deferred(),f=w.Callbacks("once memory"),p=l.statusCode||{},v={},y={},b="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(A){if(!s)for(s={};e=Pe.exec(o);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return A?o:null},setRequestHeader:function(t,e){return null==A&&(t=y[t.toLowerCase()]=y[t.toLowerCase()]||t,v[t]=e),this},overrideMimeType:function(t){return null==A&&(l.mimeType=t),this},statusCode:function(t){var e;if(t)if(A)_.always(t[_.status]);else for(e in t)p[e]=[p[e],t[e]];return this},abort:function(t){var e=t||b;return n&&n.abort(e),x(0,e),this}};if(d.promise(_),l.url=((t||l.url||xe.href)+"").replace(Fe,xe.protocol+"//"),l.type=e.method||e.type||l.method||l.type,l.dataTypes=(l.dataType||"*").toLowerCase().match(F)||[""],null==l.crossDomain){g=m.createElement("a");try{g.href=l.url,g.href=g.href,l.crossDomain=He.protocol+"//"+He.host!=g.protocol+"//"+g.host}catch(t){l.crossDomain=!0}}if(l.data&&l.processData&&"string"!=typeof l.data&&(l.data=w.param(l.data,l.traditional)),We(ze,l,e,_),A)return _;for(I in(C=w.event&&l.global)&&0==w.active++&&w.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!je.test(l.type),r=l.url.replace(De,""),l.hasContent?l.data&&l.processData&&0===(l.contentType||"").indexOf("application/x-www-form-urlencoded")&&(l.data=l.data.replace(ke,"+")):(c=l.url.slice(r.length),l.data&&(l.processData||"string"==typeof l.data)&&(r+=(Ee.test(r)?"&":"?")+l.data,delete l.data),!1===l.cache&&(r=r.replace(Ne,"$1"),c=(Ee.test(r)?"&":"?")+"_="+Se.guid+++c),l.url=r+c),l.ifModified&&(w.lastModified[r]&&_.setRequestHeader("If-Modified-Since",w.lastModified[r]),w.etag[r]&&_.setRequestHeader("If-None-Match",w.etag[r])),(l.data&&l.hasContent&&!1!==l.contentType||e.contentType)&&_.setRequestHeader("Content-Type",l.contentType),_.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Ue+"; q=0.01":""):l.accepts["*"]),l.headers)_.setRequestHeader(I,l.headers[I]);if(l.beforeSend&&(!1===l.beforeSend.call(u,_,l)||A))return _.abort();if(b="abort",f.add(l.complete),_.done(l.success),_.fail(l.error),n=We(Be,l,e,_)){if(_.readyState=1,C&&h.trigger("ajaxSend",[_,l]),A)return _;l.async&&l.timeout>0&&(a=i.setTimeout((function(){_.abort("timeout")}),l.timeout));try{A=!1,n.send(v,x)}catch(t){if(A)throw t;x(-1,t)}}else x(-1,"No Transport");function x(t,e,s,g){var I,c,m,v,y,b=e;A||(A=!0,a&&i.clearTimeout(a),n=void 0,o=g||"",_.readyState=t>0?4:0,I=t>=200&&t<300||304===t,s&&(v=function(t,e,n){for(var i,r,o,s,a=t.contents,g=t.dataTypes;"*"===g[0];)g.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){g.unshift(r);break}if(g[0]in n)o=g[0];else{for(r in n){if(!g[0]||t.converters[r+" "+g[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==g[0]&&g.unshift(o),n[o]}(l,_,s)),!I&&w.inArray("script",l.dataTypes)>-1&&(l.converters["text script"]=function(){}),v=function(t,e,n,i){var r,o,s,a,g,A={},C=t.dataTypes.slice();if(C[1])for(s in t.converters)A[s.toLowerCase()]=t.converters[s];for(o=C.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!g&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),g=o,o=C.shift())if("*"===o)o=g;else if("*"!==g&&g!==o){if(!(s=A[g+" "+o]||A["* "+o]))for(r in A)if((a=r.split(" "))[1]===o&&(s=A[g+" "+a[0]]||A["* "+a[0]])){!0===s?s=A[r]:!0!==A[r]&&(o=a[0],C.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+g+" to "+o}}}return{state:"success",data:e}}(l,v,_,I),I?(l.ifModified&&((y=_.getResponseHeader("Last-Modified"))&&(w.lastModified[r]=y),(y=_.getResponseHeader("etag"))&&(w.etag[r]=y)),204===t||"HEAD"===l.type?b="nocontent":304===t?b="notmodified":(b=v.state,c=v.data,I=!(m=v.error))):(m=b,!t&&b||(b="error",t<0&&(t=0))),_.status=t,_.statusText=(e||b)+"",I?d.resolveWith(u,[c,b,_]):d.rejectWith(u,[_,b,m]),_.statusCode(p),p=void 0,C&&h.trigger(I?"ajaxSuccess":"ajaxError",[_,l,I?c:m]),f.fireWith(u,[_,b]),C&&(h.trigger("ajaxComplete",[_,l]),--w.active||w.event.trigger("ajaxStop")))}return _},getJSON:function(t,e,n){return w.get(t,e,n,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],(function(t,e){w[e]=function(t,n,i,r){return f(n)&&(r=r||i,i=n,n=void 0),w.ajax(w.extend({url:t,type:e,dataType:r,data:n,success:i},w.isPlainObject(t)&&t))}})),w.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),w._evalUrl=function(t,e,n){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){w.globalEval(t,e,n)}})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(f(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return f(t)?this.each((function(e){w(this).wrapInner(t.call(this,e))})):this.each((function(){var e=w(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=f(t);return this.each((function(n){w(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Ze={0:200,1223:204},Ye=w.ajaxSettings.xhr();d.cors=!!Ye&&"withCredentials"in Ye,d.ajax=Ye=!!Ye,w.ajaxTransport((function(t){var e,n;if(d.cors||Ye&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ze[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),n=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&i.setTimeout((function(){e&&n()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),w.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),w.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=w("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),m.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Xe,Je=[],Ke=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Je.pop()||w.expando+"_"+Se.guid++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",(function(t,e,n){var r,o,s,a=!1!==t.jsonp&&(Ke.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=f(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ke,"$1"+r):!1!==t.jsonp&&(t.url+=(Ee.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||w.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=i[r],i[r]=function(){s=arguments},n.always((function(){void 0===o?w(i).removeProp(r):i[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Je.push(r)),s&&f(o)&&o(s[0]),s=o=void 0})),"script"})),d.createHTMLDocument=((Xe=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Xe.childNodes.length),w.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(d.createHTMLDocument?((i=(e=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,e.head.appendChild(i)):e=m),o=!n&&[],(r=O.exec(t))?[e.createElement(r[1])]:(r=_t([t],e,o),o&&o.length&&w(o).remove(),w.merge([],r.childNodes)));var i,r,o},w.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=me(t.slice(a)),t=t.slice(0,a)),f(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&w.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(i?w("<div>").append(w.parseHTML(t)).find(i):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},w.expr.pseudos.animated=function(t){return w.grep(w.timers,(function(e){return t===e.elem})).length},w.offset={setOffset:function(t,e,n){var i,r,o,s,a,g,A=w.css(t,"position"),C=w(t),I={};"static"===A&&(t.style.position="relative"),a=C.offset(),o=w.css(t,"top"),g=w.css(t,"left"),("absolute"===A||"fixed"===A)&&(o+g).indexOf("auto")>-1?(s=(i=C.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(g)||0),f(e)&&(e=e.call(t,n,w.extend({},a))),null!=e.top&&(I.top=e.top-a.top+s),null!=e.left&&(I.left=e.left-a.left+r),"using"in e?e.using.call(t,I):("number"==typeof I.top&&(I.top+="px"),"number"==typeof I.left&&(I.left+="px"),C.css(I))}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){w.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===w.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),r.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-w.css(i,"marginTop",!0),left:e.left-r.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||st}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;w.fn[t]=function(i){return V(this,(function(t,i,r){var o;if(p(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r}),t,i,arguments.length)}})),w.each(["top","left"],(function(t,e){w.cssHooks[e]=Yt(d.pixelPosition,(function(t,n){if(n)return n=Zt(t,e),Ht.test(n)?w(t).position()[e]+"px":n}))})),w.each({Height:"height",Width:"width"},(function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){w.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return V(this,(function(e,n,r){var o;return p(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?w.css(e,n,a):w.style(e,n,r,a)}),e,s?r:void 0,s)}}))})),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){w.fn[e]=function(t){return this.on(e,t)}})),w.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){w.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var qe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),f(t))return i=a.call(arguments,2),r=function(){return t.apply(e||this,i.concat(a.call(arguments)))},r.guid=t.guid=t.guid||w.guid++,r},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=R,w.isFunction=f,w.isWindow=p,w.camelCase=J,w.type=b,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},w.trim=function(t){return null==t?"":(t+"").replace(qe,"")},void 0===(n=function(){return w}.apply(e,[]))||(t.exports=n);var Qe=i.jQuery,$e=i.$;return w.noConflict=function(t){return i.$===w&&(i.$=$e),t&&i.jQuery===w&&(i.jQuery=Qe),w},void 0===r&&(i.jQuery=i.$=w),w}))},8651:(t,e,n)=>{t.exports=function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var g=new Error("Cannot find module '"+s+"'");throw g.code="MODULE_NOT_FOUND",g}var A=n[s]={exports:{}};e[s][0].call(A.exports,(function(t){return r(e[s][1][t]||t)}),A,A.exports,t,e,n,i)}return n[s].exports}for(var o=void 0,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,i){(function(t){"use strict";var n,i,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var o=0,s=new r(C),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){C(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(C,0)};else{var g=new t.MessageChannel;g.port1.onmessage=C,n=function(){g.port2.postMessage(0)}}var A=[];function C(){var t,e;i=!0;for(var n=A.length;n;){for(e=A,A=[],t=-1;++t<n;)e[t]();n=A.length}i=!1}e.exports=function(t){1!==A.push(t)||i||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var i=t(1);function r(){}var o={},s=["REJECTED"],a=["FULFILLED"],g=["PENDING"];function A(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,t!==r&&l(this,t)}function C(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function I(t,e,n){i((function(){var i;try{i=e(n)}catch(e){return o.reject(t,e)}i===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,i)}))}function c(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function l(t,e){var n=!1;function i(e){n||(n=!0,o.reject(t,e))}function r(e){n||(n=!0,o.resolve(t,e))}var s=u((function(){e(r,i)}));"error"===s.status&&i(s.value)}function u(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}e.exports=A,A.prototype.catch=function(t){return this.then(null,t)},A.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var n=new this.constructor(r);return this.state!==g?I(n,this.state===a?t:e,this.outcome):this.queue.push(new C(n,t,e)),n},C.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},C.prototype.otherCallFulfilled=function(t){I(this.promise,this.onFulfilled,t)},C.prototype.callRejected=function(t){o.reject(this.promise,t)},C.prototype.otherCallRejected=function(t){I(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=u(c,e);if("error"===n.status)return o.reject(t,n.value);var i=n.value;if(i)l(t,i);else{t.state=a,t.outcome=e;for(var r=-1,s=t.queue.length;++r<s;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=s,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},A.resolve=function(t){return t instanceof this?t:o.resolve(new this(r),t)},A.reject=function(t){var e=new this(r);return o.reject(e,t)},A.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,g=-1,A=new this(r);++g<n;)C(t[g],g);return A;function C(t,r){e.resolve(t).then((function(t){s[r]=t,++a!==n||i||(i=!0,o.resolve(A,s))}),(function(t){i||(i=!0,o.reject(A,t))}))}},A.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n,i=t.length,s=!1;if(!i)return this.resolve([]);for(var a=-1,g=new this(r);++a<i;)n=t[a],e.resolve(n).then((function(t){s||(s=!0,o.resolve(g,t))}),(function(t){s||(s=!0,o.reject(g,t))}));return g}},{1:1}],3:[function(t,e,i){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<t.length;i+=1)n.append(t[i]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var s=Promise;function a(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function g(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function A(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function C(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var I="local-forage-detect-blob-support",c=void 0,l={},u=Object.prototype.toString,h="readonly",d="readwrite";function f(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n),r=0;r<e;r++)i[r]=t.charCodeAt(r);return n}function p(t){return"boolean"==typeof c?s.resolve(c):function(t){return new s((function(e){var n=t.transaction(I,d),i=o([""]);n.objectStore(I).put(i,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return c=t}))}function m(t){var e=l[t.name],n={};n.promise=new s((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then((function(){return n.promise})):e.dbReady=n.promise}function v(t){var e=l[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function y(t,e){var n=l[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function b(t,e){return new s((function(n,i){if(l[t.name]=l[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);m(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var s=r.open.apply(r,o);e&&(s.onupgradeneeded=function(e){var n=s.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(I)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),s.onerror=function(t){t.preventDefault(),i(s.error)},s.onsuccess=function(){n(s.result),v(t)}}))}function _(t){return b(t,!1)}function w(t){return b(t,!0)}function x(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),i=t.version<t.db.version,r=t.version>t.db.version;if(i&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),r||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function S(t){return o([f(atob(t.data))],{type:t.type})}function E(t){return t&&t.__local_forage_encoded_blob}function M(t){var e=this,n=e._initReady().then((function(){var t=l[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return g(n,t,t),n}function T(t,e,n,i){void 0===i&&(i=1);try{var r=t.db.transaction(t.storeName,e);n(null,r)}catch(r){if(i>0&&(!t.db||"InvalidStateError"===r.name||"NotFoundError"===r.name))return s.resolve().then((function(){if(!t.db||"NotFoundError"===r.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),w(t)})).then((function(){return function(t){m(t);for(var e=l[t.name],n=e.forages,i=0;i<n.length;i++){var r=n[i];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return t.db=null,_(t).then((function(e){return t.db=e,x(t)?w(t):e})).then((function(i){t.db=e.db=i;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=i})).catch((function(e){throw y(t,e),e}))}(t).then((function(){T(t,e,n,i-1)}))})).catch(n);n(r)}}var R={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]=t[i];var r=l[n.name];r||(r={forages:[],db:null,dbReady:null,deferredOperations:[]},l[n.name]=r),r.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=M);var o=[];function a(){return s.resolve()}for(var g=0;g<r.forages.length;g++){var A=r.forages[g];A!==e&&o.push(A._initReady().catch(a))}var C=r.forages.slice(0);return s.all(o).then((function(){return n.db=r.db,_(n)})).then((function(t){return n.db=t,x(n,e._defaultConfig.version)?w(n):t})).then((function(t){n.db=r.db=t,e._dbInfo=n;for(var i=0;i<C.length;i++){var o=C[i];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!r||!r.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=new s((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var i=n.value;E(i)&&(i=S(i));var r=t(i,n.key,a++);void 0!==r?e(r):n.continue()}else e()},s.onerror=function(){i(s.error)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName).get(t);s.onsuccess=function(){var t=s.result;void 0===t&&(t=null),E(t)&&(t=S(t)),e(t)},s.onerror=function(){i(s.error)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=new s((function(n,r){var o;i.ready().then((function(){return o=i._dbInfo,"[object Blob]"===u.call(e)?p(o.db).then((function(t){return t?e:(n=e,new s((function(t,e){var i=new FileReader;i.onerror=e,i.onloadend=function(e){var i=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:n.type})},i.readAsBinaryString(n)})));var n})):e})).then((function(e){T(i._dbInfo,d,(function(o,s){if(o)return r(o);try{var a=s.objectStore(i._dbInfo.storeName);null===e&&(e=void 0);var g=a.put(e,t);s.oncomplete=function(){void 0===e&&(e=null),n(e)},s.onabort=s.onerror=function(){var t=g.error?g.error:g.transaction.error;r(t)}}catch(t){r(t)}}))})).catch(r)}));return a(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){T(n._dbInfo,d,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){i(s.error)},o.onabort=function(){var t=s.error?s.error:s.transaction.error;i(t)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},clear:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){T(e._dbInfo,d,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).clear();r.oncomplete=function(){t()},r.onabort=r.onerror=function(){var t=o.error?o.error:o.transaction.error;n(t)}}catch(t){n(t)}}))})).catch(n)}));return a(n,t),n},length:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,t),n},key:function(t,e){var n=this,i=new s((function(e,i){t<0?e(null):n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,g=s.openKeyCursor();g.onsuccess=function(){var n=g.result;n?0===t||a?e(n.key):(a=!0,n.advance(t)):e(null)},g.onerror=function(){i(g.error)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},keys:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).openKeyCursor(),s=[];o.onsuccess=function(){var e=o.result;e?(s.push(e.key),e.continue()):t(s)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,o=this;if(t.name){var g=t.name===n.name&&o._dbInfo.db?s.resolve(o._dbInfo.db):_(t).then((function(e){var n=l[t.name],i=n.forages;n.db=e;for(var r=0;r<i.length;r++)i[r]._dbInfo.db=e;return e}));i=t.storeName?g.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;m(t);var i=l[t.name],o=i.forages;e.close();for(var a=0;a<o.length;a++){var g=o[a];g._dbInfo.db=null,g._dbInfo.version=n}var A=new s((function(e,i){var o=r.open(t.name,n);o.onerror=function(t){o.result.close(),i(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}}));return A.then((function(t){i.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,v(n._dbInfo)}})).catch((function(e){throw(y(t,e)||s.resolve()).catch((function(){})),e}))}})):g.then((function(e){m(t);var n=l[t.name],i=n.forages;e.close();for(var o=0;o<i.length;o++)i[o]._dbInfo.db=null;var a=new s((function(e,n){var i=r.deleteDatabase(t.name);i.onerror=i.onblocked=function(t){var e=i.result;e&&e.close(),n(t)},i.onsuccess=function(){var t=i.result;t&&t.close(),e(t)}}));return a.then((function(t){n.db=t;for(var e=0;e<i.length;e++)v(i[e]._dbInfo)})).catch((function(e){throw(y(t,e)||s.resolve()).catch((function(){})),e}))}))}else i=s.reject("Invalid arguments");return a(i,e),i}};var O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=/^~~local_forage_type~([^~]+)~/,k="__lfsc__:",D=k.length,N="arbf",P="blob",j="si08",F="ui08",z="uic8",B="si16",U="si32",H="ur16",G="ui32",W="fl32",V="fl64",Z=D+N.length,Y=Object.prototype.toString;function X(t){var e,n,i,r,o,s=.75*t.length,a=t.length,g=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var A=new ArrayBuffer(s),C=new Uint8Array(A);for(e=0;e<a;e+=4)n=O.indexOf(t[e]),i=O.indexOf(t[e+1]),r=O.indexOf(t[e+2]),o=O.indexOf(t[e+3]),C[g++]=n<<2|i>>4,C[g++]=(15&i)<<4|r>>2,C[g++]=(3&r)<<6|63&o;return A}function J(t){var e,n=new Uint8Array(t),i="";for(e=0;e<n.length;e+=3)i+=O[n[e]>>2],i+=O[(3&n[e])<<4|n[e+1]>>4],i+=O[(15&n[e+1])<<2|n[e+2]>>6],i+=O[63&n[e+2]];return n.length%3==2?i=i.substring(0,i.length-1)+"=":n.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}var K={serialize:function(t,e){var n="";if(t&&(n=Y.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===Y.call(t.buffer))){var i,r=k;t instanceof ArrayBuffer?(i=t,r+=N):(i=t.buffer,"[object Int8Array]"===n?r+=j:"[object Uint8Array]"===n?r+=F:"[object Uint8ClampedArray]"===n?r+=z:"[object Int16Array]"===n?r+=B:"[object Uint16Array]"===n?r+=H:"[object Int32Array]"===n?r+=U:"[object Uint32Array]"===n?r+=G:"[object Float32Array]"===n?r+=W:"[object Float64Array]"===n?r+=V:e(new Error("Failed to get type for BinaryArray"))),e(r+J(i))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+t.type+"~"+J(this.result);e("__lfsc__:blob"+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}},deserialize:function(t){if(t.substring(0,D)!==k)return JSON.parse(t);var e,n=t.substring(Z),i=t.substring(D,Z);if(i===P&&L.test(n)){var r=n.match(L);e=r[1],n=n.substring(r[0].length)}var s=X(n);switch(i){case N:return s;case P:return o([s],{type:e});case j:return new Int8Array(s);case F:return new Uint8Array(s);case z:return new Uint8ClampedArray(s);case B:return new Int16Array(s);case H:return new Uint16Array(s);case U:return new Int32Array(s);case G:return new Uint32Array(s);case W:return new Float32Array(s);case V:return new Float64Array(s);default:throw new Error("Unkown type: "+i)}},stringToBuffer:X,bufferToString:J};function q(t,e,n,i){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function Q(t,e,n,i,r,o){t.executeSql(n,i,r,(function(t,s){s.code===s.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,a){a.rows.length?o(t,s):q(t,e,(function(){t.executeSql(n,i,r,o)}),o)}),o):o(t,s)}),o)}function $(t,e,n,i){var r=this;t=A(t);var o=new s((function(o,s){r.ready().then((function(){void 0===e&&(e=null);var a=e,g=r._dbInfo;g.serializer.serialize(e,(function(e,A){A?s(A):g.db.transaction((function(n){Q(n,g,"INSERT OR REPLACE INTO "+g.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){o(a)}),(function(t,e){s(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(i>0)return void o($.apply(r,[t,a,n,i-1]));s(e)}}))}))})).catch(s)}));return a(o,n),o}function tt(t){return new s((function(e,n){t.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,i){for(var r=[],o=0;o<i.rows.length;o++)r.push(i.rows.item(o).name);e({db:t,storeNames:r})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}var et={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]="string"!=typeof t[i]?t[i].toString():t[i];var r=new s((function(t,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return i(t)}n.db.transaction((function(r){q(r,n,(function(){e._dbInfo=n,t()}),(function(t,e){i(e)}))}),i)}));return n.serializer=K,r},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName,[],(function(n,i){for(var o=i.rows,s=o.length,a=0;a<s;a++){var g=o.item(a),A=g.value;if(A&&(A=r.serializer.deserialize(A)),void 0!==(A=t(A,g.key,a+1)))return void e(A)}e()}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},setItem:function(t,e,n){return $.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},clear:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"DELETE FROM "+i.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},length:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(e,n){var i=n.rows.item(0).c;t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},key:function(t,e){var n=this,i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var i=n.rows.length?n.rows.item(0).key:null;e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},keys:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT key FROM "+i.storeName,[],(function(e,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,r=this;return a(i=t.name?new s((function(e){var i;i=t.name===n.name?r._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:i,storeNames:[t.storeName]}):e(tt(i))})).then((function(t){return new s((function(e,n){t.db.transaction((function(i){function r(t){return new s((function(e,n){i.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var o=[],a=0,g=t.storeNames.length;a<g;a++)o.push(r(t.storeNames[a]));s.all(o).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):s.reject("Invalid arguments"),e),i}};function nt(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function it(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||localStorage.length>0}var rt={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=nt(t,this._defaultConfig),it()?(this._dbInfo=e,e.serializer=K,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=n.ready().then((function(){for(var e=n._dbInfo,i=e.keyPrefix,r=i.length,o=localStorage.length,s=1,a=0;a<o;a++){var g=localStorage.key(a);if(0===g.indexOf(i)){var A=localStorage.getItem(g);if(A&&(A=e.serializer.deserialize(A)),void 0!==(A=t(A,g.substring(r),s++)))return A}}}));return a(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo,i=localStorage.getItem(e.keyPrefix+t);return i&&(i=e.serializer.deserialize(i)),i}));return a(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=i.ready().then((function(){void 0===e&&(e=null);var n=e;return new s((function(r,o){var s=i._dbInfo;s.serializer.serialize(e,(function(e,i){if(i)o(i);else try{localStorage.setItem(s.keyPrefix+t,e),r(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||o(t),o(t)}}))}))}));return a(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return a(i,e),i},clear:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);0===i.indexOf(t)&&localStorage.removeItem(i)}}));return a(n,t),n},length:function(t){var e=this.keys().then((function(t){return t.length}));return a(e,t),e},key:function(t,e){var n=this,i=n.ready().then((function(){var e,i=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(i.keyPrefix.length)),e}));return a(i,e),i},keys:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,i=[],r=0;r<n;r++){var o=localStorage.key(r);0===o.indexOf(t.keyPrefix)&&i.push(o.substring(t.keyPrefix.length))}return i}));return a(n,t),n},dropInstance:function(t,e){if(e=C.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var i,r=this;return i=t.name?new s((function(e){t.storeName?e(nt(t,r._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):s.reject("Invalid arguments"),a(i,e),i}},ot=function(t,e){for(var n=t.length,i=0;i<n;){if((r=t[i])===(o=e)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;i++}var r,o;return!1},st=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},at={},gt={},At={INDEXEDDB:R,WEBSQL:et,LOCALSTORAGE:rt},Ct=[At.INDEXEDDB._driver,At.WEBSQL._driver,At.LOCALSTORAGE._driver],It=["dropInstance"],ct=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(It),lt={description:"",driver:Ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ut(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function ht(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(st(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var dt=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),At)if(At.hasOwnProperty(n)){var i=At[n],r=i._driver;this[n]=r,at[r]||this.defineDriver(i)}this._defaultConfig=ht({},lt),this._config=ht({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":i(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var i=new s((function(e,n){try{var i=t._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(r);for(var o=ct.concat("_initStorage"),g=0,A=o.length;g<A;g++){var C=o[g];if((!ot(It,C)||t[C])&&"function"!=typeof t[C])return void n(r)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=s.reject(e);return a(n,arguments[arguments.length-1]),n}},n=0,i=It.length;n<i;n++){var r=It[n];t[r]||(t[r]=e(r))}}();var I=function(n){at[i]&&console.info("Redefining LocalForage driver: "+i),at[i]=t,gt[i]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(I,n):I(!!t._support):I(!0)}catch(t){n(t)}}));return g(i,e,n),i},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var i=at[t]?s.resolve(at[t]):s.reject(new Error("Driver not found."));return g(i,e,n),i},t.prototype.getSerializer=function(t){var e=s.resolve(K);return g(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return g(n,t,t),n},t.prototype.setDriver=function(t,e,n){var i=this;st(t)||(t=[t]);var r=this._getSupportedDrivers(t);function o(){i._config.driver=i.driver()}function a(t){return i._extend(t),o(),i._ready=i._initStorage(i._config),i._ready}var A=null!==this._driverSet?this._driverSet.catch((function(){return s.resolve()})):s.resolve();return this._driverSet=A.then((function(){var t=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(t).then((function(t){i._driver=t._driver,o(),i._wrapLibraryMethodsWithReady(),i._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var r=t[e];return e++,i._dbInfo=null,i._ready=null,i.getDriver(r).then(a).catch(n)}o();var g=new Error("No available storage method found.");return i._driverSet=s.reject(g),i._driverSet}()}}(r)}))})).catch((function(){o();var t=new Error("No available storage method found.");return i._driverSet=s.reject(t),i._driverSet})),g(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!gt[t]},t.prototype._extend=function(t){ht(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];this.supports(r)&&e.push(r)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ct.length;t<e;t++)ut(this,ct[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),ft=new dt;e.exports=ft},{3:3}]},{},[4])(4)},352:()=>{var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(){if("undefined"!=typeof window){var n=Array.prototype.slice,i=Element.prototype.matches||Element.prototype.msMatchesSelector,r=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","details","summary","iframe","object","embed","[contenteditable]"].join(","),o=function(){function o(t,n){e(this,o),this._inertManager=n,this._rootElement=t,this._managedNodes=new Set,this._rootElement.hasAttribute("aria-hidden")?this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"):this._savedAriaHidden=null,this._rootElement.setAttribute("aria-hidden","true"),this._makeSubtreeUnfocusable(this._rootElement),this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this._rootElement,{attributes:!0,childList:!0,subtree:!0})}return t(o,[{key:"destructor",value:function(){this._observer.disconnect(),this._rootElement&&(null!==this._savedAriaHidden?this._rootElement.setAttribute("aria-hidden",this._savedAriaHidden):this._rootElement.removeAttribute("aria-hidden")),this._managedNodes.forEach((function(t){this._unmanageNode(t.node)}),this),this._observer=null,this._rootElement=null,this._managedNodes=null,this._inertManager=null}},{key:"_makeSubtreeUnfocusable",value:function(t){var e=this;g(t,(function(t){return e._visitNode(t)}));var n=document.activeElement;if(!document.body.contains(t)){for(var i=t,r=void 0;i;){if(i.nodeType===Node.DOCUMENT_FRAGMENT_NODE){r=i;break}i=i.parentNode}r&&(n=r.activeElement)}t.contains(n)&&(n.blur(),n===document.activeElement&&document.body.focus())}},{key:"_visitNode",value:function(t){if(t.nodeType===Node.ELEMENT_NODE){var e=t;e!==this._rootElement&&e.hasAttribute("inert")&&this._adoptInertRoot(e),(i.call(e,r)||e.hasAttribute("tabindex"))&&this._manageNode(e)}}},{key:"_manageNode",value:function(t){var e=this._inertManager.register(t,this);this._managedNodes.add(e)}},{key:"_unmanageNode",value:function(t){var e=this._inertManager.deregister(t,this);e&&this._managedNodes.delete(e)}},{key:"_unmanageSubtree",value:function(t){var e=this;g(t,(function(t){return e._unmanageNode(t)}))}},{key:"_adoptInertRoot",value:function(t){var e=this._inertManager.getInertRoot(t);e||(this._inertManager.setInert(t,!0),e=this._inertManager.getInertRoot(t)),e.managedNodes.forEach((function(t){this._manageNode(t.node)}),this)}},{key:"_onMutation",value:function(t,e){t.forEach((function(t){var e=t.target;if("childList"===t.type)n.call(t.addedNodes).forEach((function(t){this._makeSubtreeUnfocusable(t)}),this),n.call(t.removedNodes).forEach((function(t){this._unmanageSubtree(t)}),this);else if("attributes"===t.type)if("tabindex"===t.attributeName)this._manageNode(e);else if(e!==this._rootElement&&"inert"===t.attributeName&&e.hasAttribute("inert")){this._adoptInertRoot(e);var i=this._inertManager.getInertRoot(e);this._managedNodes.forEach((function(t){e.contains(t.node)&&i._manageNode(t.node)}))}}),this)}},{key:"managedNodes",get:function(){return new Set(this._managedNodes)}},{key:"hasSavedAriaHidden",get:function(){return null!==this._savedAriaHidden}},{key:"savedAriaHidden",set:function(t){this._savedAriaHidden=t},get:function(){return this._savedAriaHidden}}]),o}(),s=function(){function n(t,i){e(this,n),this._node=t,this._overrodeFocusMethod=!1,this._inertRoots=new Set([i]),this._savedTabIndex=null,this._destroyed=!1,this.ensureUntabbable()}return t(n,[{key:"destructor",value:function(){if(this._throwIfDestroyed(),this._node&&this._node.nodeType===Node.ELEMENT_NODE){var t=this._node;null!==this._savedTabIndex?t.setAttribute("tabindex",this._savedTabIndex):t.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete t.focus}this._node=null,this._inertRoots=null,this._destroyed=!0}},{key:"_throwIfDestroyed",value:function(){if(this.destroyed)throw new Error("Trying to access destroyed InertNode")}},{key:"ensureUntabbable",value:function(){if(this.node.nodeType===Node.ELEMENT_NODE){var t=this.node;if(i.call(t,r)){if(-1===t.tabIndex&&this.hasSavedTabIndex)return;t.hasAttribute("tabindex")&&(this._savedTabIndex=t.tabIndex),t.setAttribute("tabindex","-1"),t.nodeType===Node.ELEMENT_NODE&&(t.focus=function(){},this._overrodeFocusMethod=!0)}else t.hasAttribute("tabindex")&&(this._savedTabIndex=t.tabIndex,t.removeAttribute("tabindex"))}}},{key:"addInertRoot",value:function(t){this._throwIfDestroyed(),this._inertRoots.add(t)}},{key:"removeInertRoot",value:function(t){this._throwIfDestroyed(),this._inertRoots.delete(t),0===this._inertRoots.size&&this.destructor()}},{key:"destroyed",get:function(){return this._destroyed}},{key:"hasSavedTabIndex",get:function(){return null!==this._savedTabIndex}},{key:"node",get:function(){return this._throwIfDestroyed(),this._node}},{key:"savedTabIndex",set:function(t){this._throwIfDestroyed(),this._savedTabIndex=t},get:function(){return this._throwIfDestroyed(),this._savedTabIndex}}]),n}(),a=new(function(){function r(t){if(e(this,r),!t)throw new Error("Missing required argument; InertManager needs to wrap a document.");this._document=t,this._managedNodes=new Map,this._inertRoots=new Map,this._observer=new MutationObserver(this._watchForInert.bind(this)),A(t.head||t.body||t.documentElement),"loading"===t.readyState?t.addEventListener("DOMContentLoaded",this._onDocumentLoaded.bind(this)):this._onDocumentLoaded()}return t(r,[{key:"setInert",value:function(t,e){if(e){if(this._inertRoots.has(t))return;var n=new o(t,this);if(t.setAttribute("inert",""),this._inertRoots.set(t,n),!this._document.body.contains(t))for(var i=t.parentNode;i;)11===i.nodeType&&A(i),i=i.parentNode}else{if(!this._inertRoots.has(t))return;this._inertRoots.get(t).destructor(),this._inertRoots.delete(t),t.removeAttribute("inert")}}},{key:"getInertRoot",value:function(t){return this._inertRoots.get(t)}},{key:"register",value:function(t,e){var n=this._managedNodes.get(t);return void 0!==n?n.addInertRoot(e):n=new s(t,e),this._managedNodes.set(t,n),n}},{key:"deregister",value:function(t,e){var n=this._managedNodes.get(t);return n?(n.removeInertRoot(e),n.destroyed&&this._managedNodes.delete(t),n):null}},{key:"_onDocumentLoaded",value:function(){n.call(this._document.querySelectorAll("[inert]")).forEach((function(t){this.setInert(t,!0)}),this),this._observer.observe(this._document.body||this._document.documentElement,{attributes:!0,subtree:!0,childList:!0})}},{key:"_watchForInert",value:function(t,e){var r=this;t.forEach((function(t){switch(t.type){case"childList":n.call(t.addedNodes).forEach((function(t){if(t.nodeType===Node.ELEMENT_NODE){var e=n.call(t.querySelectorAll("[inert]"));i.call(t,"[inert]")&&e.unshift(t),e.forEach((function(t){this.setInert(t,!0)}),r)}}),r);break;case"attributes":if("inert"!==t.attributeName)return;var e=t.target,o=e.hasAttribute("inert");r.setInert(e,o)}}),this)}}]),r}())(document);Element.prototype.hasOwnProperty("inert")||Object.defineProperty(Element.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(t){a.setInert(this,t)}})}function g(t,e,n){if(t.nodeType==Node.ELEMENT_NODE){var i=t;e&&e(i);var r=i.shadowRoot;if(r)return void g(r,e,r);if("content"==i.localName){for(var o=i,s=o.getDistributedNodes?o.getDistributedNodes():[],a=0;a<s.length;a++)g(s[a],e,n);return}if("slot"==i.localName){for(var A=i,C=A.assignedNodes?A.assignedNodes({flatten:!0}):[],I=0;I<C.length;I++)g(C[I],e,n);return}}for(var c=t.firstChild;null!=c;)g(c,e,n),c=c.nextSibling}function A(t){if(!t.querySelector("style#inert-style, link#inert-style")){var e=document.createElement("style");e.setAttribute("id","inert-style"),e.textContent="\n[inert] {\n  pointer-events: none;\n  cursor: default;\n}\n\n[inert], [inert] * {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n",t.appendChild(e)}}}()},6290:(t,e,n)=>{t.exports=function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var g=new Error("Cannot find module '"+s+"'");throw g.code="MODULE_NOT_FOUND",g}var A=n[s]={exports:{}};e[s][0].call(A.exports,(function(t){return r(e[s][1][t]||t)}),A,A.exports,t,e,n,i)}return n[s].exports}for(var o=void 0,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,i){(function(t){"use strict";var n,i,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var o=0,s=new r(C),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){C(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(C,0)};else{var g=new t.MessageChannel;g.port1.onmessage=C,n=function(){g.port2.postMessage(0)}}var A=[];function C(){var t,e;i=!0;for(var n=A.length;n;){for(e=A,A=[],t=-1;++t<n;)e[t]();n=A.length}i=!1}e.exports=function(t){1!==A.push(t)||i||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var i=t(1);function r(){}var o={},s=["REJECTED"],a=["FULFILLED"],g=["PENDING"];function A(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,t!==r&&l(this,t)}function C(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function I(t,e,n){i((function(){var i;try{i=e(n)}catch(e){return o.reject(t,e)}i===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,i)}))}function c(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function l(t,e){var n=!1;function i(e){n||(n=!0,o.reject(t,e))}function r(e){n||(n=!0,o.resolve(t,e))}var s=u((function(){e(r,i)}));"error"===s.status&&i(s.value)}function u(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}e.exports=A,A.prototype.catch=function(t){return this.then(null,t)},A.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var n=new this.constructor(r);return this.state!==g?I(n,this.state===a?t:e,this.outcome):this.queue.push(new C(n,t,e)),n},C.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},C.prototype.otherCallFulfilled=function(t){I(this.promise,this.onFulfilled,t)},C.prototype.callRejected=function(t){o.reject(this.promise,t)},C.prototype.otherCallRejected=function(t){I(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=u(c,e);if("error"===n.status)return o.reject(t,n.value);var i=n.value;if(i)l(t,i);else{t.state=a,t.outcome=e;for(var r=-1,s=t.queue.length;++r<s;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=s,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},A.resolve=function(t){return t instanceof this?t:o.resolve(new this(r),t)},A.reject=function(t){var e=new this(r);return o.reject(e,t)},A.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,g=-1,A=new this(r);++g<n;)C(t[g],g);return A;function C(t,r){e.resolve(t).then((function(t){s[r]=t,++a!==n||i||(i=!0,o.resolve(A,s))}),(function(t){i||(i=!0,o.reject(A,t))}))}},A.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n,i=t.length,s=!1;if(!i)return this.resolve([]);for(var a=-1,g=new this(r);++a<i;)n=t[a],e.resolve(n).then((function(t){s||(s=!0,o.resolve(g,t))}),(function(t){s||(s=!0,o.reject(g,t))}));return g}},{1:1}],3:[function(t,e,i){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<t.length;i+=1)n.append(t[i]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var s=Promise;function a(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function g(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function A(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function C(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var I="local-forage-detect-blob-support",c=void 0,l={},u=Object.prototype.toString,h="readonly",d="readwrite";function f(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n),r=0;r<e;r++)i[r]=t.charCodeAt(r);return n}function p(t){return"boolean"==typeof c?s.resolve(c):function(t){return new s((function(e){var n=t.transaction(I,d),i=o([""]);n.objectStore(I).put(i,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return c=t}))}function m(t){var e=l[t.name],n={};n.promise=new s((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then((function(){return n.promise})):e.dbReady=n.promise}function v(t){var e=l[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function y(t,e){var n=l[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function b(t,e){return new s((function(n,i){if(l[t.name]=l[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);m(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var s=r.open.apply(r,o);e&&(s.onupgradeneeded=function(e){var n=s.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(I)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),s.onerror=function(t){t.preventDefault(),i(s.error)},s.onsuccess=function(){n(s.result),v(t)}}))}function _(t){return b(t,!1)}function w(t){return b(t,!0)}function x(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),i=t.version<t.db.version,r=t.version>t.db.version;if(i&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),r||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function S(t){return o([f(atob(t.data))],{type:t.type})}function E(t){return t&&t.__local_forage_encoded_blob}function M(t){var e=this,n=e._initReady().then((function(){var t=l[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return g(n,t,t),n}function T(t,e,n,i){void 0===i&&(i=1);try{var r=t.db.transaction(t.storeName,e);n(null,r)}catch(r){if(i>0&&(!t.db||"InvalidStateError"===r.name||"NotFoundError"===r.name))return s.resolve().then((function(){if(!t.db||"NotFoundError"===r.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),w(t)})).then((function(){return function(t){m(t);for(var e=l[t.name],n=e.forages,i=0;i<n.length;i++){var r=n[i];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return t.db=null,_(t).then((function(e){return t.db=e,x(t)?w(t):e})).then((function(i){t.db=e.db=i;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=i})).catch((function(e){throw y(t,e),e}))}(t).then((function(){T(t,e,n,i-1)}))})).catch(n);n(r)}}var R={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]=t[i];var r=l[n.name];r||(r={forages:[],db:null,dbReady:null,deferredOperations:[]},l[n.name]=r),r.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=M);var o=[];function a(){return s.resolve()}for(var g=0;g<r.forages.length;g++){var A=r.forages[g];A!==e&&o.push(A._initReady().catch(a))}var C=r.forages.slice(0);return s.all(o).then((function(){return n.db=r.db,_(n)})).then((function(t){return n.db=t,x(n,e._defaultConfig.version)?w(n):t})).then((function(t){n.db=r.db=t,e._dbInfo=n;for(var i=0;i<C.length;i++){var o=C[i];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!r||!r.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=new s((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var i=n.value;E(i)&&(i=S(i));var r=t(i,n.key,a++);void 0!==r?e(r):n.continue()}else e()},s.onerror=function(){i(s.error)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName).get(t);s.onsuccess=function(){var t=s.result;void 0===t&&(t=null),E(t)&&(t=S(t)),e(t)},s.onerror=function(){i(s.error)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=new s((function(n,r){var o;i.ready().then((function(){return o=i._dbInfo,"[object Blob]"===u.call(e)?p(o.db).then((function(t){return t?e:(n=e,new s((function(t,e){var i=new FileReader;i.onerror=e,i.onloadend=function(e){var i=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:n.type})},i.readAsBinaryString(n)})));var n})):e})).then((function(e){T(i._dbInfo,d,(function(o,s){if(o)return r(o);try{var a=s.objectStore(i._dbInfo.storeName);null===e&&(e=void 0);var g=a.put(e,t);s.oncomplete=function(){void 0===e&&(e=null),n(e)},s.onabort=s.onerror=function(){var t=g.error?g.error:g.transaction.error;r(t)}}catch(t){r(t)}}))})).catch(r)}));return a(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){T(n._dbInfo,d,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){i(s.error)},o.onabort=function(){var t=s.error?s.error:s.transaction.error;i(t)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},clear:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){T(e._dbInfo,d,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).clear();r.oncomplete=function(){t()},r.onabort=r.onerror=function(){var t=o.error?o.error:o.transaction.error;n(t)}}catch(t){n(t)}}))})).catch(n)}));return a(n,t),n},length:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,t),n},key:function(t,e){var n=this,i=new s((function(e,i){t<0?e(null):n.ready().then((function(){T(n._dbInfo,h,(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,g=s.openKeyCursor();g.onsuccess=function(){var n=g.result;n?0===t||a?e(n.key):(a=!0,n.advance(t)):e(null)},g.onerror=function(){i(g.error)}}catch(t){i(t)}}))})).catch(i)}));return a(i,e),i},keys:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){T(e._dbInfo,h,(function(i,r){if(i)return n(i);try{var o=r.objectStore(e._dbInfo.storeName).openKeyCursor(),s=[];o.onsuccess=function(){var e=o.result;e?(s.push(e.key),e.continue()):t(s)},o.onerror=function(){n(o.error)}}catch(t){n(t)}}))})).catch(n)}));return a(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,o=this;if(t.name){var g=t.name===n.name&&o._dbInfo.db?s.resolve(o._dbInfo.db):_(t).then((function(e){var n=l[t.name],i=n.forages;n.db=e;for(var r=0;r<i.length;r++)i[r]._dbInfo.db=e;return e}));i=t.storeName?g.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;m(t);var i=l[t.name],o=i.forages;e.close();for(var a=0;a<o.length;a++){var g=o[a];g._dbInfo.db=null,g._dbInfo.version=n}var A=new s((function(e,i){var o=r.open(t.name,n);o.onerror=function(t){o.result.close(),i(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}}));return A.then((function(t){i.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,v(n._dbInfo)}})).catch((function(e){throw(y(t,e)||s.resolve()).catch((function(){})),e}))}})):g.then((function(e){m(t);var n=l[t.name],i=n.forages;e.close();for(var o=0;o<i.length;o++)i[o]._dbInfo.db=null;var a=new s((function(e,n){var i=r.deleteDatabase(t.name);i.onerror=i.onblocked=function(t){var e=i.result;e&&e.close(),n(t)},i.onsuccess=function(){var t=i.result;t&&t.close(),e(t)}}));return a.then((function(t){n.db=t;for(var e=0;e<i.length;e++)v(i[e]._dbInfo)})).catch((function(e){throw(y(t,e)||s.resolve()).catch((function(){})),e}))}))}else i=s.reject("Invalid arguments");return a(i,e),i}};var O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=/^~~local_forage_type~([^~]+)~/,k="__lfsc__:",D=k.length,N="arbf",P="blob",j="si08",F="ui08",z="uic8",B="si16",U="si32",H="ur16",G="ui32",W="fl32",V="fl64",Z=D+N.length,Y=Object.prototype.toString;function X(t){var e,n,i,r,o,s=.75*t.length,a=t.length,g=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var A=new ArrayBuffer(s),C=new Uint8Array(A);for(e=0;e<a;e+=4)n=O.indexOf(t[e]),i=O.indexOf(t[e+1]),r=O.indexOf(t[e+2]),o=O.indexOf(t[e+3]),C[g++]=n<<2|i>>4,C[g++]=(15&i)<<4|r>>2,C[g++]=(3&r)<<6|63&o;return A}function J(t){var e,n=new Uint8Array(t),i="";for(e=0;e<n.length;e+=3)i+=O[n[e]>>2],i+=O[(3&n[e])<<4|n[e+1]>>4],i+=O[(15&n[e+1])<<2|n[e+2]>>6],i+=O[63&n[e+2]];return n.length%3==2?i=i.substring(0,i.length-1)+"=":n.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}var K={serialize:function(t,e){var n="";if(t&&(n=Y.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===Y.call(t.buffer))){var i,r=k;t instanceof ArrayBuffer?(i=t,r+=N):(i=t.buffer,"[object Int8Array]"===n?r+=j:"[object Uint8Array]"===n?r+=F:"[object Uint8ClampedArray]"===n?r+=z:"[object Int16Array]"===n?r+=B:"[object Uint16Array]"===n?r+=H:"[object Int32Array]"===n?r+=U:"[object Uint32Array]"===n?r+=G:"[object Float32Array]"===n?r+=W:"[object Float64Array]"===n?r+=V:e(new Error("Failed to get type for BinaryArray"))),e(r+J(i))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+t.type+"~"+J(this.result);e("__lfsc__:blob"+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}},deserialize:function(t){if(t.substring(0,D)!==k)return JSON.parse(t);var e,n=t.substring(Z),i=t.substring(D,Z);if(i===P&&L.test(n)){var r=n.match(L);e=r[1],n=n.substring(r[0].length)}var s=X(n);switch(i){case N:return s;case P:return o([s],{type:e});case j:return new Int8Array(s);case F:return new Uint8Array(s);case z:return new Uint8ClampedArray(s);case B:return new Int16Array(s);case H:return new Uint16Array(s);case U:return new Int32Array(s);case G:return new Uint32Array(s);case W:return new Float32Array(s);case V:return new Float64Array(s);default:throw new Error("Unkown type: "+i)}},stringToBuffer:X,bufferToString:J};function q(t,e,n,i){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function Q(t,e,n,i,r,o){t.executeSql(n,i,r,(function(t,s){s.code===s.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,a){a.rows.length?o(t,s):q(t,e,(function(){t.executeSql(n,i,r,o)}),o)}),o):o(t,s)}),o)}function $(t,e,n,i){var r=this;t=A(t);var o=new s((function(o,s){r.ready().then((function(){void 0===e&&(e=null);var a=e,g=r._dbInfo;g.serializer.serialize(e,(function(e,A){A?s(A):g.db.transaction((function(n){Q(n,g,"INSERT OR REPLACE INTO "+g.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){o(a)}),(function(t,e){s(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(i>0)return void o($.apply(r,[t,a,n,i-1]));s(e)}}))}))})).catch(s)}));return a(o,n),o}function tt(t){return new s((function(e,n){t.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,i){for(var r=[],o=0;o<i.rows.length;o++)r.push(i.rows.item(o).name);e({db:t,storeNames:r})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}var et={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var i in t)n[i]="string"!=typeof t[i]?t[i].toString():t[i];var r=new s((function(t,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return i(t)}n.db.transaction((function(r){q(r,n,(function(){e._dbInfo=n,t()}),(function(t,e){i(e)}))}),i)}));return n.serializer=K,r},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName,[],(function(n,i){for(var o=i.rows,s=o.length,a=0;a<s;a++){var g=o.item(a),A=g.value;if(A&&(A=r.serializer.deserialize(A)),void 0!==(A=t(A,g.key,a+1)))return void e(A)}e()}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},setItem:function(t,e,n){return $.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=A(t);var i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},clear:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"DELETE FROM "+i.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},length:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(e,n){var i=n.rows.item(0).c;t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},key:function(t,e){var n=this,i=new s((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){Q(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var i=n.rows.length?n.rows.item(0).key:null;e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return a(i,e),i},keys:function(t){var e=this,n=new s((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){Q(e,i,"SELECT key FROM "+i.storeName,[],(function(e,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},dropInstance:function(t,e){e=C.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,r=this;return a(i=t.name?new s((function(e){var i;i=t.name===n.name?r._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:i,storeNames:[t.storeName]}):e(tt(i))})).then((function(t){return new s((function(e,n){t.db.transaction((function(i){function r(t){return new s((function(e,n){i.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var o=[],a=0,g=t.storeNames.length;a<g;a++)o.push(r(t.storeNames[a]));s.all(o).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):s.reject("Invalid arguments"),e),i}};function nt(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function it(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||localStorage.length>0}var rt={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=nt(t,this._defaultConfig),it()?(this._dbInfo=e,e.serializer=K,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,i=n.ready().then((function(){for(var e=n._dbInfo,i=e.keyPrefix,r=i.length,o=localStorage.length,s=1,a=0;a<o;a++){var g=localStorage.key(a);if(0===g.indexOf(i)){var A=localStorage.getItem(g);if(A&&(A=e.serializer.deserialize(A)),void 0!==(A=t(A,g.substring(r),s++)))return A}}}));return a(i,e),i},getItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo,i=localStorage.getItem(e.keyPrefix+t);return i&&(i=e.serializer.deserialize(i)),i}));return a(i,e),i},setItem:function(t,e,n){var i=this;t=A(t);var r=i.ready().then((function(){void 0===e&&(e=null);var n=e;return new s((function(r,o){var s=i._dbInfo;s.serializer.serialize(e,(function(e,i){if(i)o(i);else try{localStorage.setItem(s.keyPrefix+t,e),r(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||o(t),o(t)}}))}))}));return a(r,n),r},removeItem:function(t,e){var n=this;t=A(t);var i=n.ready().then((function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return a(i,e),i},clear:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);0===i.indexOf(t)&&localStorage.removeItem(i)}}));return a(n,t),n},length:function(t){var e=this.keys().then((function(t){return t.length}));return a(e,t),e},key:function(t,e){var n=this,i=n.ready().then((function(){var e,i=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(i.keyPrefix.length)),e}));return a(i,e),i},keys:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,i=[],r=0;r<n;r++){var o=localStorage.key(r);0===o.indexOf(t.keyPrefix)&&i.push(o.substring(t.keyPrefix.length))}return i}));return a(n,t),n},dropInstance:function(t,e){if(e=C.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var i,r=this;return i=t.name?new s((function(e){t.storeName?e(nt(t,r._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):s.reject("Invalid arguments"),a(i,e),i}},ot=function(t,e){for(var n=t.length,i=0;i<n;){if((r=t[i])===(o=e)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;i++}var r,o;return!1},st=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},at={},gt={},At={INDEXEDDB:R,WEBSQL:et,LOCALSTORAGE:rt},Ct=[At.INDEXEDDB._driver,At.WEBSQL._driver,At.LOCALSTORAGE._driver],It=["dropInstance"],ct=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(It),lt={description:"",driver:Ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ut(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function ht(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(st(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var dt=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),At)if(At.hasOwnProperty(n)){var i=At[n],r=i._driver;this[n]=r,at[r]||this.defineDriver(i)}this._defaultConfig=ht({},lt),this._config=ht({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":i(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var i=new s((function(e,n){try{var i=t._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(r);for(var o=ct.concat("_initStorage"),g=0,A=o.length;g<A;g++){var C=o[g];if((!ot(It,C)||t[C])&&"function"!=typeof t[C])return void n(r)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=s.reject(e);return a(n,arguments[arguments.length-1]),n}},n=0,i=It.length;n<i;n++){var r=It[n];t[r]||(t[r]=e(r))}}();var I=function(n){at[i]&&console.info("Redefining LocalForage driver: "+i),at[i]=t,gt[i]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(I,n):I(!!t._support):I(!0)}catch(t){n(t)}}));return g(i,e,n),i},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var i=at[t]?s.resolve(at[t]):s.reject(new Error("Driver not found."));return g(i,e,n),i},t.prototype.getSerializer=function(t){var e=s.resolve(K);return g(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return g(n,t,t),n},t.prototype.setDriver=function(t,e,n){var i=this;st(t)||(t=[t]);var r=this._getSupportedDrivers(t);function o(){i._config.driver=i.driver()}function a(t){return i._extend(t),o(),i._ready=i._initStorage(i._config),i._ready}var A=null!==this._driverSet?this._driverSet.catch((function(){return s.resolve()})):s.resolve();return this._driverSet=A.then((function(){var t=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(t).then((function(t){i._driver=t._driver,o(),i._wrapLibraryMethodsWithReady(),i._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var r=t[e];return e++,i._dbInfo=null,i._ready=null,i.getDriver(r).then(a).catch(n)}o();var g=new Error("No available storage method found.");return i._driverSet=s.reject(g),i._driverSet}()}}(r)}))})).catch((function(){o();var t=new Error("No available storage method found.");return i._driverSet=s.reject(t),i._driverSet})),g(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!gt[t]},t.prototype._extend=function(t){ht(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];this.supports(r)&&e.push(r)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ct.length;t<e;t++)ut(this,ct[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),ft=new dt;e.exports=ft},{3:3}]},{},[4])(4)},5635:(t,e,n)=>{n.g,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e),n.d(e,"EventEmitter",(function(){return g}));var i=n(0),r=n.n(i),o=n(1),s=n.n(o),a=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";r()(this,t),this.name=e,this.events={}}return s()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i=i||{},"function"!=typeof e)throw new TypeError("Invalid callback");return a(t).forEach((function(t){n.events[t]||(n.events[t]=[]),n.events[t].push({callback:e,options:i})})),this}},{key:"once",value:function(t,e){return this.on(t,e,{once:!0})}},{key:"off",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(t).filter((function(t){return!!e.events[t]})).forEach((function(t){if(n)for(var r=e.events[t].length;r--;){var o=e.events[t][r];(!o.options.persist||i)&&o.callback===n&&e.events[t].splice(r,1)}else e.events[t]=i?[]:e.events[t].filter((function(t){return!0===t.options.persist}))})),this}},{key:"emit",value:function(t){for(var e=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return a(t).forEach((function(t){if(e.events[t])for(var n=e.events[t].length;n--;){var r=e.events[t][n],o=r.options,s=r.callback;try{s.apply(void 0,i)}catch(t){console.warn(t)}o&&o.once&&e.events[t].splice(n,1)}})),this}}]),t}()}])}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={id:i,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(6981),n(9970)})()}));